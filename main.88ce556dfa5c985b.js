(self.webpackChunkplaceyoapp=self.webpackChunkplaceyoapp||[]).push([[179],{2011:(He,$,R)=>{"use strict";R.d($,{Dh:()=>Q,GT:()=>z,cc:()=>_e,hO:()=>Me,on:()=>G,pX:()=>V,xv:()=>ie});var s=R(5e3),F=R(127),S=R(5813);He=R.hmd(He);const B=["ngOnDestroy"],V=(ge,Le,Oe,Ie={})=>new Proxy(ge,{get:(we,he)=>Oe.runOutsideAngular(()=>{var Re;if(ge[he])return(null===(Re=null==Ie?void 0:Ie.spy)||void 0===Re?void 0:Re.get)&&Ie.spy.get(he,ge[he]),ge[he];if(B.indexOf(he)>-1)return()=>{};const Se=Le.toPromise().then(ne=>{const te=ne&&ne[he];return"function"==typeof te?te.bind(ne):te&&te.then?te.then(se=>Oe.run(()=>se)):Oe.run(()=>te)});return new Proxy(()=>{},{get:(ne,te)=>Se[te],apply:(ne,te,se)=>Se.then(ae=>{var le;const Ee=ae&&ae(...se);return(null===(le=null==Ie?void 0:Ie.spy)||void 0===le?void 0:le.apply)&&Ie.spy.apply(he,se,Ee),Ee})})})}),z=(ge,Le)=>{Le.forEach(Oe=>{Object.getOwnPropertyNames(Oe.prototype||Oe).forEach(Ie=>{Object.defineProperty(ge.prototype,Ie,Object.getOwnPropertyDescriptor(Oe.prototype||Oe,Ie))})})};class H{constructor(Le){return Le}}const Q=new s.OlP("angularfire2.app.options"),ie=new s.OlP("angularfire2.app.name");function G(ge,Le,Oe){const we="object"==typeof Oe&&Oe||{};we.name=we.name||"string"==typeof Oe&&Oe||"[DEFAULT]";const Re=F.Z.apps.filter(Se=>Se&&Se.name===we.name)[0]||Le.runOutsideAngular(()=>F.Z.initializeApp(ge,we));try{JSON.stringify(ge)!==JSON.stringify(Re.options)&&K("error",`${Re.name} Firebase App already initialized with different options${He.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(Se){}return new H(Re)}const K=(ge,...Le)=>{(0,s.X6Q)()&&"undefined"!=typeof console&&console[ge](...Le)},J={provide:H,useFactory:G,deps:[Q,s.R0b,[new s.FiY,ie]]};let Me=(()=>{class ge{constructor(Oe){F.Z.registerVersion("angularfire",S.q4.full,"core"),F.Z.registerVersion("angularfire",S.q4.full,"app-compat"),F.Z.registerVersion("angular",s.q4F.full,Oe.toString())}static initializeApp(Oe,Ie){return{ngModule:ge,providers:[{provide:Q,useValue:Oe},{provide:ie,useValue:Ie}]}}}return ge.\u0275fac=function(Oe){return new(Oe||ge)(s.LFG(s.Lbi))},ge.\u0275mod=s.oAB({type:ge}),ge.\u0275inj=s.cJS({providers:[J]}),ge})();function _e(ge,Le,Oe,Ie,we){const[,he,Re]=globalThis.\u0275AngularfireInstanceCache.find(Se=>Se[0]===ge)||[];if(he)return function ke(ge,Le){try{return ge.toString()===Le.toString()}catch(Oe){return ge===Le}}(we,Re)||(de("error",`${Le} was already initialized on the ${Oe} Firebase App with different settings.${Ve?" You may need to reload as Firebase is not HMR aware.":""}`),de("warn",{is:we,was:Re})),he;{const Se=Ie();return globalThis.\u0275AngularfireInstanceCache.push([ge,Se,we]),Se}}const Ve=!!He.hot,de=(ge,...Le)=>{(0,s.X6Q)()&&"undefined"!=typeof console&&console[ge](...Le)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},5813:(He,$,R)=>{"use strict";R.d($,{q4:()=>wu,iC:()=>Tu,fc:()=>li,HU:()=>fc,vb:()=>rh,JM:()=>Lo});var s=R(5e3),F=R(5867),S=R(5861),B=R(9681),V=R(2090),z=R(4859),H=R(1877);const Q="@firebase/installations",K="w:0.5.7",J="FIS_v2",ge=new V.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Le(D){return D instanceof V.ZR&&D.code.includes("request-failed")}function Oe({projectId:D}){return`https://firebaseinstallations.googleapis.com/v1/projects/${D}/installations`}function Ie(D){return{token:D.token,requestStatus:2,expiresIn:se(D.expiresIn),creationTime:Date.now()}}function we(D,I){return he.apply(this,arguments)}function he(){return(he=(0,S.Z)(function*(D,I){const q=(yield I.json()).error;return ge.create("request-failed",{requestName:D,serverCode:q.code,serverMessage:q.message,serverStatus:q.status})})).apply(this,arguments)}function Re({apiKey:D}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":D})}function Se(D,{refreshToken:I}){const P=Re(D);return P.append("Authorization",function ae(D){return`${J} ${D}`}(I)),P}function ne(D){return te.apply(this,arguments)}function te(){return(te=(0,S.Z)(function*(D){const I=yield D();return I.status>=500&&I.status<600?D():I})).apply(this,arguments)}function se(D){return Number(D.replace("s","000"))}function le(D,I){return Ee.apply(this,arguments)}function Ee(){return(Ee=(0,S.Z)(function*({appConfig:D,heartbeatServiceProvider:I},{fid:P}){const q=Oe(D),ce=Re(D),me=I.getImmediate({optional:!0});if(me){const Rt=yield me.getHeartbeatsHeader();Rt&&ce.append("x-firebase-client",Rt)}const Ue={method:"POST",headers:ce,body:JSON.stringify({fid:P,authVersion:J,appId:D.appId,sdkVersion:K})},nt=yield ne(()=>fetch(q,Ue));if(nt.ok){const Rt=yield nt.json();return{fid:Rt.fid||P,registrationStatus:2,refreshToken:Rt.refreshToken,authToken:Ie(Rt.authToken)}}throw yield we("Create Installation",nt)})).apply(this,arguments)}function ye(D){return new Promise(I=>{setTimeout(I,D)})}const rn=/^[cdef][\w-]{21}$/;function pt(){try{const D=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(D),D[0]=112+D[0]%16;const P=function yt(D){return function Et(D){return btoa(String.fromCharCode(...D)).replace(/\+/g,"-").replace(/\//g,"_")}(D).substr(0,22)}(D);return rn.test(P)?P:""}catch(D){return""}}function sn(D){return`${D.appName}!${D.appId}`}const dn=new Map;function Bi(D,I){const P=sn(D);tn(P,I),function Nt(D,I){const P=function ii(){return!Cn&&"BroadcastChannel"in self&&(Cn=new BroadcastChannel("[Firebase] FID Change"),Cn.onmessage=D=>{tn(D.data.key,D.data.fid)}),Cn}();P&&P.postMessage({key:D,fid:I}),function kr(){0===dn.size&&Cn&&(Cn.close(),Cn=null)}()}(P,I)}function tn(D,I){const P=dn.get(D);if(P)for(const q of P)q(I)}let Cn=null;const nr="firebase-installations-store";let Ns=null;function Fs(){return Ns||(Ns=(0,V.X3)("firebase-installations-database",1,(D,I)=>{0===I&&D.createObjectStore(nr)})),Ns}function vt(D,I){return yr.apply(this,arguments)}function yr(){return(yr=(0,S.Z)(function*(D,I){const P=sn(D),ce=(yield Fs()).transaction(nr,"readwrite"),me=ce.objectStore(nr),Be=yield me.get(P);return yield me.put(I,P),yield ce.complete,(!Be||Be.fid!==I.fid)&&Bi(D,I.fid),I})).apply(this,arguments)}function vi(D){return di.apply(this,arguments)}function di(){return(di=(0,S.Z)(function*(D){const I=sn(D),q=(yield Fs()).transaction(nr,"readwrite");yield q.objectStore(nr).delete(I),yield q.complete})).apply(this,arguments)}function Rr(D,I){return Wo.apply(this,arguments)}function Wo(){return(Wo=(0,S.Z)(function*(D,I){const P=sn(D),ce=(yield Fs()).transaction(nr,"readwrite"),me=ce.objectStore(nr),Be=yield me.get(P),Ue=I(Be);return void 0===Ue?yield me.delete(P):yield me.put(Ue,P),yield ce.complete,Ue&&(!Be||Be.fid!==Ue.fid)&&Bi(D,Ue.fid),Ue})).apply(this,arguments)}function xn(D){return bi.apply(this,arguments)}function bi(){return(bi=(0,S.Z)(function*(D){let I;const P=yield Rr(D.appConfig,q=>{const ce=yo(q),me=il(D,ce);return I=me.registrationPromise,me.installationEntry});return""===P.fid?{installationEntry:yield I}:{installationEntry:P,registrationPromise:I}})).apply(this,arguments)}function yo(D){return Qt(D||{fid:pt(),registrationStatus:0})}function il(D,I){if(0===I.registrationStatus){if(!navigator.onLine)return{installationEntry:I,registrationPromise:Promise.reject(ge.create("app-offline"))};const P={fid:I.fid,registrationStatus:1,registrationTime:Date.now()},q=function Xt(D,I){return ft.apply(this,arguments)}(D,P);return{installationEntry:P,registrationPromise:q}}return 1===I.registrationStatus?{installationEntry:I,registrationPromise:kt(D)}:{installationEntry:I}}function ft(){return(ft=(0,S.Z)(function*(D,I){try{const P=yield le(D,I);return vt(D.appConfig,P)}catch(P){throw Le(P)&&409===P.customData.serverCode?yield vi(D.appConfig):yield vt(D.appConfig,{fid:I.fid,registrationStatus:0}),P}})).apply(this,arguments)}function kt(D){return Si.apply(this,arguments)}function Si(){return(Si=(0,S.Z)(function*(D){let I=yield ys(D.appConfig);for(;1===I.registrationStatus;)yield ye(100),I=yield ys(D.appConfig);if(0===I.registrationStatus){const{installationEntry:P,registrationPromise:q}=yield xn(D);return q||P}return I})).apply(this,arguments)}function ys(D){return Rr(D,I=>{if(!I)throw ge.create("installation-not-found");return Qt(I)})}function Qt(D){return function Ko(D){return 1===D.registrationStatus&&D.registrationTime+1e4<Date.now()}(D)?{fid:D.fid,registrationStatus:0}:D}function Ui(D,I){return Mi.apply(this,arguments)}function Mi(){return(Mi=(0,S.Z)(function*({appConfig:D,heartbeatServiceProvider:I},P){const q=bt(D,P),ce=Se(D,P),me=I.getImmediate({optional:!0});if(me){const Rt=yield me.getHeartbeatsHeader();Rt&&ce.append("x-firebase-client",Rt)}const Ue={method:"POST",headers:ce,body:JSON.stringify({installation:{sdkVersion:K,appId:D.appId}})},nt=yield ne(()=>fetch(q,Ue));if(nt.ok)return Ie(yield nt.json());throw yield we("Generate Auth Token",nt)})).apply(this,arguments)}function bt(D,{fid:I}){return`${Oe(D)}/${I}/authTokens:generate`}function ji(D){return Wt.apply(this,arguments)}function Wt(){return(Wt=(0,S.Z)(function*(D,I=!1){let P;const q=yield Rr(D.appConfig,me=>{if(!Yt(me))throw ge.create("not-registered");const Be=me.authToken;if(!I&&ee(Be))return me;if(1===Be.requestStatus)return P=tt(D,I),me;{if(!navigator.onLine)throw ge.create("app-offline");const Ue=re(me);return P=wt(D,Ue),Ue}});return P?yield P:q.authToken})).apply(this,arguments)}function tt(D,I){return Fe.apply(this,arguments)}function Fe(){return(Fe=(0,S.Z)(function*(D,I){let P=yield it(D.appConfig);for(;1===P.authToken.requestStatus;)yield ye(100),P=yield it(D.appConfig);const q=P.authToken;return 0===q.requestStatus?ji(D,I):q})).apply(this,arguments)}function it(D){return Rr(D,I=>{if(!Yt(I))throw ge.create("not-registered");return function De(D){return 1===D.requestStatus&&D.requestTime+1e4<Date.now()}(I.authToken)?Object.assign(Object.assign({},I),{authToken:{requestStatus:0}}):I})}function wt(D,I){return Kt.apply(this,arguments)}function Kt(){return(Kt=(0,S.Z)(function*(D,I){try{const P=yield Ui(D,I),q=Object.assign(Object.assign({},I),{authToken:P});return yield vt(D.appConfig,q),P}catch(P){if(!Le(P)||401!==P.customData.serverCode&&404!==P.customData.serverCode){const q=Object.assign(Object.assign({},I),{authToken:{requestStatus:0}});yield vt(D.appConfig,q)}else yield vi(D.appConfig);throw P}})).apply(this,arguments)}function Yt(D){return void 0!==D&&2===D.registrationStatus}function ee(D){return 2===D.requestStatus&&!function W(D){const I=Date.now();return I<D.creationTime||D.creationTime+D.expiresIn<I+36e5}(D)}function re(D){const I={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},D),{authToken:I})}function Ze(){return(Ze=(0,S.Z)(function*(D){const I=D,{installationEntry:P,registrationPromise:q}=yield xn(I);return q?q.catch(console.error):ji(I).catch(console.error),P.fid})).apply(this,arguments)}function on(){return(on=(0,S.Z)(function*(D,I=!1){const P=D;return yield Hi(P),(yield ji(P,I)).token})).apply(this,arguments)}function Hi(D){return en.apply(this,arguments)}function en(){return(en=(0,S.Z)(function*(D){const{registrationPromise:I}=yield xn(D);I&&(yield I)})).apply(this,arguments)}function hi(D){return ge.create("missing-app-config-values",{valueName:D})}const sl="installations",ze=D=>{const I=D.getProvider("app").getImmediate(),P=function Ls(D){if(!D||!D.options)throw hi("App Configuration");if(!D.name)throw hi("App Name");const I=["projectId","apiKey","appId"];for(const P of I)if(!D.options[P])throw hi(P);return{appName:D.name,projectId:D.options.projectId,apiKey:D.options.apiKey,appId:D.options.appId}}(I);return{app:I,appConfig:P,heartbeatServiceProvider:(0,B._getProvider)(I,"heartbeat"),_delete:()=>Promise.resolve()}},Gt=D=>{const I=D.getProvider("app").getImmediate(),P=(0,B._getProvider)(I,sl).getImmediate();return{getId:()=>function pe(D){return Ze.apply(this,arguments)}(P),getToken:ce=>function Tt(D){return on.apply(this,arguments)}(P,ce)}};(function Dn(){(0,B._registerComponent)(new z.wA(sl,ze,"PUBLIC")),(0,B._registerComponent)(new z.wA("installations-internal",Gt,"PRIVATE"))})(),(0,B.registerVersion)(Q,"0.5.7"),(0,B.registerVersion)(Q,"0.5.7","esm2017");const xi="@firebase/remote-config",Kn=new V.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Pd{constructor(I,P,q,ce){this.client=I,this.storage=P,this.storageCache=q,this.logger=ce}isCachedDataFresh(I,P){if(!P)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const q=Date.now()-P,ce=q<=I;return this.logger.debug(`Config fetch cache check. Cache age millis: ${q}. Cache max age millis (minimumFetchIntervalMillis setting): ${I}. Is cache hit: ${ce}.`),ce}fetch(I){var P=this;return(0,S.Z)(function*(){const[q,ce]=yield Promise.all([P.storage.getLastSuccessfulFetchTimestampMillis(),P.storage.getLastSuccessfulFetchResponse()]);if(ce&&P.isCachedDataFresh(I.cacheMaxAgeMillis,q))return ce;I.eTag=ce&&ce.eTag;const me=yield P.client.fetch(I),Be=[P.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===me.status&&Be.push(P.storage.setLastSuccessfulFetchResponse(me)),yield Promise.all(Be),me})()}}function Nd(D=navigator){return D.languages&&D.languages[0]||D.language}class ql{constructor(I,P,q,ce,me,Be){this.firebaseInstallations=I,this.sdkVersion=P,this.namespace=q,this.projectId=ce,this.apiKey=me,this.appId=Be}fetch(I){var P=this;return(0,S.Z)(function*(){const[q,ce]=yield Promise.all([P.firebaseInstallations.getId(),P.firebaseInstallations.getToken()]),Be=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${P.projectId}/namespaces/${P.namespace}:fetch?key=${P.apiKey}`,Ue={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":I.eTag||"*"},nt={sdk_version:P.sdkVersion,app_instance_id:q,app_instance_id_token:ce,app_id:P.appId,language_code:Nd()},Rt={method:"POST",headers:Ue,body:JSON.stringify(nt)},Ut=fetch(Be,Rt),Ft=new Promise((zr,as)=>{I.signal.addEventListener(()=>{const da=new Error("The operation was aborted.");da.name="AbortError",as(da)})});let ci;try{yield Promise.race([Ut,Ft]),ci=yield Ut}catch(zr){let as="fetch-client-network";throw"AbortError"===zr.name&&(as="fetch-timeout"),Kn.create(as,{originalErrorMessage:zr.message})}let Zn=ci.status;const Ua=ci.headers.get("ETag")||void 0;let ua,or;if(200===ci.status){let zr;try{zr=yield ci.json()}catch(as){throw Kn.create("fetch-client-parse",{originalErrorMessage:as.message})}ua=zr.entries,or=zr.state}if("INSTANCE_STATE_UNSPECIFIED"===or?Zn=500:"NO_CHANGE"===or?Zn=304:("NO_TEMPLATE"===or||"EMPTY_CONFIG"===or)&&(ua={}),304!==Zn&&200!==Zn)throw Kn.create("fetch-status",{httpStatus:Zn});return{status:Zn,eTag:Ua,config:ua}})()}}class vg{constructor(I,P){this.client=I,this.storage=P}fetch(I){var P=this;return(0,S.Z)(function*(){const q=(yield P.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return P.attemptFetch(I,q)})()}attemptFetch(I,{throttleEndTimeMillis:P,backoffCount:q}){var ce=this;return(0,S.Z)(function*(){yield function si(D,I){return new Promise((P,q)=>{const ce=Math.max(I-Date.now(),0),me=setTimeout(P,ce);D.addEventListener(()=>{clearTimeout(me),q(Kn.create("fetch-throttle",{throttleEndTimeMillis:I}))})})}(I.signal,P);try{const me=yield ce.client.fetch(I);return yield ce.storage.deleteThrottleMetadata(),me}catch(me){if(!function Fd(D){if(!(D instanceof V.ZR&&D.customData))return!1;const I=Number(D.customData.httpStatus);return 429===I||500===I||503===I||504===I}(me))throw me;const Be={throttleEndTimeMillis:Date.now()+(0,V.$s)(q),backoffCount:q+1};return yield ce.storage.setThrottleMetadata(Be),ce.attemptFetch(I,Be)}})()}}class Ld{constructor(I,P,q,ce,me){this.app=I,this._client=P,this._storageCache=q,this._storage=ce,this._logger=me,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Kc(D,I){const P=D.target.error||void 0;return Kn.create(I,{originalErrorMessage:P&&P.message})}const Eo="app_namespace_store";class Eg{constructor(I,P,q,ce=function Cg(){return new Promise((D,I)=>{try{const P=indexedDB.open("firebase_remote_config",1);P.onerror=q=>{I(Kc(q,"storage-open"))},P.onsuccess=q=>{D(q.target.result)},P.onupgradeneeded=q=>{0===q.oldVersion&&q.target.result.createObjectStore(Eo,{keyPath:"compositeKey"})}}catch(P){I(Kn.create("storage-open",{originalErrorMessage:P}))}})}()){this.appId=I,this.appName=P,this.namespace=q,this.openDbPromise=ce}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(I){return this.set("last_fetch_status",I)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(I){return this.set("last_successful_fetch_timestamp_millis",I)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(I){return this.set("last_successful_fetch_response",I)}getActiveConfig(){return this.get("active_config")}setActiveConfig(I){return this.set("active_config",I)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(I){return this.set("active_config_etag",I)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(I){return this.set("throttle_metadata",I)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(I){var P=this;return(0,S.Z)(function*(){const q=yield P.openDbPromise;return new Promise((ce,me)=>{const Ue=q.transaction([Eo],"readonly").objectStore(Eo),nt=P.createCompositeKey(I);try{const Rt=Ue.get(nt);Rt.onerror=Ut=>{me(Kc(Ut,"storage-get"))},Rt.onsuccess=Ut=>{const Ft=Ut.target.result;ce(Ft?Ft.value:void 0)}}catch(Rt){me(Kn.create("storage-get",{originalErrorMessage:Rt&&Rt.message}))}})})()}set(I,P){var q=this;return(0,S.Z)(function*(){const ce=yield q.openDbPromise;return new Promise((me,Be)=>{const nt=ce.transaction([Eo],"readwrite").objectStore(Eo),Rt=q.createCompositeKey(I);try{const Ut=nt.put({compositeKey:Rt,value:P});Ut.onerror=Ft=>{Be(Kc(Ft,"storage-set"))},Ut.onsuccess=()=>{me()}}catch(Ut){Be(Kn.create("storage-set",{originalErrorMessage:Ut&&Ut.message}))}})})()}delete(I){var P=this;return(0,S.Z)(function*(){const q=yield P.openDbPromise;return new Promise((ce,me)=>{const Ue=q.transaction([Eo],"readwrite").objectStore(Eo),nt=P.createCompositeKey(I);try{const Rt=Ue.delete(nt);Rt.onerror=Ut=>{me(Kc(Ut,"storage-delete"))},Rt.onsuccess=()=>{ce()}}catch(Rt){me(Kn.create("storage-delete",{originalErrorMessage:Rt&&Rt.message}))}})})()}createCompositeKey(I){return[this.appId,this.appName,this.namespace,I].join()}}class Bd{constructor(I){this.storage=I}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var I=this;return(0,S.Z)(function*(){const P=I.storage.getLastFetchStatus(),q=I.storage.getLastSuccessfulFetchTimestampMillis(),ce=I.storage.getActiveConfig(),me=yield P;me&&(I.lastFetchStatus=me);const Be=yield q;Be&&(I.lastSuccessfulFetchTimestampMillis=Be);const Ue=yield ce;Ue&&(I.activeConfig=Ue)})()}setLastFetchStatus(I){return this.lastFetchStatus=I,this.storage.setLastFetchStatus(I)}setLastSuccessfulFetchTimestampMillis(I){return this.lastSuccessfulFetchTimestampMillis=I,this.storage.setLastSuccessfulFetchTimestampMillis(I)}setActiveConfig(I){return this.activeConfig=I,this.storage.setActiveConfig(I)}}function Xo(){return Uf.apply(this,arguments)}function Uf(){return(Uf=(0,S.Z)(function*(){if(!(0,V.hl)())return!1;try{return yield(0,V.eu)()}catch(D){return!1}})).apply(this,arguments)}!function Ma(){(0,B._registerComponent)(new z.wA("remote-config",function D(I,{instanceIdentifier:P}){const q=I.getProvider("app").getImmediate(),ce=I.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw Kn.create("registration-window");if(!(0,V.hl)())throw Kn.create("indexed-db-unavailable");const{projectId:me,apiKey:Be,appId:Ue}=q.options;if(!me)throw Kn.create("registration-project-id");if(!Be)throw Kn.create("registration-api-key");if(!Ue)throw Kn.create("registration-app-id");const nt=new Eg(Ue,q.name,P=P||"firebase"),Rt=new Bd(nt),Ut=new H.Yd(xi);Ut.logLevel=H.in.ERROR;const Ft=new ql(ce,B.SDK_VERSION,P,me,Be,Ue),ci=new vg(Ft,nt),Zn=new Pd(ci,nt,Rt,Ut),Ua=new Ld(q,Zn,Rt,nt,Ut);return function Fn(D){const I=(0,V.m9)(D);I._initializePromise||(I._initializePromise=I._storageCache.loadFromStorage().then(()=>{I._isInitializationComplete=!0}))}(Ua),Ua},"PUBLIC").setMultipleInstances(!0)),(0,B.registerVersion)(xi,"0.3.6"),(0,B.registerVersion)(xi,"0.3.6","esm2017")}();const Qc="/firebase-messaging-sw.js",Do="/firebase-cloud-messaging-push-scope",br="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",ea="google.c.a.c_id",al="google.c.a.c_l",Ud="google.c.a.ts",Dg="google.c.a.e";var Ao=(()=>{return(D=Ao||(Ao={})).PUSH_RECEIVED="push-received",D.NOTIFICATION_CLICKED="notification-clicked",Ao;var D})();function Pr(D){const I=new Uint8Array(D);return btoa(String.fromCharCode(...I)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Zl(D){const P=(D+"=".repeat((4-D.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),q=atob(P),ce=new Uint8Array(q.length);for(let me=0;me<q.length;++me)ce[me]=q.charCodeAt(me);return ce}const Wl="fcm_token_details_db",ki="fcm_token_object_Store";function jf(D){return Kl.apply(this,arguments)}function Kl(){return Kl=(0,S.Z)(function*(D){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(me=>me.name).includes(Wl))return null;let I=null;return(yield(0,V.X3)(Wl,5,function(){var q=(0,S.Z)(function*(ce,me,Be,Ue){var nt;if(me<2||!ce.objectStoreNames.contains(ki))return;const Rt=Ue.objectStore(ki),Ut=yield Rt.index("fcmSenderId").get(D);if(yield Rt.clear(),Ut)if(2===me){const Ft=Ut;if(!Ft.auth||!Ft.p256dh||!Ft.endpoint)return;I={token:Ft.fcmToken,createTime:null!==(nt=Ft.createTime)&&void 0!==nt?nt:Date.now(),subscriptionOptions:{auth:Ft.auth,p256dh:Ft.p256dh,endpoint:Ft.endpoint,swScope:Ft.swScope,vapidKey:"string"==typeof Ft.vapidKey?Ft.vapidKey:Pr(Ft.vapidKey)}}}else if(3===me){const Ft=Ut;I={token:Ft.fcmToken,createTime:Ft.createTime,subscriptionOptions:{auth:Pr(Ft.auth),p256dh:Pr(Ft.p256dh),endpoint:Ft.endpoint,swScope:Ft.swScope,vapidKey:Pr(Ft.vapidKey)}}}else if(4===me){const Ft=Ut;I={token:Ft.fcmToken,createTime:Ft.createTime,subscriptionOptions:{auth:Pr(Ft.auth),p256dh:Pr(Ft.p256dh),endpoint:Ft.endpoint,swScope:Ft.swScope,vapidKey:Pr(Ft.vapidKey)}}}});return function(ce,me,Be,Ue){return q.apply(this,arguments)}}())).close(),yield(0,V.Lj)(Wl),yield(0,V.Lj)("fcm_vapid_details_db"),yield(0,V.Lj)("undefined"),jd(I)?I:null}),Kl.apply(this,arguments)}function jd(D){if(!D||!D.subscriptionOptions)return!1;const{subscriptionOptions:I}=D;return"number"==typeof D.createTime&&D.createTime>0&&"string"==typeof D.token&&D.token.length>0&&"string"==typeof I.auth&&I.auth.length>0&&"string"==typeof I.p256dh&&I.p256dh.length>0&&"string"==typeof I.endpoint&&I.endpoint.length>0&&"string"==typeof I.swScope&&I.swScope.length>0&&"string"==typeof I.vapidKey&&I.vapidKey.length>0}const Hs="firebase-messaging-store";let ll=null;function Jc(){return ll||(ll=(0,V.X3)("firebase-messaging-database",1,(D,I)=>{0===I&&D.createObjectStore(Hs)})),ll}function An(D){return ka.apply(this,arguments)}function ka(){return(ka=(0,S.Z)(function*(D){const I=na(D),q=yield(yield Jc()).transaction(Hs).objectStore(Hs).get(I);if(q)return q;{const ce=yield jf(D.appConfig.senderId);if(ce)return yield To(D,ce),ce}})).apply(this,arguments)}function To(D,I){return wn.apply(this,arguments)}function wn(){return(wn=(0,S.Z)(function*(D,I){const P=na(D),ce=(yield Jc()).transaction(Hs,"readwrite");return yield ce.objectStore(Hs).put(I,P),yield ce.complete,I})).apply(this,arguments)}function Hd(D){return ta.apply(this,arguments)}function ta(){return(ta=(0,S.Z)(function*(D){const I=na(D),q=(yield Jc()).transaction(Hs,"readwrite");yield q.objectStore(Hs).delete(I),yield q.complete})).apply(this,arguments)}function na({appConfig:D}){return D.appId}const Qn=new V.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function cl(D,I){return Xr.apply(this,arguments)}function Xr(){return(Xr=(0,S.Z)(function*(D,I){const P=yield So(D),q=Ct(I),ce={method:"POST",headers:P,body:JSON.stringify(q)};let me;try{me=yield(yield fetch(Cr(D.appConfig),ce)).json()}catch(Be){throw Qn.create("token-subscribe-failed",{errorInfo:Be})}if(me.error)throw Qn.create("token-subscribe-failed",{errorInfo:me.error.message});if(!me.token)throw Qn.create("token-subscribe-no-token");return me.token})).apply(this,arguments)}function Gi(D,I){return Io.apply(this,arguments)}function Io(){return(Io=(0,S.Z)(function*(D,I){const P=yield So(D),q=Ct(I.subscriptionOptions),ce={method:"PATCH",headers:P,body:JSON.stringify(q)};let me;try{me=yield(yield fetch(`${Cr(D.appConfig)}/${I.token}`,ce)).json()}catch(Be){throw Qn.create("token-update-failed",{errorInfo:Be})}if(me.error)throw Qn.create("token-update-failed",{errorInfo:me.error.message});if(!me.token)throw Qn.create("token-update-no-token");return me.token})).apply(this,arguments)}function zs(D,I){return Xl.apply(this,arguments)}function Xl(){return(Xl=(0,S.Z)(function*(D,I){const q={method:"DELETE",headers:yield So(D)};try{const me=yield(yield fetch(`${Cr(D.appConfig)}/${I}`,q)).json();if(me.error)throw Qn.create("token-unsubscribe-failed",{errorInfo:me.error.message})}catch(ce){throw Qn.create("token-unsubscribe-failed",{errorInfo:ce})}})).apply(this,arguments)}function Cr({projectId:D}){return`https://fcmregistrations.googleapis.com/v1/projects/${D}/registrations`}function So(D){return Mo.apply(this,arguments)}function Mo(){return(Mo=(0,S.Z)(function*({appConfig:D,installations:I}){const P=yield I.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":D.apiKey,"x-goog-firebase-installations-auth":`FIS ${P}`})})).apply(this,arguments)}function Ct({p256dh:D,auth:I,endpoint:P,vapidKey:q}){const ce={web:{endpoint:P,auth:I,p256dh:D}};return q!==br&&(ce.web.applicationPubKey=q),ce}const ec=6048e5;function ul(D){return tc.apply(this,arguments)}function tc(){return(tc=(0,S.Z)(function*(D){const I=yield tu(D.swRegistration,D.vapidKey),P={vapidKey:D.vapidKey,swScope:D.swRegistration.scope,endpoint:I.endpoint,auth:Pr(I.getKey("auth")),p256dh:Pr(I.getKey("p256dh"))},q=yield An(D.firebaseDependencies);if(q){if(Ra(q.subscriptionOptions,P))return Date.now()>=q.createTime+ec?Xc(D,{token:q.token,createTime:Date.now(),subscriptionOptions:P}):q.token;try{yield zs(D.firebaseDependencies,q.token)}catch(ce){console.warn(ce)}return Pe(D.firebaseDependencies,P)}return Pe(D.firebaseDependencies,P)})).apply(this,arguments)}function nc(D){return ic.apply(this,arguments)}function ic(){return(ic=(0,S.Z)(function*(D){const I=yield An(D.firebaseDependencies);I&&(yield zs(D.firebaseDependencies,I.token),yield Hd(D.firebaseDependencies));const P=yield D.swRegistration.pushManager.getSubscription();return!P||P.unsubscribe()})).apply(this,arguments)}function Xc(D,I){return eu.apply(this,arguments)}function eu(){return(eu=(0,S.Z)(function*(D,I){try{const P=yield Gi(D.firebaseDependencies,I),q=Object.assign(Object.assign({},I),{token:P,createTime:Date.now()});return yield To(D.firebaseDependencies,q),P}catch(P){throw yield nc(D),P}})).apply(this,arguments)}function Pe(D,I){return Zt.apply(this,arguments)}function Zt(){return(Zt=(0,S.Z)(function*(D,I){const q={token:yield cl(D,I),createTime:Date.now(),subscriptionOptions:I};return yield To(D,q),q.token})).apply(this,arguments)}function tu(D,I){return kn.apply(this,arguments)}function kn(){return(kn=(0,S.Z)(function*(D,I){return(yield D.pushManager.getSubscription())||D.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Zl(I)})})).apply(this,arguments)}function Ra(D,I){return I.vapidKey===D.vapidKey&&I.endpoint===D.endpoint&&I.auth===D.auth&&I.p256dh===D.p256dh}function Oa(D){const I={from:D.from,collapseKey:D.collapse_key,messageId:D.fcmMessageId};return function Er(D,I){if(!I.notification)return;D.notification={};const P=I.notification.title;P&&(D.notification.title=P);const q=I.notification.body;q&&(D.notification.body=q);const ce=I.notification.image;ce&&(D.notification.image=ce)}(I,D),function nu(D,I){!I.data||(D.data=I.data)}(I,D),function iu(D,I){if(!I.fcmOptions)return;D.fcmOptions={};const P=I.fcmOptions.link;P&&(D.fcmOptions.link=P);const q=I.fcmOptions.analytics_label;q&&(D.fcmOptions.analyticsLabel=q)}(I,D),I}function zd(D){return"object"==typeof D&&!!D&&ea in D}function ru(D,I){const P=[];for(let q=0;q<D.length;q++)P.push(D.charAt(q)),q<I.length&&P.push(I.charAt(q));return P.join("")}function xo(D){return Qn.create("missing-app-config-values",{valueName:D})}ru("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),ru("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Ri{constructor(I,P,q){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const ce=function rc(D){if(!D||!D.options)throw xo("App Configuration Object");if(!D.name)throw xo("App Name");const I=["projectId","apiKey","appId","messagingSenderId"],{options:P}=D;for(const q of I)if(!P[q])throw xo(q);return{appName:D.name,projectId:P.projectId,apiKey:P.apiKey,appId:P.appId,senderId:P.messagingSenderId}}(I);this.firebaseDependencies={app:I,appConfig:ce,installations:P,analyticsProvider:q}}_delete(){return Promise.resolve()}}function Nr(D){return sc.apply(this,arguments)}function sc(){return(sc=(0,S.Z)(function*(D){try{D.swRegistration=yield navigator.serviceWorker.register(Qc,{scope:Do}),D.swRegistration.update().catch(()=>{})}catch(I){throw Qn.create("failed-service-worker-registration",{browserErrorMessage:I.message})}})).apply(this,arguments)}function ko(D,I){return es.apply(this,arguments)}function es(){return(es=(0,S.Z)(function*(D,I){if(!I&&!D.swRegistration&&(yield Nr(D)),I||!D.swRegistration){if(!(I instanceof ServiceWorkerRegistration))throw Qn.create("invalid-sw-registration");D.swRegistration=I}})).apply(this,arguments)}function su(D,I){return oc.apply(this,arguments)}function oc(){return(oc=(0,S.Z)(function*(D,I){I?D.vapidKey=I:D.vapidKey||(D.vapidKey=br)})).apply(this,arguments)}function ou(){return(ou=(0,S.Z)(function*(D,I){if(!navigator)throw Qn.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Qn.create("permission-blocked");return yield su(D,null==I?void 0:I.vapidKey),yield ko(D,null==I?void 0:I.serviceWorkerRegistration),ul(D)})).apply(this,arguments)}function dl(D,I,P){return Pa.apply(this,arguments)}function Pa(){return(Pa=(0,S.Z)(function*(D,I,P){const q=au(I);(yield D.firebaseDependencies.analyticsProvider.get()).logEvent(q,{message_id:P[ea],message_name:P[al],message_time:P[Ud],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function au(D){switch(D){case Ao.NOTIFICATION_CLICKED:return"notification_open";case Ao.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function $d(){return($d=(0,S.Z)(function*(D,I){const P=I.data;if(!P.isFirebaseMessaging)return;D.onMessageHandler&&P.messageType===Ao.PUSH_RECEIVED&&("function"==typeof D.onMessageHandler?D.onMessageHandler(Oa(P)):D.onMessageHandler.next(Oa(P)));const q=P.data;zd(q)&&"1"===q[Dg]&&(yield dl(D,P.messageType,q))})).apply(this,arguments)}const cu="@firebase/messaging",Gd=D=>{const I=new Ri(D.getProvider("app").getImmediate(),D.getProvider("installations-internal").getImmediate(),D.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",P=>function lu(D,I){return $d.apply(this,arguments)}(I,P)),I},ra=D=>{const I=D.getProvider("messaging").getImmediate();return{getToken:q=>function ac(D,I){return ou.apply(this,arguments)}(I,q)}};function Yd(){return sa.apply(this,arguments)}function sa(){return(sa=(0,S.Z)(function*(){try{yield(0,V.eu)()}catch(D){return!1}return"undefined"!=typeof window&&(0,V.hl)()&&(0,V.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function qd(){(0,B._registerComponent)(new z.wA("messaging",Gd,"PUBLIC")),(0,B._registerComponent)(new z.wA("messaging-internal",ra,"PRIVATE")),(0,B.registerVersion)(cu,"0.9.11"),(0,B.registerVersion)(cu,"0.9.11","esm2017")}();const du="analytics",sv="firebase_id",hl="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",lc="https://www.googletagmanager.com/gtag/js",oi=new H.Yd("@firebase/analytics");function Wd(D){return Promise.all(D.map(I=>I.catch(P=>P)))}function Ag(D,I){const P=document.createElement("script");P.src=`${lc}?l=${D}&id=${I}`,P.async=!0,document.head.appendChild(P)}function Na(D,I,P,q,ce,me){return Kd.apply(this,arguments)}function Kd(){return(Kd=(0,S.Z)(function*(D,I,P,q,ce,me){const Be=q[ce];try{if(Be)yield I[Be];else{const nt=(yield Wd(P)).find(Rt=>Rt.measurementId===ce);nt&&(yield I[nt.appId])}}catch(Ue){oi.error(Ue)}D("config",ce,me)})).apply(this,arguments)}function fu(D,I,P,q,ce){return Fr.apply(this,arguments)}function Fr(){return(Fr=(0,S.Z)(function*(D,I,P,q,ce){try{let me=[];if(ce&&ce.send_to){let Be=ce.send_to;Array.isArray(Be)||(Be=[Be]);const Ue=yield Wd(P);for(const nt of Be){const Rt=Ue.find(Ft=>Ft.measurementId===nt),Ut=Rt&&I[Rt.appId];if(!Ut){me=[];break}me.push(Ut)}}0===me.length&&(me=Object.values(I)),yield Promise.all(me),D("event",q,ce||{})}catch(me){oi.error(me)}})).apply(this,arguments)}function Tg(){const D=window.document.getElementsByTagName("script");for(const I of Object.values(D))if(I.src&&I.src.includes(lc))return I;return null}const Jn=new V.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),Xn=new class sr{constructor(I={},P=1e3){this.throttleMetadata=I,this.intervalMillis=P}getThrottleMetadata(I){return this.throttleMetadata[I]}setThrottleMetadata(I,P){this.throttleMetadata[I]=P}deleteThrottleMetadata(I){delete this.throttleMetadata[I]}};function Fa(D){return new Headers({Accept:"application/json","x-goog-api-key":D})}function Jd(D){return Tn.apply(this,arguments)}function Tn(){return(Tn=(0,S.Z)(function*(D){var I;const{appId:P,apiKey:q}=D,ce={method:"GET",headers:Fa(q)},me=hl.replace("{app-id}",P),Be=yield fetch(me,ce);if(200!==Be.status&&304!==Be.status){let Ue="";try{const nt=yield Be.json();(null===(I=nt.error)||void 0===I?void 0:I.message)&&(Ue=nt.error.message)}catch(nt){}throw Jn.create("config-fetch-failed",{httpStatus:Be.status,responseMessage:Ue})}return Be.json()})).apply(this,arguments)}function Hf(D){return ts.apply(this,arguments)}function ts(){return(ts=(0,S.Z)(function*(D,I=Xn,P){const{appId:q,apiKey:ce,measurementId:me}=D.options;if(!q)throw Jn.create("no-app-id");if(!ce){if(me)return{measurementId:me,appId:q};throw Jn.create("no-api-key")}const Be=I.getThrottleMetadata(q)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Ue=new mu;return setTimeout((0,S.Z)(function*(){Ue.abort()}),void 0!==P?P:6e4),cc({appId:q,apiKey:ce,measurementId:me},Be,Ue,I)})).apply(this,arguments)}function cc(D,I,P){return Lr.apply(this,arguments)}function Lr(){return(Lr=(0,S.Z)(function*(D,{throttleEndTimeMillis:I,backoffCount:P},q,ce=Xn){const{appId:me,measurementId:Be}=D;try{yield mt(q,I)}catch(Ue){if(Be)return oi.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Be} provided in the "measurementId" field in the local Firebase config. [${Ue.message}]`),{appId:me,measurementId:Be};throw Ue}try{const Ue=yield Jd(D);return ce.deleteThrottleMetadata(me),Ue}catch(Ue){if(!Xd(Ue)){if(ce.deleteThrottleMetadata(me),Be)return oi.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Be} provided in the "measurementId" field in the local Firebase config. [${Ue.message}]`),{appId:me,measurementId:Be};throw Ue}const nt=503===Number(Ue.customData.httpStatus)?(0,V.$s)(P,ce.intervalMillis,30):(0,V.$s)(P,ce.intervalMillis),Rt={throttleEndTimeMillis:Date.now()+nt,backoffCount:P+1};return ce.setThrottleMetadata(me,Rt),oi.debug(`Calling attemptFetch again in ${nt} millis`),cc(D,Rt,q,ce)}})).apply(this,arguments)}function mt(D,I){return new Promise((P,q)=>{const ce=Math.max(I-Date.now(),0),me=setTimeout(P,ce);D.addEventListener(()=>{clearTimeout(me),q(Jn.create("fetch-throttle",{throttleEndTimeMillis:I}))})})}function Xd(D){if(!(D instanceof V.ZR&&D.customData))return!1;const I=Number(D.customData.httpStatus);return 429===I||500===I||503===I||504===I}class mu{constructor(){this.listeners=[]}addEventListener(I){this.listeners.push(I)}abort(){this.listeners.forEach(I=>I())}}function gu(){return oa.apply(this,arguments)}function oa(){return(oa=(0,S.Z)(function*(){if(!(0,V.hl)())return oi.warn(Jn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,V.eu)()}catch(D){return oi.warn(Jn.create("indexeddb-unavailable",{errorInfo:D}).message),!1}return!0})).apply(this,arguments)}function qs(){return(qs=(0,S.Z)(function*(D,I,P,q,ce,me,Be){var Ue;const nt=Hf(D);nt.then(Zn=>{P[Zn.measurementId]=Zn.appId,D.options.measurementId&&Zn.measurementId!==D.options.measurementId&&oi.warn(`The measurement ID in the local Firebase config (${D.options.measurementId}) does not match the measurement ID fetched from the server (${Zn.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Zn=>oi.error(Zn)),I.push(nt);const Rt=gu().then(Zn=>{if(Zn)return q.getId()}),[Ut,Ft]=yield Promise.all([nt,Rt]);Tg()||Ag(me,Ut.measurementId),ce("js",new Date);const ci=null!==(Ue=null==Be?void 0:Be.config)&&void 0!==Ue?Ue:{};return ci.origin="firebase",ci.update=!0,null!=Ft&&(ci[sv]=Ft),ce("config",Ut.measurementId,ci),Ut.measurementId})).apply(this,arguments)}class aa{constructor(I){this.app=I}_delete(){return delete Vr[this.app.options.appId],Promise.resolve()}}let Vr={},Po=[];const Br={};let No,bs,ns="dataLayer",yu=!1;function Ur(D,I,P){!function Ys(){const D=[];if((0,V.ru)()&&D.push("This is a browser extension environment."),(0,V.zI)()||D.push("Cookies are not available."),D.length>0){const I=D.map((q,ce)=>`(${ce+1}) ${q}`).join(" "),P=Jn.create("invalid-analytics-context",{errorInfo:I});oi.warn(P.message)}}();const q=D.options.appId;if(!q)throw Jn.create("no-app-id");if(!D.options.apiKey){if(!D.options.measurementId)throw Jn.create("no-api-key");oi.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${D.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Vr[q])throw Jn.create("already-exists",{id:q});if(!yu){!function Gs(D){let I=[];Array.isArray(window[D])?I=window[D]:window[D]=I}(ns);const{wrappedGtag:me,gtagCore:Be}=function Qd(D,I,P,q,ce){let me=function(...Be){window[q].push(arguments)};return window[ce]&&"function"==typeof window[ce]&&(me=window[ce]),window[ce]=function pu(D,I,P,q){function me(){return(me=(0,S.Z)(function*(Be,Ue,nt){try{"event"===Be?yield fu(D,I,P,Ue,nt):"config"===Be?yield Na(D,I,P,q,Ue,nt):D("set",Ue)}catch(Rt){oi.error(Rt)}})).apply(this,arguments)}return function ce(Be,Ue,nt){return me.apply(this,arguments)}}(me,D,I,P),{gtagCore:me,wrappedGtag:window[ce]}}(Vr,Po,Br,ns,"gtag");bs=me,No=Be,yu=!0}return Vr[q]=function On(D,I,P,q,ce,me,Be){return qs.apply(this,arguments)}(D,Po,Br,I,No,ns,P),new aa(D)}function qn(){return(qn=(0,S.Z)(function*(D,I,P,q,ce){if(ce&&ce.global)D("event",P,q);else{const me=yield I;D("event",P,Object.assign(Object.assign({},q),{send_to:me}))}})).apply(this,arguments)}function Ln(){return Dr.apply(this,arguments)}function Dr(){return(Dr=(0,S.Z)(function*(){if((0,V.ru)()||!(0,V.zI)()||!(0,V.hl)())return!1;try{return yield(0,V.eu)()}catch(D){return!1}})).apply(this,arguments)}const Fo="@firebase/analytics";!function ih(){(0,B._registerComponent)(new z.wA(du,(I,{options:P})=>Ur(I.getProvider("app").getImmediate(),I.getProvider("installations-internal").getImmediate(),P),"PUBLIC")),(0,B._registerComponent)(new z.wA("analytics-internal",function D(I){try{const P=I.getProvider(du).getImmediate();return{logEvent:(q,ce,me)=>function nh(D,I,P,q){D=(0,V.m9)(D),function is(D,I,P,q,ce){return qn.apply(this,arguments)}(bs,Vr[D.app.options.appId],I,P,q).catch(ce=>oi.error(ce))}(P,q,ce,me)}}catch(P){throw Jn.create("interop-component-reg-failed",{reason:P})}},"PRIVATE")),(0,B.registerVersion)(Fo,"0.7.7"),(0,B.registerVersion)(Fo,"0.7.7","esm2017")}();var Zs=R(4408),dc=R(7565);const vu=new class Un extends dc.v{}(class Ws extends Zs.o{constructor(I,P){super(I,P),this.scheduler=I,this.work=P}schedule(I,P=0){return P>0?super.schedule(I,P):(this.delay=P,this.state=I,this.scheduler.flush(this),this)}execute(I,P){return P>0||this.closed?super.execute(I,P):this._execute(I,P)}requestAsyncId(I,P,q=0){return null!=q&&q>0||null==q&&this.delay>0?super.requestAsyncId(I,P,q):I.flush(this)}});var Sg=R(4986),bu=R(8505),Pi=R(5363),jr=R(9468);const wu=new s.GfV("7.3.0"),Ks="__angularfire_symbol__analyticsIsSupportedValue",os="__angularfire_symbol__analyticsIsSupported",ws="__angularfire_symbol__remoteConfigIsSupportedValue",fl="__angularfire_symbol__remoteConfigIsSupported",Cu="__angularfire_symbol__messagingIsSupportedValue",Eu="__angularfire_symbol__messagingIsSupported";function Lo(D,I,P){if(I){if(1===I.length)return I[0];const me=I.filter(Be=>Be.app===P);if(1===me.length)return me[0]}return P.container.getProvider(D).getImmediate({optional:!0})}globalThis[os]||(globalThis[os]=Ln().then(D=>globalThis[Ks]=D).catch(()=>globalThis[Ks]=!1)),globalThis[Eu]||(globalThis[Eu]=Yd().then(D=>globalThis[Cu]=D).catch(()=>globalThis[Cu]=!1)),globalThis[fl]||(globalThis[fl]=Xo().then(D=>globalThis[ws]=D).catch(()=>globalThis[ws]=!1));const rh=(D,I)=>{const P=I?[I]:(0,F.C6)(),q=[];return P.forEach(ce=>{ce.container.getProvider(D).instances.forEach(Be=>{q.includes(Be)||q.push(Be)})}),q};function la(){}class hc{constructor(I,P=vu){this.zone=I,this.delegate=P}now(){return this.delegate.now()}schedule(I,P,q){const ce=this.zone;return this.delegate.schedule(function(Be){ce.runGuarded(()=>{I.apply(this,[Be])})},P,q)}}class Cs{constructor(I){this.zone=I,this.task=null}call(I,P){const q=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",la,{},la,la)),P.pipe((0,bu.b)({next:q,complete:q,error:q})).subscribe(I).add(q)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let fc=(()=>{class D{constructor(P){this.ngZone=P,this.outsideAngular=P.runOutsideAngular(()=>new hc(Zone.current)),this.insideAngular=P.run(()=>new hc(Zone.current,Sg.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return D.\u0275fac=function(P){return new(P||D)(s.LFG(s.R0b))},D.\u0275prov=s.Yz7({token:D,factory:D.\u0275fac,providedIn:"root"}),D})();function Es(){const D=globalThis.\u0275AngularFireScheduler;if(!D)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return D}function li(D){return D.pipe((0,Pi.Q)(Es().outsideAngular))}function Tu(D){return Es(),function ca(D){return function(P){return(P=P.lift(new Cs(D.ngZone))).pipe((0,jr.R)(D.outsideAngular),(0,Pi.Q)(D.insideAngular))}}(Es())(D)}},2090:(He,$,R)=>{"use strict";R.d($,{$s:()=>Ko,BH:()=>_e,G6:()=>ne,L:()=>ie,LL:()=>Et,Lj:()=>Kt,Mn:()=>Re,Sg:()=>ke,UG:()=>ge,US:()=>H,X3:()=>wt,ZB:()=>J,ZR:()=>ye,b$:()=>Ie,d:()=>we,eu:()=>se,hl:()=>te,jU:()=>Le,m9:()=>bt,ne:()=>vt,pd:()=>Ns,r3:()=>tn,ru:()=>Oe,tV:()=>G,uI:()=>de,vZ:()=>kr,w1:()=>he,xO:()=>_s,xb:()=>Cn,z$:()=>Ve,zI:()=>ae,zd:()=>nr});var s=R(5861);const V=function(ee){const W=[];let re=0;for(let De=0;De<ee.length;De++){let pe=ee.charCodeAt(De);pe<128?W[re++]=pe:pe<2048?(W[re++]=pe>>6|192,W[re++]=63&pe|128):55296==(64512&pe)&&De+1<ee.length&&56320==(64512&ee.charCodeAt(De+1))?(pe=65536+((1023&pe)<<10)+(1023&ee.charCodeAt(++De)),W[re++]=pe>>18|240,W[re++]=pe>>12&63|128,W[re++]=pe>>6&63|128,W[re++]=63&pe|128):(W[re++]=pe>>12|224,W[re++]=pe>>6&63|128,W[re++]=63&pe|128)}return W},H={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(ee,W){if(!Array.isArray(ee))throw Error("encodeByteArray takes an array as a parameter");this.init_();const re=W?this.byteToCharMapWebSafe_:this.byteToCharMap_,De=[];for(let pe=0;pe<ee.length;pe+=3){const Ze=ee[pe],Tt=pe+1<ee.length,on=Tt?ee[pe+1]:0,Hi=pe+2<ee.length,en=Hi?ee[pe+2]:0;let En=(15&on)<<2|en>>6,wi=63&en;Hi||(wi=64,Tt||(En=64)),De.push(re[Ze>>2],re[(3&Ze)<<4|on>>4],re[En],re[wi])}return De.join("")},encodeString(ee,W){return this.HAS_NATIVE_SUPPORT&&!W?btoa(ee):this.encodeByteArray(V(ee),W)},decodeString(ee,W){return this.HAS_NATIVE_SUPPORT&&!W?atob(ee):function(ee){const W=[];let re=0,De=0;for(;re<ee.length;){const pe=ee[re++];if(pe<128)W[De++]=String.fromCharCode(pe);else if(pe>191&&pe<224){const Ze=ee[re++];W[De++]=String.fromCharCode((31&pe)<<6|63&Ze)}else if(pe>239&&pe<365){const Hi=((7&pe)<<18|(63&ee[re++])<<12|(63&ee[re++])<<6|63&ee[re++])-65536;W[De++]=String.fromCharCode(55296+(Hi>>10)),W[De++]=String.fromCharCode(56320+(1023&Hi))}else{const Ze=ee[re++],Tt=ee[re++];W[De++]=String.fromCharCode((15&pe)<<12|(63&Ze)<<6|63&Tt)}}return W.join("")}(this.decodeStringToByteArray(ee,W))},decodeStringToByteArray(ee,W){this.init_();const re=W?this.charToByteMapWebSafe_:this.charToByteMap_,De=[];for(let pe=0;pe<ee.length;){const Ze=re[ee.charAt(pe++)],on=pe<ee.length?re[ee.charAt(pe)]:0;++pe;const en=pe<ee.length?re[ee.charAt(pe)]:64;++pe;const $t=pe<ee.length?re[ee.charAt(pe)]:64;if(++pe,null==Ze||null==on||null==en||null==$t)throw Error();De.push(Ze<<2|on>>4),64!==en&&(De.push(on<<4&240|en>>2),64!==$t&&De.push(en<<6&192|$t))}return De},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let ee=0;ee<this.ENCODED_VALS.length;ee++)this.byteToCharMap_[ee]=this.ENCODED_VALS.charAt(ee),this.charToByteMap_[this.byteToCharMap_[ee]]=ee,this.byteToCharMapWebSafe_[ee]=this.ENCODED_VALS_WEBSAFE.charAt(ee),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[ee]]=ee,ee>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(ee)]=ee,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(ee)]=ee)}}},ie=function(ee){return function(ee){const W=V(ee);return H.encodeByteArray(W,!0)}(ee).replace(/\./g,"")},G=function(ee){try{return H.decodeString(ee,!0)}catch(W){console.error("base64Decode failed: ",W)}return null};function J(ee,W){if(!(W instanceof Object))return W;switch(W.constructor){case Date:return new Date(W.getTime());case Object:void 0===ee&&(ee={});break;case Array:ee=[];break;default:return W}for(const re in W)!W.hasOwnProperty(re)||!Me(re)||(ee[re]=J(ee[re],W[re]));return ee}function Me(ee){return"__proto__"!==ee}class _e{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((W,re)=>{this.resolve=W,this.reject=re})}wrapCallback(W){return(re,De)=>{re?this.reject(re):this.resolve(De),"function"==typeof W&&(this.promise.catch(()=>{}),1===W.length?W(re):W(re,De))}}}function ke(ee,W){if(ee.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const De=W||"demo-project",pe=ee.iat||0,Ze=ee.sub||ee.user_id;if(!Ze)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Tt=Object.assign({iss:`https://securetoken.google.com/${De}`,aud:De,iat:pe,exp:pe+3600,auth_time:pe,sub:Ze,user_id:Ze,firebase:{sign_in_provider:"custom",identities:{}}},ee);return[ie(JSON.stringify({alg:"none",type:"JWT"})),ie(JSON.stringify(Tt)),""].join(".")}function Ve(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function de(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ve())}function ge(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(ee){return!1}}function Le(){return"object"==typeof self&&self.self===self}function Oe(){const ee="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof ee&&void 0!==ee.id}function Ie(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function we(){return Ve().indexOf("Electron/")>=0}function he(){const ee=Ve();return ee.indexOf("MSIE ")>=0||ee.indexOf("Trident/")>=0}function Re(){return Ve().indexOf("MSAppHost/")>=0}function ne(){return!ge()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function te(){return"object"==typeof indexedDB}function se(){return new Promise((ee,W)=>{try{let re=!0;const De="validate-browser-context-for-indexeddb-analytics-module",pe=self.indexedDB.open(De);pe.onsuccess=()=>{pe.result.close(),re||self.indexedDB.deleteDatabase(De),ee(!0)},pe.onupgradeneeded=()=>{re=!1},pe.onerror=()=>{var Ze;W((null===(Ze=pe.error)||void 0===Ze?void 0:Ze.message)||"")}}catch(re){W(re)}})}function ae(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class ye extends Error{constructor(W,re,De){super(re),this.code=W,this.customData=De,this.name="FirebaseError",Object.setPrototypeOf(this,ye.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Et.prototype.create)}}class Et{constructor(W,re,De){this.service=W,this.serviceName=re,this.errors=De}create(W,...re){const De=re[0]||{},pe=`${this.service}/${W}`,Ze=this.errors[W],Tt=Ze?function rn(ee,W){return ee.replace(Nn,(re,De)=>{const pe=W[De];return null!=pe?String(pe):`<${De}?>`})}(Ze,De):"Error";return new ye(pe,`${this.serviceName}: ${Tt} (${pe}).`,De)}}const Nn=/\{\$([^}]+)}/g;function tn(ee,W){return Object.prototype.hasOwnProperty.call(ee,W)}function Cn(ee){for(const W in ee)if(Object.prototype.hasOwnProperty.call(ee,W))return!1;return!0}function kr(ee,W){if(ee===W)return!0;const re=Object.keys(ee),De=Object.keys(W);for(const pe of re){if(!De.includes(pe))return!1;const Ze=ee[pe],Tt=W[pe];if(tr(Ze)&&tr(Tt)){if(!kr(Ze,Tt))return!1}else if(Ze!==Tt)return!1}for(const pe of De)if(!re.includes(pe))return!1;return!0}function tr(ee){return null!==ee&&"object"==typeof ee}function _s(ee){const W=[];for(const[re,De]of Object.entries(ee))Array.isArray(De)?De.forEach(pe=>{W.push(encodeURIComponent(re)+"="+encodeURIComponent(pe))}):W.push(encodeURIComponent(re)+"="+encodeURIComponent(De));return W.length?"&"+W.join("&"):""}function nr(ee){const W={};return ee.replace(/^\?/,"").split("&").forEach(De=>{if(De){const[pe,Ze]=De.split("=");W[decodeURIComponent(pe)]=decodeURIComponent(Ze)}}),W}function Ns(ee){const W=ee.indexOf("?");if(!W)return"";const re=ee.indexOf("#",W);return ee.substring(W,re>0?re:void 0)}function vt(ee,W){const re=new yr(ee,W);return re.subscribe.bind(re)}class yr{constructor(W,re){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=re,this.task.then(()=>{W(this)}).catch(De=>{this.error(De)})}next(W){this.forEachObserver(re=>{re.next(W)})}error(W){this.forEachObserver(re=>{re.error(W)}),this.close(W)}complete(){this.forEachObserver(W=>{W.complete()}),this.close()}subscribe(W,re,De){let pe;if(void 0===W&&void 0===re&&void 0===De)throw new Error("Missing Observer.");pe=function di(ee,W){if("object"!=typeof ee||null===ee)return!1;for(const re of W)if(re in ee&&"function"==typeof ee[re])return!0;return!1}(W,["next","error","complete"])?W:{next:W,error:re,complete:De},void 0===pe.next&&(pe.next=Rr),void 0===pe.error&&(pe.error=Rr),void 0===pe.complete&&(pe.complete=Rr);const Ze=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?pe.error(this.finalError):pe.complete()}catch(Tt){}}),this.observers.push(pe),Ze}unsubscribeOne(W){void 0===this.observers||void 0===this.observers[W]||(delete this.observers[W],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(W){if(!this.finalized)for(let re=0;re<this.observers.length;re++)this.sendOne(re,W)}sendOne(W,re){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[W])try{re(this.observers[W])}catch(De){"undefined"!=typeof console&&console.error&&console.error(De)}})}close(W){this.finalized||(this.finalized=!0,void 0!==W&&(this.finalError=W),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Rr(){}function Ko(ee,W=1e3,re=2){const De=W*Math.pow(re,ee),pe=Math.round(.5*De*(Math.random()-.5)*2);return Math.min(144e5,De+pe)}function bt(ee){return ee&&ee._delegate?ee._delegate:ee}function ji(ee,W){return new Promise((re,De)=>{ee.onsuccess=pe=>{re(pe.target.result)},ee.onerror=pe=>{var Ze;De(`${W}: ${null===(Ze=pe.target.error)||void 0===Ze?void 0:Ze.message}`)}})}class Wt{constructor(W){this._db=W,this.objectStoreNames=this._db.objectStoreNames}transaction(W,re){return new tt(this._db.transaction.call(this._db,W,re))}createObjectStore(W,re){return new Fe(this._db.createObjectStore(W,re))}close(){this._db.close()}}class tt{constructor(W){this._transaction=W,this.complete=new Promise((re,De)=>{this._transaction.oncomplete=function(){re()},this._transaction.onerror=()=>{De(this._transaction.error)},this._transaction.onabort=()=>{De(this._transaction.error)}})}objectStore(W){return new Fe(this._transaction.objectStore(W))}}class Fe{constructor(W){this._store=W}index(W){return new it(this._store.index(W))}createIndex(W,re,De){return new it(this._store.createIndex(W,re,De))}get(W){return ji(this._store.get(W),"Error reading from IndexedDB")}put(W,re){return ji(this._store.put(W,re),"Error writing to IndexedDB")}delete(W){return ji(this._store.delete(W),"Error deleting from IndexedDB")}clear(){return ji(this._store.clear(),"Error clearing IndexedDB object store")}}class it{constructor(W){this._index=W}get(W){return ji(this._index.get(W),"Error reading from IndexedDB")}}function wt(ee,W,re){return new Promise((De,pe)=>{try{const Ze=indexedDB.open(ee,W);Ze.onsuccess=Tt=>{De(new Wt(Tt.target.result))},Ze.onerror=Tt=>{var on;pe(`Error opening indexedDB: ${null===(on=Tt.target.error)||void 0===on?void 0:on.message}`)},Ze.onupgradeneeded=Tt=>{re(new Wt(Ze.result),Tt.oldVersion,Tt.newVersion,new tt(Ze.transaction))}}catch(Ze){pe(`Error opening indexedDB: ${Ze.message}`)}})}function Kt(ee){return Yt.apply(this,arguments)}function Yt(){return(Yt=(0,s.Z)(function*(ee){return new Promise((W,re)=>{try{const De=indexedDB.deleteDatabase(ee);De.onsuccess=()=>{W()},De.onerror=pe=>{var Ze;re(`Error deleting indexedDB database "${ee}": ${null===(Ze=pe.target.error)||void 0===Ze?void 0:Ze.message}`)}}catch(De){re(`Error deleting indexedDB database "${ee}": ${De.message}`)}})})).apply(this,arguments)}},5805:(He,$,R)=>{"use strict";var s=R(5e3);let F=null;function S(){return F}const H=new s.OlP("DocumentToken");let Q=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:function(){return function ie(){return(0,s.LFG)(K)}()},providedIn:"platform"}),n})();const G=new s.OlP("Location Initialized");let K=(()=>{class n extends Q{constructor(e){super(),this._doc=e,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return S().getBaseHref(this._doc)}onPopState(e){const i=S().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",e,!1),()=>i.removeEventListener("popstate",e)}onHashChange(e){const i=S().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",e,!1),()=>i.removeEventListener("hashchange",e)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(e){this.location.pathname=e}pushState(e,i,r){J()?this._history.pushState(e,i,r):this.location.hash=r}replaceState(e,i,r){J()?this._history.replaceState(e,i,r):this.location.hash=r}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(H))},n.\u0275prov=s.Yz7({token:n,factory:function(){return function Me(){return new K((0,s.LFG)(H))}()},providedIn:"platform"}),n})();function J(){return!!window.history.pushState}function _e(n,t){if(0==n.length)return t;if(0==t.length)return n;let e=0;return n.endsWith("/")&&e++,t.startsWith("/")&&e++,2==e?n+t.substring(1):1==e?n+t:n+"/"+t}function ke(n){const t=n.match(/#|\?|$/),e=t&&t.index||n.length;return n.slice(0,e-("/"===n[e-1]?1:0))+n.slice(e)}function Ve(n){return n&&"?"!==n[0]?"?"+n:n}let de=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:function(){return function ge(n){const t=(0,s.LFG)(H).location;return new Oe((0,s.LFG)(Q),t&&t.origin||"")}()},providedIn:"root"}),n})();const Le=new s.OlP("appBaseHref");let Oe=(()=>{class n extends de{constructor(e,i){if(super(),this._platformLocation=e,this._removeListenerFns=[],null==i&&(i=this._platformLocation.getBaseHrefFromDOM()),null==i)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=i}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return _e(this._baseHref,e)}path(e=!1){const i=this._platformLocation.pathname+Ve(this._platformLocation.search),r=this._platformLocation.hash;return r&&e?`${i}${r}`:i}pushState(e,i,r,o){const u=this.prepareExternalUrl(r+Ve(o));this._platformLocation.pushState(e,i,u)}replaceState(e,i,r,o){const u=this.prepareExternalUrl(r+Ve(o));this._platformLocation.replaceState(e,i,u)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(e=0){var i,r;null===(r=(i=this._platformLocation).historyGo)||void 0===r||r.call(i,e)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Q),s.LFG(Le,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),Ie=(()=>{class n extends de{constructor(e,i){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(e){const i=_e(this._baseHref,e);return i.length>0?"#"+i:i}pushState(e,i,r,o){let u=this.prepareExternalUrl(r+Ve(o));0==u.length&&(u=this._platformLocation.pathname),this._platformLocation.pushState(e,i,u)}replaceState(e,i,r,o){let u=this.prepareExternalUrl(r+Ve(o));0==u.length&&(u=this._platformLocation.pathname),this._platformLocation.replaceState(e,i,u)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(e=0){var i,r;null===(r=(i=this._platformLocation).historyGo)||void 0===r||r.call(i,e)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Q),s.LFG(Le,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),we=(()=>{class n{constructor(e,i){this._subject=new s.vpe,this._urlChangeListeners=[],this._platformStrategy=e;const r=this._platformStrategy.getBaseHref();this._platformLocation=i,this._baseHref=ke(Se(r)),this._platformStrategy.onPopState(o=>{this._subject.emit({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}path(e=!1){return this.normalize(this._platformStrategy.path(e))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(e,i=""){return this.path()==this.normalize(e+Ve(i))}normalize(e){return n.stripTrailingSlash(function Re(n,t){return n&&t.startsWith(n)?t.substring(n.length):t}(this._baseHref,Se(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._platformStrategy.prepareExternalUrl(e)}go(e,i="",r=null){this._platformStrategy.pushState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Ve(i)),r)}replaceState(e,i="",r=null){this._platformStrategy.replaceState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Ve(i)),r)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(e=0){var i,r;null===(r=(i=this._platformStrategy).historyGo)||void 0===r||r.call(i,e)}onUrlChange(e){this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}))}_notifyUrlChangeListeners(e="",i){this._urlChangeListeners.forEach(r=>r(e,i))}subscribe(e,i,r){return this._subject.subscribe({next:e,error:i,complete:r})}}return n.normalizeQueryParams=Ve,n.joinWithSlash=_e,n.stripTrailingSlash=ke,n.\u0275fac=function(e){return new(e||n)(s.LFG(de),s.LFG(Q))},n.\u0275prov=s.Yz7({token:n,factory:function(){return function he(){return new we((0,s.LFG)(de),(0,s.LFG)(Q))}()},providedIn:"root"}),n})();function Se(n){return n.replace(/\/index.html$/,"")}function Jo(n,t){t=encodeURIComponent(t);for(const e of n.split(";")){const i=e.indexOf("="),[r,o]=-1==i?[e,""]:[e.slice(0,i),e.slice(i+1)];if(r.trim()===t)return decodeURIComponent(o)}return null}let Vs=(()=>{class n{constructor(e,i,r,o){this._iterableDiffers=e,this._keyValueDiffers=i,this._ngEl=r,this._renderer=o,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(e){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof e?e.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(e){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof e?e.split(/\s+/):e,this._rawClass&&((0,s.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const e=this._iterableDiffer.diff(this._rawClass);e&&this._applyIterableChanges(e)}else if(this._keyValueDiffer){const e=this._keyValueDiffer.diff(this._rawClass);e&&this._applyKeyValueChanges(e)}}_applyKeyValueChanges(e){e.forEachAddedItem(i=>this._toggleClass(i.key,i.currentValue)),e.forEachChangedItem(i=>this._toggleClass(i.key,i.currentValue)),e.forEachRemovedItem(i=>{i.previousValue&&this._toggleClass(i.key,!1)})}_applyIterableChanges(e){e.forEachAddedItem(i=>{if("string"!=typeof i.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,s.AaK)(i.item)}`);this._toggleClass(i.item,!0)}),e.forEachRemovedItem(i=>this._toggleClass(i.item,!1))}_applyClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(i=>this._toggleClass(i,!0)):Object.keys(e).forEach(i=>this._toggleClass(i,!!e[i])))}_removeClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(i=>this._toggleClass(i,!1)):Object.keys(e).forEach(i=>this._toggleClass(i,!1)))}_toggleClass(e,i){(e=e.trim())&&e.split(/\s+/g).forEach(r=>{i?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.ZZ4),s.Y36(s.aQg),s.Y36(s.SBq),s.Y36(s.Qsj))},n.\u0275dir=s.lG2({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),n})();class wo{constructor(t,e,i,r){this.$implicit=t,this.ngForOf=e,this.index=i,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let $n=(()=>{class n{constructor(e,i,r){this._viewContainer=e,this._template=i,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const i=this._viewContainer;e.forEachOperation((r,o,u)=>{if(null==r.previousIndex)i.createEmbeddedView(this._template,new wo(r.item,this._ngForOf,-1,-1),null===u?void 0:u);else if(null==u)i.remove(null===o?void 0:o);else if(null!==o){const h=i.get(o);i.move(h,u),Bs(h,r)}});for(let r=0,o=i.length;r<o;r++){const h=i.get(r).context;h.index=r,h.count=o,h.ngForOf=this._ngForOf}e.forEachIdentityChange(r=>{Bs(i.get(r.currentIndex),r)})}static ngTemplateContextGuard(e,i){return!0}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.s_b),s.Y36(s.Rgc),s.Y36(s.ZZ4))},n.\u0275dir=s.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),n})();function Bs(n,t){n.context.$implicit=t.item}let Fn=(()=>{class n{constructor(e,i){this._viewContainer=e,this._context=new bn,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){zl("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){zl("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,i){return!0}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.s_b),s.Y36(s.Rgc))},n.\u0275dir=s.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),n})();class bn{constructor(){this.$implicit=null,this.ngIf=null}}function zl(n,t){if(t&&!t.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,s.AaK)(t)}'.`)}class $l{constructor(t,e){this._viewContainerRef=t,this._templateRef=e,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(t){t&&!this._created?this.create():!t&&this._created&&this.destroy()}}let ir=(()=>{class n{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(e){this._ngSwitch=e,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(e){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(e)}_matchCase(e){const i=e==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||i,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),i}_updateDefaultCases(e){if(this._defaultViews&&e!==this._defaultUsed){this._defaultUsed=e;for(let i=0;i<this._defaultViews.length;i++)this._defaultViews[i].enforceState(e)}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}}),n})(),zi=(()=>{class n{constructor(e,i,r){this.ngSwitch=r,r._addCase(),this._view=new $l(e,i)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.s_b),s.Y36(s.Rgc),s.Y36(ir,9))},n.\u0275dir=s.lG2({type:n,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}}),n})(),Pd=(()=>{class n{constructor(e,i,r){this._ngEl=e,this._differs=i,this._renderer=r,this._ngStyle=null,this._differ=null}set ngStyle(e){this._ngStyle=e,!this._differ&&e&&(this._differ=this._differs.find(e).create())}ngDoCheck(){if(this._differ){const e=this._differ.diff(this._ngStyle);e&&this._applyChanges(e)}}_setStyle(e,i){const[r,o]=e.split(".");null!=(i=null!=i&&o?`${i}${o}`:i)?this._renderer.setStyle(this._ngEl.nativeElement,r,i):this._renderer.removeStyle(this._ngEl.nativeElement,r)}_applyChanges(e){e.forEachRemovedItem(i=>this._setStyle(i.key,null)),e.forEachAddedItem(i=>this._setStyle(i.key,i.currentValue)),e.forEachChangedItem(i=>this._setStyle(i.key,i.currentValue))}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(s.aQg),s.Y36(s.Qsj))},n.\u0275dir=s.lG2({type:n,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}}),n})(),wr=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({}),n})();const Ao="browser";function ki(n){return"server"===n}let Ql=(()=>{class n{}return n.\u0275prov=(0,s.Yz7)({token:n,providedIn:"root",factory:()=>new Jl((0,s.LFG)(H),window)}),n})();class Jl{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const e=function ll(n,t){const e=n.getElementById(t)||n.getElementsByName(t)[0];if(e)return e;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let r=i.currentNode;for(;r;){const o=r.shadowRoot;if(o){const u=o.getElementById(t)||o.querySelector(`[name="${t}"]`);if(u)return u}r=i.nextNode()}}return null}(this.document,t);e&&(this.scrollToElement(e),e.focus())}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),i=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(i-o[0],r-o[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=Hs(this.window.history)||Hs(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch(t){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(t){return!1}}}function Hs(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class An{}class To extends class ka extends class z{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function V(n){F||(F=n)}(new To)}onAndCancel(t,e,i){return t.addEventListener(e,i,!1),()=>{t.removeEventListener(e,i,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getBaseHref(t){const e=function Hd(){return wn=wn||document.querySelector("base"),wn?wn.getAttribute("href"):null}();return null==e?null:function na(n){ta=ta||document.createElement("a"),ta.setAttribute("href",n);const t=ta.pathname;return"/"===t.charAt(0)?t:`/${t}`}(e)}resetBaseElement(){wn=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return Jo(document.cookie,t)}}let ta,wn=null;const $i=new s.OlP("TRANSITION_ID"),cl=[{provide:s.ip1,useFactory:function Qn(n,t,e){return()=>{e.get(s.CZH).donePromise.then(()=>{const i=S(),r=t.querySelectorAll(`style[ng-transition="${n}"]`);for(let o=0;o<r.length;o++)i.remove(r[o])})}},deps:[$i,H,s.zs3],multi:!0}];class Xr{static init(){(0,s.VLi)(new Xr)}addToWindow(t){s.dqk.getAngularTestability=(i,r=!0)=>{const o=t.findTestabilityInTree(i,r);if(null==o)throw new Error("Could not find testability for element.");return o},s.dqk.getAllAngularTestabilities=()=>t.getAllTestabilities(),s.dqk.getAllAngularRootElements=()=>t.getAllRootElements(),s.dqk.frameworkStabilizers||(s.dqk.frameworkStabilizers=[]),s.dqk.frameworkStabilizers.push(i=>{const r=s.dqk.getAllAngularTestabilities();let o=r.length,u=!1;const h=function(_){u=u||_,o--,0==o&&i(u)};r.forEach(function(_){_.whenStable(h)})})}findTestabilityInTree(t,e,i){if(null==e)return null;const r=t.getTestability(e);return null!=r?r:i?S().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}let Gi=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const Io=new s.OlP("EventManagerPlugins");let zs=(()=>{class n{constructor(e,i){this._zone=i,this._eventNameToPlugin=new Map,e.forEach(r=>r.manager=this),this._plugins=e.slice().reverse()}addEventListener(e,i,r){return this._findPluginFor(i).addEventListener(e,i,r)}addGlobalEventListener(e,i,r){return this._findPluginFor(i).addGlobalEventListener(e,i,r)}getZone(){return this._zone}_findPluginFor(e){const i=this._eventNameToPlugin.get(e);if(i)return i;const r=this._plugins;for(let o=0;o<r.length;o++){const u=r[o];if(u.supports(e))return this._eventNameToPlugin.set(e,u),u}throw new Error(`No event manager plugin found for event ${e}`)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Io),s.LFG(s.R0b))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();class Xl{constructor(t){this._doc=t}addGlobalEventListener(t,e,i){const r=S().getGlobalEventTarget(this._doc,t);if(!r)throw new Error(`Unsupported event target ${r} for event ${e}`);return this.addEventListener(r,e,i)}}let Cr=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(e){const i=new Set;e.forEach(r=>{this._stylesSet.has(r)||(this._stylesSet.add(r),i.add(r))}),this.onStylesAdded(i)}onStylesAdded(e){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),So=(()=>{class n extends Cr{constructor(e){super(),this._doc=e,this._hostNodes=new Map,this._hostNodes.set(e.head,[])}_addStylesToHost(e,i,r){e.forEach(o=>{const u=this._doc.createElement("style");u.textContent=o,r.push(i.appendChild(u))})}addHost(e){const i=[];this._addStylesToHost(this._stylesSet,e,i),this._hostNodes.set(e,i)}removeHost(e){const i=this._hostNodes.get(e);i&&i.forEach(Mo),this._hostNodes.delete(e)}onStylesAdded(e){this._hostNodes.forEach((i,r)=>{this._addStylesToHost(e,r,i)})}ngOnDestroy(){this._hostNodes.forEach(e=>e.forEach(Mo))}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(H))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();function Mo(n){S().remove(n)}const Ct={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},ec=/%COMP%/g;function Pe(n,t,e){for(let i=0;i<t.length;i++){let r=t[i];Array.isArray(r)?Pe(n,r,e):(r=r.replace(ec,n),e.push(r))}return e}function Zt(n){return t=>{if("__ngUnwrap__"===t)return n;!1===n(t)&&(t.preventDefault(),t.returnValue=!1)}}let kn=(()=>{class n{constructor(e,i,r){this.eventManager=e,this.sharedStylesHost=i,this.appId=r,this.rendererByCompId=new Map,this.defaultRenderer=new Ra(e)}createRenderer(e,i){if(!e||!i)return this.defaultRenderer;switch(i.encapsulation){case s.ifc.Emulated:{let r=this.rendererByCompId.get(i.id);return r||(r=new nu(this.eventManager,this.sharedStylesHost,i,this.appId),this.rendererByCompId.set(i.id,r)),r.applyToHost(e),r}case 1:case s.ifc.ShadowDom:return new iu(this.eventManager,this.sharedStylesHost,e,i);default:if(!this.rendererByCompId.has(i.id)){const r=Pe(i.id,i.styles,[]);this.sharedStylesHost.addStyles(r),this.rendererByCompId.set(i.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(zs),s.LFG(So),s.LFG(s.AFp))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();class Ra{constructor(t){this.eventManager=t,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(t,e){return e?document.createElementNS(Ct[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,i){t&&t.insertBefore(e,i)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let i="string"==typeof t?document.querySelector(t):t;if(!i)throw new Error(`The selector "${t}" did not match any elements`);return e||(i.textContent=""),i}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,i,r){if(r){e=r+":"+e;const o=Ct[r];o?t.setAttributeNS(o,e,i):t.setAttribute(e,i)}else t.setAttribute(e,i)}removeAttribute(t,e,i){if(i){const r=Ct[i];r?t.removeAttributeNS(r,e):t.removeAttribute(`${i}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,i,r){r&(s.JOm.DashCase|s.JOm.Important)?t.style.setProperty(e,i,r&s.JOm.Important?"important":""):t.style[e]=i}removeStyle(t,e,i){i&s.JOm.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,i){t[e]=i}setValue(t,e){t.nodeValue=e}listen(t,e,i){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,Zt(i)):this.eventManager.addEventListener(t,e,Zt(i))}}class nu extends Ra{constructor(t,e,i,r){super(t),this.component=i;const o=Pe(r+"-"+i.id,i.styles,[]);e.addStyles(o),this.contentAttr=function Xc(n){return"_ngcontent-%COMP%".replace(ec,n)}(r+"-"+i.id),this.hostAttr=function eu(n){return"_nghost-%COMP%".replace(ec,n)}(r+"-"+i.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const i=super.createElement(t,e);return super.setAttribute(i,this.contentAttr,""),i}}class iu extends Ra{constructor(t,e,i,r){super(t),this.sharedStylesHost=e,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const o=Pe(r.id,r.styles,[]);for(let u=0;u<o.length;u++){const h=document.createElement("style");h.textContent=o[u],this.shadowRoot.appendChild(h)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,i){return super.insertBefore(this.nodeOrShadowRoot(t),e,i)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let zd=(()=>{class n extends Xl{constructor(e){super(e)}supports(e){return!0}addEventListener(e,i,r){return e.addEventListener(i,r,!1),()=>this.removeEventListener(e,i,r)}removeEventListener(e,i,r){return e.removeEventListener(i,r)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(H))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const ru=["alt","control","meta","shift"],xo={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Ri={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Nr={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let sc=(()=>{class n extends Xl{constructor(e){super(e)}supports(e){return null!=n.parseEventName(e)}addEventListener(e,i,r){const o=n.parseEventName(i),u=n.eventCallback(o.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>S().onAndCancel(e,o.domEventName,u))}static parseEventName(e){const i=e.toLowerCase().split("."),r=i.shift();if(0===i.length||"keydown"!==r&&"keyup"!==r)return null;const o=n._normalizeKey(i.pop());let u="";if(ru.forEach(_=>{const b=i.indexOf(_);b>-1&&(i.splice(b,1),u+=_+".")}),u+=o,0!=i.length||0===o.length)return null;const h={};return h.domEventName=r,h.fullKey=u,h}static getEventFullKey(e){let i="",r=function ko(n){let t=n.key;if(null==t){if(t=n.keyIdentifier,null==t)return"Unidentified";t.startsWith("U+")&&(t=String.fromCharCode(parseInt(t.substring(2),16)),3===n.location&&Ri.hasOwnProperty(t)&&(t=Ri[t]))}return xo[t]||t}(e);return r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),ru.forEach(o=>{o!=r&&Nr[o](e)&&(i+=o+".")}),i+=r,i}static eventCallback(e,i,r){return o=>{n.getEventFullKey(o)===e&&r.runGuarded(()=>i(o))}}static _normalizeKey(e){return"esc"===e?"escape":e}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(H))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const ou=(0,s.eFA)(s._c5,"browser",[{provide:s.Lbi,useValue:Ao},{provide:s.g9A,useValue:function es(){To.makeCurrent(),Xr.init()},multi:!0},{provide:H,useFactory:function oc(){return(0,s.RDi)(document),document},deps:[]}]),dl=[{provide:s.zSh,useValue:"root"},{provide:s.qLn,useFactory:function su(){return new s.qLn},deps:[]},{provide:Io,useClass:zd,multi:!0,deps:[H,s.R0b,s.Lbi]},{provide:Io,useClass:sc,multi:!0,deps:[H]},{provide:kn,useClass:kn,deps:[zs,So,s.AFp]},{provide:s.FYo,useExisting:kn},{provide:Cr,useExisting:So},{provide:So,useClass:So,deps:[H]},{provide:s.dDg,useClass:s.dDg,deps:[s.R0b]},{provide:zs,useClass:zs,deps:[Io,s.R0b]},{provide:An,useClass:Gi,deps:[]}];let Pa=(()=>{class n{constructor(e){if(e)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:n,providers:[{provide:s.AFp,useValue:e.appId},{provide:$i,useExisting:s.AFp},cl]}}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(n,12))},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:dl,imports:[wr,s.hGG]}),n})();"undefined"!=typeof window&&window;let Fr=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:function(e){let i=null;return i=e?new(e||n):s.LFG(Qd),i},providedIn:"root"}),n})(),Qd=(()=>{class n extends Fr{constructor(e){super(),this._doc=e}sanitize(e,i){if(null==i)return null;switch(e){case s.q3G.NONE:return i;case s.q3G.HTML:return(0,s.qzn)(i,"HTML")?(0,s.z3N)(i):(0,s.EiD)(this._doc,String(i)).toString();case s.q3G.STYLE:return(0,s.qzn)(i,"Style")?(0,s.z3N)(i):i;case s.q3G.SCRIPT:if((0,s.qzn)(i,"Script"))return(0,s.z3N)(i);throw new Error("unsafe value used in a script context");case s.q3G.URL:return(0,s.yhl)(i),(0,s.qzn)(i,"URL")?(0,s.z3N)(i):(0,s.mCW)(String(i));case s.q3G.RESOURCE_URL:if((0,s.qzn)(i,"ResourceURL"))return(0,s.z3N)(i);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${e} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(e){return(0,s.JVY)(e)}bypassSecurityTrustStyle(e){return(0,s.L6k)(e)}bypassSecurityTrustScript(e){return(0,s.eBb)(e)}bypassSecurityTrustUrl(e){return(0,s.LAX)(e)}bypassSecurityTrustResourceUrl(e){return(0,s.pB0)(e)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(H))},n.\u0275prov=s.Yz7({token:n,factory:function(e){let i=null;return i=e?new e:function pu(n){return new Qd(n.get(H))}(s.LFG(s.zs3)),i},providedIn:"root"}),n})();var Rn=R(8996),Jn=R(3269);function ot(...n){const t=(0,Jn.yG)(n);return(0,Rn.D)(n,t)}var dt=R(7579);class sr extends dt.x{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return!e.closed&&t.next(this._value),e}getValue(){const{hasError:t,thrownError:e,_value:i}=this;if(t)throw e;return this._throwIfClosed(),i}next(t){super.next(this._value=t)}}var Xn=R(8306);const{isArray:Fa}=Array,{getPrototypeOf:Jd,prototype:Tn,keys:Hf}=Object;function ts(n){if(1===n.length){const t=n[0];if(Fa(t))return{args:t,keys:null};if(function cc(n){return n&&"object"==typeof n&&Jd(n)===Tn}(t)){const e=Hf(t);return{args:e.map(i=>t[i]),keys:e}}}return{args:n,keys:null}}var Lr=R(4671),mt=R(4004);const{isArray:Xd}=Array;function gu(n){return(0,mt.U)(t=>function mu(n,t){return Xd(t)?n(...t):n(t)}(n,t))}function oa(n,t){return n.reduce((e,i,r)=>(e[i]=t[r],e),{})}var On=R(5403),qs=R(9672);function aa(...n){const t=(0,Jn.yG)(n),e=(0,Jn.jO)(n),{args:i,keys:r}=ts(n);if(0===i.length)return(0,Rn.D)([],t);const o=new Xn.y(function Vr(n,t,e=Lr.y){return i=>{Po(t,()=>{const{length:r}=n,o=new Array(r);let u=r,h=r;for(let _=0;_<r;_++)Po(t,()=>{const b=(0,Rn.D)(n[_],t);let T=!1;b.subscribe((0,On.x)(i,M=>{o[_]=M,T||(T=!0,h--),h||i.next(e(o.slice()))},()=>{--u||i.complete()}))},i)},i)}}(i,t,r?u=>oa(r,u):Lr.y));return e?o.pipe(gu(e)):o}function Po(n,t,e){n?(0,qs.f)(e,n,t):t()}var Br=R(576);function ns(n,t){const e=(0,Br.m)(n)?n:()=>n,i=r=>r.error(e());return new Xn.y(t?r=>t.schedule(i,0,r):i)}const No=(0,R(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var bs=R(8189);function uc(...n){return function yu(){return(0,bs.J)(1)}()((0,Rn.D)(n,(0,Jn.yG)(n)))}var Ys=R(8421);function Ur(n){return new Xn.y(t=>{(0,Ys.Xf)(n()).subscribe(t)})}var is=R(515),qn=R(727),fi=R(4482);function rs(){return(0,fi.e)((n,t)=>{let e=null;n._refCount++;const i=(0,On.x)(t,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(e=null);const r=n._connection,o=e;e=null,r&&(!o||r===o)&&r.unsubscribe(),t.unsubscribe()});n.subscribe(i),i.closed||(e=n.connect())})}class eh extends Xn.y{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,(0,fi.A)(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:t}=this;this._subject=this._connection=null,null==t||t.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new qn.w0;const e=this.getSubject();t.add(this.source.subscribe((0,On.x)(e,void 0,()=>{this._teardown(),e.complete()},i=>{this._teardown(),e.error(i)},()=>this._teardown()))),t.closed&&(this._connection=null,t=qn.w0.EMPTY)}return t}refCount(){return rs()(this)}}function Sn(n,t){return(0,fi.e)((e,i)=>{let r=null,o=0,u=!1;const h=()=>u&&!r&&i.complete();e.subscribe((0,On.x)(i,_=>{null==r||r.unsubscribe();let b=0;const T=o++;(0,Ys.Xf)(n(_,T)).subscribe(r=(0,On.x)(i,M=>i.next(t?t(_,M,T,b++):M),()=>{r=null,h()}))},()=>{u=!0,h()}))})}var ei=R(5698);function ai(...n){const t=(0,Jn.yG)(n);return(0,fi.e)((e,i)=>{(t?uc(n,e,t):uc(n,e)).subscribe(i)})}function La(n,t,e,i,r){return(o,u)=>{let h=e,_=t,b=0;o.subscribe((0,On.x)(u,T=>{const M=b++;_=h?n(_,T,M):(h=!0,T),i&&u.next(_)},r&&(()=>{h&&u.next(_),u.complete()})))}}function Yi(n,t){return(0,fi.e)(La(n,t,arguments.length>=2,!0))}function Ci(n,t){return(0,fi.e)((e,i)=>{let r=0;e.subscribe((0,On.x)(i,o=>n.call(t,o,r++)&&i.next(o)))})}function ss(n){return(0,fi.e)((t,e)=>{let o,i=null,r=!1;i=t.subscribe((0,On.x)(e,void 0,void 0,u=>{o=(0,Ys.Xf)(n(u,ss(n)(t))),i?(i.unsubscribe(),i=null,o.subscribe(e)):r=!0})),r&&(i.unsubscribe(),i=null,o.subscribe(e))})}var Ln=R(5577);function Dr(n,t){return(0,Br.m)(t)?(0,Ln.z)(n,t,1):(0,Ln.z)(n,1)}function th(n){return n<=0?()=>is.E:(0,fi.e)((t,e)=>{let i=[];t.subscribe((0,On.x)(e,r=>{i.push(r),n<i.length&&i.shift()},()=>{for(const r of i)e.next(r);e.complete()},void 0,()=>{i=null}))})}function Yn(n=Ig){return(0,fi.e)((t,e)=>{let i=!1;t.subscribe((0,On.x)(e,r=>{i=!0,e.next(r)},()=>i?e.complete():e.error(n())))})}function Ig(){return new No}function zf(n){return(0,fi.e)((t,e)=>{let i=!1;t.subscribe((0,On.x)(e,r=>{i=!0,e.next(r)},()=>{i||e.next(n),e.complete()}))})}function Fo(n,t){const e=arguments.length>=2;return i=>i.pipe(n?Ci((r,o)=>n(r,o,i)):Lr.y,(0,ei.q)(1),e?zf(t):Yn(()=>new No))}var Oi=R(8505);function ih(n){return(0,fi.e)((t,e)=>{try{t.subscribe(e)}finally{e.add(n)}})}class Zs{constructor(t,e){this.id=t,this.url=e}}class Ws extends Zs{constructor(t,e,i="imperative",r=null){super(t,e),this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class dc extends Zs{constructor(t,e,i){super(t,e),this.urlAfterRedirects=i}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Un extends Zs{constructor(t,e,i){super(t,e),this.reason=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class vu extends Zs{constructor(t,e,i){super(t,e),this.error=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Va extends Zs{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Sg extends Zs{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class bu extends Zs{constructor(t,e,i,r,o){super(t,e),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Pi extends Zs{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class jr extends Zs{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class wu{constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Ks{constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class os{constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ws{constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class fl{constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Cu{constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Eu{constructor(t,e,i){this.routerEvent=t,this.position=e,this.anchor=i}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const qt="primary";class Du{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function pi(n){return new Du(n)}const Au="ngNavigationCancelingError";function Lo(n){const t=Error("NavigationCancelingError: "+n);return t[Au]=!0,t}function la(n,t,e){const i=e.path.split("/");if(i.length>n.length||"full"===e.pathMatch&&(t.hasChildren()||i.length<n.length))return null;const r={};for(let o=0;o<i.length;o++){const u=i[o],h=n[o];if(u.startsWith(":"))r[u.substring(1)]=h;else if(u!==h.path)return null}return{consumed:n.slice(0,i.length),posParams:r}}function Cs(n,t){const e=n?Object.keys(n):void 0,i=t?Object.keys(t):void 0;if(!e||!i||e.length!=i.length)return!1;let r;for(let o=0;o<e.length;o++)if(r=e[o],!fc(n[r],t[r]))return!1;return!0}function fc(n,t){if(Array.isArray(n)&&Array.isArray(t)){if(n.length!==t.length)return!1;const e=[...n].sort(),i=[...t].sort();return e.every((r,o)=>i[o]===r)}return n===t}function Es(n){return Array.prototype.concat.apply([],n)}function sh(n){return n.length>0?n[n.length-1]:null}function li(n,t){for(const e in n)n.hasOwnProperty(e)&&t(n[e],e)}function Hr(n){return(0,s.CqO)(n)?n:(0,s.QGY)(n)?(0,Rn.D)(Promise.resolve(n)):ot(n)}const ca={exact:function I(n,t,e){if(!Ut(n.segments,t.segments)||!me(n.segments,t.segments,e)||n.numberOfChildren!==t.numberOfChildren)return!1;for(const i in t.children)if(!n.children[i]||!I(n.children[i],t.children[i],e))return!1;return!0},subset:q},Ba={exact:function D(n,t){return Cs(n,t)},subset:function P(n,t){return Object.keys(t).length<=Object.keys(n).length&&Object.keys(t).every(e=>fc(n[e],t[e]))},ignored:()=>!0};function pc(n,t,e){return ca[e.paths](n.root,t.root,e.matrixParams)&&Ba[e.queryParams](n.queryParams,t.queryParams)&&!("exact"===e.fragment&&n.fragment!==t.fragment)}function q(n,t,e){return ce(n,t,t.segments,e)}function ce(n,t,e,i){if(n.segments.length>e.length){const r=n.segments.slice(0,e.length);return!(!Ut(r,e)||t.hasChildren()||!me(r,e,i))}if(n.segments.length===e.length){if(!Ut(n.segments,e)||!me(n.segments,e,i))return!1;for(const r in t.children)if(!n.children[r]||!q(n.children[r],t.children[r],i))return!1;return!0}{const r=e.slice(0,n.segments.length),o=e.slice(n.segments.length);return!!(Ut(n.segments,r)&&me(n.segments,r,i)&&n.children[qt])&&ce(n.children[qt],t,o,i)}}function me(n,t,e){return t.every((i,r)=>Ba[e](n[r].parameters,i.parameters))}class Be{constructor(t,e,i){this.root=t,this.queryParams=e,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=pi(this.queryParams)),this._queryParamMap}toString(){return Ua.serialize(this)}}class Ue{constructor(t,e){this.segments=t,this.children=e,this.parent=null,li(e,(i,r)=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return ua(this)}}class nt{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=pi(this.parameters)),this._parameterMap}toString(){return pl(this)}}function Ut(n,t){return n.length===t.length&&n.every((e,i)=>e.path===t[i].path)}class ci{}class Zn{parse(t){const e=new ah(t);return new Be(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){const e=`/${or(t.root,!0)}`,i=function ov(n){const t=Object.keys(n).map(e=>{const i=n[e];return Array.isArray(i)?i.map(r=>`${as(e)}=${as(r)}`).join("&"):`${as(e)}=${as(i)}`}).filter(e=>!!e);return t.length?`?${t.join("&")}`:""}(t.queryParams);return`${e}${i}${"string"==typeof t.fragment?`#${function da(n){return encodeURI(n)}(t.fragment)}`:""}`}}const Ua=new Zn;function ua(n){return n.segments.map(t=>pl(t)).join("/")}function or(n,t){if(!n.hasChildren())return ua(n);if(t){const e=n.children[qt]?or(n.children[qt],!1):"",i=[];return li(n.children,(r,o)=>{o!==qt&&i.push(`${o}:${or(r,!1)}`)}),i.length>0?`${e}(${i.join("//")})`:e}{const e=function Ft(n,t){let e=[];return li(n.children,(i,r)=>{r===qt&&(e=e.concat(t(i,r)))}),li(n.children,(i,r)=>{r!==qt&&(e=e.concat(t(i,r)))}),e}(n,(i,r)=>r===qt?[or(n.children[qt],!1)]:[`${r}:${or(i,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[qt]?`${ua(n)}/${e[0]}`:`${ua(n)}/(${e.join("//")})`}}function zr(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function as(n){return zr(n).replace(/%3B/gi,";")}function oh(n){return zr(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Iu(n){return decodeURIComponent(n)}function Su(n){return Iu(n.replace(/\+/g,"%20"))}function pl(n){return`${oh(n.path)}${function Mg(n){return Object.keys(n).map(t=>`;${oh(t)}=${oh(n[t])}`).join("")}(n.parameters)}`}const av=/^[^\/()?;=#]+/;function Qs(n){const t=n.match(av);return t?t[0]:""}const Mu=/^[^=?&#]+/,cv=/^[^&#]+/;class ah{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ue([],{}):new Ue([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(i[qt]=new Ue(t,e)),i}parseSegment(){const t=Qs(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(t),new nt(Iu(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=Qs(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const r=Qs(this.remaining);r&&(i=r,this.capture(i))}t[Iu(e)]=Iu(i)}parseQueryParam(t){const e=function lv(n){const t=n.match(Mu);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const u=function xg(n){const t=n.match(cv);return t?t[0]:""}(this.remaining);u&&(i=u,this.capture(i))}const r=Su(e),o=Su(i);if(t.hasOwnProperty(r)){let u=t[r];Array.isArray(u)||(u=[u],t[r]=u),u.push(o)}else t[r]=o}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=Qs(this.remaining),r=this.remaining[i.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error(`Cannot parse url '${this.url}'`);let o;i.indexOf(":")>-1?(o=i.substr(0,i.indexOf(":")),this.capture(o),this.capture(":")):t&&(o=qt);const u=this.parseChildren();e[o]=1===Object.keys(u).length?u[qt]:new Ue([],u),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Error(`Expected "${t}".`)}}class uv{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=$f(t,this._root);return e?e.children.map(i=>i.value):[]}firstChild(t){const e=$f(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=Gf(t,this._root);return e.length<2?[]:e[e.length-2].children.map(r=>r.value).filter(r=>r!==t)}pathFromRoot(t){return Gf(t,this._root).map(e=>e.value)}}function $f(n,t){if(n===t.value)return t;for(const e of t.children){const i=$f(n,e);if(i)return i}return null}function Gf(n,t){if(n===t.value)return[t];for(const e of t.children){const i=Gf(n,e);if(i.length)return i.unshift(t),i}return[]}class ha{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function fa(n){const t={};return n&&n.children.forEach(e=>t[e.value.outlet]=e),t}class lh extends uv{constructor(t,e){super(t),this.snapshot=e,uh(this,t)}toString(){return this.snapshot.toString()}}function ml(n,t){const e=function dv(n,t){const u=new mc([],{},{},"",{},qt,t,null,n.root,-1,{});return new qf("",new ha(u,[]))}(n,t),i=new sr([new nt("",{})]),r=new sr({}),o=new sr({}),u=new sr({}),h=new sr(""),_=new Vo(i,r,u,h,o,qt,t,e.root);return _.snapshot=e.root,new lh(new ha(_,[]),e)}class Vo{constructor(t,e,i,r,o,u,h,_){this.url=t,this.params=e,this.queryParams=i,this.fragment=r,this.data=o,this.outlet=u,this.component=h,this._futureSnapshot=_}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,mt.U)(t=>pi(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,mt.U)(t=>pi(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function hv(n,t="emptyOnly"){const e=n.pathFromRoot;let i=0;if("always"!==t)for(i=e.length-1;i>=1;){const r=e[i],o=e[i-1];if(r.routeConfig&&""===r.routeConfig.path)i--;else{if(o.component)break;i--}}return function ch(n){return n.reduce((t,e)=>({params:Object.assign(Object.assign({},t.params),e.params),data:Object.assign(Object.assign({},t.data),e.data),resolve:Object.assign(Object.assign({},t.resolve),e._resolvedData)}),{params:{},data:{},resolve:{}})}(e.slice(i))}class mc{constructor(t,e,i,r,o,u,h,_,b,T,M){this.url=t,this.params=e,this.queryParams=i,this.fragment=r,this.data=o,this.outlet=u,this.component=h,this.routeConfig=_,this._urlSegment=b,this._lastPathIndex=T,this._resolve=M}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=pi(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=pi(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class qf extends uv{constructor(t,e){super(e),this.url=t,uh(this,e)}toString(){return dh(this._root)}}function uh(n,t){t.value._routerState=n,t.children.forEach(e=>uh(n,e))}function dh(n){const t=n.children.length>0?` { ${n.children.map(dh).join(", ")} } `:"";return`${n.value}${t}`}function pa(n){if(n.snapshot){const t=n.snapshot,e=n._futureSnapshot;n.snapshot=e,Cs(t.queryParams,e.queryParams)||n.queryParams.next(e.queryParams),t.fragment!==e.fragment&&n.fragment.next(e.fragment),Cs(t.params,e.params)||n.params.next(e.params),function hc(n,t){if(n.length!==t.length)return!1;for(let e=0;e<n.length;++e)if(!Cs(n[e],t[e]))return!1;return!0}(t.url,e.url)||n.url.next(e.url),Cs(t.data,e.data)||n.data.next(e.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function Yf(n,t){const e=Cs(n.params,t.params)&&function Rt(n,t){return Ut(n,t)&&n.every((e,i)=>Cs(e.parameters,t[i].parameters))}(n.url,t.url);return e&&!(!n.parent!=!t.parent)&&(!n.parent||Yf(n.parent,t.parent))}function xu(n,t,e){if(e&&n.shouldReuseRoute(t.value,e.value.snapshot)){const i=e.value;i._futureSnapshot=t.value;const r=function Zf(n,t,e){return t.children.map(i=>{for(const r of e.children)if(n.shouldReuseRoute(i.value,r.value.snapshot))return xu(n,i,r);return xu(n,i)})}(n,t,e);return new ha(i,r)}{if(n.shouldAttach(t.value)){const o=n.retrieve(t.value);if(null!==o){const u=o.route;return u.value._futureSnapshot=t.value,u.children=t.children.map(h=>xu(n,h)),u}}const i=function pv(n){return new Vo(new sr(n.url),new sr(n.params),new sr(n.queryParams),new sr(n.fragment),new sr(n.data),n.outlet,n.component,n)}(t.value),r=t.children.map(o=>xu(n,o));return new ha(i,r)}}function ma(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function gl(n){return"object"==typeof n&&null!=n&&n.outlets}function Wf(n,t,e,i,r){let o={};if(i&&li(i,(h,_)=>{o[_]=Array.isArray(h)?h.map(b=>`${b}`):`${h}`}),n===t)return new Be(e,o,r);const u=hh(n,t,e);return new Be(u,o,r)}function hh(n,t,e){const i={};return li(n.children,(r,o)=>{i[o]=r===t?e:hh(r,t,e)}),new Ue(n.segments,i)}class kg{constructor(t,e,i){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=i,t&&i.length>0&&ma(i[0]))throw new Error("Root segment cannot have matrix parameters");const r=i.find(gl);if(r&&r!==sh(i))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class fh{constructor(t,e,i){this.segmentGroup=t,this.processChildren=e,this.index=i}}function _v(n,t,e){if(n||(n=new Ue([],{})),0===n.segments.length&&n.hasChildren())return Bo(n,t,e);const i=function CC(n,t,e){let i=0,r=t;const o={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(i>=e.length)return o;const u=n.segments[r],h=e[i];if(gl(h))break;const _=`${h}`,b=i<e.length-1?e[i+1]:null;if(r>0&&void 0===_)break;if(_&&b&&"object"==typeof b&&void 0===b.outlets){if(!ls(_,b,u))return o;i+=2}else{if(!ls(_,{},u))return o;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(n,t,e),r=e.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){const o=new Ue(n.segments.slice(0,i.pathIndex),{});return o.children[qt]=new Ue(n.segments.slice(i.pathIndex),n.children),Bo(o,0,r)}return i.match&&0===r.length?new Ue(n.segments,{}):i.match&&!n.hasChildren()?Kf(n,t,e):i.match?Bo(n,0,r):Kf(n,t,e)}function Bo(n,t,e){if(0===e.length)return new Ue(n.segments,{});{const i=function gv(n){return gl(n[0])?n[0].outlets:{[qt]:n}}(e),r={};return li(i,(o,u)=>{"string"==typeof o&&(o=[o]),null!==o&&(r[u]=_v(n.children[u],t,o))}),li(n.children,(o,u)=>{void 0===i[u]&&(r[u]=o)}),new Ue(n.segments,r)}}function Kf(n,t,e){const i=n.segments.slice(0,t);let r=0;for(;r<e.length;){const o=e[r];if(gl(o)){const _=_l(o.outlets);return new Ue(i,_)}if(0===r&&ma(e[0])){i.push(new nt(n.segments[t].path,Qf(e[0]))),r++;continue}const u=gl(o)?o.outlets[qt]:`${o}`,h=r<e.length-1?e[r+1]:null;u&&h&&ma(h)?(i.push(new nt(u,Qf(h))),r+=2):(i.push(new nt(u,{})),r++)}return new Ue(i,{})}function _l(n){const t={};return li(n,(e,i)=>{"string"==typeof e&&(e=[e]),null!==e&&(t[i]=Kf(new Ue([],{}),0,e))}),t}function Qf(n){const t={};return li(n,(e,i)=>t[i]=`${e}`),t}function ls(n,t,e){return n==e.path&&Cs(t,e.parameters)}class Pg{constructor(t,e,i,r){this.routeReuseStrategy=t,this.futureState=e,this.currState=i,this.forwardEvent=r}activate(t){const e=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,i,t),pa(this.futureState.root),this.activateChildRoutes(e,i,t)}deactivateChildRoutes(t,e,i){const r=fa(e);t.children.forEach(o=>{const u=o.value.outlet;this.deactivateRoutes(o,r[u],i),delete r[u]}),li(r,(o,u)=>{this.deactivateRouteAndItsChildren(o,i)})}deactivateRoutes(t,e,i){const r=t.value,o=e?e.value:null;if(r===o)if(r.component){const u=i.getContext(r.outlet);u&&this.deactivateChildRoutes(t,e,u.children)}else this.deactivateChildRoutes(t,e,i);else o&&this.deactivateRouteAndItsChildren(e,i)}deactivateRouteAndItsChildren(t,e){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const i=e.getContext(t.value.outlet),r=i&&t.value.component?i.children:e,o=fa(t);for(const u of Object.keys(o))this.deactivateRouteAndItsChildren(o[u],r);if(i&&i.outlet){const u=i.outlet.detach(),h=i.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:u,route:t,contexts:h})}}deactivateRouteAndOutlet(t,e){const i=e.getContext(t.value.outlet),r=i&&t.value.component?i.children:e,o=fa(t);for(const u of Object.keys(o))this.deactivateRouteAndItsChildren(o[u],r);i&&i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated(),i.attachRef=null,i.resolver=null,i.route=null)}activateChildRoutes(t,e,i){const r=fa(e);t.children.forEach(o=>{this.activateRoutes(o,r[o.value.outlet],i),this.forwardEvent(new Cu(o.value.snapshot))}),t.children.length&&this.forwardEvent(new ws(t.value.snapshot))}activateRoutes(t,e,i){const r=t.value,o=e?e.value:null;if(pa(r),r===o)if(r.component){const u=i.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,u.children)}else this.activateChildRoutes(t,e,i);else if(r.component){const u=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const h=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),u.children.onOutletReAttached(h.contexts),u.attachRef=h.componentRef,u.route=h.route.value,u.outlet&&u.outlet.attach(h.componentRef,h.route.value),pa(h.route.value),this.activateChildRoutes(t,null,u.children)}else{const h=function ph(n){for(let t=n.parent;t;t=t.parent){const e=t.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig;if(e&&e.component)return null}return null}(r.snapshot),_=h?h.module.componentFactoryResolver:null;u.attachRef=null,u.route=r,u.resolver=_,u.outlet&&u.outlet.activateWith(r,_),this.activateChildRoutes(t,null,u.children)}}else this.activateChildRoutes(t,null,i)}}class mh{constructor(t,e){this.routes=t,this.module=e}}function yl(n){return"function"==typeof n}function gc(n){return n instanceof Be}const Ru=Symbol("INITIAL_VALUE");function ja(){return Sn(n=>aa(n.map(t=>t.pipe((0,ei.q)(1),ai(Ru)))).pipe(Yi((t,e)=>{let i=!1;return e.reduce((r,o,u)=>r!==Ru?r:(o===Ru&&(i=!0),i||!1!==o&&u!==e.length-1&&!gc(o)?r:o),t)},Ru),Ci(t=>t!==Ru),(0,mt.U)(t=>gc(t)?t:!0===t),(0,ei.q)(1)))}class yv{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Ou,this.attachRef=null}}class Ou{constructor(){this.contexts=new Map}onChildOutletCreated(t,e){const i=this.getOrCreateContext(t);i.outlet=e,this.contexts.set(t,i)}onChildOutletDestroyed(t){const e=this.getContext(t);e&&(e.outlet=null,e.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let e=this.getContext(t);return e||(e=new yv,this.contexts.set(t,e)),e}getContext(t){return this.contexts.get(t)||null}}let Pu=(()=>{class n{constructor(e,i,r,o,u){this.parentContexts=e,this.location=i,this.resolver=r,this.changeDetector=u,this.activated=null,this._activatedRoute=null,this.activateEvents=new s.vpe,this.deactivateEvents=new s.vpe,this.attachEvents=new s.vpe,this.detachEvents=new s.vpe,this.name=o||qt,e.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const e=this.parentContexts.getContext(this.name);e&&e.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,i){this.activated=e,this._activatedRoute=i,this.location.insert(e.hostView),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,i){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=e;const u=(i=i||this.resolver).resolveComponentFactory(e._futureSnapshot.routeConfig.component),h=this.parentContexts.getOrCreateContext(this.name).children,_=new tp(e,h,this.location.injector);this.activated=this.location.createComponent(u,this.location.length,_),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Ou),s.Y36(s.s_b),s.Y36(s._Vd),s.$8M("name"),s.Y36(s.sBO))},n.\u0275dir=s.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),n})();class tp{constructor(t,e,i){this.route=t,this.childContexts=e,this.parent=i}get(t,e){return t===Vo?this.route:t===Ou?this.childContexts:this.parent.get(t,e)}}let np=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["ng-component"]],decls:1,vars:0,template:function(e,i){1&e&&s._UZ(0,"router-outlet")},directives:[Pu],encapsulation:2}),n})();function Nu(n,t=""){for(let e=0;e<n.length;e++){const i=n[e];Fu(i,ip(t,i))}}function Fu(n,t){n.children&&Nu(n.children,t)}function ip(n,t){return t?n||t.path?n&&!t.path?`${n}/`:!n&&t.path?t.path:`${n}/${t.path}`:"":n}function rp(n){const t=n.children&&n.children.map(rp),e=t?Object.assign(Object.assign({},n),{children:t}):Object.assign({},n);return!e.component&&(t||e.loadChildren)&&e.outlet&&e.outlet!==qt&&(e.component=np),e}function fn(n){return n.outlet||qt}function gh(n,t){const e=n.filter(i=>fn(i)===t);return e.push(...n.filter(i=>fn(i)!==t)),e}const Fg={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function _c(n,t,e){var i;if(""===t.path)return"full"===t.pathMatch&&(n.hasChildren()||e.length>0)?Object.assign({},Fg):{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};const o=(t.matcher||la)(e,n,t);if(!o)return Object.assign({},Fg);const u={};li(o.posParams,(_,b)=>{u[b]=_.path});const h=o.consumed.length>0?Object.assign(Object.assign({},u),o.consumed[o.consumed.length-1].parameters):u;return{matched:!0,consumedSegments:o.consumed,remainingSegments:e.slice(o.consumed.length),parameters:h,positionalParamSegments:null!==(i=o.posParams)&&void 0!==i?i:{}}}function Lu(n,t,e,i,r="corrected"){if(e.length>0&&function bv(n,t,e){return e.some(i=>yh(n,t,i)&&fn(i)!==qt)}(n,e,i)){const u=new Ue(t,function _h(n,t,e,i){const r={};r[qt]=i,i._sourceSegment=n,i._segmentIndexShift=t.length;for(const o of e)if(""===o.path&&fn(o)!==qt){const u=new Ue([],{});u._sourceSegment=n,u._segmentIndexShift=t.length,r[fn(o)]=u}return r}(n,t,i,new Ue(e,n.children)));return u._sourceSegment=n,u._segmentIndexShift=t.length,{segmentGroup:u,slicedSegments:[]}}if(0===e.length&&function Lg(n,t,e){return e.some(i=>yh(n,t,i))}(n,e,i)){const u=new Ue(n.segments,function vv(n,t,e,i,r,o){const u={};for(const h of i)if(yh(n,e,h)&&!r[fn(h)]){const _=new Ue([],{});_._sourceSegment=n,_._segmentIndexShift="legacy"===o?n.segments.length:t.length,u[fn(h)]=_}return Object.assign(Object.assign({},r),u)}(n,t,e,i,n.children,r));return u._sourceSegment=n,u._segmentIndexShift=t.length,{segmentGroup:u,slicedSegments:e}}const o=new Ue(n.segments,n.children);return o._sourceSegment=n,o._segmentIndexShift=t.length,{segmentGroup:o,slicedSegments:e}}function yh(n,t,e){return(!(n.hasChildren()||t.length>0)||"full"!==e.pathMatch)&&""===e.path}function wv(n,t,e,i){return!!(fn(n)===i||i!==qt&&yh(t,e,n))&&("**"===n.path||_c(t,n,e).matched)}function Cv(n,t,e){return 0===t.length&&!n.children[e]}class Ha{constructor(t){this.segmentGroup=t||null}}class Zi{constructor(t){this.urlTree=t}}function ga(n){return ns(new Ha(n))}function Vu(n){return ns(new Zi(n))}class op{constructor(t,e,i,r,o){this.configLoader=e,this.urlSerializer=i,this.urlTree=r,this.config=o,this.allowRedirects=!0,this.ngModule=t.get(s.h0i)}apply(){const t=Lu(this.urlTree.root,[],[],this.config).segmentGroup,e=new Ue(t.segments,t.children);return this.expandSegmentGroup(this.ngModule,this.config,e,qt).pipe((0,mt.U)(o=>this.createUrlTree(bl(o),this.urlTree.queryParams,this.urlTree.fragment))).pipe(ss(o=>{if(o instanceof Zi)return this.allowRedirects=!1,this.match(o.urlTree);throw o instanceof Ha?this.noMatchError(o):o}))}match(t){return this.expandSegmentGroup(this.ngModule,this.config,t.root,qt).pipe((0,mt.U)(r=>this.createUrlTree(bl(r),t.queryParams,t.fragment))).pipe(ss(r=>{throw r instanceof Ha?this.noMatchError(r):r}))}noMatchError(t){return new Error(`Cannot match any routes. URL Segment: '${t.segmentGroup}'`)}createUrlTree(t,e,i){const r=t.segments.length>0?new Ue([],{[qt]:t}):t;return new Be(r,e,i)}expandSegmentGroup(t,e,i,r){return 0===i.segments.length&&i.hasChildren()?this.expandChildren(t,e,i).pipe((0,mt.U)(o=>new Ue([],o))):this.expandSegment(t,i,e,i.segments,r,!0)}expandChildren(t,e,i){const r=[];for(const o of Object.keys(i.children))"primary"===o?r.unshift(o):r.push(o);return(0,Rn.D)(r).pipe(Dr(o=>{const u=i.children[o],h=gh(e,o);return this.expandSegmentGroup(t,h,u,o).pipe((0,mt.U)(_=>({segment:_,outlet:o})))}),Yi((o,u)=>(o[u.outlet]=u.segment,o),{}),function nh(n,t){const e=arguments.length>=2;return i=>i.pipe(n?Ci((r,o)=>n(r,o,i)):Lr.y,th(1),e?zf(t):Yn(()=>new No))}())}expandSegment(t,e,i,r,o,u){return(0,Rn.D)(i).pipe(Dr(h=>this.expandSegmentAgainstRoute(t,e,i,h,r,o,u).pipe(ss(b=>{if(b instanceof Ha)return ot(null);throw b}))),Fo(h=>!!h),ss((h,_)=>{if(h instanceof No||"EmptyError"===h.name)return Cv(e,r,o)?ot(new Ue([],{})):ga(e);throw h}))}expandSegmentAgainstRoute(t,e,i,r,o,u,h){return wv(r,e,o,u)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,o,u):h&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,i,r,o,u):ga(e):ga(e)}expandSegmentAgainstRouteUsingRedirect(t,e,i,r,o,u){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,i,r,u):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,r,o,u)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,i,r){const o=this.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?Vu(o):this.lineralizeSegments(i,o).pipe((0,Ln.z)(u=>{const h=new Ue(u,{});return this.expandSegment(t,h,e,u,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,r,o,u){const{matched:h,consumedSegments:_,remainingSegments:b,positionalParamSegments:T}=_c(e,r,o);if(!h)return ga(e);const M=this.applyRedirectCommands(_,r.redirectTo,T);return r.redirectTo.startsWith("/")?Vu(M):this.lineralizeSegments(r,M).pipe((0,Ln.z)(N=>this.expandSegment(t,e,i,N.concat(b),u,!1)))}matchSegmentAgainstRoute(t,e,i,r,o){if("**"===i.path)return i.loadChildren?(i._loadedConfig?ot(i._loadedConfig):this.configLoader.load(t.injector,i)).pipe((0,mt.U)(M=>(i._loadedConfig=M,new Ue(r,{})))):ot(new Ue(r,{}));const{matched:u,consumedSegments:h,remainingSegments:_}=_c(e,i,r);return u?this.getChildConfig(t,i,r).pipe((0,Ln.z)(T=>{const M=T.module,N=T.routes,{segmentGroup:j,slicedSegments:Y}=Lu(e,h,_,N),fe=new Ue(j.segments,j.children);if(0===Y.length&&fe.hasChildren())return this.expandChildren(M,N,fe).pipe((0,mt.U)(ht=>new Ue(h,ht)));if(0===N.length&&0===Y.length)return ot(new Ue(h,{}));const Te=fn(i)===o;return this.expandSegment(M,fe,N,Y,Te?qt:o,!0).pipe((0,mt.U)(qe=>new Ue(h.concat(qe.segments),qe.children)))})):ga(e)}getChildConfig(t,e,i){return e.children?ot(new mh(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?ot(e._loadedConfig):this.runCanLoadGuards(t.injector,e,i).pipe((0,Ln.z)(r=>r?this.configLoader.load(t.injector,e).pipe((0,mt.U)(o=>(e._loadedConfig=o,o))):function ar(n){return ns(Lo(`Cannot load children because the guard of the route "path: '${n.path}'" returned false`))}(e))):ot(new mh([],t))}runCanLoadGuards(t,e,i){const r=e.canLoad;return r&&0!==r.length?ot(r.map(u=>{const h=t.get(u);let _;if(function Jf(n){return n&&yl(n.canLoad)}(h))_=h.canLoad(e,i);else{if(!yl(h))throw new Error("Invalid CanLoad guard");_=h(e,i)}return Hr(_)})).pipe(ja(),(0,Oi.b)(u=>{if(!gc(u))return;const h=Lo(`Redirecting to "${this.urlSerializer.serialize(u)}"`);throw h.url=u,h}),(0,mt.U)(u=>!0===u)):ot(!0)}lineralizeSegments(t,e){let i=[],r=e.root;for(;;){if(i=i.concat(r.segments),0===r.numberOfChildren)return ot(i);if(r.numberOfChildren>1||!r.children[qt])return ns(new Error(`Only absolute redirects can have named outlets. redirectTo: '${t.redirectTo}'`));r=r.children[qt]}}applyRedirectCommands(t,e,i){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,i)}applyRedirectCreatreUrlTree(t,e,i,r){const o=this.createSegmentGroup(t,e.root,i,r);return new Be(o,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const i={};return li(t,(r,o)=>{if("string"==typeof r&&r.startsWith(":")){const h=r.substring(1);i[o]=e[h]}else i[o]=r}),i}createSegmentGroup(t,e,i,r){const o=this.createSegments(t,e.segments,i,r);let u={};return li(e.children,(h,_)=>{u[_]=this.createSegmentGroup(t,h,i,r)}),new Ue(o,u)}createSegments(t,e,i,r){return e.map(o=>o.path.startsWith(":")?this.findPosParam(t,o,r):this.findOrReturn(o,i))}findPosParam(t,e,i){const r=i[e.path.substring(1)];if(!r)throw new Error(`Cannot redirect to '${t}'. Cannot find '${e.path}'.`);return r}findOrReturn(t,e){let i=0;for(const r of e){if(r.path===t.path)return e.splice(i),r;i++}return t}}function bl(n){const t={};for(const i of Object.keys(n.children)){const o=bl(n.children[i]);(o.segments.length>0||o.hasChildren())&&(t[i]=o)}return function cs(n){if(1===n.numberOfChildren&&n.children[qt]){const t=n.children[qt];return new Ue(n.segments.concat(t.segments),t.children)}return n}(new Ue(n.segments,t))}class Vg{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class wl{constructor(t,e){this.component=t,this.route=e}}function lp(n,t,e){const i=n._root;return $r(i,t?t._root:null,e,[i.value])}function Bu(n,t,e){const i=function Ev(n){if(!n)return null;for(let t=n.parent;t;t=t.parent){const e=t.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig}return null}(t);return(i?i.module.injector:e).get(n)}function $r(n,t,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const o=fa(t);return n.children.forEach(u=>{(function Ug(n,t,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const o=n.value,u=t?t.value:null,h=e?e.getContext(n.value.outlet):null;if(u&&o.routeConfig===u.routeConfig){const _=function Dv(n,t,e){if("function"==typeof e)return e(n,t);switch(e){case"pathParamsChange":return!Ut(n.url,t.url);case"pathParamsOrQueryParamsChange":return!Ut(n.url,t.url)||!Cs(n.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Yf(n,t)||!Cs(n.queryParams,t.queryParams);default:return!Yf(n,t)}}(u,o,o.routeConfig.runGuardsAndResolvers);_?r.canActivateChecks.push(new Vg(i)):(o.data=u.data,o._resolvedData=u._resolvedData),$r(n,t,o.component?h?h.children:null:e,i,r),_&&h&&h.outlet&&h.outlet.isActivated&&r.canDeactivateChecks.push(new wl(h.outlet.component,u))}else u&&Cl(t,h,r),r.canActivateChecks.push(new Vg(i)),$r(n,null,o.component?h?h.children:null:e,i,r)})(u,o[u.value.outlet],e,i.concat([u.value]),r),delete o[u.value.outlet]}),li(o,(u,h)=>Cl(u,e.getContext(h),r)),r}function Cl(n,t,e){const i=fa(n),r=n.value;li(i,(o,u)=>{Cl(o,r.component?t?t.children.getContext(u):null:t,e)}),e.canDeactivateChecks.push(new wl(r.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,r))}class dp{}function hp(n){return new Xn.y(t=>t.error(n))}class fp{constructor(t,e,i,r,o,u){this.rootComponentType=t,this.config=e,this.urlTree=i,this.url=r,this.paramsInheritanceStrategy=o,this.relativeLinkResolution=u}recognize(){const t=Lu(this.urlTree.root,[],[],this.config.filter(u=>void 0===u.redirectTo),this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,qt);if(null===e)return null;const i=new mc([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},qt,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new ha(i,e),o=new qf(this.url,r);return this.inheritParamsAndData(o._root),o}inheritParamsAndData(t){const e=t.value,i=hv(e,this.paramsInheritanceStrategy);e.params=Object.freeze(i.params),e.data=Object.freeze(i.data),t.children.forEach(r=>this.inheritParamsAndData(r))}processSegmentGroup(t,e,i){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,i)}processChildren(t,e){const i=[];for(const o of Object.keys(e.children)){const u=e.children[o],h=gh(t,o),_=this.processSegmentGroup(h,u,o);if(null===_)return null;i.push(..._)}const r=pp(i);return function Sv(n){n.sort((t,e)=>t.value.outlet===qt?-1:e.value.outlet===qt?1:t.value.outlet.localeCompare(e.value.outlet))}(r),r}processSegment(t,e,i,r){for(const o of t){const u=this.processSegmentAgainstRoute(o,e,i,r);if(null!==u)return u}return Cv(e,i,r)?[]:null}processSegmentAgainstRoute(t,e,i,r){if(t.redirectTo||!wv(t,e,i,r))return null;let o,u=[],h=[];if("**"===t.path){const j=i.length>0?sh(i).parameters:{};o=new mc(i,j,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,w(t),fn(t),t.component,t,p(e),g(e)+i.length,x(t))}else{const j=_c(e,t,i);if(!j.matched)return null;u=j.consumedSegments,h=j.remainingSegments,o=new mc(u,j.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,w(t),fn(t),t.component,t,p(e),g(e)+u.length,x(t))}const _=function Mv(n){return n.children?n.children:n.loadChildren?n._loadedConfig.routes:[]}(t),{segmentGroup:b,slicedSegments:T}=Lu(e,u,h,_.filter(j=>void 0===j.redirectTo),this.relativeLinkResolution);if(0===T.length&&b.hasChildren()){const j=this.processChildren(_,b);return null===j?null:[new ha(o,j)]}if(0===_.length&&0===T.length)return[new ha(o,[])];const M=fn(t)===r,N=this.processSegment(_,b,T,M?qt:r);return null===N?null:[new ha(o,N)]}}function Hg(n){const t=n.value.routeConfig;return t&&""===t.path&&void 0===t.redirectTo}function pp(n){const t=[],e=new Set;for(const i of n){if(!Hg(i)){t.push(i);continue}const r=t.find(o=>i.value.routeConfig===o.value.routeConfig);void 0!==r?(r.children.push(...i.children),e.add(r)):t.push(i)}for(const i of e){const r=pp(i.children);t.push(new ha(i.value,r))}return t.filter(i=>!e.has(i))}function p(n){let t=n;for(;t._sourceSegment;)t=t._sourceSegment;return t}function g(n){let t=n,e=t._segmentIndexShift?t._segmentIndexShift:0;for(;t._sourceSegment;)t=t._sourceSegment,e+=t._segmentIndexShift?t._segmentIndexShift:0;return e-1}function w(n){return n.data||{}}function x(n){return n.resolve||{}}function rt(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function gt(n){return Sn(t=>{const e=n(t);return e?(0,Rn.D)(e).pipe((0,mt.U)(()=>t)):ot(t)})}class ju extends class As{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}{}const yc=new s.OlP("ROUTES");class vc{constructor(t,e,i,r){this.injector=t,this.compiler=e,this.onLoadStartListener=i,this.onLoadEndListener=r}load(t,e){if(e._loader$)return e._loader$;this.onLoadStartListener&&this.onLoadStartListener(e);const r=this.loadModuleFactory(e.loadChildren).pipe((0,mt.U)(o=>{this.onLoadEndListener&&this.onLoadEndListener(e);const u=o.create(t);return new mh(Es(u.injector.get(yc,void 0,s.XFs.Self|s.XFs.Optional)).map(rp),u)}),ss(o=>{throw e._loader$=void 0,o}));return e._loader$=new eh(r,()=>new dt.x).pipe(rs()),e._loader$}loadModuleFactory(t){return Hr(t()).pipe((0,Ln.z)(e=>e instanceof s.YKP?ot(e):(0,Rn.D)(this.compiler.compileModuleAsync(e))))}}class xv{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function za(n){throw n}function vh(n,t,e){return t.parse("/")}function bh(n,t){return ot(null)}const gp={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},wh={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Ei=(()=>{class n{constructor(e,i,r,o,u,h,_){this.rootComponentType=e,this.urlSerializer=i,this.rootContexts=r,this.location=o,this.config=_,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new dt.x,this.errorHandler=za,this.malformedUriErrorHandler=vh,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:bh,afterPreactivation:bh},this.urlHandlingStrategy=new xv,this.routeReuseStrategy=new ju,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=u.get(s.h0i),this.console=u.get(s.c2e);const M=u.get(s.R0b);this.isNgZoneEnabled=M instanceof s.R0b&&s.R0b.isInAngularZone(),this.resetConfig(_),this.currentUrlTree=function Tu(){return new Be(new Ue([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new vc(u,h,N=>this.triggerEvent(new wu(N)),N=>this.triggerEvent(new Ks(N))),this.routerState=ml(this.currentUrlTree,this.rootComponentType),this.transitions=new sr({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var e;return null===(e=this.location.getState())||void 0===e?void 0:e.\u0275routerPageId}setupNavigations(e){const i=this.events;return e.pipe(Ci(r=>0!==r.id),(0,mt.U)(r=>Object.assign(Object.assign({},r),{extractedUrl:this.urlHandlingStrategy.extract(r.rawUrl)})),Sn(r=>{let o=!1,u=!1;return ot(r).pipe((0,Oi.b)(h=>{this.currentNavigation={id:h.id,initialUrl:h.currentRawUrl,extractedUrl:h.extractedUrl,trigger:h.source,extras:h.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Sn(h=>{const _=this.browserUrlTree.toString(),b=!this.navigated||h.extractedUrl.toString()!==_||_!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||b)&&this.urlHandlingStrategy.shouldProcessUrl(h.rawUrl))return zg(h.source)&&(this.browserUrlTree=h.extractedUrl),ot(h).pipe(Sn(M=>{const N=this.transitions.getValue();return i.next(new Ws(M.id,this.serializeUrl(M.extractedUrl),M.source,M.restoredState)),N!==this.transitions.getValue()?is.E:Promise.resolve(M)}),function ap(n,t,e,i){return Sn(r=>function vl(n,t,e,i,r){return new op(n,t,e,i,r).apply()}(n,t,e,r.extractedUrl,i).pipe((0,mt.U)(o=>Object.assign(Object.assign({},r),{urlAfterRedirects:o}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,Oi.b)(M=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:M.urlAfterRedirects})}),function L(n,t,e,i,r){return(0,Ln.z)(o=>function Iv(n,t,e,i,r="emptyOnly",o="legacy"){try{const u=new fp(n,t,e,i,r,o).recognize();return null===u?hp(new dp):ot(u)}catch(u){return hp(u)}}(n,t,o.urlAfterRedirects,e(o.urlAfterRedirects),i,r).pipe((0,mt.U)(u=>Object.assign(Object.assign({},o),{targetSnapshot:u}))))}(this.rootComponentType,this.config,M=>this.serializeUrl(M),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,Oi.b)(M=>{if("eager"===this.urlUpdateStrategy){if(!M.extras.skipLocationChange){const j=this.urlHandlingStrategy.merge(M.urlAfterRedirects,M.rawUrl);this.setBrowserUrl(j,M)}this.browserUrlTree=M.urlAfterRedirects}const N=new Va(M.id,this.serializeUrl(M.extractedUrl),this.serializeUrl(M.urlAfterRedirects),M.targetSnapshot);i.next(N)}));if(b&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:N,extractedUrl:j,source:Y,restoredState:fe,extras:Te}=h,Qe=new Ws(N,this.serializeUrl(j),Y,fe);i.next(Qe);const qe=ml(j,this.rootComponentType).snapshot;return ot(Object.assign(Object.assign({},h),{targetSnapshot:qe,urlAfterRedirects:j,extras:Object.assign(Object.assign({},Te),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=h.rawUrl,h.resolve(null),is.E}),gt(h=>{const{targetSnapshot:_,id:b,extractedUrl:T,rawUrl:M,extras:{skipLocationChange:N,replaceUrl:j}}=h;return this.hooks.beforePreactivation(_,{navigationId:b,appliedUrlTree:T,rawUrlTree:M,skipLocationChange:!!N,replaceUrl:!!j})}),(0,Oi.b)(h=>{const _=new Sg(h.id,this.serializeUrl(h.extractedUrl),this.serializeUrl(h.urlAfterRedirects),h.targetSnapshot);this.triggerEvent(_)}),(0,mt.U)(h=>Object.assign(Object.assign({},h),{guards:lp(h.targetSnapshot,h.currentSnapshot,this.rootContexts)})),function Av(n,t){return(0,Ln.z)(e=>{const{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:o,canDeactivateChecks:u}}=e;return 0===u.length&&0===o.length?ot(Object.assign(Object.assign({},e),{guardsResult:!0})):function jg(n,t,e,i){return(0,Rn.D)(n).pipe((0,Ln.z)(r=>function Uu(n,t,e,i,r){const o=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return o&&0!==o.length?ot(o.map(h=>{const _=Bu(h,t,r);let b;if(function EC(n){return n&&yl(n.canDeactivate)}(_))b=Hr(_.canDeactivate(n,t,e,i));else{if(!yl(_))throw new Error("Invalid CanDeactivate guard");b=Hr(_(n,t,e,i))}return b.pipe(Fo())})).pipe(ja()):ot(!0)}(r.component,r.route,e,t,i)),Fo(r=>!0!==r,!0))}(u,i,r,n).pipe((0,Ln.z)(h=>h&&function Ng(n){return"boolean"==typeof n}(h)?function Wi(n,t,e,i){return(0,Rn.D)(t).pipe(Dr(r=>uc(function up(n,t){return null!==n&&t&&t(new os(n)),ot(!0)}(r.route.parent,i),function cp(n,t){return null!==n&&t&&t(new fl(n)),ot(!0)}(r.route,i),function _a(n,t,e){const i=t[t.length-1],o=t.slice(0,t.length-1).reverse().map(u=>function Bg(n){const t=n.routeConfig?n.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:n,guards:t}:null}(u)).filter(u=>null!==u).map(u=>Ur(()=>ot(u.guards.map(_=>{const b=Bu(_,u.node,e);let T;if(function ep(n){return n&&yl(n.canActivateChild)}(b))T=Hr(b.canActivateChild(i,n));else{if(!yl(b))throw new Error("Invalid CanActivateChild guard");T=Hr(b(i,n))}return T.pipe(Fo())})).pipe(ja())));return ot(o).pipe(ja())}(n,r.path,e),function Tv(n,t,e){const i=t.routeConfig?t.routeConfig.canActivate:null;if(!i||0===i.length)return ot(!0);const r=i.map(o=>Ur(()=>{const u=Bu(o,t,e);let h;if(function Xf(n){return n&&yl(n.canActivate)}(u))h=Hr(u.canActivate(t,n));else{if(!yl(u))throw new Error("Invalid CanActivate guard");h=Hr(u(t,n))}return h.pipe(Fo())}));return ot(r).pipe(ja())}(n,r.route,e))),Fo(r=>!0!==r,!0))}(i,o,n,t):ot(h)),(0,mt.U)(h=>Object.assign(Object.assign({},e),{guardsResult:h})))})}(this.ngModule.injector,h=>this.triggerEvent(h)),(0,Oi.b)(h=>{if(gc(h.guardsResult)){const b=Lo(`Redirecting to "${this.serializeUrl(h.guardsResult)}"`);throw b.url=h.guardsResult,b}const _=new bu(h.id,this.serializeUrl(h.extractedUrl),this.serializeUrl(h.urlAfterRedirects),h.targetSnapshot,!!h.guardsResult);this.triggerEvent(_)}),Ci(h=>!!h.guardsResult||(this.restoreHistory(h),this.cancelNavigationTransition(h,""),!1)),gt(h=>{if(h.guards.canActivateChecks.length)return ot(h).pipe((0,Oi.b)(_=>{const b=new Pi(_.id,this.serializeUrl(_.extractedUrl),this.serializeUrl(_.urlAfterRedirects),_.targetSnapshot);this.triggerEvent(b)}),Sn(_=>{let b=!1;return ot(_).pipe(function oe(n,t){return(0,Ln.z)(e=>{const{targetSnapshot:i,guards:{canActivateChecks:r}}=e;if(!r.length)return ot(e);let o=0;return(0,Rn.D)(r).pipe(Dr(u=>function ve(n,t,e,i){return function We(n,t,e,i){const r=rt(n);if(0===r.length)return ot({});const o={};return(0,Rn.D)(r).pipe((0,Ln.z)(u=>function It(n,t,e,i){const r=Bu(n,t,i);return Hr(r.resolve?r.resolve(t,e):r(t,e))}(n[u],t,e,i).pipe((0,Oi.b)(h=>{o[u]=h}))),th(1),(0,Ln.z)(()=>rt(o).length===r.length?ot(o):is.E))}(n._resolve,n,t,i).pipe((0,mt.U)(o=>(n._resolvedData=o,n.data=Object.assign(Object.assign({},n.data),hv(n,e).resolve),null)))}(u.route,i,n,t)),(0,Oi.b)(()=>o++),th(1),(0,Ln.z)(u=>o===r.length?ot(e):is.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,Oi.b)({next:()=>b=!0,complete:()=>{b||(this.restoreHistory(_),this.cancelNavigationTransition(_,"At least one route resolver didn't emit any value."))}}))}),(0,Oi.b)(_=>{const b=new jr(_.id,this.serializeUrl(_.extractedUrl),this.serializeUrl(_.urlAfterRedirects),_.targetSnapshot);this.triggerEvent(b)}))}),gt(h=>{const{targetSnapshot:_,id:b,extractedUrl:T,rawUrl:M,extras:{skipLocationChange:N,replaceUrl:j}}=h;return this.hooks.afterPreactivation(_,{navigationId:b,appliedUrlTree:T,rawUrlTree:M,skipLocationChange:!!N,replaceUrl:!!j})}),(0,mt.U)(h=>{const _=function fv(n,t,e){const i=xu(n,t._root,e?e._root:void 0);return new lh(i,t)}(this.routeReuseStrategy,h.targetSnapshot,h.currentRouterState);return Object.assign(Object.assign({},h),{targetRouterState:_})}),(0,Oi.b)(h=>{this.currentUrlTree=h.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(h.urlAfterRedirects,h.rawUrl),this.routerState=h.targetRouterState,"deferred"===this.urlUpdateStrategy&&(h.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,h),this.browserUrlTree=h.urlAfterRedirects)}),((n,t,e)=>(0,mt.U)(i=>(new Pg(t,i.targetRouterState,i.currentRouterState,e).activate(n),i)))(this.rootContexts,this.routeReuseStrategy,h=>this.triggerEvent(h)),(0,Oi.b)({next(){o=!0},complete(){o=!0}}),ih(()=>{var h;o||u||this.cancelNavigationTransition(r,`Navigation ID ${r.id} is not equal to the current navigation id ${this.navigationId}`),(null===(h=this.currentNavigation)||void 0===h?void 0:h.id)===r.id&&(this.currentNavigation=null)}),ss(h=>{if(u=!0,function rh(n){return n&&n[Au]}(h)){const _=gc(h.url);_||(this.navigated=!0,this.restoreHistory(r,!0));const b=new Un(r.id,this.serializeUrl(r.extractedUrl),h.message);i.next(b),_?setTimeout(()=>{const T=this.urlHandlingStrategy.merge(h.url,this.rawUrlTree),M={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||zg(r.source)};this.scheduleNavigation(T,"imperative",null,M,{resolve:r.resolve,reject:r.reject,promise:r.promise})},0):r.resolve(!1)}else{this.restoreHistory(r,!0);const _=new vu(r.id,this.serializeUrl(r.extractedUrl),h);i.next(_);try{r.resolve(this.errorHandler(h))}catch(b){r.reject(b)}}return is.E}))}))}resetRootComponentType(e){this.rootComponentType=e,this.routerState.root.component=this.rootComponentType}setTransition(e){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),e))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const i="popstate"===e.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{var r;const o={replaceUrl:!0},u=(null===(r=e.state)||void 0===r?void 0:r.navigationId)?e.state:null;if(u){const _=Object.assign({},u);delete _.navigationId,delete _.\u0275routerPageId,0!==Object.keys(_).length&&(o.state=_)}const h=this.parseUrl(e.url);this.scheduleNavigation(h,i,u,o)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(e){this.events.next(e)}resetConfig(e){Nu(e),this.config=e.map(rp),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(e,i={}){const{relativeTo:r,queryParams:o,fragment:u,queryParamsHandling:h,preserveFragment:_}=i,b=r||this.routerState.root,T=_?this.currentUrlTree.fragment:u;let M=null;switch(h){case"merge":M=Object.assign(Object.assign({},this.currentUrlTree.queryParams),o);break;case"preserve":M=this.currentUrlTree.queryParams;break;default:M=o||null}return null!==M&&(M=this.removeEmptyProps(M)),function Js(n,t,e,i,r){if(0===e.length)return Wf(t.root,t.root,t.root,i,r);const o=function Rg(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new kg(!0,0,n);let t=0,e=!1;const i=n.reduce((r,o,u)=>{if("object"==typeof o&&null!=o){if(o.outlets){const h={};return li(o.outlets,(_,b)=>{h[b]="string"==typeof _?_.split("/"):_}),[...r,{outlets:h}]}if(o.segmentPath)return[...r,o.segmentPath]}return"string"!=typeof o?[...r,o]:0===u?(o.split("/").forEach((h,_)=>{0==_&&"."===h||(0==_&&""===h?e=!0:".."===h?t++:""!=h&&r.push(h))}),r):[...r,o]},[]);return new kg(e,t,i)}(e);if(o.toRoot())return Wf(t.root,t.root,new Ue([],{}),i,r);const u=function Og(n,t,e){if(n.isAbsolute)return new fh(t.root,!0,0);if(-1===e.snapshot._lastPathIndex){const o=e.snapshot._urlSegment;return new fh(o,o===t.root,0)}const i=ma(n.commands[0])?0:1;return function mv(n,t,e){let i=n,r=t,o=e;for(;o>r;){if(o-=r,i=i.parent,!i)throw new Error("Invalid number of '../'");r=i.segments.length}return new fh(i,!1,r-o)}(e.snapshot._urlSegment,e.snapshot._lastPathIndex+i,n.numberOfDoubleDots)}(o,t,n),h=u.processChildren?Bo(u.segmentGroup,u.index,o.commands):_v(u.segmentGroup,u.index,o.commands);return Wf(t.root,u.segmentGroup,h,i,r)}(b,this.currentUrlTree,e,M,null!=T?T:null)}navigateByUrl(e,i={skipLocationChange:!1}){const r=gc(e)?e:this.parseUrl(e),o=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(o,"imperative",null,i)}navigate(e,i={skipLocationChange:!1}){return function _p(n){for(let t=0;t<n.length;t++){const e=n[t];if(null==e)throw new Error(`The requested path contains ${e} segment at index ${t}`)}}(e),this.navigateByUrl(this.createUrlTree(e,i),i)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let i;try{i=this.urlSerializer.parse(e)}catch(r){i=this.malformedUriErrorHandler(r,this.urlSerializer,e)}return i}isActive(e,i){let r;if(r=!0===i?Object.assign({},gp):!1===i?Object.assign({},wh):i,gc(e))return pc(this.currentUrlTree,e,r);const o=this.parseUrl(e);return pc(this.currentUrlTree,o,r)}removeEmptyProps(e){return Object.keys(e).reduce((i,r)=>{const o=e[r];return null!=o&&(i[r]=o),i},{})}processNavigations(){this.navigations.subscribe(e=>{this.navigated=!0,this.lastSuccessfulId=e.id,this.currentPageId=e.targetPageId,this.events.next(new dc(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,e.resolve(!0)},e=>{this.console.warn(`Unhandled Navigation Error: ${e}`)})}scheduleNavigation(e,i,r,o,u){var h,_;if(this.disposed)return Promise.resolve(!1);let b,T,M;u?(b=u.resolve,T=u.reject,M=u.promise):M=new Promise((Y,fe)=>{b=Y,T=fe});const N=++this.navigationId;let j;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(r=this.location.getState()),j=r&&r.\u0275routerPageId?r.\u0275routerPageId:o.replaceUrl||o.skipLocationChange?null!==(h=this.browserPageId)&&void 0!==h?h:0:(null!==(_=this.browserPageId)&&void 0!==_?_:0)+1):j=0,this.setTransition({id:N,targetPageId:j,source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:e,extras:o,resolve:b,reject:T,promise:M,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),M.catch(Y=>Promise.reject(Y))}setBrowserUrl(e,i){const r=this.urlSerializer.serialize(e),o=Object.assign(Object.assign({},i.extras.state),this.generateNgRouterState(i.id,i.targetPageId));this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl?this.location.replaceState(r,"",o):this.location.go(r,"",o)}restoreHistory(e,i=!1){var r,o;if("computed"===this.canceledNavigationResolution){const u=this.currentPageId-e.targetPageId;"popstate"!==e.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(r=this.currentNavigation)||void 0===r?void 0:r.finalUrl)||0===u?this.currentUrlTree===(null===(o=this.currentNavigation)||void 0===o?void 0:o.finalUrl)&&0===u&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(u)}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(e,i){const r=new Un(e.id,this.serializeUrl(e.extractedUrl),i);this.triggerEvent(r),e.resolve(!1)}generateNgRouterState(e,i){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:i}:{navigationId:e}}}return n.\u0275fac=function(e){s.$Z()},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();function zg(n){return"imperative"!==n}let $g=(()=>{class n{constructor(e,i,r,o,u){this.router=e,this.route=i,this.tabIndexAttribute=r,this.renderer=o,this.el=u,this.commands=null,this.onChanges=new dt.x,this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(e){if(null!=this.tabIndexAttribute)return;const i=this.renderer,r=this.el.nativeElement;null!==e?i.setAttribute(r,"tabindex",e):i.removeAttribute(r,"tabindex")}ngOnChanges(e){this.onChanges.next(this)}set routerLink(e){null!=e?(this.commands=Array.isArray(e)?e:[e],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){if(null===this.urlTree)return!0;const e={skipLocationChange:Ch(this.skipLocationChange),replaceUrl:Ch(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,e),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:Ch(this.preserveFragment)})}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Ei),s.Y36(Vo),s.$8M("tabindex"),s.Y36(s.Qsj),s.Y36(s.SBq))},n.\u0275dir=s.lG2({type:n,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(e,i){1&e&&s.NdJ("click",function(){return i.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[s.TTD]}),n})(),yp=(()=>{class n{constructor(e,i,r){this.router=e,this.route=i,this.locationStrategy=r,this.commands=null,this.href=null,this.onChanges=new dt.x,this.subscription=e.events.subscribe(o=>{o instanceof dc&&this.updateTargetUrlAndHref()})}set routerLink(e){this.commands=null!=e?Array.isArray(e)?e:[e]:null}ngOnChanges(e){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(e,i,r,o,u){if(0!==e||i||r||o||u||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)return!0;const h={skipLocationChange:Ch(this.skipLocationChange),replaceUrl:Ch(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,h),!1}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:Ch(this.preserveFragment)})}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Ei),s.Y36(Vo),s.Y36(de))},n.\u0275dir=s.lG2({type:n,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(e,i){1&e&&s.NdJ("click",function(o){return i.onClick(o.button,o.ctrlKey,o.shiftKey,o.altKey,o.metaKey)}),2&e&&s.uIk("target",i.target)("href",i.href,s.LSH)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[s.TTD]}),n})();function Ch(n){return""===n||!!n}class Rv{}class AC{preload(t,e){return ot(null)}}let TC=(()=>{class n{constructor(e,i,r,o){this.router=e,this.injector=r,this.preloadingStrategy=o,this.loader=new vc(r,i,_=>e.triggerEvent(new wu(_)),_=>e.triggerEvent(new Ks(_)))}setUpPreloading(){this.subscription=this.router.events.pipe(Ci(e=>e instanceof dc),Dr(()=>this.preload())).subscribe(()=>{})}preload(){const e=this.injector.get(s.h0i);return this.processRoutes(e,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,i){const r=[];for(const o of i)if(o.loadChildren&&!o.canLoad&&o._loadedConfig){const u=o._loadedConfig;r.push(this.processRoutes(u.module,u.routes))}else o.loadChildren&&!o.canLoad?r.push(this.preloadConfig(e,o)):o.children&&r.push(this.processRoutes(e,o.children));return(0,Rn.D)(r).pipe((0,bs.J)(),(0,mt.U)(o=>{}))}preloadConfig(e,i){return this.preloadingStrategy.preload(i,()=>(i._loadedConfig?ot(i._loadedConfig):this.loader.load(e.injector,i)).pipe((0,Ln.z)(o=>(i._loadedConfig=o,this.processRoutes(o.module,o.routes)))))}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Ei),s.LFG(s.Sil),s.LFG(s.zs3),s.LFG(Rv))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),Gg=(()=>{class n{constructor(e,i,r={}){this.router=e,this.viewportScroller=i,this.options=r,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},r.scrollPositionRestoration=r.scrollPositionRestoration||"disabled",r.anchorScrolling=r.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(e=>{e instanceof Ws?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof dc&&(this.lastId=e.id,this.scheduleScrollEvent(e,this.router.parseUrl(e.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(e=>{e instanceof Eu&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,i){this.router.triggerEvent(new Eu(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(e){s.$Z()},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const Xs=new s.OlP("ROUTER_CONFIGURATION"),Pv=new s.OlP("ROUTER_FORROOT_GUARD"),IC=[we,{provide:ci,useClass:Zn},{provide:Ei,useFactory:function Fv(n,t,e,i,r,o,u={},h,_){const b=new Ei(null,n,t,e,i,r,Es(o));return h&&(b.urlHandlingStrategy=h),_&&(b.routeReuseStrategy=_),function xC(n,t){n.errorHandler&&(t.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(t.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(t.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(t.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(t.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(t.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(t.canceledNavigationResolution=n.canceledNavigationResolution)}(u,b),u.enableTracing&&b.events.subscribe(T=>{var M,N;null===(M=console.group)||void 0===M||M.call(console,`Router Event: ${T.constructor.name}`),console.log(T.toString()),console.log(T),null===(N=console.groupEnd)||void 0===N||N.call(console)}),b},deps:[ci,Ou,we,s.zs3,s.Sil,yc,Xs,[class mp{},new s.FiY],[class Wn{},new s.FiY]]},Ou,{provide:Vo,useFactory:function qg(n){return n.routerState.root},deps:[Ei]},TC,AC,class Ov{preload(t,e){return e().pipe(ss(()=>ot(null)))}},{provide:Xs,useValue:{enableTracing:!1}}];function rI(){return new s.PXZ("Router",Ei)}let vp=(()=>{class n{constructor(e,i){}static forRoot(e,i){return{ngModule:n,providers:[IC,Nv(e),{provide:Pv,useFactory:MC,deps:[[Ei,new s.FiY,new s.tp0]]},{provide:Xs,useValue:i||{}},{provide:de,useFactory:SC,deps:[Q,[new s.tBr(Le),new s.FiY],Xs]},{provide:Gg,useFactory:sI,deps:[Ei,Ql,Xs]},{provide:Rv,useExisting:i&&i.preloadingStrategy?i.preloadingStrategy:AC},{provide:s.PXZ,multi:!0,useFactory:rI},[Eh,{provide:s.ip1,multi:!0,useFactory:kC,deps:[Eh]},{provide:Vv,useFactory:Lv,deps:[Eh]},{provide:s.tb,multi:!0,useExisting:Vv}]]}}static forChild(e){return{ngModule:n,providers:[Nv(e)]}}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Pv,8),s.LFG(Ei,8))},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({}),n})();function sI(n,t,e){return e.scrollOffset&&t.setOffset(e.scrollOffset),new Gg(n,t,e)}function SC(n,t,e={}){return e.useHash?new Ie(n,t):new Oe(n,t)}function MC(n){return"guarded"}function Nv(n){return[{provide:s.deG,multi:!0,useValue:n},{provide:yc,multi:!0,useValue:n}]}let Eh=(()=>{class n{constructor(e){this.injector=e,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new dt.x}appInitializer(){return this.injector.get(G,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let i=null;const r=new Promise(h=>i=h),o=this.injector.get(Ei),u=this.injector.get(Xs);return"disabled"===u.initialNavigation?(o.setUpLocationChangeListener(),i(!0)):"enabled"===u.initialNavigation||"enabledBlocking"===u.initialNavigation?(o.hooks.afterPreactivation=()=>this.initNavigation?ot(null):(this.initNavigation=!0,i(!0),this.resultOfPreactivationDone),o.initialNavigation()):i(!0),r})}bootstrapListener(e){const i=this.injector.get(Xs),r=this.injector.get(TC),o=this.injector.get(Gg),u=this.injector.get(Ei),h=this.injector.get(s.z2F);e===h.components[0]&&(("enabledNonBlocking"===i.initialNavigation||void 0===i.initialNavigation)&&u.initialNavigation(),r.setUpPreloading(),o.init(),u.resetRootComponentType(h.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(s.zs3))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();function kC(n){return n.appInitializer.bind(n)}function Lv(n){return n.bootstrapListener.bind(n)}const Vv=new s.OlP("Router Initializer");var ct,be=R(5861),Uo=R(9681),Dh=R(4859),bc=R(1877),Pt=R(2090),Uv="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},$a={},Zg=Zg||{},jt=Uv||self;function bp(){}function jv(n){var t=typeof n;return"array"==(t="object"!=t?t:n?Array.isArray(n)?"array":t:"null")||"object"==t&&"number"==typeof n.length}function wp(n){var t=typeof n;return"object"==t&&null!=n||"function"==t}var Hv="closure_uid_"+(1e9*Math.random()>>>0),RC=0;function oI(n,t,e){return n.call.apply(n.bind,arguments)}function aI(n,t,e){if(!n)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,i),n.apply(t,r)}}return function(){return n.apply(t,arguments)}}function Ar(n,t,e){return(Ar=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?oI:aI).apply(null,arguments)}function Wg(n,t){var e=Array.prototype.slice.call(arguments,1);return function(){var i=e.slice();return i.push.apply(i,arguments),n.apply(this,i)}}function lr(n,t){function e(){}e.prototype=t.prototype,n.Z=t.prototype,n.prototype=new e,n.prototype.constructor=n,n.Vb=function(i,r,o){for(var u=Array(arguments.length-2),h=2;h<arguments.length;h++)u[h-2]=arguments[h];return t.prototype[r].apply(i,u)}}function wc(){this.s=this.s,this.o=this.o}var cI={};wc.prototype.s=!1,wc.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var n=function ya(n){return Object.prototype.hasOwnProperty.call(n,Hv)&&n[Hv]||(n[Hv]=++RC)}(this);delete cI[n]}},wc.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Ht=Array.prototype.indexOf?function(n,t){return Array.prototype.indexOf.call(n,t,void 0)}:function(n,t){if("string"==typeof n)return"string"!=typeof t||1!=t.length?-1:n.indexOf(t,0);for(let e=0;e<n.length;e++)if(e in n&&n[e]===t)return e;return-1},zv=Array.prototype.forEach?function(n,t,e){Array.prototype.forEach.call(n,t,e)}:function(n,t,e){const i=n.length,r="string"==typeof n?n.split(""):n;for(let o=0;o<i;o++)o in r&&t.call(e,r[o],o,n)};function $v(n){return Array.prototype.concat.apply([],arguments)}function Ah(n){const t=n.length;if(0<t){const e=Array(t);for(let i=0;i<t;i++)e[i]=n[i];return e}return[]}function Ts(n){return/^[\s\xa0]*$/.test(n)}var ui,Gv=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function us(n,t){return-1!=n.indexOf(t)}function Cp(n,t){return n<t?-1:n>t?1:0}e:{var Kg=jt.navigator;if(Kg){var qv=Kg.userAgent;if(qv){ui=qv;break e}}ui=""}function Ep(n,t,e){for(const i in n)t.call(e,n[i],i,n)}function uI(n){const t={};for(const e in n)t[e]=n[e];return t}var Yv="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function dI(n,t){let e,i;for(let r=1;r<arguments.length;r++){for(e in i=arguments[r],i)n[e]=i[e];for(let o=0;o<Yv.length;o++)e=Yv[o],Object.prototype.hasOwnProperty.call(i,e)&&(n[e]=i[e])}}function Th(n){return Th[" "](n),n}Th[" "]=bp;var Xg,n,Zv=us(ui,"Opera"),Cc=us(ui,"Trident")||us(ui,"MSIE"),Jg=us(ui,"Edge"),PC=Jg||Cc,NC=us(ui,"Gecko")&&!(us(ui.toLowerCase(),"webkit")&&!us(ui,"Edge"))&&!(us(ui,"Trident")||us(ui,"MSIE"))&&!us(ui,"Edge"),hI=us(ui.toLowerCase(),"webkit")&&!us(ui,"Edge");function FC(){var n=jt.document;return n?n.documentMode:void 0}e:{var e_="",LC=(n=ui,NC?/rv:([^\);]+)(\)|;)/.exec(n):Jg?/Edge\/([\d\.]+)/.exec(n):Cc?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):hI?/WebKit\/(\S+)/.exec(n):Zv?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(LC&&(e_=LC?LC[1]:""),Cc){var Wv=FC();if(null!=Wv&&Wv>parseFloat(e_)){Xg=String(Wv);break e}}Xg=e_}var Zk={};var Kv=jt.document&&Cc&&(FC()||parseInt(Xg,10))||void 0,Wk=function(){if(!jt.addEventListener||!Object.defineProperty)return!1;var n=!1,t=Object.defineProperty({},"passive",{get:function(){n=!0}});try{jt.addEventListener("test",bp,t),jt.removeEventListener("test",bp,t)}catch(e){}return n}();function ds(n,t){this.type=n,this.g=this.target=t,this.defaultPrevented=!1}function n_(n,t){if(ds.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var e=this.type=n.type,i=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=t,t=n.relatedTarget){if(NC){e:{try{Th(t.nodeName);var r=!0;break e}catch(o){}r=!1}r||(t=null)}}else"mouseover"==e?t=n.fromElement:"mouseout"==e&&(t=n.toElement);this.relatedTarget=t,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:Kk[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&n_.Z.h.call(this)}}ds.prototype.h=function(){this.defaultPrevented=!0},lr(n_,ds);var Kk={2:"touch",3:"pen",4:"mouse"};n_.prototype.h=function(){n_.Z.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var i_="closure_listenable_"+(1e6*Math.random()|0),Qk=0;function Jk(n,t,e,i,r){this.listener=n,this.proxy=null,this.src=t,this.type=e,this.capture=!!i,this.ia=r,this.key=++Qk,this.ca=this.fa=!1}function Qv(n){n.ca=!0,n.listener=null,n.proxy=null,n.src=null,n.ia=null}function Jv(n){this.src=n,this.g={},this.h=0}function UC(n,t){var e=t.type;if(e in n.g){var o,i=n.g[e],r=Ht(i,t);(o=0<=r)&&Array.prototype.splice.call(i,r,1),o&&(Qv(t),0==n.g[e].length&&(delete n.g[e],n.h--))}}function Ga(n,t,e,i){for(var r=0;r<n.length;++r){var o=n[r];if(!o.ca&&o.listener==t&&o.capture==!!e&&o.ia==i)return r}return-1}Jv.prototype.add=function(n,t,e,i,r){var o=n.toString();(n=this.g[o])||(n=this.g[o]=[],this.h++);var u=Ga(n,t,i,r);return-1<u?(t=n[u],e||(t.fa=!1)):((t=new Jk(t,this.src,o,!!i,r)).fa=e,n.push(t)),t};var Dp="closure_lm_"+(1e6*Math.random()|0),Xv={};function eb(n,t,e,i,r){if(i&&i.once)return s_(n,t,e,i,r);if(Array.isArray(t)){for(var o=0;o<t.length;o++)eb(n,t[o],e,i,r);return null}return e=o_(e),n&&n[i_]?n.N(t,e,wp(i)?!!i.capture:!!i,r):r_(n,t,e,!1,i,r)}function r_(n,t,e,i,r,o){if(!t)throw Error("Invalid event type");var u=wp(r)?!!r.capture:!!r,h=Ap(n);if(h||(n[Dp]=h=new Jv(n)),(e=h.add(t,e,i,u,o)).proxy)return e;if(i=function jC(){var t=fI;return function n(e){return t.call(n.src,n.listener,e)}}(),e.proxy=i,i.src=n,i.listener=e,n.addEventListener)Wk||(r=u),void 0===r&&(r=!1),n.addEventListener(t.toString(),i,r);else if(n.attachEvent)n.attachEvent(tb(t.toString()),i);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(i)}return e}function s_(n,t,e,i,r){if(Array.isArray(t)){for(var o=0;o<t.length;o++)s_(n,t[o],e,i,r);return null}return e=o_(e),n&&n[i_]?n.O(t,e,wp(i)?!!i.capture:!!i,r):r_(n,t,e,!0,i,r)}function HC(n,t,e,i,r){if(Array.isArray(t))for(var o=0;o<t.length;o++)HC(n,t[o],e,i,r);else i=wp(i)?!!i.capture:!!i,e=o_(e),n&&n[i_]?(n=n.i,(t=String(t).toString())in n.g&&-1<(e=Ga(o=n.g[t],e,i,r))&&(Qv(o[e]),Array.prototype.splice.call(o,e,1),0==o.length&&(delete n.g[t],n.h--))):n&&(n=Ap(n))&&(t=n.g[t.toString()],n=-1,t&&(n=Ga(t,e,i,r)),(e=-1<n?t[n]:null)&&qa(e))}function qa(n){if("number"!=typeof n&&n&&!n.ca){var t=n.src;if(t&&t[i_])UC(t.i,n);else{var e=n.type,i=n.proxy;t.removeEventListener?t.removeEventListener(e,i,n.capture):t.detachEvent?t.detachEvent(tb(e),i):t.addListener&&t.removeListener&&t.removeListener(i),(e=Ap(t))?(UC(e,n),0==e.h&&(e.src=null,t[Dp]=null)):Qv(n)}}}function tb(n){return n in Xv?Xv[n]:Xv[n]="on"+n}function fI(n,t){if(n.ca)n=!0;else{t=new n_(t,this);var e=n.listener,i=n.ia||n.src;n.fa&&qa(n),n=e.call(i,t)}return n}function Ap(n){return(n=n[Dp])instanceof Jv?n:null}var nb="__closure_events_fn_"+(1e9*Math.random()>>>0);function o_(n){return"function"==typeof n?n:(n[nb]||(n[nb]=function(t){return n.handleEvent(t)}),n[nb])}function cr(){wc.call(this),this.i=new Jv(this),this.P=this,this.I=null}function Tr(n,t){var e,i=n.I;if(i)for(e=[];i;i=i.I)e.push(i);if(n=n.P,i=t.type||t,"string"==typeof t)t=new ds(t,n);else if(t instanceof ds)t.target=t.target||n;else{var r=t;dI(t=new ds(i,n),r)}if(r=!0,e)for(var o=e.length-1;0<=o;o--){var u=t.g=e[o];r=Ec(u,i,!0,t)&&r}if(r=Ec(u=t.g=n,i,!0,t)&&r,r=Ec(u,i,!1,t)&&r,e)for(o=0;o<e.length;o++)r=Ec(u=t.g=e[o],i,!1,t)&&r}function Ec(n,t,e,i){if(!(t=n.i.g[String(t)]))return!0;t=t.concat();for(var r=!0,o=0;o<t.length;++o){var u=t[o];if(u&&!u.ca&&u.capture==e){var h=u.listener,_=u.ia||u.src;u.fa&&UC(n.i,u),r=!1!==h.call(_,i)&&r}}return r&&!i.defaultPrevented}lr(cr,wc),cr.prototype[i_]=!0,cr.prototype.removeEventListener=function(n,t,e,i){HC(this,n,t,e,i)},cr.prototype.M=function(){if(cr.Z.M.call(this),this.i){var t,n=this.i;for(t in n.g){for(var e=n.g[t],i=0;i<e.length;i++)Qv(e[i]);delete n.g[t],n.h--}}this.I=null},cr.prototype.N=function(n,t,e,i){return this.i.add(String(n),t,!1,e,i)},cr.prototype.O=function(n,t,e,i){return this.i.add(String(n),t,!0,e,i)};var Dc=jt.JSON.stringify;function ib(){var n=sb;let t=null;return n.g&&(t=n.g,n.g=n.g.next,n.g||(n.h=null),t.next=null),t}var l_,Sh=new class{constructor(n,t){this.i=n,this.j=t,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new Mh,n=>n.reset());class Mh{constructor(){this.next=this.g=this.h=null}set(t,e){this.h=t,this.g=e,this.next=null}reset(){this.next=this.g=this.h=null}}function pI(n){jt.setTimeout(()=>{throw n},0)}function a_(n,t){l_||function rb(){var n=jt.Promise.resolve(void 0);l_=function(){n.then(c_)}}(),Tp||(l_(),Tp=!0),sb.add(n,t)}var Tp=!1,sb=new class Ih{constructor(){this.h=this.g=null}add(t,e){const i=Sh.get();i.set(t,e),this.h?this.h.next=i:this.g=i,this.h=i}};function c_(){for(var n;n=ib();){try{n.h.call(n.g)}catch(e){pI(e)}var t=Sh;t.j(n),100>t.h&&(t.h++,n.next=t.g,t.g=n)}Tp=!1}function u_(n,t){cr.call(this),this.h=n||1,this.g=t||jt,this.j=Ar(this.kb,this),this.l=Date.now()}function d_(n){n.da=!1,n.S&&(n.g.clearTimeout(n.S),n.S=null)}function zC(n,t,e){if("function"==typeof n)e&&(n=Ar(n,e));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=Ar(n.handleEvent,n)}return 2147483647<Number(t)?-1:jt.setTimeout(n,t||0)}function ob(n){n.g=zC(()=>{n.g=null,n.i&&(n.i=!1,ob(n))},n.j);const t=n.h;n.h=null,n.m.apply(null,t)}lr(u_,cr),(ct=u_.prototype).da=!1,ct.S=null,ct.kb=function(){if(this.da){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-n):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Tr(this,"tick"),this.da&&(d_(this),this.start()))}},ct.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},ct.M=function(){u_.Z.M.call(this),d_(this),delete this.g};class $C extends wc{constructor(t,e){super(),this.m=t,this.j=e,this.h=null,this.i=!1,this.g=null}l(t){this.h=arguments,this.g?this.i=!0:ob(this)}M(){super.M(),this.g&&(jt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ip(n){wc.call(this),this.h=n,this.g={}}lr(Ip,wc);var ab=[];function GC(n,t,e,i){Array.isArray(e)||(e&&(ab[0]=e.toString()),e=ab);for(var r=0;r<e.length;r++){var o=eb(t,e[r],i||n.handleEvent,!1,n.h||n);if(!o)break;n.g[o.key]=o}}function qC(n){Ep(n.g,function(t,e){this.g.hasOwnProperty(e)&&qa(t)},n),n.g={}}function Gr(){this.g=!0}function Sp(n,t,e,i){n.info(function(){return"XMLHTTP TEXT ("+t+"): "+function YC(n,t){if(!n.g)return t;if(!t)return null;try{var e=JSON.parse(t);if(e)for(n=0;n<e.length;n++)if(Array.isArray(e[n])){var i=e[n];if(!(2>i.length)){var r=i[1];if(Array.isArray(r)&&!(1>r.length)){var o=r[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var u=1;u<r.length;u++)r[u]=""}}}return Dc(e)}catch(h){return t}}(n,e)+(i?" "+i:"")})}Ip.prototype.M=function(){Ip.Z.M.call(this),qC(this)},Ip.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Gr.prototype.Aa=function(){this.g=!1},Gr.prototype.info=function(){};var xh={},ZC=null;function kh(){return ZC=ZC||new cr}function lb(n){ds.call(this,xh.Ma,n)}function Mp(n){const t=kh();Tr(t,new lb(t,n))}function WC(n,t){ds.call(this,xh.STAT_EVENT,n),this.stat=t}function hs(n){const t=kh();Tr(t,new WC(t,n))}function cb(n,t){ds.call(this,xh.Na,n),this.size=t}function xp(n,t){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return jt.setTimeout(function(){n()},t)}xh.Ma="serverreachability",lr(lb,ds),xh.STAT_EVENT="statevent",lr(WC,ds),xh.Na="timingevent",lr(cb,ds);var kp={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},KC={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function ub(){}function hb(){}ub.prototype.h=null;var fb,Rp={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function jo(){ds.call(this,"d")}function Op(){ds.call(this,"c")}function h_(){}function f_(n,t,e,i){this.l=n,this.j=t,this.m=e,this.X=i||1,this.V=new Ip(this),this.P=_I,this.W=new u_(n=PC?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new pb}function pb(){this.i=null,this.g="",this.h=!1}lr(jo,ds),lr(Op,ds),lr(h_,ub),h_.prototype.g=function(){return new XMLHttpRequest},h_.prototype.i=function(){return{}},fb=new h_;var _I=45e3,mb={},p_={};function Pp(n,t,e){n.K=1,n.v=Lp(Ir(t)),n.s=e,n.U=!0,QC(n,null)}function QC(n,t){n.F=Date.now(),Fp(n),n.A=Ir(n.v);var e=n.A,i=n.X;Array.isArray(i)||(i=[String(i)]),iE(e.h,"t",i),n.C=0,e=n.l.H,n.h=new pb,n.g=S_(n.l,e?t:null,!n.s),0<n.O&&(n.L=new $C(Ar(n.Ia,n,n.g),n.O)),GC(n.V,n.g,"readystatechange",n.gb),t=n.H?uI(n.H):{},n.s?(n.u||(n.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",n.g.ea(n.A,n.u,n.s,t)):(n.u="GET",n.g.ea(n.A,n.u,null,t)),Mp(1),function mI(n,t,e,i,r,o){n.info(function(){if(n.g)if(o)for(var u="",h=o.split("&"),_=0;_<h.length;_++){var b=h[_].split("=");if(1<b.length){var T=b[0];b=b[1];var M=T.split("_");u=2<=M.length&&"type"==M[1]?u+(T+"=")+b+"&":u+(T+"=redacted&")}}else u=null;else u=o;return"XMLHTTP REQ ("+i+") [attempt "+r+"]: "+t+"\n"+e+"\n"+u})}(n.j,n.u,n.A,n.m,n.X,n.s)}function JC(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Ba}function Np(n,t,e){let r,i=!0;for(;!n.I&&n.C<e.length;){if(r=gb(n,e),r==p_){4==t&&(n.o=4,hs(14),i=!1),Sp(n.j,n.m,null,"[Incomplete Response]");break}if(r==mb){n.o=4,hs(15),Sp(n.j,n.m,e,"[Invalid Chunk]"),i=!1;break}Sp(n.j,n.m,r,null),_b(n,r)}JC(n)&&r!=p_&&r!=mb&&(n.h.g="",n.C=0),4!=t||0!=e.length||n.h.h||(n.o=1,hs(16),i=!1),n.i=n.i&&i,i?0<e.length&&!n.aa&&(n.aa=!0,(t=n.l).g==n&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+e.length),Rb(t),t.L=!0,hs(11))):(Sp(n.j,n.m,e,"[Invalid Chunked Response]"),Hu(n),Oh(n))}function gb(n,t){var e=n.C,i=t.indexOf("\n",e);return-1==i?p_:(e=Number(t.substring(e,i)),isNaN(e)?mb:(i+=1)+e>t.length?p_:(t=t.substr(i,e),n.C=i+e,t))}function Fp(n){n.Y=Date.now()+n.P,m_(n,n.P)}function m_(n,t){if(null!=n.B)throw Error("WatchDog timer not null");n.B=xp(Ar(n.eb,n),t)}function Rh(n){n.B&&(jt.clearTimeout(n.B),n.B=null)}function Oh(n){0==n.l.G||n.I||Bh(n.l,n)}function Hu(n){Rh(n);var t=n.L;t&&"function"==typeof t.na&&t.na(),n.L=null,d_(n.W),qC(n.V),n.g&&(t=n.g,n.g=null,t.abort(),t.na())}function _b(n,t){try{var e=n.l;if(0!=e.G&&(e.g==n||jp(e.i,n)))if(e.I=n.N,!n.J&&jp(e.i,n)&&3==e.G){try{var i=e.Ca.g.parse(t)}catch(b){i=null}if(Array.isArray(i)&&3==i.length){var r=i;if(0==r[0])e:if(e.u)e.ta=r[1],0<e.ta-e.U&&37500>r[2]&&e.N&&0==e.A&&!e.v&&(e.v=xp(Ar(e.ab,e),6e3));else{if(e.g){if(!(e.g.F+3e3<n.F))break e;eo(e),A_(e)}kb(e),hs(18)}if(1>=Ho(e.i)&&e.ka){try{e.ka()}catch(b){}e.ka=void 0}}else to(e,11)}else if((n.J||e.g==n)&&eo(e),!Ts(t))for(r=e.Ca.g.parse(t),t=0;t<r.length;t++){let b=r[t];if(e.U=b[0],b=b[1],2==e.G)if("c"==b[0]){e.J=b[1],e.la=b[2];const T=b[3];null!=T&&(e.ma=T,e.h.info("VER="+e.ma));const M=b[4];null!=M&&(e.za=M,e.h.info("SVER="+e.za));const N=b[5];null!=N&&"number"==typeof N&&0<N&&(e.K=i=1.5*N,e.h.info("backChannelRequestTimeoutMs_="+i)),i=e;const j=n.g;if(j){const Y=j.g?j.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Y){var o=i.i;!o.g&&(us(Y,"spdy")||us(Y,"quic")||us(Y,"h2"))&&(o.j=o.l,o.g=new Set,o.h&&(v_(o,o.h),o.h=null))}if(i.D){const fe=j.g?j.g.getResponseHeader("X-HTTP-Session-Id"):null;fe&&(i.sa=fe,jn(i.F,i.D,fe))}}e.G=3,e.j&&e.j.xa(),e.$&&(e.O=Date.now()-n.F,e.h.info("Handshake RTT: "+e.O+"ms"));var u=n;if((i=e).oa=no(i,i.H?i.la:null,i.W),u.J){Db(i.i,u);var h=u,_=i.K;_&&h.setTimeout(_),h.B&&(Rh(h),Fp(h)),i.g=u}else Vh(i);0<e.l.length&&T_(e)}else"stop"!=b[0]&&"close"!=b[0]||to(e,7);else 3==e.G&&("stop"==b[0]||"close"==b[0]?"stop"==b[0]?to(e,7):Mb(e):"noop"!=b[0]&&e.j&&e.j.wa(b),e.A=0)}Mp(4)}catch(b){}}function XC(n,t){if(n.forEach&&"function"==typeof n.forEach)n.forEach(t,void 0);else if(jv(n)||"string"==typeof n)zv(n,t,void 0);else{if(n.T&&"function"==typeof n.T)var e=n.T();else if(n.R&&"function"==typeof n.R)e=void 0;else if(jv(n)||"string"==typeof n){e=[];for(var i=n.length,r=0;r<i;r++)e.push(r)}else for(r in e=[],i=0,n)e[i++]=r;i=function yb(n){if(n.R&&"function"==typeof n.R)return n.R();if("string"==typeof n)return n.split("");if(jv(n)){for(var t=[],e=n.length,i=0;i<e;i++)t.push(n[i]);return t}for(i in t=[],e=0,n)t[e++]=n[i];return t}(n),r=i.length;for(var o=0;o<r;o++)t.call(void 0,i[o],e&&e[o],n)}}function Ph(n,t){this.h={},this.g=[],this.i=0;var e=arguments.length;if(1<e){if(e%2)throw Error("Uneven number of arguments");for(var i=0;i<e;i+=2)this.set(arguments[i],arguments[i+1])}else if(n)if(n instanceof Ph)for(e=n.T(),i=0;i<e.length;i++)this.set(e[i],n.get(e[i]));else for(i in n)this.set(i,n[i])}function g_(n){if(n.i!=n.g.length){for(var t=0,e=0;t<n.g.length;){var i=n.g[t];Ac(n.h,i)&&(n.g[e++]=i),t++}n.g.length=e}if(n.i!=n.g.length){var r={};for(e=t=0;t<n.g.length;)Ac(r,i=n.g[t])||(n.g[e++]=i,r[i]=1),t++;n.g.length=e}}function Ac(n,t){return Object.prototype.hasOwnProperty.call(n,t)}(ct=f_.prototype).setTimeout=function(n){this.P=n},ct.gb=function(n){n=n.target;const t=this.L;t&&3==Dl(n)?t.l():this.Ia(n)},ct.Ia=function(n){try{if(n==this.g)e:{const T=Dl(this.g);var t=this.g.Da();const M=this.g.ba();if(!(3>T)&&(3!=T||PC||this.g&&(this.h.h||this.g.ga()||SI(this.g)))){this.I||4!=T||7==t||Mp(8==t||0>=M?3:2),Rh(this);var e=this.g.ba();this.N=e;t:if(JC(this)){var i=SI(this.g);n="";var r=i.length,o=4==Dl(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){Hu(this),Oh(this);var u="";break t}this.h.i=new jt.TextDecoder}for(t=0;t<r;t++)this.h.h=!0,n+=this.h.i.decode(i[t],{stream:o&&t==r-1});i.splice(0,r),this.h.g+=n,this.C=0,u=this.h.g}else u=this.g.ga();if(this.i=200==e,function gI(n,t,e,i,r,o,u){n.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+r+"]: "+t+"\n"+e+"\n"+o+" "+u})}(this.j,this.u,this.A,this.m,this.X,T,e),this.i){if(this.$&&!this.J){t:{if(this.g){var h,_=this.g;if((h=_.g?_.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Ts(h)){var b=h;break t}}b=null}if(!(e=b)){this.i=!1,this.o=3,hs(12),Hu(this),Oh(this);break e}Sp(this.j,this.m,e,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,_b(this,e)}this.U?(Np(this,T,u),PC&&this.i&&3==T&&(GC(this.V,this.W,"tick",this.fb),this.W.start())):(Sp(this.j,this.m,u,null),_b(this,u)),4==T&&Hu(this),this.i&&!this.I&&(4==T?Bh(this.l,this):(this.i=!1,Fp(this)))}else 400==e&&0<u.indexOf("Unknown SID")?(this.o=3,hs(12)):(this.o=0,hs(13)),Hu(this),Oh(this)}}}catch(T){}},ct.fb=function(){if(this.g){var n=Dl(this.g),t=this.g.ga();this.C<t.length&&(Rh(this),Np(this,n,t),this.i&&4!=n&&Fp(this))}},ct.cancel=function(){this.I=!0,Hu(this)},ct.eb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function Xk(n,t){n.info(function(){return"TIMEOUT: "+t})}(this.j,this.A),2!=this.K&&(Mp(3),hs(17)),Hu(this),this.o=2,Oh(this)):m_(this,this.Y-n)},(ct=Ph.prototype).R=function(){g_(this);for(var n=[],t=0;t<this.g.length;t++)n.push(this.h[this.g[t]]);return n},ct.T=function(){return g_(this),this.g.concat()},ct.get=function(n,t){return Ac(this.h,n)?this.h[n]:t},ct.set=function(n,t){Ac(this.h,n)||(this.i++,this.g.push(n)),this.h[n]=t},ct.forEach=function(n,t){for(var e=this.T(),i=0;i<e.length;i++){var r=e[i],o=this.get(r);n.call(t,o,r,this)}};var vb=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Tc(n,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,n instanceof Tc){this.g=void 0!==t?t:n.g,zu(this,n.j),this.s=n.s,__(this,n.i),y_(this,n.m),this.l=n.l,t=n.h;var e=new Up;e.i=t.i,t.g&&(e.g=new Ph(t.g),e.h=t.h),yI(this,e),this.o=n.o}else n&&(e=String(n).match(vb))?(this.g=!!t,zu(this,e[1]||"",!0),this.s=Bp(e[2]||""),__(this,e[3]||"",!0),y_(this,e[4]),this.l=Bp(e[5]||"",!0),yI(this,e[6]||"",!0),this.o=Bp(e[7]||"")):(this.g=!!t,this.h=new Up(null,this.g))}function Ir(n){return new Tc(n)}function zu(n,t,e){n.j=e?Bp(t,!0):t,n.j&&(n.j=n.j.replace(/:$/,""))}function __(n,t,e){n.i=e?Bp(t,!0):t}function y_(n,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);n.m=t}else n.m=null}function yI(n,t,e){t instanceof Up?(n.h=t,function Fh(n,t){t&&!n.j&&(El(n),n.i=null,n.g.forEach(function(e,i){var r=i.toLowerCase();i!=r&&(Gu(this,i),iE(this,r,e))},n)),n.j=t}(n.h,n.g)):(e||(t=$u(t,Cb)),n.h=new Up(t,n.g))}function jn(n,t,e){n.h.set(t,e)}function Lp(n){return jn(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function Bp(n,t){return n?t?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function $u(n,t,e){return"string"==typeof n?(n=encodeURI(n).replace(t,tE),e&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function tE(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}Tc.prototype.toString=function(){var n=[],t=this.j;t&&n.push($u(t,wb,!0),":");var e=this.i;return(e||"file"==t)&&(n.push("//"),(t=this.s)&&n.push($u(t,wb,!0),"@"),n.push(encodeURIComponent(String(e)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(e=this.m)&&n.push(":",String(e))),(e=this.l)&&(this.i&&"/"!=e.charAt(0)&&n.push("/"),n.push($u(e,"/"==e.charAt(0)?vI:nE,!0))),(e=this.h.toString())&&n.push("?",e),(e=this.o)&&n.push("#",$u(e,bI)),n.join("")};var wb=/[#\/\?@]/g,nE=/[#\?:]/g,vI=/[#\?]/g,Cb=/[#\?@]/g,bI=/#/g;function Up(n,t){this.h=this.g=null,this.i=n||null,this.j=!!t}function El(n){n.g||(n.g=new Ph,n.h=0,n.i&&function eE(n,t){if(n){n=n.split("&");for(var e=0;e<n.length;e++){var i=n[e].indexOf("="),r=null;if(0<=i){var o=n[e].substring(0,i);r=n[e].substring(i+1)}else o=n[e];t(o,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}(n.i,function(t,e){n.add(decodeURIComponent(t.replace(/\+/g," ")),e)}))}function Gu(n,t){El(n),t=Nh(n,t),Ac(n.g.h,t)&&(n.i=null,n.h-=n.g.get(t).length,Ac((n=n.g).h,t)&&(delete n.h[t],n.i--,n.g.length>2*n.i&&g_(n)))}function Eb(n,t){return El(n),t=Nh(n,t),Ac(n.g.h,t)}function iE(n,t,e){Gu(n,t),0<e.length&&(n.i=null,n.g.set(Nh(n,t),Ah(e)),n.h+=e.length)}function Nh(n,t){return t=String(t),n.j&&(t=t.toLowerCase()),t}function rE(n){this.l=n||CI,n=jt.PerformanceNavigationTiming?0<(n=jt.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(jt.g&&jt.g.Ea&&jt.g.Ea()&&jt.g.Ea().Zb),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(ct=Up.prototype).add=function(n,t){El(this),this.i=null,n=Nh(this,n);var e=this.g.get(n);return e||this.g.set(n,e=[]),e.push(t),this.h+=1,this},ct.forEach=function(n,t){El(this),this.g.forEach(function(e,i){zv(e,function(r){n.call(t,r,i,this)},this)},this)},ct.T=function(){El(this);for(var n=this.g.R(),t=this.g.T(),e=[],i=0;i<t.length;i++)for(var r=n[i],o=0;o<r.length;o++)e.push(t[i]);return e},ct.R=function(n){El(this);var t=[];if("string"==typeof n)Eb(this,n)&&(t=$v(t,this.g.get(Nh(this,n))));else{n=this.g.R();for(var e=0;e<n.length;e++)t=$v(t,n[e])}return t},ct.set=function(n,t){return El(this),this.i=null,Eb(this,n=Nh(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[t]),this.h+=1,this},ct.get=function(n,t){return n&&0<(n=this.R(n)).length?String(n[0]):t},ct.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var n=[],t=this.g.T(),e=0;e<t.length;e++){var i=t[e],r=encodeURIComponent(String(i));i=this.R(i);for(var o=0;o<i.length;o++){var u=r;""!==i[o]&&(u+="="+encodeURIComponent(String(i[o]))),n.push(u)}}return this.i=n.join("&")};var CI=10;function sE(n){return!!n.h||!!n.g&&n.g.size>=n.j}function Ho(n){return n.h?1:n.g?n.g.size:0}function jp(n,t){return n.h?n.h==t:!!n.g&&n.g.has(t)}function v_(n,t){n.g?n.g.add(t):n.h=t}function Db(n,t){n.h&&n.h==t?n.h=null:n.g&&n.g.has(t)&&n.g.delete(t)}function Ab(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let t=n.i;for(const e of n.g.values())t=t.concat(e.D);return t}return Ah(n.i)}function b_(){}function EI(){this.g=new b_}function DI(n,t,e){const i=e||"";try{XC(n,function(r,o){let u=r;wp(r)&&(u=Dc(r)),t.push(i+o+"="+encodeURIComponent(u))})}catch(r){throw t.push(i+"type="+encodeURIComponent("_badmap")),r}}function w_(n,t,e,i,r){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,r(i)}catch(o){}}function Lh(n){this.l=n.$b||null,this.j=n.ib||!1}function Tb(n,t){cr.call(this),this.D=n,this.u=t,this.m=void 0,this.readyState=C_,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}rE.prototype.cancel=function(){if(this.i=Ab(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},b_.prototype.stringify=function(n){return jt.JSON.stringify(n,void 0)},b_.prototype.parse=function(n){return jt.JSON.parse(n,void 0)},lr(Lh,ub),Lh.prototype.g=function(){return new Tb(this.l,this.j)},Lh.prototype.i=function(n){return function(){return n}}({}),lr(Tb,cr);var C_=0;function oE(n){n.j.read().then(n.Sa.bind(n)).catch(n.ha.bind(n))}function Hp(n){n.readyState=4,n.l=null,n.j=null,n.A=null,E_(n)}function E_(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(ct=Tb.prototype).open=function(n,t){if(this.readyState!=C_)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=t,this.readyState=1,E_(this)},ct.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(t.body=n),(this.D||jt).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))},ct.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Hp(this)),this.readyState=C_},ct.Va=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,E_(this)),this.g&&(this.readyState=3,E_(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==jt.ReadableStream&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;oE(this)}else n.text().then(this.Ua.bind(this),this.ha.bind(this))},ct.Sa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var t=n.value?n.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!n.done}))&&(this.response=this.responseText+=t)}n.done?Hp(this):E_(this),3==this.readyState&&oE(this)}},ct.Ua=function(n){this.g&&(this.response=this.responseText=n,Hp(this))},ct.Ta=function(n){this.g&&(this.response=n,Hp(this))},ct.ha=function(){this.g&&Hp(this)},ct.setRequestHeader=function(n,t){this.v.append(n,t)},ct.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},ct.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],t=this.h.entries();for(var e=t.next();!e.done;)n.push((e=e.value)[0]+": "+e[1]),e=t.next();return n.join("\r\n")},Object.defineProperty(Tb.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var e1=jt.JSON.parse;function mi(n){cr.call(this),this.headers=new Ph,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=aE,this.K=this.L=!1}lr(mi,cr);var aE="",lE=/^https?$/i,cE=["POST","PUT"];function va(n){return"content-type"==n.toLowerCase()}function TI(n,t){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=t,n.m=5,II(n),zp(n)}function II(n){n.D||(n.D=!0,Tr(n,"complete"),Tr(n,"error"))}function Ib(n){if(n.h&&void 0!==Zg&&(!n.C[1]||4!=Dl(n)||2!=n.ba()))if(n.v&&4==Dl(n))zC(n.Fa,0,n);else if(Tr(n,"readystatechange"),4==Dl(n)){n.h=!1;try{const h=n.ba();e:switch(h){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var e;if(!(e=t)){var i;if(i=0===h){var r=String(n.H).match(vb)[1]||null;if(!r&&jt.self&&jt.self.location){var o=jt.self.location.protocol;r=o.substr(0,o.length-1)}i=!lE.test(r?r.toLowerCase():"")}e=i}if(e)Tr(n,"complete"),Tr(n,"success");else{n.m=6;try{var u=2<Dl(n)?n.g.statusText:""}catch(_){u=""}n.j=u+" ["+n.ba()+"]",II(n)}}finally{zp(n)}}}function zp(n,t){if(n.g){Sb(n);const e=n.g,i=n.C[0]?bp:null;n.g=null,n.C=null,t||Tr(n,"ready");try{e.onreadystatechange=i}catch(r){}}}function Sb(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(jt.clearTimeout(n.A),n.A=null)}function Dl(n){return n.g?n.g.readyState:0}function SI(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case aE:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch(t){return null}}function $p(n,t,e){e:{for(i in e){var i=!1;break e}i=!0}i||(e=function uE(n){let t="";return Ep(n,function(e,i){t+=i,t+=":",t+=e,t+="\r\n"}),t}(e),"string"==typeof n?null!=e&&encodeURIComponent(String(e)):jn(n,t,e))}function Gp(n,t,e){return e&&e.internalChannelParams&&e.internalChannelParams[n]||t}function D_(n){this.za=0,this.l=[],this.h=new Gr,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Gp("failFast",!1,n),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Gp("baseRetryDelayMs",5e3,n),this.$a=Gp("retryDelaySeedMs",1e4,n),this.Ya=Gp("forwardChannelMaxRetries",2,n),this.ra=Gp("forwardChannelRequestTimeoutMs",2e4,n),this.qa=n&&n.xmlHttpFactory||void 0,this.Ba=n&&n.Yb||!1,this.K=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.J="",this.i=new rE(n&&n.concurrentRequestLimit),this.Ca=new EI,this.ja=n&&n.fastHandshake||!1,this.Ra=n&&n.Wb||!1,n&&n.Aa&&this.h.Aa(),n&&n.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&n&&n.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!n||!1!==n.Xb}function Mb(n){if(dE(n),3==n.G){var t=n.V++,e=Ir(n.F);jn(e,"SID",n.J),jn(e,"RID",t),jn(e,"TYPE","terminate"),Ya(n,e),(t=new f_(n,n.h,t,void 0)).K=2,t.v=Lp(Ir(e)),e=!1,jt.navigator&&jt.navigator.sendBeacon&&(e=jt.navigator.sendBeacon(t.v.toString(),"")),!e&&jt.Image&&((new Image).src=t.v,e=!0),e||(t.g=S_(t.l,null),t.g.ea(t.v)),t.F=Date.now(),Fp(t)}Yp(n)}function A_(n){n.g&&(Rb(n),n.g.cancel(),n.g=null)}function dE(n){A_(n),n.u&&(jt.clearTimeout(n.u),n.u=null),eo(n),n.i.cancel(),n.m&&("number"==typeof n.m&&jt.clearTimeout(n.m),n.m=null)}function xb(n,t){n.l.push(new class{constructor(n,t){this.h=n,this.g=t}}(n.Za++,t)),3==n.G&&T_(n)}function T_(n){sE(n.i)||n.m||(n.m=!0,a_(n.Ha,n),n.C=0)}function qp(n,t){var e;e=t?t.m:n.V++;const i=Ir(n.F);jn(i,"SID",n.J),jn(i,"RID",e),jn(i,"AID",n.U),Ya(n,i),n.o&&n.s&&$p(i,n.o,n.s),e=new f_(n,n.h,e,n.C+1),null===n.o&&(e.H=n.s),t&&(n.l=t.D.concat(n.l)),t=hE(n,e,1e3),e.setTimeout(Math.round(.5*n.ra)+Math.round(.5*n.ra*Math.random())),v_(n.i,e),Pp(e,i,t)}function Ya(n,t){n.j&&XC({},function(e,i){jn(t,i,e)})}function hE(n,t,e){e=Math.min(n.l.length,e);var i=n.j?Ar(n.j.Oa,n.j,n):null;e:{var r=n.l;let o=-1;for(;;){const u=["count="+e];-1==o?0<e?(o=r[0].h,u.push("ofs="+o)):o=0:u.push("ofs="+o);let h=!0;for(let _=0;_<e;_++){let b=r[_].h;const T=r[_].g;if(b-=o,0>b)o=Math.max(0,r[_].h-100),h=!1;else try{DI(T,u,"req"+b+"_")}catch(M){i&&i(T)}}if(h){i=u.join("&");break e}}}return n=n.l.splice(0,e),t.D=n,i}function Vh(n){n.g||n.u||(n.Y=1,a_(n.Ga,n),n.A=0)}function kb(n){return!(n.g||n.u||3<=n.A||(n.Y++,n.u=xp(Ar(n.Ga,n),Sr(n,n.A)),n.A++,0))}function Rb(n){null!=n.B&&(jt.clearTimeout(n.B),n.B=null)}function I_(n){n.g=new f_(n,n.h,"rpc",n.Y),null===n.o&&(n.g.H=n.s),n.g.O=0;var t=Ir(n.oa);jn(t,"RID","rpc"),jn(t,"SID",n.J),jn(t,"CI",n.N?"0":"1"),jn(t,"AID",n.U),Ya(n,t),jn(t,"TYPE","xmlhttp"),n.o&&n.s&&$p(t,n.o,n.s),n.K&&n.g.setTimeout(n.K);var e=n.g;n=n.la,e.K=1,e.v=Lp(Ir(t)),e.s=null,e.U=!0,QC(e,n)}function eo(n){null!=n.v&&(jt.clearTimeout(n.v),n.v=null)}function Bh(n,t){var e=null;if(n.g==t){eo(n),Rb(n),n.g=null;var i=2}else{if(!jp(n.i,t))return;e=t.D,Db(n.i,t),i=1}if(n.I=t.N,0!=n.G)if(t.i)if(1==i){e=t.s?t.s.length:0,t=Date.now()-t.F;var r=n.C;Tr(i=kh(),new cb(i,e,t,r)),T_(n)}else Vh(n);else if(3==(r=t.o)||0==r&&0<n.I||!(1==i&&function MI(n,t){return!(Ho(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.l=t.D.concat(n.l),0):1==n.G||2==n.G||n.C>=(n.Xa?0:n.Ya)||(n.m=xp(Ar(n.Ha,n,t),Sr(n,n.C)),n.C++,0)))}(n,t)||2==i&&kb(n)))switch(e&&0<e.length&&(t=n.i,t.i=t.i.concat(e)),r){case 1:to(n,5);break;case 4:to(n,10);break;case 3:to(n,6);break;default:to(n,2)}}function Sr(n,t){let e=n.Pa+Math.floor(Math.random()*n.$a);return n.j||(e*=2),e*t}function to(n,t){if(n.h.info("Error code "+t),2==t){var e=null;n.j&&(e=null);var i=Ar(n.jb,n);e||(e=new Tc("//www.google.com/images/cleardot.gif"),jt.location&&"http"==jt.location.protocol||zu(e,"https"),Lp(e)),function AI(n,t){const e=new Gr;if(jt.Image){const i=new Image;i.onload=Wg(w_,e,i,"TestLoadImage: loaded",!0,t),i.onerror=Wg(w_,e,i,"TestLoadImage: error",!1,t),i.onabort=Wg(w_,e,i,"TestLoadImage: abort",!1,t),i.ontimeout=Wg(w_,e,i,"TestLoadImage: timeout",!1,t),jt.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=n}else t(!1)}(e.toString(),i)}else hs(2);n.G=0,n.j&&n.j.va(t),Yp(n),dE(n)}function Yp(n){n.G=0,n.I=-1,n.j&&((0!=Ab(n.i).length||0!=n.l.length)&&(n.i.i.length=0,Ah(n.l),n.l.length=0),n.j.ua())}function no(n,t,e){let i=function bb(n){return n instanceof Tc?Ir(n):new Tc(n,void 0)}(e);if(""!=i.i)t&&__(i,t+"."+i.i),y_(i,i.m);else{const r=jt.location;i=function Vp(n,t,e,i){var r=new Tc(null,void 0);return n&&zu(r,n),t&&__(r,t),e&&y_(r,e),i&&(r.l=i),r}(r.protocol,t?t+"."+r.hostname:r.hostname,+r.port,e)}return n.aa&&Ep(n.aa,function(r,o){jn(i,o,r)}),e=n.sa,(t=n.D)&&e&&jn(i,t,e),jn(i,"VER",n.ma),Ya(n,i),i}function S_(n,t,e){if(t&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=new mi(e&&n.Ba&&!n.qa?new Lh({ib:!0}):n.qa)).L=n.H,t}function qu(){}function Al(){if(Cc&&!(10<=Number(Kv)))throw Error("Environmental error: no available transport.")}function ur(n,t){cr.call(this),this.g=new D_(t),this.l=n,this.h=t&&t.messageUrlParams||null,n=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(n?n["X-WebChannel-Content-Type"]=t.messageContentType:n={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(n?n["X-WebChannel-Client-Profile"]=t.ya:n={"X-WebChannel-Client-Profile":t.ya}),this.g.P=n,(n=t&&t.httpHeadersOverwriteParam)&&!Ts(n)&&(this.g.o=n),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Ts(t)&&(this.g.D=t,null!==(n=this.h)&&t in n&&t in(n=this.h)&&delete n[t]),this.j=new ba(this)}function Yu(n){jo.call(this);var t=n.__sm__;if(t){e:{for(const e in t){n=e;break e}n=void 0}(this.i=n)&&(n=this.i,t=null!==t&&n in t?t[n]:void 0),this.data=t}else this.data=n}function Zu(){Op.call(this),this.status=1}function ba(n){this.g=n}(ct=mi.prototype).ea=function(n,t,e,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);t=t?t.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():fb.g(),this.C=function db(n){return n.h||(n.h=n.i())}(this.u?this.u:fb),this.g.onreadystatechange=Ar(this.Fa,this);try{this.F=!0,this.g.open(t,String(n),!0),this.F=!1}catch(o){return void TI(this,o)}n=e||"";const r=new Ph(this.headers);i&&XC(i,function(o,u){r.set(u,o)}),i=function OC(n){e:{var t=va;const e=n.length,i="string"==typeof n?n.split(""):n;for(let r=0;r<e;r++)if(r in i&&t.call(void 0,i[r],r,n)){t=r;break e}t=-1}return 0>t?null:"string"==typeof n?n.charAt(t):n[t]}(r.T()),e=jt.FormData&&n instanceof jt.FormData,!(0<=Ht(cE,t))||i||e||r.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),r.forEach(function(o,u){this.g.setRequestHeader(u,o)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Sb(this),0<this.B&&((this.K=function t1(n){return Cc&&function VC(){return function Qg(n){var t=Zk;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=n(9)}(function(){let n=0;const t=Gv(String(Xg)).split("."),e=Gv("9").split("."),i=Math.max(t.length,e.length);for(let u=0;0==n&&u<i;u++){var r=t[u]||"",o=e[u]||"";do{if(r=/(\d*)(\D*)(.*)/.exec(r)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],0==r[0].length&&0==o[0].length)break;n=Cp(0==r[1].length?0:parseInt(r[1],10),0==o[1].length?0:parseInt(o[1],10))||Cp(0==r[2].length,0==o[2].length)||Cp(r[2],o[2]),r=r[3],o=o[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Ar(this.pa,this)):this.A=zC(this.pa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(o){TI(this,o)}},ct.pa=function(){void 0!==Zg&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Tr(this,"timeout"),this.abort(8))},ct.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,Tr(this,"complete"),Tr(this,"abort"),zp(this))},ct.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),zp(this,!0)),mi.Z.M.call(this)},ct.Fa=function(){this.s||(this.F||this.v||this.l?Ib(this):this.cb())},ct.cb=function(){Ib(this)},ct.ba=function(){try{return 2<Dl(this)?this.g.status:-1}catch(n){return-1}},ct.ga=function(){try{return this.g?this.g.responseText:""}catch(n){return""}},ct.Qa=function(n){if(this.g){var t=this.g.responseText;return n&&0==t.indexOf(n)&&(t=t.substring(n.length)),e1(t)}},ct.Da=function(){return this.m},ct.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(ct=D_.prototype).ma=8,ct.G=1,ct.hb=function(n){try{this.h.info("Origin Trials invoked: "+n)}catch(t){}},ct.Ha=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.V=Math.floor(1e5*Math.random()),n=this.V++;const r=new f_(this,this.h,n,void 0);let o=this.s;if(this.P&&(o?(o=uI(o),dI(o,this.P)):o=this.P),null===this.o&&(r.H=o),this.ja)e:{for(var t=0,e=0;e<this.l.length;e++){var i=this.l[e];if(void 0===(i="__data__"in i.g&&"string"==typeof(i=i.g.__data__)?i.length:void 0))break;if(4096<(t+=i)){t=e;break e}if(4096===t||e===this.l.length-1){t=e+1;break e}}t=1e3}else t=1e3;t=hE(this,r,t),jn(e=Ir(this.F),"RID",n),jn(e,"CVER",22),this.D&&jn(e,"X-HTTP-Session-Id",this.D),Ya(this,e),this.o&&o&&$p(e,this.o,o),v_(this.i,r),this.Ra&&jn(e,"TYPE","init"),this.ja?(jn(e,"$req",t),jn(e,"SID","null"),r.$=!0,Pp(r,e,null)):Pp(r,e,t),this.G=2}}else 3==this.G&&(n?qp(this,n):0==this.l.length||sE(this.i)||qp(this))},ct.Ga=function(){if(this.u=null,I_(this),this.$&&!(this.L||null==this.g||0>=this.O)){var n=2*this.O;this.h.info("BP detection timer enabled: "+n),this.B=xp(Ar(this.bb,this),n)}},ct.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,hs(10),A_(this),I_(this))},ct.ab=function(){null!=this.v&&(this.v=null,A_(this),kb(this),hs(19))},ct.jb=function(n){n?(this.h.info("Successfully pinged google.com"),hs(2)):(this.h.info("Failed to ping google.com"),hs(1))},(ct=qu.prototype).xa=function(){},ct.wa=function(){},ct.va=function(){},ct.ua=function(){},ct.Oa=function(){},Al.prototype.g=function(n,t){return new ur(n,t)},lr(ur,cr),ur.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var n=this.g,t=this.l,e=this.h||void 0;n.Wa&&(n.h.info("Origin Trials enabled."),a_(Ar(n.hb,n,t))),hs(0),n.W=t,n.aa=e||{},n.N=n.X,n.F=no(n,null,n.W),T_(n)},ur.prototype.close=function(){Mb(this.g)},ur.prototype.u=function(n){if("string"==typeof n){var t={};t.__data__=n,xb(this.g,t)}else this.v?((t={}).__data__=Dc(n),xb(this.g,t)):xb(this.g,n)},ur.prototype.M=function(){this.g.j=null,delete this.j,Mb(this.g),delete this.g,ur.Z.M.call(this)},lr(Yu,jo),lr(Zu,Op),lr(ba,qu),ba.prototype.xa=function(){Tr(this.g,"a")},ba.prototype.wa=function(n){Tr(this.g,new Yu(n))},ba.prototype.va=function(n){Tr(this.g,new Zu(n))},ba.prototype.ua=function(){Tr(this.g,"b")},Al.prototype.createWebChannel=Al.prototype.g,ur.prototype.send=ur.prototype.u,ur.prototype.open=ur.prototype.m,ur.prototype.close=ur.prototype.close,kp.NO_ERROR=0,kp.TIMEOUT=8,kp.HTTP_ERROR=6,KC.COMPLETE="complete",hb.EventType=Rp,Rp.OPEN="a",Rp.CLOSE="b",Rp.ERROR="c",Rp.MESSAGE="d",cr.prototype.listen=cr.prototype.N,mi.prototype.listenOnce=mi.prototype.O,mi.prototype.getLastError=mi.prototype.La,mi.prototype.getLastErrorCode=mi.prototype.Da,mi.prototype.getStatus=mi.prototype.ba,mi.prototype.getResponseJson=mi.prototype.Qa,mi.prototype.getResponseText=mi.prototype.ga,mi.prototype.send=mi.prototype.ea;var Uh=$a.createWebChannelTransport=function(){return new Al},jh=$a.getStatEventTarget=function(){return kh()},Ic=$a.ErrorCode=kp,fE=$a.EventType=KC,pE=$a.Event=xh,Ob=$a.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},mE=$a.FetchXmlHttpFactory=Lh,Zp=$a.WebChannel=hb,gE=$a.XhrIo=mi;const Pb="@firebase/firestore";class dr{constructor(t){this.uid=t}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}dr.UNAUTHENTICATED=new dr(null),dr.GOOGLE_CREDENTIALS=new dr("google-credentials-uid"),dr.FIRST_PARTY=new dr("first-party-uid"),dr.MOCK_USER=new dr("mock-user");let Wu="9.6.10";const Sc=new bc.Yd("@firebase/firestore");function M_(){return Sc.logLevel}function $e(n,...t){if(Sc.logLevel<=bc.in.DEBUG){const e=t.map(Nb);Sc.debug(`Firestore (${Wu}): ${n}`,...e)}}function Di(n,...t){if(Sc.logLevel<=bc.in.ERROR){const e=t.map(Nb);Sc.error(`Firestore (${Wu}): ${n}`,...e)}}function Wp(n,...t){if(Sc.logLevel<=bc.in.WARN){const e=t.map(Nb);Sc.warn(`Firestore (${Wu}): ${n}`,...e)}}function Nb(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch(e){return n}}function ut(n="Unexpected state"){const t=`FIRESTORE (${Wu}) INTERNAL ASSERTION FAILED: `+n;throw Di(t),new Error(t)}function Vt(n,t){n||ut()}function Xe(n,t){return n}const Ce={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class je extends Pt.ZR{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class hr{constructor(){this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}}class x_{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class Fb{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable(()=>e(dr.UNAUTHENTICATED))}shutdown(){}}class kI{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable(()=>e(this.token.user))}shutdown(){this.changeListener=null}}class n1{constructor(t){this.t=t,this.currentUser=dr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){var i=this;let r=this.i;const o=b=>this.i!==r?(r=this.i,e(b)):Promise.resolve();let u=new hr;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new hr,t.enqueueRetryable(()=>o(this.currentUser))};const h=()=>{const b=u;t.enqueueRetryable((0,be.Z)(function*(){yield b.promise,yield o(i.currentUser)}))},_=b=>{$e("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=b,this.auth.addAuthTokenListener(this.o),h()};this.t.onInit(b=>_(b)),setTimeout(()=>{if(!this.auth){const b=this.t.getImmediate({optional:!0});b?_(b):($e("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new hr)}},0),h()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then(i=>this.i!==t?($e("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Vt("string"==typeof i.accessToken),new x_(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const t=this.auth&&this.auth.getUid();return Vt(null===t||"string"==typeof t),new dr(t)}}class r1{constructor(t,e,i){this.type="FirstParty",this.user=dr.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",e);const r=t.auth.getAuthHeaderValueForFirstParty([]);r&&this.headers.set("Authorization",r),i&&this.headers.set("X-Goog-Iam-Authorization-Token",i)}}class s1{constructor(t,e,i){this.h=t,this.l=e,this.m=i}getToken(){return Promise.resolve(new r1(this.h,this.l,this.m))}start(t,e){t.enqueueRetryable(()=>e(dr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class yE{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class vE{constructor(t){this.g=t,this.forceRefresh=!1,this.appCheck=null,this.p=null}start(t,e){const i=o=>{null!=o.error&&$e("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const u=o.token!==this.p;return this.p=o.token,$e("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?e(o.token):Promise.resolve()};this.o=o=>{t.enqueueRetryable(()=>i(o))};const r=o=>{$e("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.g.onInit(o=>r(o)),setTimeout(()=>{if(!this.appCheck){const o=this.g.getImmediate({optional:!0});o?r(o):$e("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(e=>e?(Vt("string"==typeof e.token),this.p=e.token,new yE(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}class io{constructor(t,e){this.previousValue=t,e&&(e.sequenceNumberHandler=i=>this.I(i),this.T=i=>e.writeSequenceNumber(i))}I(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.T&&this.T(t),t}}function Hh(n){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),e=new Uint8Array(n);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(e);else for(let i=0;i<n;i++)e[i]=Math.floor(256*Math.random());return e}io.A=-1;class bE{static R(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length;let i="";for(;i.length<20;){const r=Hh(40);for(let o=0;o<r.length;++o)i.length<20&&r[o]<e&&(i+=t.charAt(r[o]%t.length))}return i}}function Jt(n,t){return n<t?-1:n>t?1:0}function zh(n,t,e){return n.length===t.length&&n.every((i,r)=>e(i,t[r]))}function Lb(n){return n+"\0"}class yn{constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new je(Ce.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new je(Ce.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new je(Ce.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new je(Ce.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return yn.fromMillis(Date.now())}static fromDate(t){return yn.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),i=Math.floor(1e6*(t-1e3*e));return new yn(e,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?Jt(this.nanoseconds,t.nanoseconds):Jt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Ot{constructor(t){this.timestamp=t}static fromTimestamp(t){return new Ot(t)}static min(){return new Ot(new yn(0,0))}static max(){return new Ot(new yn(253402300799,999999999))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function Vb(n){let t=0;for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t++;return t}function Ku(n,t){for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t(e,n[e])}function wE(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}class Kp{constructor(t,e,i){void 0===e?e=0:e>t.length&&ut(),void 0===i?i=t.length-e:i>t.length-e&&ut(),this.segments=t,this.offset=e,this.len=i}get length(){return this.len}isEqual(t){return 0===Kp.comparator(this,t)}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof Kp?t.forEach(i=>{e.push(i)}):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return this.construct(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return 0===this.length}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,i=this.limit();e<i;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const i=Math.min(t.length,e.length);for(let r=0;r<i;r++){const o=t.get(r),u=e.get(r);if(o<u)return-1;if(o>u)return 1}return t.length<e.length?-1:t.length>e.length?1:0}}class pn extends Kp{construct(t,e,i){return new pn(t,e,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...t){const e=[];for(const i of t){if(i.indexOf("//")>=0)throw new je(Ce.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);e.push(...i.split("/").filter(r=>r.length>0))}return new pn(e)}static emptyPath(){return new pn([])}}const RI=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ki extends Kp{construct(t,e,i){return new Ki(t,e,i)}static isValidIdentifier(t){return RI.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ki.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Ki(["__name__"])}static fromServerFormat(t){const e=[];let i="",r=0;const o=()=>{if(0===i.length)throw new je(Ce.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(i),i=""};let u=!1;for(;r<t.length;){const h=t[r];if("\\"===h){if(r+1===t.length)throw new je(Ce.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const _=t[r+1];if("\\"!==_&&"."!==_&&"`"!==_)throw new je(Ce.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=_,r+=2}else"`"===h?(u=!u,r++):"."!==h||u?(i+=h,r++):(o(),r++)}if(o(),u)throw new je(Ce.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Ki(e)}static emptyPath(){return new Ki([])}}class $h{constructor(t){this.fields=t,t.sort(Ki.comparator)}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return zh(this.fields,t.fields,(e,i)=>e.isEqual(i))}}class Ni{constructor(t){this.binaryString=t}static fromBase64String(t){const e=atob(t);return new Ni(e)}static fromUint8Array(t){const e=function(i){let r="";for(let o=0;o<i.length;++o)r+=String.fromCharCode(i[o]);return r}(t);return new Ni(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(t){const e=new Uint8Array(t.length);for(let i=0;i<t.length;i++)e[i]=t.charCodeAt(i);return e}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Jt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Ni.EMPTY_BYTE_STRING=new Ni("");const Bb=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Qu(n){if(Vt(!!n),"string"==typeof n){let t=0;const e=Bb.exec(n);if(Vt(!!e),e[1]){let r=e[1];r=(r+"000000000").substr(0,9),t=Number(r)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:ti(n.seconds),nanos:ti(n.nanos)}}function ti(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function Ju(n){return"string"==typeof n?Ni.fromBase64String(n):Ni.fromUint8Array(n)}function EE(n){var t,e;return"server_timestamp"===(null===(e=((null===(t=null==n?void 0:n.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===e?void 0:e.stringValue)}function Gh(n){const t=n.mapValue.fields.__previous_value__;return EE(t)?Gh(t):t}function qh(n){const t=Qu(n.mapValue.fields.__local_write_time__.timestampValue);return new yn(t.seconds,t.nanos)}class Ub{constructor(t,e,i,r,o,u,h,_){this.databaseId=t,this.appId=e,this.persistenceKey=i,this.host=r,this.ssl=o,this.forceLongPolling=u,this.autoDetectLongPolling=h,this.useFetchStreams=_}}class wa{constructor(t,e){this.projectId=t,this.database=e||"(default)"}static empty(){return new wa("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(t){return t instanceof wa&&t.projectId===this.projectId&&t.database===this.database}}function Xu(n){return null==n}function Mc(n){return 0===n&&1/n==-1/0}function Qp(n){return"number"==typeof n&&Number.isInteger(n)&&!Mc(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}class Ke{constructor(t){this.path=t}static fromPath(t){return new Ke(pn.fromString(t))}static fromName(t){return new Ke(pn.fromString(t).popFirst(5))}static empty(){return new Ke(pn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return null!==t&&0===pn.comparator(this.path,t.path)}toString(){return this.path.toString()}static comparator(t,e){return pn.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new Ke(new pn(t.slice()))}}const OI={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},DE={nullValue:"NULL_VALUE"};function Za(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?EE(n)?4:AE(n)?9:10:ut()}function ro(n,t){if(n===t)return!0;const e=Za(n);if(e!==Za(t))return!1;switch(e){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===t.booleanValue;case 4:return qh(n).isEqual(qh(t));case 3:return function(i,r){if("string"==typeof i.timestampValue&&"string"==typeof r.timestampValue&&i.timestampValue.length===r.timestampValue.length)return i.timestampValue===r.timestampValue;const o=Qu(i.timestampValue),u=Qu(r.timestampValue);return o.seconds===u.seconds&&o.nanos===u.nanos}(n,t);case 5:return n.stringValue===t.stringValue;case 6:return r=t,Ju(n.bytesValue).isEqual(Ju(r.bytesValue));case 7:return n.referenceValue===t.referenceValue;case 8:return function(i,r){return ti(i.geoPointValue.latitude)===ti(r.geoPointValue.latitude)&&ti(i.geoPointValue.longitude)===ti(r.geoPointValue.longitude)}(n,t);case 2:return function(i,r){if("integerValue"in i&&"integerValue"in r)return ti(i.integerValue)===ti(r.integerValue);if("doubleValue"in i&&"doubleValue"in r){const o=ti(i.doubleValue),u=ti(r.doubleValue);return o===u?Mc(o)===Mc(u):isNaN(o)&&isNaN(u)}return!1}(n,t);case 9:return zh(n.arrayValue.values||[],t.arrayValue.values||[],ro);case 10:return function(i,r){const o=i.mapValue.fields||{},u=r.mapValue.fields||{};if(Vb(o)!==Vb(u))return!1;for(const h in o)if(o.hasOwnProperty(h)&&(void 0===u[h]||!ro(o[h],u[h])))return!1;return!0}(n,t);default:return ut()}var r}function Yh(n,t){return void 0!==(n.values||[]).find(e=>ro(e,t))}function Tl(n,t){if(n===t)return 0;const e=Za(n),i=Za(t);if(e!==i)return Jt(e,i);switch(e){case 0:case 9007199254740991:return 0;case 1:return Jt(n.booleanValue,t.booleanValue);case 2:return function(r,o){const u=ti(r.integerValue||r.doubleValue),h=ti(o.integerValue||o.doubleValue);return u<h?-1:u>h?1:u===h?0:isNaN(u)?isNaN(h)?0:-1:1}(n,t);case 3:return k_(n.timestampValue,t.timestampValue);case 4:return k_(qh(n),qh(t));case 5:return Jt(n.stringValue,t.stringValue);case 6:return function(r,o){const u=Ju(r),h=Ju(o);return u.compareTo(h)}(n.bytesValue,t.bytesValue);case 7:return function(r,o){const u=r.split("/"),h=o.split("/");for(let _=0;_<u.length&&_<h.length;_++){const b=Jt(u[_],h[_]);if(0!==b)return b}return Jt(u.length,h.length)}(n.referenceValue,t.referenceValue);case 8:return function(r,o){const u=Jt(ti(r.latitude),ti(o.latitude));return 0!==u?u:Jt(ti(r.longitude),ti(o.longitude))}(n.geoPointValue,t.geoPointValue);case 9:return function(r,o){const u=r.values||[],h=o.values||[];for(let _=0;_<u.length&&_<h.length;++_){const b=Tl(u[_],h[_]);if(b)return b}return Jt(u.length,h.length)}(n.arrayValue,t.arrayValue);case 10:return function(r,o){const u=r.fields||{},h=Object.keys(u),_=o.fields||{},b=Object.keys(_);h.sort(),b.sort();for(let T=0;T<h.length&&T<b.length;++T){const M=Jt(h[T],b[T]);if(0!==M)return M;const N=Tl(u[h[T]],_[b[T]]);if(0!==N)return N}return Jt(h.length,b.length)}(n.mapValue,t.mapValue);default:throw ut()}}function k_(n,t){if("string"==typeof n&&"string"==typeof t&&n.length===t.length)return Jt(n,t);const e=Qu(n),i=Qu(t),r=Jt(e.seconds,i.seconds);return 0!==r?r:Jt(e.nanos,i.nanos)}function ed(n){return R_(n)}function R_(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(i){const r=Qu(i);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?Ju(n.bytesValue).toBase64():"referenceValue"in n?Ke.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(t=n.geoPointValue).latitude},${t.longitude})`:"arrayValue"in n?function(i){let r="[",o=!0;for(const u of i.values||[])o?o=!1:r+=",",r+=R_(u);return r+"]"}(n.arrayValue):"mapValue"in n?function(i){const r=Object.keys(i.fields||{}).sort();let o="{",u=!0;for(const h of r)u?u=!1:o+=",",o+=`${h}:${R_(i.fields[h])}`;return o+"}"}(n.mapValue):ut();var t}function xc(n,t){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${t.path.canonicalString()}`}}function Jp(n){return!!n&&"integerValue"in n}function Xp(n){return!!n&&"arrayValue"in n}function jb(n){return!!n&&"nullValue"in n}function Hb(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Zh(n){return!!n&&"mapValue"in n}function Wh(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const t={mapValue:{fields:{}}};return Ku(n.mapValue.fields,(e,i)=>t.mapValue.fields[e]=Wh(i)),t}if(n.arrayValue){const t={arrayValue:{values:[]}};for(let e=0;e<(n.arrayValue.values||[]).length;++e)t.arrayValue.values[e]=Wh(n.arrayValue.values[e]);return t}return Object.assign({},n)}function AE(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function zb(n,t){return void 0===n?t:void 0===t||Tl(n,t)>0?n:t}function $b(n,t){return void 0===n?t:void 0===t||Tl(n,t)<0?n:t}class Mr{constructor(t){this.value=t}static empty(){return new Mr({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let i=0;i<t.length-1;++i)if(e=(e.mapValue.fields||{})[t.get(i)],!Zh(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=Wh(e)}setAll(t){let e=Ki.emptyPath(),i={},r=[];t.forEach((u,h)=>{if(!e.isImmediateParentOf(h)){const _=this.getFieldsMap(e);this.applyChanges(_,i,r),i={},r=[],e=h.popLast()}u?i[h.lastSegment()]=Wh(u):r.push(h.lastSegment())});const o=this.getFieldsMap(e);this.applyChanges(o,i,r)}delete(t){const e=this.field(t.popLast());Zh(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return ro(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let i=0;i<t.length;++i){let r=e.mapValue.fields[t.get(i)];Zh(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},e.mapValue.fields[t.get(i)]=r),e=r}return e.mapValue.fields}applyChanges(t,e,i){Ku(e,(r,o)=>t[r]=o);for(const r of i)delete t[r]}clone(){return new Mr(Wh(this.value))}}function O_(n){const t=[];return Ku(n.fields,(e,i)=>{const r=new Ki([e]);if(Zh(i)){const o=O_(i.mapValue).fields;if(0===o.length)t.push(r);else for(const u of o)t.push(r.child(u))}else t.push(r)}),new $h(t)}class Hn{constructor(t,e,i,r,o,u){this.key=t,this.documentType=e,this.version=i,this.readTime=r,this.data=o,this.documentState=u}static newInvalidDocument(t){return new Hn(t,0,Ot.min(),Ot.min(),Mr.empty(),0)}static newFoundDocument(t,e,i){return new Hn(t,1,e,Ot.min(),i,0)}static newNoDocument(t,e){return new Hn(t,2,e,Ot.min(),Mr.empty(),0)}static newUnknownDocument(t,e){return new Hn(t,3,e,Ot.min(),Mr.empty(),2)}convertToFoundDocument(t,e){return this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Mr.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Mr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(t){return t instanceof Hn&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Hn(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class em{constructor(t,e,i,r){this.indexId=t,this.collectionGroup=e,this.fields=i,this.indexState=r}}function P_(n){return n.fields.find(t=>2===t.kind)}function td(n){return n.fields.filter(t=>2!==t.kind)}em.UNKNOWN_ID=-1;class tm{constructor(t,e){this.fieldPath=t,this.kind=e}}class Kh{constructor(t,e){this.sequenceNumber=t,this.offset=e}static empty(){return new Kh(0,kc.min())}}function Gb(n,t){const e=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,r=Ot.fromTimestamp(1e9===i?new yn(e+1,0):new yn(e,i));return new kc(r,Ke.empty(),t)}function TE(n){return new kc(n.readTime,n.key,-1)}class kc{constructor(t,e,i){this.readTime=t,this.documentKey=e,this.largestBatchId=i}static min(){return new kc(Ot.min(),Ke.empty(),-1)}static max(){return new kc(Ot.max(),Ke.empty(),-1)}}function PI(n,t){let e=n.readTime.compareTo(t.readTime);return 0!==e?e:(e=Ke.comparator(n.documentKey,t.documentKey),0!==e?e:Jt(n.largestBatchId,t.largestBatchId))}class NI{constructor(t,e=null,i=[],r=[],o=null,u=null,h=null){this.path=t,this.collectionGroup=e,this.orderBy=i,this.filters=r,this.limit=o,this.startAt=u,this.endAt=h,this.P=null}}function qb(n,t=null,e=[],i=[],r=null,o=null,u=null){return new NI(n,t,e,i,r,o,u)}function nd(n){const t=Xe(n);if(null===t.P){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(i=>{return(r=i).field.canonicalString()+r.op.toString()+ed(r.value);var r}).join(","),e+="|ob:",e+=t.orderBy.map(i=>{return(r=i).field.canonicalString()+r.dir;var r}).join(","),Xu(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(i=>ed(i)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(i=>ed(i)).join(",")),t.P=e}return t.P}function Qh(n,t){if(n.limit!==t.limit||n.orderBy.length!==t.orderBy.length)return!1;for(let r=0;r<n.orderBy.length;r++)if(!Yb(n.orderBy[r],t.orderBy[r]))return!1;if(n.filters.length!==t.filters.length)return!1;for(let r=0;r<n.filters.length;r++)if((e=n.filters[r]).op!==(i=t.filters[r]).op||!e.field.isEqual(i.field)||!ro(e.value,i.value))return!1;var e,i;return n.collectionGroup===t.collectionGroup&&!!n.path.isEqual(t.path)&&!!Ca(n.startAt,t.startAt)&&Ca(n.endAt,t.endAt)}function N_(n){return Ke.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function F_(n,t){return n.filters.filter(e=>e instanceof fr&&e.field.isEqual(t))}class fr extends class{}{constructor(t,e,i){super(),this.field=t,this.op=e,this.value=i}static create(t,e,i){return t.isKeyField()?"in"===e||"not-in"===e?this.V(t,e,i):new FI(t,e,i):"array-contains"===e?new LI(t,i):"in"===e?new VI(t,i):"not-in"===e?new ME(t,i):"array-contains-any"===e?new BI(t,i):new fr(t,e,i)}static V(t,e,i){return"in"===e?new IE(t,i):new SE(t,i)}matches(t){const e=t.data.field(this.field);return"!="===this.op?null!==e&&this.v(Tl(e,this.value)):null!==e&&Za(this.value)===Za(e)&&this.v(Tl(e,this.value))}v(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return ut()}}S(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class FI extends fr{constructor(t,e,i){super(t,e,i),this.key=Ke.fromName(i.referenceValue)}matches(t){const e=Ke.comparator(t.key,this.key);return this.v(e)}}class IE extends fr{constructor(t,e){super(t,"in",e),this.keys=id(0,e)}matches(t){return this.keys.some(e=>e.isEqual(t.key))}}class SE extends fr{constructor(t,e){super(t,"not-in",e),this.keys=id(0,e)}matches(t){return!this.keys.some(e=>e.isEqual(t.key))}}function id(n,t){var e;return((null===(e=t.arrayValue)||void 0===e?void 0:e.values)||[]).map(i=>Ke.fromName(i.referenceValue))}class LI extends fr{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return Xp(e)&&Yh(e.arrayValue,this.value)}}class VI extends fr{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return null!==e&&Yh(this.value.arrayValue,e)}}class ME extends fr{constructor(t,e){super(t,"not-in",e)}matches(t){if(Yh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return null!==e&&!Yh(this.value.arrayValue,e)}}class BI extends fr{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!Xp(e)||!e.arrayValue.values)&&e.arrayValue.values.some(i=>Yh(this.value.arrayValue,i))}}class Il{constructor(t,e){this.position=t,this.inclusive=e}}class nm{constructor(t,e="asc"){this.field=t,this.dir=e}}function Yb(n,t){return n.dir===t.dir&&n.field.isEqual(t.field)}function L_(n,t,e){let i=0;for(let r=0;r<n.position.length;r++){const o=t[r],u=n.position[r];if(i=o.field.isKeyField()?Ke.comparator(Ke.fromName(u.referenceValue),e.key):Tl(u,e.data.field(o.field)),"desc"===o.dir&&(i*=-1),0!==i)break}return i}function Ca(n,t){if(null===n)return null===t;if(null===t||n.inclusive!==t.inclusive||n.position.length!==t.position.length)return!1;for(let e=0;e<n.position.length;e++)if(!ro(n.position[e],t.position[e]))return!1;return!0}class Sl{constructor(t,e=null,i=[],r=[],o=null,u="F",h=null,_=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=i,this.filters=r,this.limit=o,this.limitType=u,this.startAt=h,this.endAt=_,this.D=null,this.C=null}}function Zb(n,t,e,i,r,o,u,h){return new Sl(n,t,e,i,r,o,u,h)}function fs(n){return new Sl(n)}function Is(n){return!Xu(n.limit)&&"F"===n.limitType}function Ss(n){return!Xu(n.limit)&&"L"===n.limitType}function V_(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function B_(n){for(const t of n.filters)if(t.S())return t.field;return null}function Wb(n){return null!==n.collectionGroup}function Jh(n){const t=Xe(n);if(null===t.D){t.D=[];const e=B_(t),i=V_(t);if(null!==e&&null===i)e.isKeyField()||t.D.push(new nm(e)),t.D.push(new nm(Ki.keyField(),"asc"));else{let r=!1;for(const o of t.explicitOrderBy)t.D.push(o),o.field.isKeyField()&&(r=!0);if(!r){const o=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.D.push(new nm(Ki.keyField(),o))}}}return t.D}function zo(n){const t=Xe(n);if(!t.C)if("F"===t.limitType)t.C=qb(t.path,t.collectionGroup,Jh(t),t.filters,t.limit,t.startAt,t.endAt);else{const e=[];for(const o of Jh(t))e.push(new nm(o.field,"desc"===o.dir?"asc":"desc"));const i=t.endAt?new Il(t.endAt.position,!t.endAt.inclusive):null,r=t.startAt?new Il(t.startAt.position,!t.startAt.inclusive):null;t.C=qb(t.path,t.collectionGroup,e,t.filters,t.limit,i,r)}return t.C}function xE(n,t,e){return new Sl(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),t,e,n.startAt,n.endAt)}function rd(n,t){return Qh(zo(n),zo(t))&&n.limitType===t.limitType}function Xh(n){return`${nd(zo(n))}|lt:${n.limitType}`}function Kb(n){return`Query(target=${function Qi(n){let t=n.path.canonicalString();return null!==n.collectionGroup&&(t+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(t+=`, filters: [${n.filters.map(e=>{return`${(i=e).field.canonicalString()} ${i.op} ${ed(i.value)}`;var i}).join(", ")}]`),Xu(n.limit)||(t+=", limit: "+n.limit),n.orderBy.length>0&&(t+=`, orderBy: [${n.orderBy.map(e=>{return`${(i=e).field.canonicalString()} (${i.dir})`;var i}).join(", ")}]`),n.startAt&&(t+=", startAt: ",t+=n.startAt.inclusive?"b:":"a:",t+=n.startAt.position.map(e=>ed(e)).join(",")),n.endAt&&(t+=", endAt: ",t+=n.endAt.inclusive?"a:":"b:",t+=n.endAt.position.map(e=>ed(e)).join(",")),`Target(${t})`}(zo(n))}; limitType=${n.limitType})`}function U_(n,t){return t.isFoundDocument()&&function(e,i){const r=i.key.path;return null!==e.collectionGroup?i.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(r):Ke.isDocumentKey(e.path)?e.path.isEqual(r):e.path.isImmediateParentOf(r)}(n,t)&&function(e,i){for(const r of e.explicitOrderBy)if(!r.field.isKeyField()&&null===i.data.field(r.field))return!1;return!0}(n,t)&&function(e,i){for(const r of e.filters)if(!r.matches(i))return!1;return!0}(n,t)&&(i=t,!((e=n).startAt&&!function(r,o,u){const h=L_(r,o,u);return r.inclusive?h<=0:h<0}(e.startAt,Jh(e),i)||e.endAt&&!function(r,o,u){const h=L_(r,o,u);return r.inclusive?h>=0:h>0}(e.endAt,Jh(e),i)));var e,i}function kE(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function Qb(n){return(t,e)=>{let i=!1;for(const r of Jh(n)){const o=RE(r,t,e);if(0!==o)return o;i=i||r.field.isKeyField()}return 0}}function RE(n,t,e){const i=n.field.isKeyField()?Ke.comparator(t.key,e.key):function(r,o,u){const h=o.data.field(r),_=u.data.field(r);return null!==h&&null!==_?Tl(h,_):ut()}(n.field,t,e);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return ut()}}function im(n,t){if(n.N){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Mc(t)?"-0":t}}function OE(n){return{integerValue:""+n}}function Jb(n,t){return Qp(t)?OE(t):im(n,t)}class rm{constructor(){this._=void 0}}function Xb(n,t,e){return n instanceof Rc?function(i,r){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return r&&(o.fields.__previous_value__=r),{mapValue:o}}(e,t):n instanceof Oc?z_(n,t):n instanceof Pc?e0(n,t):function(i,r){const o=H_(i,r),u=t0(o)+t0(i.k);return Jp(o)&&Jp(i.k)?OE(u):im(i.M,u)}(n,t)}function j_(n,t,e){return n instanceof Oc?z_(n,t):n instanceof Pc?e0(n,t):e}function H_(n,t){return n instanceof sd?Jp(e=t)||(i=e)&&"doubleValue"in i?t:{integerValue:0}:null;var i,e}class Rc extends rm{}class Oc extends rm{constructor(t){super(),this.elements=t}}function z_(n,t){const e=PE(t);for(const i of n.elements)e.some(r=>ro(r,i))||e.push(i);return{arrayValue:{values:e}}}class Pc extends rm{constructor(t){super(),this.elements=t}}function e0(n,t){let e=PE(t);for(const i of n.elements)e=e.filter(r=>!ro(r,i));return{arrayValue:{values:e}}}class sd extends rm{constructor(t,e){super(),this.M=t,this.k=e}}function t0(n){return ti(n.integerValue||n.doubleValue)}function PE(n){return Xp(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class sm{constructor(t,e){this.field=t,this.transform=e}}class jI{constructor(t,e){this.version=t,this.transformResults=e}}class Fi{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new Fi}static exists(t){return new Fi(void 0,t)}static updateTime(t){return new Fi(t)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function $_(n,t){return void 0!==n.updateTime?t.isFoundDocument()&&t.version.isEqual(n.updateTime):void 0===n.exists||n.exists===t.isFoundDocument()}class G_{}function HI(n,t,e){n instanceof om?function(i,r,o){const u=i.value.clone(),h=VE(i.fieldTransforms,r,o.transformResults);u.setAll(h),r.convertToFoundDocument(o.version,u).setHasCommittedMutations()}(n,t,e):n instanceof od?function(i,r,o){if(!$_(i.precondition,r))return void r.convertToUnknownDocument(o.version);const u=VE(i.fieldTransforms,r,o.transformResults),h=r.data;h.setAll(LE(i)),h.setAll(u),r.convertToFoundDocument(o.version,h).setHasCommittedMutations()}(n,t,e):t.convertToNoDocument(e.version).setHasCommittedMutations()}function n0(n,t,e){var r;n instanceof om?function(i,r,o){if(!$_(i.precondition,r))return;const u=i.value.clone(),h=BE(i.fieldTransforms,o,r);u.setAll(h),r.convertToFoundDocument(FE(r),u).setHasLocalMutations()}(n,t,e):n instanceof od?function(i,r,o){if(!$_(i.precondition,r))return;const u=BE(i.fieldTransforms,o,r),h=r.data;h.setAll(LE(i)),h.setAll(u),r.convertToFoundDocument(FE(r),h).setHasLocalMutations()}(n,t,e):$_(n.precondition,r=t)&&r.convertToNoDocument(Ot.min())}function zI(n,t){let e=null;for(const i of n.fieldTransforms){const r=t.data.field(i.field),o=H_(i.transform,r||null);null!=o&&(null==e&&(e=Mr.empty()),e.set(i.field,o))}return e||null}function NE(n,t){return n.type===t.type&&!!n.key.isEqual(t.key)&&!!n.precondition.isEqual(t.precondition)&&(i=t.fieldTransforms,!!(void 0===(e=n.fieldTransforms)&&void 0===i||e&&i&&zh(e,i,(r,o)=>function UI(n,t){return n.field.isEqual(t.field)&&(i=t.transform,(e=n.transform)instanceof Oc&&i instanceof Oc||e instanceof Pc&&i instanceof Pc?zh(e.elements,i.elements,ro):e instanceof sd&&i instanceof sd?ro(e.k,i.k):e instanceof Rc&&i instanceof Rc);var e,i}(r,o))))&&(0===n.type?n.value.isEqual(t.value):1!==n.type||n.data.isEqual(t.data)&&n.fieldMask.isEqual(t.fieldMask));var e,i}function FE(n){return n.isFoundDocument()?n.version:Ot.min()}class om extends G_{constructor(t,e,i,r=[]){super(),this.key=t,this.value=e,this.precondition=i,this.fieldTransforms=r,this.type=0}}class od extends G_{constructor(t,e,i,r,o=[]){super(),this.key=t,this.data=e,this.fieldMask=i,this.precondition=r,this.fieldTransforms=o,this.type=1}}function LE(n){const t=new Map;return n.fieldMask.fields.forEach(e=>{if(!e.isEmpty()){const i=n.data.field(e);t.set(e,i)}}),t}function VE(n,t,e){const i=new Map;Vt(n.length===e.length);for(let r=0;r<e.length;r++){const o=n[r],u=o.transform,h=t.data.field(o.field);i.set(o.field,j_(u,h,e[r]))}return i}function BE(n,t,e){const i=new Map;for(const r of n){const o=r.transform,u=e.data.field(r.field);i.set(r.field,Xb(o,u,t))}return i}class am extends G_{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}}class q_ extends G_{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}}class UE{constructor(t){this.count=t}}var Ai,cn;function r0(n){switch(n){default:return ut();case Ce.CANCELLED:case Ce.UNKNOWN:case Ce.DEADLINE_EXCEEDED:case Ce.RESOURCE_EXHAUSTED:case Ce.INTERNAL:case Ce.UNAVAILABLE:case Ce.UNAUTHENTICATED:return!1;case Ce.INVALID_ARGUMENT:case Ce.NOT_FOUND:case Ce.ALREADY_EXISTS:case Ce.PERMISSION_DENIED:case Ce.FAILED_PRECONDITION:case Ce.ABORTED:case Ce.OUT_OF_RANGE:case Ce.UNIMPLEMENTED:case Ce.DATA_LOSS:return!0}}function s0(n){if(void 0===n)return Di("GRPC error has no .code"),Ce.UNKNOWN;switch(n){case Ai.OK:return Ce.OK;case Ai.CANCELLED:return Ce.CANCELLED;case Ai.UNKNOWN:return Ce.UNKNOWN;case Ai.DEADLINE_EXCEEDED:return Ce.DEADLINE_EXCEEDED;case Ai.RESOURCE_EXHAUSTED:return Ce.RESOURCE_EXHAUSTED;case Ai.INTERNAL:return Ce.INTERNAL;case Ai.UNAVAILABLE:return Ce.UNAVAILABLE;case Ai.UNAUTHENTICATED:return Ce.UNAUTHENTICATED;case Ai.INVALID_ARGUMENT:return Ce.INVALID_ARGUMENT;case Ai.NOT_FOUND:return Ce.NOT_FOUND;case Ai.ALREADY_EXISTS:return Ce.ALREADY_EXISTS;case Ai.PERMISSION_DENIED:return Ce.PERMISSION_DENIED;case Ai.FAILED_PRECONDITION:return Ce.FAILED_PRECONDITION;case Ai.ABORTED:return Ce.ABORTED;case Ai.OUT_OF_RANGE:return Ce.OUT_OF_RANGE;case Ai.UNIMPLEMENTED:return Ce.UNIMPLEMENTED;case Ai.DATA_LOSS:return Ce.DATA_LOSS;default:return ut()}}(cn=Ai||(Ai={}))[cn.OK=0]="OK",cn[cn.CANCELLED=1]="CANCELLED",cn[cn.UNKNOWN=2]="UNKNOWN",cn[cn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",cn[cn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",cn[cn.NOT_FOUND=5]="NOT_FOUND",cn[cn.ALREADY_EXISTS=6]="ALREADY_EXISTS",cn[cn.PERMISSION_DENIED=7]="PERMISSION_DENIED",cn[cn.UNAUTHENTICATED=16]="UNAUTHENTICATED",cn[cn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",cn[cn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",cn[cn.ABORTED=10]="ABORTED",cn[cn.OUT_OF_RANGE=11]="OUT_OF_RANGE",cn[cn.UNIMPLEMENTED=12]="UNIMPLEMENTED",cn[cn.INTERNAL=13]="INTERNAL",cn[cn.UNAVAILABLE=14]="UNAVAILABLE",cn[cn.DATA_LOSS=15]="DATA_LOSS";class Ml{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),i=this.inner[e];if(void 0!==i)for(const[r,o]of i)if(this.equalsFn(r,t))return o}has(t){return void 0!==this.get(t)}set(t,e){const i=this.mapKeyFn(t),r=this.inner[i];if(void 0===r)return this.inner[i]=[[t,e]],void this.innerSize++;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],t))return void(r[o]=[t,e]);r.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),i=this.inner[e];if(void 0===i)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],t))return 1===i.length?delete this.inner[e]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(t){Ku(this.inner,(e,i)=>{for(const[r,o]of i)t(r,o)})}isEmpty(){return wE(this.inner)}size(){return this.innerSize}}class gi{constructor(t,e){this.comparator=t,this.root=e||Ji.EMPTY}insert(t,e){return new gi(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,Ji.BLACK,null,null))}remove(t){return new gi(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Ji.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const i=this.comparator(t,e.key);if(0===i)return e.value;i<0?e=e.left:i>0&&(e=e.right)}return null}indexOf(t){let e=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(t,i.key);if(0===r)return e+i.left.size;r<0?i=i.left:(e+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((e,i)=>(t(e,i),!1))}toString(){const t=[];return this.inorderTraversal((e,i)=>(t.push(`${e}:${i}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new lm(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new lm(this.root,t,this.comparator,!1)}getReverseIterator(){return new lm(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new lm(this.root,t,this.comparator,!0)}}class lm{constructor(t,e,i,r){this.isReverse=r,this.nodeStack=[];let o=1;for(;!t.isEmpty();)if(o=e?i(t.key,e):1,e&&r&&(o*=-1),o<0)t=this.isReverse?t.left:t.right;else{if(0===o){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Ji{constructor(t,e,i,r,o){this.key=t,this.value=e,this.color=null!=i?i:Ji.RED,this.left=null!=r?r:Ji.EMPTY,this.right=null!=o?o:Ji.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,i,r,o){return new Ji(null!=t?t:this.key,null!=e?e:this.value,null!=i?i:this.color,null!=r?r:this.left,null!=o?o:this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,i){let r=this;const o=i(t,r.key);return r=o<0?r.copy(null,null,null,r.left.insert(t,e,i),null):0===o?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Ji.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let i,r=this;if(e(t,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(t,e),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===e(t,r.key)){if(r.right.isEmpty())return Ji.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(t,e))}return r.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Ji.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Ji.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ut();const t=this.left.check();if(t!==this.right.check())throw ut();return t+(this.isRed()?0:1)}}Ji.EMPTY=null,Ji.RED=!0,Ji.BLACK=!1,Ji.EMPTY=new class{constructor(){this.size=0}get key(){throw ut()}get value(){throw ut()}get color(){throw ut()}get left(){throw ut()}get right(){throw ut()}copy(n,t,e,i,r){return this}insert(n,t,e){return new Ji(n,t)}remove(n,t){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Vn{constructor(t){this.comparator=t,this.data=new gi(this.comparator)}has(t){return null!==this.data.get(t)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((e,i)=>(t(e),!1))}forEachInRange(t,e){const i=this.data.getIteratorFrom(t[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}}forEachWhile(t,e){let i;for(i=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();i.hasNext();)if(!t(i.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new Nc(this.data.getIterator())}getIteratorFrom(t){return new Nc(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach(i=>{e=e.add(i)}),e}isEqual(t){if(!(t instanceof Vn)||this.size!==t.size)return!1;const e=this.data.getIterator(),i=t.data.getIterator();for(;e.hasNext();){const r=e.getNext().key,o=i.getNext().key;if(0!==this.comparator(r,o))return!1}return!0}toArray(){const t=[];return this.forEach(e=>{t.push(e)}),t}toString(){const t=[];return this.forEach(e=>t.push(e)),"SortedSet("+t.toString()+")"}copy(t){const e=new Vn(this.comparator);return e.data=t,e}}class Nc{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function ef(n){return n.hasNext()?n.getNext():void 0}const $I=new gi(Ke.comparator);function xr(){return $I}const o1=new gi(Ke.comparator);function cm(){return o1}function Y_(){return new Ml(n=>n.toString(),(n,t)=>n.isEqual(t))}const jE=new gi(Ke.comparator),HE=new Vn(Ke.comparator);function Mn(...n){let t=HE;for(const e of n)t=t.add(e);return t}const xt=new Vn(Jt);function Z_(){return xt}class um{constructor(t,e,i,r,o){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(t,e){const i=new Map;return i.set(t,dm.createSynthesizedTargetChangeForCurrentChange(t,e)),new um(Ot.min(),i,Z_(),xr(),Mn())}}class dm{constructor(t,e,i,r,o){this.resumeToken=t,this.current=e,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(t,e){return new dm(Ni.EMPTY_BYTE_STRING,e,Mn(),Mn(),Mn())}}class ad{constructor(t,e,i,r){this.O=t,this.removedTargetIds=e,this.key=i,this.F=r}}class zE{constructor(t,e){this.targetId=t,this.$=e}}class hm{constructor(t,e,i=Ni.EMPTY_BYTE_STRING,r=null){this.state=t,this.targetIds=e,this.resumeToken=i,this.cause=r}}class fm{constructor(){this.B=0,this.L=o0(),this.U=Ni.EMPTY_BYTE_STRING,this.q=!1,this.G=!0}get current(){return this.q}get resumeToken(){return this.U}get K(){return 0!==this.B}get j(){return this.G}W(t){t.approximateByteSize()>0&&(this.G=!0,this.U=t)}H(){let t=Mn(),e=Mn(),i=Mn();return this.L.forEach((r,o)=>{switch(o){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:i=i.add(r);break;default:ut()}}),new dm(this.U,this.q,t,e,i)}J(){this.G=!1,this.L=o0()}Y(t,e){this.G=!0,this.L=this.L.insert(t,e)}X(t){this.G=!0,this.L=this.L.remove(t)}Z(){this.B+=1}tt(){this.B-=1}et(){this.G=!0,this.q=!0}}class _i{constructor(t){this.nt=t,this.st=new Map,this.it=xr(),this.rt=GI(),this.ot=new Vn(Jt)}ut(t){for(const e of t.O)t.F&&t.F.isFoundDocument()?this.at(e,t.F):this.ct(e,t.key,t.F);for(const e of t.removedTargetIds)this.ct(e,t.key,t.F)}ht(t){this.forEachTarget(t,e=>{const i=this.lt(e);switch(t.state){case 0:this.ft(e)&&i.W(t.resumeToken);break;case 1:i.tt(),i.K||i.J(),i.W(t.resumeToken);break;case 2:i.tt(),i.K||this.removeTarget(e);break;case 3:this.ft(e)&&(i.et(),i.W(t.resumeToken));break;case 4:this.ft(e)&&(this.dt(e),i.W(t.resumeToken));break;default:ut()}})}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.st.forEach((i,r)=>{this.ft(r)&&e(r)})}_t(t){const e=t.targetId,i=t.$.count,r=this.wt(e);if(r){const o=r.target;if(N_(o))if(0===i){const u=new Ke(o.path);this.ct(e,u,Hn.newNoDocument(u,Ot.min()))}else Vt(1===i);else this.gt(e)!==i&&(this.dt(e),this.ot=this.ot.add(e))}}yt(t){const e=new Map;this.st.forEach((o,u)=>{const h=this.wt(u);if(h){if(o.current&&N_(h.target)){const _=new Ke(h.target.path);null!==this.it.get(_)||this.It(u,_)||this.ct(u,_,Hn.newNoDocument(_,t))}o.j&&(e.set(u,o.H()),o.J())}});let i=Mn();this.rt.forEach((o,u)=>{let h=!0;u.forEachWhile(_=>{const b=this.wt(_);return!b||2===b.purpose||(h=!1,!1)}),h&&(i=i.add(o))}),this.it.forEach((o,u)=>u.setReadTime(t));const r=new um(t,e,this.ot,this.it,i);return this.it=xr(),this.rt=GI(),this.ot=new Vn(Jt),r}at(t,e){if(!this.ft(t))return;const i=this.It(t,e.key)?2:0;this.lt(t).Y(e.key,i),this.it=this.it.insert(e.key,e),this.rt=this.rt.insert(e.key,this.Tt(e.key).add(t))}ct(t,e,i){if(!this.ft(t))return;const r=this.lt(t);this.It(t,e)?r.Y(e,1):r.X(e),this.rt=this.rt.insert(e,this.Tt(e).delete(t)),i&&(this.it=this.it.insert(e,i))}removeTarget(t){this.st.delete(t)}gt(t){const e=this.lt(t).H();return this.nt.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}Z(t){this.lt(t).Z()}lt(t){let e=this.st.get(t);return e||(e=new fm,this.st.set(t,e)),e}Tt(t){let e=this.rt.get(t);return e||(e=new Vn(Jt),this.rt=this.rt.insert(t,e)),e}ft(t){const e=null!==this.wt(t);return e||$e("WatchChangeAggregator","Detected inactive target",t),e}wt(t){const e=this.st.get(t);return e&&e.K?null:this.nt.Et(t)}dt(t){this.st.set(t,new fm),this.nt.getRemoteKeysForTarget(t).forEach(e=>{this.ct(t,e,null)})}It(t,e){return this.nt.getRemoteKeysForTarget(t).has(e)}}function GI(){return new gi(Ke.comparator)}function o0(){return new gi(Ke.comparator)}const qI={asc:"ASCENDING",desc:"DESCENDING"},YI={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class $E{constructor(t,e){this.databaseId=t,this.N=e}}function tf(n,t){return n.N?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function a0(n,t){return n.N?t.toBase64():t.toUint8Array()}function GE(n,t){return tf(n,t.toTimestamp())}function pr(n){return Vt(!!n),Ot.fromTimestamp(function(t){const e=Qu(t);return new yn(e.seconds,e.nanos)}(n))}function l0(n,t){return(e=n,new pn(["projects",e.projectId,"databases",e.database])).child("documents").child(t).canonicalString();var e}function qE(n){const t=pn.fromString(n);return Vt(g0(t)),t}function xl(n,t){return l0(n.databaseId,t.path)}function Wa(n,t){const e=qE(t);if(e.get(1)!==n.databaseId.projectId)throw new je(Ce.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+n.databaseId.projectId);if(e.get(3)!==n.databaseId.database)throw new je(Ce.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+n.databaseId.database);return new Ke(u0(e))}function c0(n,t){return l0(n.databaseId,t)}function YE(n){const t=qE(n);return 4===t.length?pn.emptyPath():u0(t)}function Fc(n){return new pn(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function u0(n){return Vt(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function d0(n,t,e){return{name:xl(n,t),fields:e.value.mapValue.fields}}function h0(n,t,e){const i=Wa(n,t.name),r=pr(t.updateTime),o=new Mr({mapValue:{fields:t.fields}}),u=Hn.newFoundDocument(i,r,o);return e&&u.setHasCommittedMutations(),e?u.setHasCommittedMutations():u}function kl(n,t){let e;if(t instanceof om)e={update:d0(n,t.key,t.value)};else if(t instanceof am)e={delete:xl(n,t.key)};else if(t instanceof od)e={update:d0(n,t.key,t.data),updateMask:c1(t.fieldMask)};else{if(!(t instanceof q_))return ut();e={verify:xl(n,t.key)}}return t.fieldTransforms.length>0&&(e.updateTransforms=t.fieldTransforms.map(i=>function(r,o){const u=o.transform;if(u instanceof Rc)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof Oc)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof Pc)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof sd)return{fieldPath:o.field.canonicalString(),increment:u.k};throw ut()}(0,i))),t.precondition.isNone||(e.currentDocument=void 0!==(r=t.precondition).updateTime?{updateTime:GE(n,r.updateTime)}:void 0!==r.exists?{exists:r.exists}:ut()),e;var r}function f0(n,t){const e=t.currentDocument?void 0!==(r=t.currentDocument).updateTime?Fi.updateTime(pr(r.updateTime)):void 0!==r.exists?Fi.exists(r.exists):Fi.none():Fi.none(),i=t.updateTransforms?t.updateTransforms.map(r=>function(o,u){let h=null;"setToServerValue"in u?(Vt("REQUEST_TIME"===u.setToServerValue),h=new Rc):"appendMissingElements"in u?h=new Oc(u.appendMissingElements.values||[]):"removeAllFromArray"in u?h=new Pc(u.removeAllFromArray.values||[]):"increment"in u?h=new sd(o,u.increment):ut();const _=Ki.fromServerFormat(u.fieldPath);return new sm(_,h)}(n,r)):[];var r;if(t.update){const r=Wa(n,t.update.name),o=new Mr({mapValue:{fields:t.update.fields}});if(t.updateMask){const u=new $h((t.updateMask.fieldPaths||[]).map(b=>Ki.fromServerFormat(b)));return new od(r,o,u,e,i)}return new om(r,o,e,i)}if(t.delete){const r=Wa(n,t.delete);return new am(r,e)}if(t.verify){const r=Wa(n,t.verify);return new q_(r,e)}return ut()}function ZE(n,t){return{documents:[c0(n,t.path)]}}function p0(n,t){const e={structuredQuery:{}},i=t.path;null!==t.collectionGroup?(e.parent=c0(n,i),e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(e.parent=c0(n,i.popLast()),e.structuredQuery.from=[{collectionId:i.lastSegment()}]);const r=function(_){if(0===_.length)return;const b=_.map(T=>function(M){if("=="===M.op){if(Hb(M.value))return{unaryFilter:{field:nf(M.field),op:"IS_NAN"}};if(jb(M.value))return{unaryFilter:{field:nf(M.field),op:"IS_NULL"}}}else if("!="===M.op){if(Hb(M.value))return{unaryFilter:{field:nf(M.field),op:"IS_NOT_NAN"}};if(jb(M.value))return{unaryFilter:{field:nf(M.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:nf(M.field),op:KI(M.op),value:M.value}}}(T));return 1===b.length?b[0]:{compositeFilter:{op:"AND",filters:b}}}(t.filters);r&&(e.structuredQuery.where=r);const o=function(_){if(0!==_.length)return _.map(b=>{return{field:nf((T=b).field),direction:QE(T.dir)};var T})}(t.orderBy);o&&(e.structuredQuery.orderBy=o);const u=(b=t.limit,n.N||Xu(b)?b:{value:b});var b,h,_;return null!==u&&(e.structuredQuery.limit=u),t.startAt&&(e.structuredQuery.startAt={before:(h=t.startAt).inclusive,values:h.position}),t.endAt&&(e.structuredQuery.endAt={before:!(_=t.endAt).inclusive,values:_.position}),e}function m0(n){let t=YE(n.parent);const e=n.structuredQuery,i=e.from?e.from.length:0;let r=null;if(i>0){Vt(1===i);const T=e.from[0];T.allDescendants?r=T.collectionId:t=t.child(T.collectionId)}let o=[];e.where&&(o=KE(e.where));let u=[];e.orderBy&&(u=e.orderBy.map(T=>{return new nm(mm((M=T).field),function(N){switch(N){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(M.direction));var M}));let h=null;e.limit&&(h=function(T){let M;return M="object"==typeof T?T.value:T,Xu(M)?null:M}(e.limit));let _=null;var T;e.startAt&&(_=new Il((T=e.startAt).values||[],!!T.before));let b=null;return e.endAt&&(b=function(T){return new Il(T.values||[],!T.before)}(e.endAt)),Zb(t,r,u,o,h,"F",_,b)}function KE(n){return n?void 0!==n.unaryFilter?[l1(n)]:void 0!==n.fieldFilter?[a1(n)]:void 0!==n.compositeFilter?n.compositeFilter.filters.map(t=>KE(t)).reduce((t,e)=>t.concat(e)):ut():[]}function QE(n){return qI[n]}function KI(n){return YI[n]}function nf(n){return{fieldPath:n.canonicalString()}}function mm(n){return Ki.fromServerFormat(n.fieldPath)}function a1(n){return fr.create(mm(n.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ut()}}(n.fieldFilter.op),n.fieldFilter.value)}function l1(n){switch(n.unaryFilter.op){case"IS_NAN":const t=mm(n.unaryFilter.field);return fr.create(t,"==",{doubleValue:NaN});case"IS_NULL":const e=mm(n.unaryFilter.field);return fr.create(e,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=mm(n.unaryFilter.field);return fr.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const r=mm(n.unaryFilter.field);return fr.create(r,"!=",{nullValue:"NULL_VALUE"});default:return ut()}}function c1(n){const t=[];return n.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function g0(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function Ti(n){let t="";for(let e=0;e<n.length;e++)t.length>0&&(t=JE(t)),t=QI(n.get(e),t);return JE(t)}function QI(n,t){let e=t;const i=n.length;for(let r=0;r<i;r++){const o=n.charAt(r);switch(o){case"\0":e+="\x01\x10";break;case"\x01":e+="\x01\x11";break;default:e+=o}}return e}function JE(n){return n+"\x01\x01"}function $o(n){const t=n.length;if(Vt(t>=2),2===t)return Vt("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),pn.emptyPath();const e=t-2,i=[];let r="";for(let o=0;o<t;){const u=n.indexOf("\x01",o);switch((u<0||u>e)&&ut(),n.charAt(u+1)){case"\x01":const h=n.substring(o,u);let _;0===r.length?_=h:(r+=h,_=r,r=""),i.push(_);break;case"\x10":r+=n.substring(o,u),r+="\0";break;case"\x11":r+=n.substring(o,u+1);break;default:ut()}o=u+2}return new pn(i)}const rf=["userId","batchId"];function W_(n,t){return[n,Ti(t)]}function XE(n,t,e){return[n,Ti(t),e]}const JI={},XI=["prefixPath","collectionGroup","readTime","documentId"],eS=["prefixPath","collectionGroup","documentId"],eD=["collectionGroup","readTime","prefixPath","documentId"],tS=["canonicalId","targetId"],nS=["targetId","path"],sf=["path","targetId"],iS=["collectionId","parent"],tD=["indexId","uid"],rS=["uid","sequenceNumber"],nD=["indexId","uid","arrayValue","directionalValue","documentKey"],sS=["indexId","uid","documentKey"],iD=["userId","collectionPath","documentId"],oS=["userId","collectionPath","largestBatchId"],_0=["userId","collectionGroup","largestBatchId"],rD=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],sD=[...rD,"documentOverlays"],y0=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],aS=[...y0,"indexConfiguration","indexState","indexEntries"],oD="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class aD{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}class Ae{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&ut(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new Ae((i,r)=>{this.nextCallback=o=>{this.wrapSuccess(t,o).next(i,r)},this.catchCallback=o=>{this.wrapFailure(e,o).next(i,r)}})}toPromise(){return new Promise((t,e)=>{this.next(t,e)})}wrapUserFunction(t){try{const e=t();return e instanceof Ae?e:Ae.resolve(e)}catch(e){return Ae.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction(()=>t(e)):Ae.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction(()=>t(e)):Ae.reject(e)}static resolve(t){return new Ae((e,i)=>{e(t)})}static reject(t){return new Ae((e,i)=>{i(t)})}static waitFor(t){return new Ae((e,i)=>{let r=0,o=0,u=!1;t.forEach(h=>{++r,h.next(()=>{++o,u&&o===r&&e()},_=>i(_))}),u=!0,o===r&&e()})}static or(t){let e=Ae.resolve(!1);for(const i of t)e=e.next(r=>r?Ae.resolve(r):i());return e}static forEach(t,e){const i=[];return t.forEach((r,o)=>{i.push(e.call(this,r,o))}),this.waitFor(i)}}class K_{constructor(t,e){this.action=t,this.transaction=e,this.aborted=!1,this.At=new hr,this.transaction.oncomplete=()=>{this.At.resolve()},this.transaction.onabort=()=>{e.error?this.At.reject(new gm(t,e.error)):this.At.resolve()},this.transaction.onerror=i=>{const r=v0(i.target.error);this.At.reject(new gm(t,r))}}static open(t,e,i,r){try{return new K_(e,t.transaction(r,i))}catch(o){throw new gm(e,o)}}get Rt(){return this.At.promise}abort(t){t&&this.At.reject(t),this.aborted||($e("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}bt(){const t=this.transaction;this.aborted||"function"!=typeof t.commit||t.commit()}store(t){const e=this.transaction.objectStore(t);return new cS(e)}}class Go{constructor(t,e,i){this.name=t,this.version=e,this.Pt=i,12.2===Go.Vt((0,Pt.z$)())&&Di("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(t){return $e("SimpleDb","Removing database:",t),cd(window.indexedDB.deleteDatabase(t)).toPromise()}static vt(){if(!(0,Pt.hl)())return!1;if(Go.St())return!0;const t=(0,Pt.z$)(),e=Go.Vt(t),i=0<e&&e<10,r=Go.Dt(t),o=0<r&&r<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||i||o)}static St(){var t;return"undefined"!=typeof process&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.Ct)}static xt(t,e){return t.store(e)}static Vt(t){const e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),i=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(i)}static Dt(t){const e=t.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}Nt(t){var e=this;return(0,be.Z)(function*(){return e.db||($e("SimpleDb","Opening database:",e.name),e.db=yield new Promise((i,r)=>{const o=indexedDB.open(e.name,e.version);o.onsuccess=u=>{i(u.target.result)},o.onblocked=()=>{r(new gm(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},o.onerror=u=>{const h=u.target.error;r("VersionError"===h.name?new je(Ce.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===h.name?new je(Ce.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+h):new gm(t,h))},o.onupgradeneeded=u=>{$e("SimpleDb",'Database "'+e.name+'" requires upgrade from version:',u.oldVersion),e.Pt.kt(u.target.result,o.transaction,u.oldVersion,e.version).next(()=>{$e("SimpleDb","Database upgrade to version "+e.version+" complete")})}})),e.Mt&&(e.db.onversionchange=i=>e.Mt(i)),e.db})()}Ot(t){this.Mt=t,this.db&&(this.db.onversionchange=e=>t(e))}runTransaction(t,e,i,r){var o=this;return(0,be.Z)(function*(){const u="readonly"===e;let h=0;for(;;){++h;try{o.db=yield o.Nt(t);const _=K_.open(o.db,t,u?"readonly":"readwrite",i),b=r(_).next(T=>(_.bt(),T)).catch(T=>(_.abort(T),Ae.reject(T))).toPromise();return b.catch(()=>{}),yield _.Rt,b}catch(_){const b="FirebaseError"!==_.name&&h<3;if($e("SimpleDb","Transaction failed with error:",_.message,"Retrying:",b),o.close(),!b)return Promise.reject(_)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class lS{constructor(t){this.Ft=t,this.$t=!1,this.Bt=null}get isDone(){return this.$t}get Lt(){return this.Bt}set cursor(t){this.Ft=t}done(){this.$t=!0}Ut(t){this.Bt=t}delete(){return cd(this.Ft.delete())}}class gm extends je{constructor(t,e){super(Ce.UNAVAILABLE,`IndexedDB transaction '${t}' failed: ${e}`),this.name="IndexedDbTransactionError"}}function ld(n){return"IndexedDbTransactionError"===n.name}class cS{constructor(t){this.store=t}put(t,e){let i;return void 0!==e?($e("SimpleDb","PUT",this.store.name,t,e),i=this.store.put(e,t)):($e("SimpleDb","PUT",this.store.name,"<auto-key>",t),i=this.store.put(t)),cd(i)}add(t){return $e("SimpleDb","ADD",this.store.name,t,t),cd(this.store.add(t))}get(t){return cd(this.store.get(t)).next(e=>(void 0===e&&(e=null),$e("SimpleDb","GET",this.store.name,t,e),e))}delete(t){return $e("SimpleDb","DELETE",this.store.name,t),cd(this.store.delete(t))}count(){return $e("SimpleDb","COUNT",this.store.name),cd(this.store.count())}qt(t,e){const i=this.options(t,e);if(i.index||"function"!=typeof this.store.getAll){const r=this.cursor(i),o=[];return this.Gt(r,(u,h)=>{o.push(h)}).next(()=>o)}{const r=this.store.getAll(i.range);return new Ae((o,u)=>{r.onerror=h=>{u(h.target.error)},r.onsuccess=h=>{o(h.target.result)}})}}Kt(t,e){const i=this.store.getAll(t,null===e?void 0:e);return new Ae((r,o)=>{i.onerror=u=>{o(u.target.error)},i.onsuccess=u=>{r(u.target.result)}})}Qt(t,e){$e("SimpleDb","DELETE ALL",this.store.name);const i=this.options(t,e);i.jt=!1;const r=this.cursor(i);return this.Gt(r,(o,u,h)=>h.delete())}Wt(t,e){let i;e?i=t:(i={},e=t);const r=this.cursor(i);return this.Gt(r,e)}zt(t){const e=this.cursor({});return new Ae((i,r)=>{e.onerror=o=>{const u=v0(o.target.error);r(u)},e.onsuccess=o=>{const u=o.target.result;u?t(u.primaryKey,u.value).next(h=>{h?u.continue():i()}):i()}})}Gt(t,e){const i=[];return new Ae((r,o)=>{t.onerror=u=>{o(u.target.error)},t.onsuccess=u=>{const h=u.target.result;if(!h)return void r();const _=new lS(h),b=e(h.primaryKey,h.value,_);if(b instanceof Ae){const T=b.catch(M=>(_.done(),Ae.reject(M)));i.push(T)}_.isDone?r():null===_.Lt?h.continue():h.continue(_.Lt)}}).next(()=>Ae.waitFor(i))}options(t,e){let i;return void 0!==t&&("string"==typeof t?i=t:e=t),{index:i,range:e}}cursor(t){let e="next";if(t.reverse&&(e="prev"),t.index){const i=this.store.index(t.index);return t.jt?i.openKeyCursor(t.range,e):i.openCursor(t.range,e)}return this.store.openCursor(t.range,e)}}function cd(n){return new Ae((t,e)=>{n.onsuccess=i=>{t(i.target.result)},n.onerror=i=>{const r=v0(i.target.error);e(r)}})}let lD=!1;function v0(n){const t=Go.Vt((0,Pt.z$)());if(t>=12.2&&t<13){const e="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(e)>=0){const i=new je("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${e}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return lD||(lD=!0,setTimeout(()=>{throw i},0)),i}}return n}class cD extends aD{constructor(t,e){super(),this.Ht=t,this.currentSequenceNumber=e}}function Xi(n,t){const e=Xe(n);return Go.xt(e.Ht,t)}class Q_{constructor(t,e,i,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(t,e){const i=e.mutationResults;for(let r=0;r<this.mutations.length;r++){const o=this.mutations[r];o.key.isEqual(t.key)&&HI(o,t,i[r])}}applyToLocalView(t){for(const e of this.baseMutations)e.key.isEqual(t.key)&&n0(e,t,this.localWriteTime);for(const e of this.mutations)e.key.isEqual(t.key)&&n0(e,t,this.localWriteTime)}applyToLocalDocumentSet(t){this.mutations.forEach(e=>{const i=t.get(e.key),r=i;this.applyToLocalView(r),i.isValidDocument()||r.convertToNoDocument(Ot.min())})}keys(){return this.mutations.reduce((t,e)=>t.add(e.key),Mn())}isEqual(t){return this.batchId===t.batchId&&zh(this.mutations,t.mutations,(e,i)=>NE(e,i))&&zh(this.baseMutations,t.baseMutations,(e,i)=>NE(e,i))}}class b0{constructor(t,e,i,r){this.batch=t,this.commitVersion=e,this.mutationResults=i,this.docVersions=r}static from(t,e,i){Vt(t.mutations.length===i.length);let r=jE;const o=t.mutations;for(let u=0;u<o.length;u++)r=r.insert(o[u].key,i[u].version);return new b0(t,e,i,r)}}class w0{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return null!==t&&this.mutation===t.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Rl{constructor(t,e,i,r,o=Ot.min(),u=Ot.min(),h=Ni.EMPTY_BYTE_STRING){this.target=t,this.targetId=e,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=h}withSequenceNumber(t){return new Rl(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(t,e){return new Rl(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t)}withLastLimboFreeSnapshotVersion(t){return new Rl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}class uD{constructor(t){this.Jt=t}}function dD(n,t){const e=t.key,i={prefixPath:e.getCollectionPath().popLast().toArray(),collectionGroup:e.collectionGroup,documentId:e.path.lastSegment(),readTime:af(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())i.document={name:xl(r=n.Jt,(o=t).key),fields:o.data.value.mapValue.fields,updateTime:tf(r,o.version.toTimestamp())};else if(t.isNoDocument())i.noDocument={path:e.path.toArray(),readTime:Ol(t.version)};else{if(!t.isUnknownDocument())return ut();i.unknownDocument={path:e.path.toArray(),version:Ol(t.version)}}var r,o;return i}function af(n){const t=n.toTimestamp();return[t.seconds,t.nanoseconds]}function Ol(n){const t=n.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function Lc(n){const t=new yn(n.seconds,n.nanoseconds);return Ot.fromTimestamp(t)}function Vc(n,t){const e=(t.baseMutations||[]).map(o=>f0(n.Jt,o));for(let o=0;o<t.mutations.length-1;++o){const u=t.mutations[o];o+1<t.mutations.length&&void 0!==t.mutations[o+1].transform&&(u.updateTransforms=t.mutations[o+1].transform.fieldTransforms,t.mutations.splice(o+1,1),++o)}const i=t.mutations.map(o=>f0(n.Jt,o)),r=yn.fromMillis(t.localWriteTimeMs);return new Q_(t.batchId,r,e,i)}function _m(n){const t=Lc(n.readTime),e=void 0!==n.lastLimboFreeSnapshotVersion?Lc(n.lastLimboFreeSnapshotVersion):Ot.min();let i;var r;return void 0!==n.query.documents?(Vt(1===(r=n.query).documents.length),i=zo(fs(YE(r.documents[0])))):i=zo(m0(n.query)),new Rl(i,n.targetId,0,n.lastListenSequenceNumber,t,e,Ni.fromBase64String(n.resumeToken))}function hD(n,t){const e=Ol(t.snapshotVersion),i=Ol(t.lastLimboFreeSnapshotVersion);let r;r=N_(t.target)?ZE(n.Jt,t.target):p0(n.Jt,t.target);const o=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:nd(t.target),readTime:e,resumeToken:o,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:r}}function ym(n){const t=m0({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?xE(t,t.limit,"L"):t}function C0(n,t){return new w0(t.largestBatchId,f0(n.Jt,t.overlayMutation))}function E0(n,t){const e=t.path.lastSegment();return[n,Ti(t.path.popLast()),e]}class dS{getBundleMetadata(t,e){return D0(t).get(e).next(i=>{if(i)return{id:(r=i).bundleId,createTime:Lc(r.createTime),version:r.version};var r})}saveBundleMetadata(t,e){return D0(t).put({bundleId:(i=e).id,createTime:Ol(pr(i.createTime)),version:i.version});var i}getNamedQuery(t,e){return fD(t).get(e).next(i=>{if(i)return{name:(r=i).name,query:ym(r.bundledQuery),readTime:Lc(r.readTime)};var r})}saveNamedQuery(t,e){return fD(t).put({name:(i=e).name,readTime:Ol(pr(i.readTime)),bundledQuery:i.bundledQuery});var i}}function D0(n){return Xi(n,"bundles")}function fD(n){return Xi(n,"namedQueries")}class J_{constructor(t,e){this.M=t,this.userId=e}static Yt(t,e){return new J_(t,e.uid||"")}getOverlay(t,e){return X_(t).get(E0(this.userId,e)).next(i=>i?C0(this.M,i):null)}saveOverlays(t,e,i){const r=[];return i.forEach((o,u)=>{const h=new w0(e,u);r.push(this.Xt(t,h))}),Ae.waitFor(r)}removeOverlaysForBatchId(t,e,i){const r=new Set;e.forEach(u=>r.add(Ti(u.getCollectionPath())));const o=[];return r.forEach(u=>{const h=IDBKeyRange.bound([this.userId,u,i],[this.userId,u,i+1],!1,!0);o.push(X_(t).Qt("collectionPathOverlayIndex",h))}),Ae.waitFor(o)}getOverlaysForCollection(t,e,i){const r=Y_(),o=Ti(e),u=IDBKeyRange.bound([this.userId,o,i],[this.userId,o,Number.POSITIVE_INFINITY],!0);return X_(t).qt("collectionPathOverlayIndex",u).next(h=>{for(const _ of h){const b=C0(this.M,_);r.set(b.getKey(),b)}return r})}getOverlaysForCollectionGroup(t,e,i,r){const o=Y_();let u;const h=IDBKeyRange.bound([this.userId,e,i],[this.userId,e,Number.POSITIVE_INFINITY],!0);return X_(t).Wt({index:"collectionGroupOverlayIndex",range:h},(_,b,T)=>{const M=C0(this.M,b);o.size()<r||M.largestBatchId===u?(o.set(M.getKey(),M),u=M.largestBatchId):T.done()}).next(()=>o)}Xt(t,e){return X_(t).put(function(i,r,o){const[u,h,_]=E0(r,o.mutation.key);return{userId:r,collectionPath:h,documentId:_,collectionGroup:o.mutation.key.getCollectionGroup(),largestBatchId:o.largestBatchId,overlayMutation:kl(i.Jt,o.mutation)}}(this.M,this.userId,e))}}function X_(n){return Xi(n,"documentOverlays")}class lf{constructor(){}Zt(t,e){this.te(t,e),e.ee()}te(t,e){if("nullValue"in t)this.ne(e,5);else if("booleanValue"in t)this.ne(e,10),e.se(t.booleanValue?1:0);else if("integerValue"in t)this.ne(e,15),e.se(ti(t.integerValue));else if("doubleValue"in t){const i=ti(t.doubleValue);isNaN(i)?this.ne(e,13):(this.ne(e,15),Mc(i)?e.se(0):e.se(i))}else if("timestampValue"in t){const i=t.timestampValue;this.ne(e,20),"string"==typeof i?e.ie(i):(e.ie(`${i.seconds||""}`),e.se(i.nanos||0))}else if("stringValue"in t)this.re(t.stringValue,e),this.oe(e);else if("bytesValue"in t)this.ne(e,30),e.ue(Ju(t.bytesValue)),this.oe(e);else if("referenceValue"in t)this.ae(t.referenceValue,e);else if("geoPointValue"in t){const i=t.geoPointValue;this.ne(e,45),e.se(i.latitude||0),e.se(i.longitude||0)}else"mapValue"in t?AE(t)?this.ne(e,Number.MAX_SAFE_INTEGER):(this.ce(t.mapValue,e),this.oe(e)):"arrayValue"in t?(this.he(t.arrayValue,e),this.oe(e)):ut()}re(t,e){this.ne(e,25),this.le(t,e)}le(t,e){e.ie(t)}ce(t,e){const i=t.fields||{};this.ne(e,55);for(const r of Object.keys(i))this.re(r,e),this.te(i[r],e)}he(t,e){const i=t.values||[];this.ne(e,50);for(const r of i)this.te(r,e)}ae(t,e){this.ne(e,37),Ke.fromName(t).path.forEach(i=>{this.ne(e,60),this.le(i,e)})}ne(t,e){t.se(e)}oe(t){t.se(2)}}function ey(n){if(0===n)return 8;let t=0;return n>>4==0&&(t+=4,n<<=4),n>>6==0&&(t+=2,n<<=2),n>>7==0&&(t+=1),t}function pD(n){const t=64-function(e){let i=0;for(let r=0;r<8;++r){const o=ey(255&e[r]);if(i+=o,8!==o)break}return i}(n);return Math.ceil(t/8)}lf.fe=new lf;class cf{constructor(){this.buffer=new Uint8Array(1024),this.position=0}de(t){const e=t[Symbol.iterator]();let i=e.next();for(;!i.done;)this._e(i.value),i=e.next();this.we()}me(t){const e=t[Symbol.iterator]();let i=e.next();for(;!i.done;)this.ge(i.value),i=e.next();this.ye()}pe(t){for(const e of t){const i=e.charCodeAt(0);if(i<128)this._e(i);else if(i<2048)this._e(960|i>>>6),this._e(128|63&i);else if(e<"\ud800"||"\udbff"<e)this._e(480|i>>>12),this._e(128|63&i>>>6),this._e(128|63&i);else{const r=e.codePointAt(0);this._e(240|r>>>18),this._e(128|63&r>>>12),this._e(128|63&r>>>6),this._e(128|63&r)}}this.we()}Ie(t){for(const e of t){const i=e.charCodeAt(0);if(i<128)this.ge(i);else if(i<2048)this.ge(960|i>>>6),this.ge(128|63&i);else if(e<"\ud800"||"\udbff"<e)this.ge(480|i>>>12),this.ge(128|63&i>>>6),this.ge(128|63&i);else{const r=e.codePointAt(0);this.ge(240|r>>>18),this.ge(128|63&r>>>12),this.ge(128|63&r>>>6),this.ge(128|63&r)}}this.ye()}Te(t){const e=this.Ee(t),i=pD(e);this.Ae(1+i),this.buffer[this.position++]=255&i;for(let r=e.length-i;r<e.length;++r)this.buffer[this.position++]=255&e[r]}Re(t){const e=this.Ee(t),i=pD(e);this.Ae(1+i),this.buffer[this.position++]=~(255&i);for(let r=e.length-i;r<e.length;++r)this.buffer[this.position++]=~(255&e[r])}be(){this.Pe(255),this.Pe(255)}Ve(){this.ve(255),this.ve(255)}reset(){this.position=0}seed(t){this.Ae(t.length),this.buffer.set(t,this.position),this.position+=t.length}Se(){return this.buffer.slice(0,this.position)}Ee(t){const e=function(r){const o=new DataView(new ArrayBuffer(8));return o.setFloat64(0,r,!1),new Uint8Array(o.buffer)}(t),i=0!=(128&e[0]);e[0]^=i?255:128;for(let r=1;r<e.length;++r)e[r]^=i?255:0;return e}_e(t){const e=255&t;0===e?(this.Pe(0),this.Pe(255)):255===e?(this.Pe(255),this.Pe(0)):this.Pe(e)}ge(t){const e=255&t;0===e?(this.ve(0),this.ve(255)):255===e?(this.ve(255),this.ve(0)):this.ve(t)}we(){this.Pe(0),this.Pe(1)}ye(){this.ve(0),this.ve(1)}Pe(t){this.Ae(1),this.buffer[this.position++]=t}ve(t){this.Ae(1),this.buffer[this.position++]=~t}Ae(t){const e=t+this.position;if(e<=this.buffer.length)return;let i=2*this.buffer.length;i<e&&(i=e);const r=new Uint8Array(i);r.set(this.buffer),this.buffer=r}}class vm{constructor(t){this.De=t}ue(t){this.De.de(t)}ie(t){this.De.pe(t)}se(t){this.De.Te(t)}ee(){this.De.be()}}class hS{constructor(t){this.De=t}ue(t){this.De.me(t)}ie(t){this.De.Ie(t)}se(t){this.De.Re(t)}ee(){this.De.Ve()}}class A0{constructor(){this.De=new cf,this.Ce=new vm(this.De),this.xe=new hS(this.De)}seed(t){this.De.seed(t)}Ne(t){return 0===t?this.Ce:this.xe}Se(){return this.De.Se()}reset(){this.De.reset()}}class Pl{constructor(t,e,i,r){this.indexId=t,this.documentKey=e,this.arrayValue=i,this.directionalValue=r}ke(){const t=this.directionalValue.length,e=0===t||255===this.directionalValue[t-1]?t+1:t,i=new Uint8Array(e);return i.set(this.directionalValue,0),e!==t?i.set([0],this.directionalValue.length):++i[i.length-1],new Pl(this.indexId,this.documentKey,this.arrayValue,i)}}function ud(n,t){let e=n.indexId-t.indexId;return 0!==e?e:(e=mD(n.arrayValue,t.arrayValue),0!==e?e:(e=mD(n.directionalValue,t.directionalValue),0!==e?e:Ke.comparator(n.documentKey,t.documentKey)))}function mD(n,t){for(let e=0;e<n.length&&e<t.length;++e){const i=n[e]-t[e];if(0!==i)return i}return n.length-t.length}class fS{constructor(t){this.collectionId=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment(),this.Me=t.orderBy,this.Oe=[];for(const e of t.filters){const i=e;i.S()?this.Fe=i:this.Oe.push(i)}}$e(t){const e=P_(t);if(void 0!==e&&!this.Be(e))return!1;const i=td(t);let r=0,o=0;for(;r<i.length&&this.Be(i[r]);++r);if(r===i.length)return!0;if(void 0!==this.Fe){const u=i[r];if(!this.Le(this.Fe,u)||!this.Ue(this.Me[o++],u))return!1;++r}for(;r<i.length;++r){const u=i[r];if(o>=this.Me.length||!this.Ue(this.Me[o++],u))return!1}return!0}Be(t){for(const e of this.Oe)if(this.Le(e,t))return!0;return!1}Le(t,e){return!(void 0===t||!t.field.isEqual(e.fieldPath))&&2===e.kind==("array-contains"===t.op||"array-contains-any"===t.op)}Ue(t,e){return!!t.field.isEqual(e.fieldPath)&&(0===e.kind&&"asc"===t.dir||1===e.kind&&"desc"===t.dir)}}class pS{constructor(){this.qe=new ty}addToCollectionParentIndex(t,e){return this.qe.add(e),Ae.resolve()}getCollectionParents(t,e){return Ae.resolve(this.qe.getEntries(e))}addFieldIndex(t,e){return Ae.resolve()}deleteFieldIndex(t,e){return Ae.resolve()}getDocumentsMatchingTarget(t,e){return Ae.resolve(null)}getFieldIndex(t,e){return Ae.resolve(null)}getFieldIndexes(t,e){return Ae.resolve([])}getNextCollectionGroupToUpdate(t){return Ae.resolve(null)}updateCollectionGroup(t,e,i){return Ae.resolve()}updateIndexEntries(t,e){return Ae.resolve()}}class ty{constructor(){this.index={}}add(t){const e=t.lastSegment(),i=t.popLast(),r=this.index[e]||new Vn(pn.comparator),o=!r.has(i);return this.index[e]=r.add(i),o}has(t){const e=t.lastSegment(),i=t.popLast(),r=this.index[e];return r&&r.has(i)}getEntries(t){return(this.index[t]||new Vn(pn.comparator)).toArray()}}const bm=new Uint8Array(0);class T0{constructor(t){this.user=t,this.Ge=new ty,this.Ke=new Ml(e=>nd(e),(e,i)=>Qh(e,i)),this.uid=t.uid||""}addToCollectionParentIndex(t,e){if(!this.Ge.has(e)){const i=e.lastSegment(),r=e.popLast();t.addOnCommittedListener(()=>{this.Ge.add(e)});const o={collectionId:i,parent:Ti(r)};return wm(t).put(o)}return Ae.resolve()}getCollectionParents(t,e){const i=[],r=IDBKeyRange.bound([e,""],[Lb(e),""],!1,!0);return wm(t).qt(r).next(o=>{for(const u of o){if(u.collectionId!==e)break;i.push($o(u.parent))}return i})}addFieldIndex(t,e){const i=ny(t),r={indexId:(o=e).indexId,collectionGroup:o.collectionGroup,fields:o.fields.map(u=>[u.fieldPath.canonicalString(),u.kind])};var o;return delete r.indexId,i.add(r).next()}deleteFieldIndex(t,e){const i=ny(t),r=Cm(t),o=Nl(t);return i.delete(e.indexId).next(()=>r.delete(IDBKeyRange.bound([e.indexId],[e.indexId+1],!1,!0))).next(()=>o.delete(IDBKeyRange.bound([e.indexId],[e.indexId+1],!1,!0)))}getDocumentsMatchingTarget(t,e){const i=Nl(t);let r=!0;const o=new Map;return Ae.forEach(this.Qe(e),u=>this.getFieldIndex(t,u).next(h=>{r&&(r=!!h),o.set(u,h)})).next(()=>{if(r){let u=Mn();return Ae.forEach(o,(h,_)=>{var b;$e("IndexedDbIndexManager",`Using index ${b=h,`id=${b.indexId}|cg=${b.collectionGroup}|f=${b.fields.map(qe=>`${qe.fieldPath}:${qe.kind}`).join(",")}`} to execute ${nd(e)}`);const T=function(qe,ht){const Ye=P_(ht);if(void 0===Ye)return null;for(const St of F_(qe,Ye.fieldPath))switch(St.op){case"array-contains-any":return St.value.arrayValue.values||[];case"array-contains":return[St.value]}return null}(_,h),M=function(qe,ht){const Ye=new Map;for(const St of td(ht))for(const _t of F_(qe,St.fieldPath))switch(_t.op){case"==":case"in":Ye.set(St.fieldPath.canonicalString(),_t.value);break;case"not-in":case"!=":return Ye.set(St.fieldPath.canonicalString(),_t.value),Array.from(Ye.values())}return null}(_,h),N=function(qe,ht){const Ye=[];let St=!0;for(const st of td(ht)){let et,_n=!0;for(const Lt of F_(qe,st.fieldPath)){let zt,Bn=!0;switch(Lt.op){case"<":case"<=":zt="nullValue"in(_t=Lt.value)?DE:"booleanValue"in _t?{booleanValue:!1}:"integerValue"in _t||"doubleValue"in _t?{doubleValue:NaN}:"timestampValue"in _t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in _t?{stringValue:""}:"bytesValue"in _t?{bytesValue:""}:"referenceValue"in _t?xc(wa.empty(),Ke.empty()):"geoPointValue"in _t?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in _t?{arrayValue:{}}:"mapValue"in _t?{mapValue:{}}:ut();break;case"==":case"in":case">=":zt=Lt.value;break;case">":zt=Lt.value,Bn=!1;break;case"!=":case"not-in":zt=DE}zb(et,zt)===zt&&(et=zt,_n=Bn)}if(null!==qe.startAt)for(let Lt=0;Lt<qe.orderBy.length;++Lt)if(qe.orderBy[Lt].field.isEqual(st.fieldPath)){const zt=qe.startAt.position[Lt];zb(et,zt)===zt&&(et=zt,_n=qe.startAt.inclusive);break}if(void 0===et)return null;Ye.push(et),St&&(St=_n)}var _t;return new Il(Ye,St)}(_,h),j=function(qe,ht){const Ye=[];let St=!0;for(const st of td(ht)){let et,_n=!0;for(const Lt of F_(qe,st.fieldPath)){let zt,Bn=!0;switch(Lt.op){case">=":case">":zt="nullValue"in(_t=Lt.value)?{booleanValue:!1}:"booleanValue"in _t?{doubleValue:NaN}:"integerValue"in _t||"doubleValue"in _t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in _t?{stringValue:""}:"stringValue"in _t?{bytesValue:""}:"bytesValue"in _t?xc(wa.empty(),Ke.empty()):"referenceValue"in _t?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in _t?{arrayValue:{}}:"arrayValue"in _t?{mapValue:{}}:"mapValue"in _t?OI:ut(),Bn=!1;break;case"==":case"in":case"<=":zt=Lt.value;break;case"<":zt=Lt.value,Bn=!1;break;case"!=":case"not-in":zt=OI}$b(et,zt)===zt&&(et=zt,_n=Bn)}if(null!==qe.endAt)for(let Lt=0;Lt<qe.orderBy.length;++Lt)if(qe.orderBy[Lt].field.isEqual(st.fieldPath)){const zt=qe.endAt.position[Lt];$b(et,zt)===zt&&(et=zt,_n=qe.endAt.inclusive);break}if(void 0===et)return null;Ye.push(et),St&&(St=_n)}var _t;return new Il(Ye,St)}(_,h),Y=this.je(h,_,N),fe=this.je(h,_,j),Te=this.We(h,_,M),Qe=this.ze(h.indexId,T,Y,!!N&&N.inclusive,fe,!!j&&j.inclusive,Te);return Ae.forEach(Qe,qe=>i.Kt(qe,e.limit).next(ht=>{ht.forEach(Ye=>{u=u.add(new Ke($o(Ye.documentKey)))})}))}).next(()=>u)}return Ae.resolve(null)})}Qe(t){let e=this.Ke.get(t);return e||(e=[t],this.Ke.set(t,e),e)}ze(t,e,i,r,o,u,h){const _=(null!=e?e.length:1)*Math.max(null!=i?i.length:1,null!=o?o.length:1),b=_/(null!=e?e.length:1),T=[];for(let M=0;M<_;++M){const N=e?this.He(e[M/b]):bm,j=i?this.Je(t,N,i[M%b],r):this.Ye(t),Y=o?this.Xe(t,N,o[M%b],u):this.Ye(t+1);T.push(...this.createRange(j,Y,h.map(fe=>this.Je(t,N,fe,!0))))}return T}Je(t,e,i,r){const o=new Pl(t,Ke.empty(),e,i);return r?o:o.ke()}Xe(t,e,i,r){const o=new Pl(t,Ke.empty(),e,i);return r?o.ke():o}Ye(t){return new Pl(t,Ke.empty(),bm,bm)}getFieldIndex(t,e){const i=new fS(e),r=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment();return this.getFieldIndexes(t,r).next(o=>{const u=o.filter(h=>i.$e(h));return u.sort((h,_)=>_.fields.length-h.fields.length),u.length>0?u[0]:null})}Ze(t,e){const i=new A0;for(const r of td(t)){const o=e.data.field(r.fieldPath);if(null==o)return null;const u=i.Ne(r.kind);lf.fe.Zt(o,u)}return i.Se()}He(t){const e=new A0;return lf.fe.Zt(t,e.Ne(0)),e.Se()}We(t,e,i){if(null===i)return[];let r=[];r.push(new A0);let o=0;for(const u of td(t)){const h=i[o++];for(const _ of r)if(this.tn(e,u.fieldPath)&&Xp(h))r=this.en(r,u,h);else{const b=_.Ne(u.kind);lf.fe.Zt(h,b)}}return this.nn(r)}je(t,e,i){return null==i?null:this.We(t,e,i.position)}nn(t){const e=[];for(let i=0;i<t.length;++i)e[i]=t[i].Se();return e}en(t,e,i){const r=[...t],o=[];for(const u of i.arrayValue.values||[])for(const h of r){const _=new A0;_.seed(h.Se()),lf.fe.Zt(u,_.Ne(e.kind)),o.push(_)}return o}tn(t,e){return!!t.filters.find(i=>i instanceof fr&&i.field.isEqual(e)&&("in"===i.op||"not-in"===i.op))}getFieldIndexes(t,e){const i=ny(t),r=Cm(t);return(e?i.qt("collectionGroupIndex",IDBKeyRange.bound(e,e)):i.qt()).next(o=>{const u=[];return Ae.forEach(o,h=>r.get([h.indexId,this.uid]).next(_=>{u.push(function(b,T){const M=T?new Kh(T.sequenceNumber,new kc(Lc(T.readTime),new Ke($o(T.documentKey)),T.largestBatchId)):Kh.empty(),N=b.fields.map(([j,Y])=>new tm(Ki.fromServerFormat(j),Y));return new em(b.indexId,b.collectionGroup,N,M)}(h,_))})).next(()=>u)})}getNextCollectionGroupToUpdate(t){return this.getFieldIndexes(t).next(e=>0===e.length?null:(e.sort((i,r)=>{const o=i.indexState.sequenceNumber-r.indexState.sequenceNumber;return 0!==o?o:Jt(i.collectionGroup,r.collectionGroup)}),e[0].collectionGroup))}updateCollectionGroup(t,e,i){const r=ny(t),o=Cm(t);return this.sn(t).next(u=>r.qt("collectionGroupIndex",IDBKeyRange.bound(e,e)).next(h=>Ae.forEach(h,_=>{return o.put({indexId:_.indexId,uid:this.user.uid||"",sequenceNumber:u,readTime:Ol((N=i).readTime),documentKey:Ti(N.documentKey.path),largestBatchId:N.largestBatchId});var N})))}updateIndexEntries(t,e){const i=new Map;return Ae.forEach(e,(r,o)=>{const u=i.get(r.collectionGroup);return(u?Ae.resolve(u):this.getFieldIndexes(t,r.collectionGroup)).next(h=>(i.set(r.collectionGroup,h),Ae.forEach(h,_=>this.rn(t,r,_).next(b=>{const T=this.on(o,_);return b.isEqual(T)?Ae.resolve():this.un(t,o,b,T)}))))})}an(t,e,i){return Nl(t).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,documentKey:Ti(e.key.path)})}cn(t,e,i){return Nl(t).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,Ti(e.key.path)])}rn(t,e,i){const r=Nl(t);let o=new Vn(ud);return r.Wt({index:"documentKeyIndex",range:IDBKeyRange.only([i.indexId,this.uid,Ti(e.path)])},(u,h)=>{o=o.add(new Pl(i.indexId,e,h.arrayValue,h.directionalValue))}).next(()=>o)}on(t,e){let i=new Vn(ud);const r=this.Ze(e,t);if(null==r)return i;const o=P_(e);if(null!=o){const u=t.data.field(o.fieldPath);if(Xp(u))for(const h of u.arrayValue.values||[])i=i.add(new Pl(e.indexId,t.key,this.He(h),r))}else i=i.add(new Pl(e.indexId,t.key,bm,r));return i}un(t,e,i,r){$e("IndexedDbIndexManager","Updating index entries for document '%s'",e.key);const o=[];return function(u,h,_,b,T){const M=u.getIterator(),N=h.getIterator();let j=ef(M),Y=ef(N);for(;j||Y;){let fe=!1,Te=!1;if(j&&Y){const Qe=_(j,Y);Qe<0?Te=!0:Qe>0&&(fe=!0)}else null!=j?Te=!0:fe=!0;fe?(b(Y),Y=ef(N)):Te?(T(j),j=ef(M)):(j=ef(M),Y=ef(N))}}(i,r,ud,u=>{o.push(this.an(t,e,u))},u=>{o.push(this.cn(t,e,u))}),Ae.waitFor(o)}sn(t){let e=1;return Cm(t).Wt({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(i,r,o)=>{o.done(),e=r.sequenceNumber+1}).next(()=>e)}createRange(t,e,i){i=i.sort((u,h)=>ud(u,h)).filter((u,h,_)=>!h||0!==ud(u,_[h-1]));const r=[];r.push(t);for(const u of i){const h=ud(u,t),_=ud(u,e);if(0===h)r[0]=t.ke();else if(h>0&&_<0)r.push(u),r.push(u.ke());else if(_>0)break}r.push(e);const o=[];for(let u=0;u<r.length;u+=2)o.push(IDBKeyRange.bound([r[u].indexId,this.uid,r[u].arrayValue,r[u].directionalValue,""],[r[u+1].indexId,this.uid,r[u+1].arrayValue,r[u+1].directionalValue,""]));return o}}function wm(n){return Xi(n,"collectionParents")}function Nl(n){return Xi(n,"indexEntries")}function ny(n){return Xi(n,"indexConfiguration")}function Cm(n){return Xi(n,"indexState")}const I0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Ms{constructor(t,e,i){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=i}static withCacheSize(t){return new Ms(t,Ms.DEFAULT_COLLECTION_PERCENTILE,Ms.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function gD(n,t,e){const i=n.store("mutations"),r=n.store("documentMutations"),o=[],u=IDBKeyRange.only(e.batchId);let h=0;const _=i.Wt({range:u},(T,M,N)=>(h++,N.delete()));o.push(_.next(()=>{Vt(1===h)}));const b=[];for(const T of e.mutations){const M=XE(t,T.key.path,e.batchId);o.push(r.delete(M)),b.push(T.key)}return Ae.waitFor(o).next(()=>b)}function uf(n){if(!n)return 0;let t;if(n.document)t=n.document;else if(n.unknownDocument)t=n.unknownDocument;else{if(!n.noDocument)throw ut();t=n.noDocument}return JSON.stringify(t).length}Ms.DEFAULT_COLLECTION_PERCENTILE=10,Ms.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ms.DEFAULT=new Ms(41943040,Ms.DEFAULT_COLLECTION_PERCENTILE,Ms.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ms.DISABLED=new Ms(-1,0,0);class S0{constructor(t,e,i,r){this.userId=t,this.M=e,this.indexManager=i,this.referenceDelegate=r,this.hn={}}static Yt(t,e,i,r){Vt(""!==t.uid);const o=t.isAuthenticated()?t.uid:"";return new S0(o,e,i,r)}checkEmpty(t){let e=!0;const i=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Bc(t).Wt({index:"userMutationsIndex",range:i},(r,o,u)=>{e=!1,u.done()}).next(()=>e)}addMutationBatch(t,e,i,r){const o=df(t),u=Bc(t);return u.add({}).next(h=>{Vt("number"==typeof h);const _=new Q_(h,e,i,r),b=function(N,j,Y){const fe=Y.baseMutations.map(Qe=>kl(N.Jt,Qe)),Te=Y.mutations.map(Qe=>kl(N.Jt,Qe));return{userId:j,batchId:Y.batchId,localWriteTimeMs:Y.localWriteTime.toMillis(),baseMutations:fe,mutations:Te}}(this.M,this.userId,_),T=[];let M=new Vn((N,j)=>Jt(N.canonicalString(),j.canonicalString()));for(const N of r){const j=XE(this.userId,N.key.path,h);M=M.add(N.key.path.popLast()),T.push(u.put(b)),T.push(o.put(j,JI))}return M.forEach(N=>{T.push(this.indexManager.addToCollectionParentIndex(t,N))}),t.addOnCommittedListener(()=>{this.hn[h]=_.keys()}),Ae.waitFor(T).next(()=>_)})}lookupMutationBatch(t,e){return Bc(t).get(e).next(i=>i?(Vt(i.userId===this.userId),Vc(this.M,i)):null)}ln(t,e){return this.hn[e]?Ae.resolve(this.hn[e]):this.lookupMutationBatch(t,e).next(i=>{if(i){const r=i.keys();return this.hn[e]=r,r}return null})}getNextMutationBatchAfterBatchId(t,e){const i=e+1,r=IDBKeyRange.lowerBound([this.userId,i]);let o=null;return Bc(t).Wt({index:"userMutationsIndex",range:r},(u,h,_)=>{h.userId===this.userId&&(Vt(h.batchId>=i),o=Vc(this.M,h)),_.done()}).next(()=>o)}getHighestUnacknowledgedBatchId(t){const e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let i=-1;return Bc(t).Wt({index:"userMutationsIndex",range:e,reverse:!0},(r,o,u)=>{i=o.batchId,u.done()}).next(()=>i)}getAllMutationBatches(t){const e=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Bc(t).qt("userMutationsIndex",e).next(i=>i.map(r=>Vc(this.M,r)))}getAllMutationBatchesAffectingDocumentKey(t,e){const i=W_(this.userId,e.path),r=IDBKeyRange.lowerBound(i),o=[];return df(t).Wt({range:r},(u,h,_)=>{const[b,T,M]=u,N=$o(T);if(b===this.userId&&e.path.isEqual(N))return Bc(t).get(M).next(j=>{if(!j)throw ut();Vt(j.userId===this.userId),o.push(Vc(this.M,j))});_.done()}).next(()=>o)}getAllMutationBatchesAffectingDocumentKeys(t,e){let i=new Vn(Jt);const r=[];return e.forEach(o=>{const u=W_(this.userId,o.path),h=IDBKeyRange.lowerBound(u),_=df(t).Wt({range:h},(b,T,M)=>{const[N,j,Y]=b,fe=$o(j);N===this.userId&&o.path.isEqual(fe)?i=i.add(Y):M.done()});r.push(_)}),Ae.waitFor(r).next(()=>this.fn(t,i))}getAllMutationBatchesAffectingQuery(t,e){const i=e.path,r=i.length+1,o=W_(this.userId,i),u=IDBKeyRange.lowerBound(o);let h=new Vn(Jt);return df(t).Wt({range:u},(_,b,T)=>{const[M,N,j]=_,Y=$o(N);M===this.userId&&i.isPrefixOf(Y)?Y.length===r&&(h=h.add(j)):T.done()}).next(()=>this.fn(t,h))}fn(t,e){const i=[],r=[];return e.forEach(o=>{r.push(Bc(t).get(o).next(u=>{if(null===u)throw ut();Vt(u.userId===this.userId),i.push(Vc(this.M,u))}))}),Ae.waitFor(r).next(()=>i)}removeMutationBatch(t,e){return gD(t.Ht,this.userId,e).next(i=>(t.addOnCommittedListener(()=>{this.dn(e.batchId)}),Ae.forEach(i,r=>this.referenceDelegate.markPotentiallyOrphaned(t,r))))}dn(t){delete this.hn[t]}performConsistencyCheck(t){return this.checkEmpty(t).next(e=>{if(!e)return Ae.resolve();const i=IDBKeyRange.lowerBound([this.userId]),r=[];return df(t).Wt({range:i},(o,u,h)=>{if(o[0]===this.userId){const _=$o(o[1]);r.push(_)}else h.done()}).next(()=>{Vt(0===r.length)})})}containsKey(t,e){return mS(t,this.userId,e)}_n(t){return dd(t).get(this.userId).next(e=>e||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function mS(n,t,e){const i=W_(t,e.path),r=i[1],o=IDBKeyRange.lowerBound(i);let u=!1;return df(n).Wt({range:o,jt:!0},(h,_,b)=>{const[T,M,N]=h;T===t&&M===r&&(u=!0),b.done()}).next(()=>u)}function Bc(n){return Xi(n,"mutations")}function df(n){return Xi(n,"documentMutations")}function dd(n){return Xi(n,"mutationQueues")}class Uc{constructor(t){this.wn=t}next(){return this.wn+=2,this.wn}static mn(){return new Uc(0)}static gn(){return new Uc(-1)}}class hf{constructor(t,e){this.referenceDelegate=t,this.M=e}allocateTargetId(t){return this.yn(t).next(e=>{const i=new Uc(e.highestTargetId);return e.highestTargetId=i.next(),this.pn(t,e).next(()=>e.highestTargetId)})}getLastRemoteSnapshotVersion(t){return this.yn(t).next(e=>Ot.fromTimestamp(new yn(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(t){return this.yn(t).next(e=>e.highestListenSequenceNumber)}setTargetsMetadata(t,e,i){return this.yn(t).next(r=>(r.highestListenSequenceNumber=e,i&&(r.lastRemoteSnapshotVersion=i.toTimestamp()),e>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=e),this.pn(t,r)))}addTargetData(t,e){return this.In(t,e).next(()=>this.yn(t).next(i=>(i.targetCount+=1,this.Tn(e,i),this.pn(t,i))))}updateTargetData(t,e){return this.In(t,e)}removeTargetData(t,e){return this.removeMatchingKeysForTargetId(t,e.targetId).next(()=>Em(t).delete(e.targetId)).next(()=>this.yn(t)).next(i=>(Vt(i.targetCount>0),i.targetCount-=1,this.pn(t,i)))}removeTargets(t,e,i){let r=0;const o=[];return Em(t).Wt((u,h)=>{const _=_m(h);_.sequenceNumber<=e&&null===i.get(_.targetId)&&(r++,o.push(this.removeTargetData(t,_)))}).next(()=>Ae.waitFor(o)).next(()=>r)}forEachTarget(t,e){return Em(t).Wt((i,r)=>{const o=_m(r);e(o)})}yn(t){return M0(t).get("targetGlobalKey").next(e=>(Vt(null!==e),e))}pn(t,e){return M0(t).put("targetGlobalKey",e)}In(t,e){return Em(t).put(hD(this.M,e))}Tn(t,e){let i=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,i=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,i=!0),i}getTargetCount(t){return this.yn(t).next(e=>e.targetCount)}getTargetData(t,e){const i=nd(e),r=IDBKeyRange.bound([i,Number.NEGATIVE_INFINITY],[i,Number.POSITIVE_INFINITY]);let o=null;return Em(t).Wt({range:r,index:"queryTargetsIndex"},(u,h,_)=>{const b=_m(h);Qh(e,b.target)&&(o=b,_.done())}).next(()=>o)}addMatchingKeys(t,e,i){const r=[],o=jc(t);return e.forEach(u=>{const h=Ti(u.path);r.push(o.put({targetId:i,path:h})),r.push(this.referenceDelegate.addReference(t,i,u))}),Ae.waitFor(r)}removeMatchingKeys(t,e,i){const r=jc(t);return Ae.forEach(e,o=>{const u=Ti(o.path);return Ae.waitFor([r.delete([i,u]),this.referenceDelegate.removeReference(t,i,o)])})}removeMatchingKeysForTargetId(t,e){const i=jc(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return i.delete(r)}getMatchingKeysForTargetId(t,e){const i=IDBKeyRange.bound([e],[e+1],!1,!0),r=jc(t);let o=Mn();return r.Wt({range:i,jt:!0},(u,h,_)=>{const b=$o(u[1]),T=new Ke(b);o=o.add(T)}).next(()=>o)}containsKey(t,e){const i=Ti(e.path),r=IDBKeyRange.bound([i],[Lb(i)],!1,!0);let o=0;return jc(t).Wt({index:"documentTargetsIndex",jt:!0,range:r},([u,h],_,b)=>{0!==u&&(o++,b.done())}).next(()=>o>0)}Et(t,e){return Em(t).get(e).next(i=>i?_m(i):null)}}function Em(n){return Xi(n,"targets")}function M0(n){return Xi(n,"targetGlobal")}function jc(n){return Xi(n,"targetDocuments")}function ff(n){return iy.apply(this,arguments)}function iy(){return iy=(0,be.Z)(function*(n){if(n.code!==Ce.FAILED_PRECONDITION||n.message!==oD)throw n;$e("LocalStore","Unexpectedly lost primary lease")}),iy.apply(this,arguments)}function gS([n,t],[e,i]){const r=Jt(n,e);return 0===r?Jt(t,i):r}class _D{constructor(t){this.En=t,this.buffer=new Vn(gS),this.An=0}Rn(){return++this.An}bn(t){const e=[t,this.Rn()];if(this.buffer.size<this.En)this.buffer=this.buffer.add(e);else{const i=this.buffer.last();gS(e,i)<0&&(this.buffer=this.buffer.delete(i).add(e))}}get maxValue(){return this.buffer.last()[0]}}class x0{constructor(t,e){this.garbageCollector=t,this.asyncQueue=e,this.Pn=!1,this.Vn=null}start(t){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.vn(t)}stop(){this.Vn&&(this.Vn.cancel(),this.Vn=null)}get started(){return null!==this.Vn}vn(t){var e=this;const i=this.Pn?3e5:6e4;$e("LruGarbageCollector",`Garbage collection scheduled in ${i}ms`),this.Vn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",i,(0,be.Z)(function*(){e.Vn=null,e.Pn=!0;try{yield t.collectGarbage(e.garbageCollector)}catch(r){ld(r)?$e("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",r):yield ff(r)}yield e.vn(t)}))}}class _S{constructor(t,e){this.Sn=t,this.params=e}calculateTargetCount(t,e){return this.Sn.Dn(t).next(i=>Math.floor(e/100*i))}nthSequenceNumber(t,e){if(0===e)return Ae.resolve(io.A);const i=new _D(e);return this.Sn.forEachTarget(t,r=>i.bn(r.sequenceNumber)).next(()=>this.Sn.Cn(t,r=>i.bn(r))).next(()=>i.maxValue)}removeTargets(t,e,i){return this.Sn.removeTargets(t,e,i)}removeOrphanedDocuments(t,e){return this.Sn.removeOrphanedDocuments(t,e)}collect(t,e){return-1===this.params.cacheSizeCollectionThreshold?($e("LruGarbageCollector","Garbage collection skipped; disabled"),Ae.resolve(I0)):this.getCacheSize(t).next(i=>i<this.params.cacheSizeCollectionThreshold?($e("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),I0):this.xn(t,e))}getCacheSize(t){return this.Sn.getCacheSize(t)}xn(t,e){let i,r,o,u,h,_,b;const T=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(M=>(M>this.params.maximumSequenceNumbersToCollect?($e("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${M}`),r=this.params.maximumSequenceNumbersToCollect):r=M,u=Date.now(),this.nthSequenceNumber(t,r))).next(M=>(i=M,h=Date.now(),this.removeTargets(t,i,e))).next(M=>(o=M,_=Date.now(),this.removeOrphanedDocuments(t,i))).next(M=>(b=Date.now(),M_()<=bc.in.DEBUG&&$e("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${u-T}ms\n\tDetermined least recently used ${r} in `+(h-u)+`ms\n\tRemoved ${o} targets in `+(_-h)+`ms\n\tRemoved ${M} documents in `+(b-_)+`ms\nTotal Duration: ${b-T}ms`),Ae.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:o,documentsRemoved:M})))}}class yD{constructor(t,e){this.db=t,this.garbageCollector=new _S(this,e)}Dn(t){const e=this.Nn(t);return this.db.getTargetCache().getTargetCount(t).next(i=>e.next(r=>i+r))}Nn(t){let e=0;return this.Cn(t,i=>{e++}).next(()=>e)}forEachTarget(t,e){return this.db.getTargetCache().forEachTarget(t,e)}Cn(t,e){return this.kn(t,(i,r)=>e(r))}addReference(t,e,i){return ry(t,i)}removeReference(t,e,i){return ry(t,i)}removeTargets(t,e,i){return this.db.getTargetCache().removeTargets(t,e,i)}markPotentiallyOrphaned(t,e){return ry(t,e)}Mn(t,e){return function(i,r){let o=!1;return dd(i).zt(u=>mS(i,u,r).next(h=>(h&&(o=!0),Ae.resolve(!h)))).next(()=>o)}(t,e)}removeOrphanedDocuments(t,e){const i=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[];let o=0;return this.kn(t,(u,h)=>{if(h<=e){const _=this.Mn(t,u).next(b=>{if(!b)return o++,i.getEntry(t,u).next(()=>(i.removeEntry(u,Ot.min()),jc(t).delete([0,Ti(u.path)])))});r.push(_)}}).next(()=>Ae.waitFor(r)).next(()=>i.apply(t)).next(()=>o)}removeTarget(t,e){const i=e.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,i)}updateLimboDocument(t,e){return ry(t,e)}kn(t,e){const i=jc(t);let r,o=io.A;return i.Wt({index:"documentTargetsIndex"},([u,h],{path:_,sequenceNumber:b})=>{0===u?(o!==io.A&&e(new Ke($o(r)),o),o=b,r=_):o=io.A}).next(()=>{o!==io.A&&e(new Ke($o(r)),o)})}getCacheSize(t){return this.db.getRemoteDocumentCache().getSize(t)}}function ry(n,t){return jc(n).put((i=n.currentSequenceNumber,{targetId:0,path:Ti(t.path),sequenceNumber:i}));var i}class vD{constructor(){this.changes=new Ml(t=>t.toString(),(t,e)=>t.isEqual(e)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,Hn.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const i=this.changes.get(e);return void 0!==i?Ae.resolve(i):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class yS{constructor(t){this.M=t}setIndexManager(t){this.indexManager=t}addEntry(t,e,i){return hd(t).put(i)}removeEntry(t,e,i){return hd(t).delete(function(r,o){const u=r.path.toArray();return[u.slice(0,u.length-2),u[u.length-2],af(o),u[u.length-1]]}(e,i))}updateMetadata(t,e){return this.getMetadata(t).next(i=>(i.byteSize+=e,this.On(t,i)))}getEntry(t,e){let i=Hn.newInvalidDocument(e);return hd(t).Wt({index:"documentKeyIndex",range:IDBKeyRange.only(Dm(e))},(r,o)=>{i=this.Fn(e,o)}).next(()=>i)}$n(t,e){let i={size:0,document:Hn.newInvalidDocument(e)};return hd(t).Wt({index:"documentKeyIndex",range:IDBKeyRange.only(Dm(e))},(r,o)=>{i={document:this.Fn(e,o),size:uf(o)}}).next(()=>i)}getEntries(t,e){let i=xr();return this.Bn(t,e,(r,o)=>{const u=this.Fn(r,o);i=i.insert(r,u)}).next(()=>i)}Ln(t,e){let i=xr(),r=new gi(Ke.comparator);return this.Bn(t,e,(o,u)=>{const h=this.Fn(o,u);i=i.insert(o,h),r=r.insert(o,uf(u))}).next(()=>({documents:i,Un:r}))}Bn(t,e,i){if(e.isEmpty())return Ae.resolve();let r=new Vn(pf);e.forEach(_=>r=r.add(_));const o=IDBKeyRange.bound(Dm(r.first()),Dm(r.last())),u=r.getIterator();let h=u.getNext();return hd(t).Wt({index:"documentKeyIndex",range:o},(_,b,T)=>{const M=Ke.fromSegments([...b.prefixPath,b.collectionGroup,b.documentId]);for(;h&&pf(h,M)<0;)i(h,null),h=u.getNext();h&&h.isEqual(M)&&(i(h,b),h=u.hasNext()?u.getNext():null),h?T.Ut(Dm(h)):T.done()}).next(()=>{for(;h;)i(h,null),h=u.hasNext()?u.getNext():null})}getAllFromCollection(t,e,i){const r=[e.popLast().toArray(),e.lastSegment(),af(i.readTime),i.documentKey.path.isEmpty()?"":i.documentKey.path.lastSegment()],o=[e.popLast().toArray(),e.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return hd(t).qt(IDBKeyRange.bound(r,o,!0)).next(u=>{let h=xr();for(const _ of u){const b=this.Fn(Ke.fromSegments(_.prefixPath.concat(_.collectionGroup,_.documentId)),_);h=h.insert(b.key,b)}return h})}getAllFromCollectionGroup(t,e,i,r){let o=xr();const u=wD(e,i),h=wD(e,kc.max());return hd(t).Wt({index:"collectionGroupIndex",range:IDBKeyRange.bound(u,h,!0)},(_,b,T)=>{const M=this.Fn(Ke.fromSegments(b.prefixPath.concat(b.collectionGroup,b.documentId)),b);o=o.insert(M.key,M),o.size===r&&T.done()}).next(()=>o)}newChangeBuffer(t){return new vS(this,!!t&&t.trackRemovals)}getSize(t){return this.getMetadata(t).next(e=>e.byteSize)}getMetadata(t){return bD(t).get("remoteDocumentGlobalKey").next(e=>(Vt(!!e),e))}On(t,e){return bD(t).put("remoteDocumentGlobalKey",e)}Fn(t,e){if(e){const i=function uS(n,t){let e;if(t.document)e=h0(n.Jt,t.document,!!t.hasCommittedMutations);else if(t.noDocument){const i=Ke.fromSegments(t.noDocument.path),r=Lc(t.noDocument.readTime);e=Hn.newNoDocument(i,r),t.hasCommittedMutations&&e.setHasCommittedMutations()}else{if(!t.unknownDocument)return ut();{const i=Ke.fromSegments(t.unknownDocument.path),r=Lc(t.unknownDocument.version);e=Hn.newUnknownDocument(i,r)}}return t.readTime&&e.setReadTime(function(i){const r=new yn(i[0],i[1]);return Ot.fromTimestamp(r)}(t.readTime)),e}(this.M,e);if(!i.isNoDocument()||!i.version.isEqual(Ot.min()))return i}return Hn.newInvalidDocument(t)}}class vS extends vD{constructor(t,e){super(),this.qn=t,this.trackRemovals=e,this.Gn=new Ml(i=>i.toString(),(i,r)=>i.isEqual(r))}applyChanges(t){const e=[];let i=0,r=new Vn((o,u)=>Jt(o.canonicalString(),u.canonicalString()));return this.changes.forEach((o,u)=>{const h=this.Gn.get(o);if(e.push(this.qn.removeEntry(t,o,h.readTime)),u.isValidDocument()){const _=dD(this.qn.M,u);r=r.add(o.path.popLast()),i+=uf(_)-h.size,e.push(this.qn.addEntry(t,o,_))}else if(i-=h.size,this.trackRemovals){const _=dD(this.qn.M,u.convertToNoDocument(Ot.min()));e.push(this.qn.addEntry(t,o,_))}}),r.forEach(o=>{e.push(this.qn.indexManager.addToCollectionParentIndex(t,o))}),e.push(this.qn.updateMetadata(t,i)),Ae.waitFor(e)}getFromCache(t,e){return this.qn.$n(t,e).next(i=>(this.Gn.set(e,{size:i.size,readTime:i.document.readTime}),i.document))}getAllFromCache(t,e){return this.qn.Ln(t,e).next(({documents:i,Un:r})=>(r.forEach((o,u)=>{this.Gn.set(o,{size:u,readTime:i.get(o).readTime})}),i))}}function bD(n){return Xi(n,"remoteDocumentGlobal")}function hd(n){return Xi(n,"remoteDocumentsV14")}function Dm(n){const t=n.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function wD(n,t){const e=t.documentKey.path.toArray();return[n,af(t.readTime),e.slice(0,e.length-2),e.length>0?e[e.length-1]:""]}function pf(n,t){const e=n.path.length-t.path.length;return 0!==e?e:Ke.comparator(n,t)}class CD{constructor(t){this.M=t}kt(t,e,i,r){const o=new K_("createOrUpgrade",e);var h;i<1&&r>=1&&(t.createObjectStore("owner"),(h=t).createObjectStore("mutationQueues",{keyPath:"userId"}),h.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",rf,{unique:!0}),h.createObjectStore("documentMutations"),k0(t),function(h){h.createObjectStore("remoteDocuments")}(t));let u=Ae.resolve();return i<3&&r>=3&&(0!==i&&(function(h){h.deleteObjectStore("targetDocuments"),h.deleteObjectStore("targets"),h.deleteObjectStore("targetGlobal")}(t),k0(t)),u=u.next(()=>function(h){const _=h.store("targetGlobal"),b={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Ot.min().toTimestamp(),targetCount:0};return _.put("targetGlobalKey",b)}(o))),i<4&&r>=4&&(0!==i&&(u=u.next(()=>function(h,_){return _.store("mutations").qt().next(b=>{h.deleteObjectStore("mutations"),h.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",rf,{unique:!0});const T=_.store("mutations"),M=b.map(N=>T.put(N));return Ae.waitFor(M)})}(t,o))),u=u.next(()=>{!function(h){h.createObjectStore("clientMetadata",{keyPath:"clientId"})}(t)})),i<5&&r>=5&&(u=u.next(()=>this.Kn(o))),i<6&&r>=6&&(u=u.next(()=>(function(h){h.createObjectStore("remoteDocumentGlobal")}(t),this.Qn(o)))),i<7&&r>=7&&(u=u.next(()=>this.jn(o))),i<8&&r>=8&&(u=u.next(()=>this.Wn(t,o))),i<9&&r>=9&&(u=u.next(()=>{!function(h){h.objectStoreNames.contains("remoteDocumentChanges")&&h.deleteObjectStore("remoteDocumentChanges")}(t)})),i<10&&r>=10&&(u=u.next(()=>this.zn(o))),i<11&&r>=11&&(u=u.next(()=>{(function(h){h.createObjectStore("bundles",{keyPath:"bundleId"})})(t),function(h){h.createObjectStore("namedQueries",{keyPath:"name"})}(t)})),i<12&&r>=12&&(u=u.next(()=>{!function(h){const _=h.createObjectStore("documentOverlays",{keyPath:iD});_.createIndex("collectionPathOverlayIndex",oS,{unique:!1}),_.createIndex("collectionGroupOverlayIndex",_0,{unique:!1})}(t)})),i<13&&r>=13&&(u=u.next(()=>function(h){const _=h.createObjectStore("remoteDocumentsV14",{keyPath:XI});_.createIndex("documentKeyIndex",eS),_.createIndex("collectionGroupIndex",eD)}(t)).next(()=>this.Hn(t,o)).next(()=>t.deleteObjectStore("remoteDocuments"))),i<14&&r>=14&&(u=u.next(()=>{!function(h){h.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),h.createObjectStore("indexState",{keyPath:tD}).createIndex("sequenceNumberIndex",rS,{unique:!1}),h.createObjectStore("indexEntries",{keyPath:nD}).createIndex("documentKeyIndex",sS,{unique:!1})}(t)})),u}Qn(t){let e=0;return t.store("remoteDocuments").Wt((i,r)=>{e+=uf(r)}).next(()=>{const i={byteSize:e};return t.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",i)})}Kn(t){const e=t.store("mutationQueues"),i=t.store("mutations");return e.qt().next(r=>Ae.forEach(r,o=>{const u=IDBKeyRange.bound([o.userId,-1],[o.userId,o.lastAcknowledgedBatchId]);return i.qt("userMutationsIndex",u).next(h=>Ae.forEach(h,_=>{Vt(_.userId===o.userId);const b=Vc(this.M,_);return gD(t,o.userId,b).next(()=>{})}))}))}jn(t){const e=t.store("targetDocuments"),i=t.store("remoteDocuments");return t.store("targetGlobal").get("targetGlobalKey").next(r=>{const o=[];return i.Wt((u,h)=>{const _=new pn(u),b=[0,Ti(_)];o.push(e.get(b).next(T=>T?Ae.resolve():e.put({targetId:0,path:Ti(_),sequenceNumber:r.highestListenSequenceNumber})))}).next(()=>Ae.waitFor(o))})}Wn(t,e){t.createObjectStore("collectionParents",{keyPath:iS});const i=e.store("collectionParents"),r=new ty,o=u=>{if(r.add(u)){const h=u.lastSegment(),_=u.popLast();return i.put({collectionId:h,parent:Ti(_)})}};return e.store("remoteDocuments").Wt({jt:!0},(u,h)=>{const _=new pn(u);return o(_.popLast())}).next(()=>e.store("documentMutations").Wt({jt:!0},([u,h,_],b)=>{const T=$o(h);return o(T.popLast())}))}zn(t){const e=t.store("targets");return e.Wt((i,r)=>{const o=_m(r),u=hD(this.M,o);return e.put(u)})}Hn(t,e){const i=e.store("remoteDocuments"),r=[];return i.Wt((o,u)=>{const h=e.store("remoteDocumentsV14"),_=(b=u,b.document?new Ke(pn.fromString(b.document.name).popFirst(5)):b.noDocument?Ke.fromSegments(b.noDocument.path):b.unknownDocument?Ke.fromSegments(b.unknownDocument.path):ut()).path.toArray();var b;const T={prefixPath:_.slice(0,_.length-2),collectionGroup:_[_.length-2],documentId:_[_.length-1],readTime:u.readTime||[0,0],unknownDocument:u.unknownDocument,noDocument:u.noDocument,document:u.document,hasCommittedMutations:!!u.hasCommittedMutations};r.push(h.put(T))}).next(()=>Ae.waitFor(r))}}function k0(n){n.createObjectStore("targetDocuments",{keyPath:nS}).createIndex("documentTargetsIndex",sf,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",tS,{unique:!0}),n.createObjectStore("targetGlobal")}const sy="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class oy{constructor(t,e,i,r,o,u,h,_,b,T,M=13){if(this.allowTabSynchronization=t,this.persistenceKey=e,this.clientId=i,this.Jn=o,this.window=u,this.document=h,this.Yn=b,this.Xn=T,this.Zn=M,this.ts=null,this.es=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ns=null,this.inForeground=!1,this.ss=null,this.rs=null,this.os=Number.NEGATIVE_INFINITY,this.us=N=>Promise.resolve(),!oy.vt())throw new je(Ce.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new yD(this,r),this.cs=e+"main",this.M=new uD(_),this.hs=new Go(this.cs,this.Zn,new CD(this.M)),this.ls=new hf(this.referenceDelegate,this.M),this.fs=new yS(this.M),this.ds=new dS,this.window&&this.window.localStorage?this._s=this.window.localStorage:(this._s=null,!1===T&&Di("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.ws().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new je(Ce.FAILED_PRECONDITION,sy);return this.gs(),this.ys(),this.ps(),this.runTransaction("getHighestListenSequenceNumber","readonly",t=>this.ls.getHighestSequenceNumber(t))}).then(t=>{this.ts=new io(t,this.Yn)}).then(()=>{this.es=!0}).catch(t=>(this.hs&&this.hs.close(),Promise.reject(t)))}Is(t){var e=this;return this.us=function(){var i=(0,be.Z)(function*(r){if(e.started)return t(r)});return function(r){return i.apply(this,arguments)}}(),t(this.isPrimary)}setDatabaseDeletedListener(t){this.hs.Ot(function(){var e=(0,be.Z)(function*(i){null===i.newVersion&&(yield t())});return function(i){return e.apply(this,arguments)}}())}setNetworkEnabled(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Jn.enqueueAndForget((0,be.Z)(function*(){e.started&&(yield e.ws())})))}ws(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",t=>Am(t).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Ts(t).next(e=>{e||(this.isPrimary=!1,this.Jn.enqueueRetryable(()=>this.us(!1)))})}).next(()=>this.Es(t)).next(e=>this.isPrimary&&!e?this.As(t).next(()=>!1):!!e&&this.Rs(t).next(()=>!0))).catch(t=>{if(ld(t))return $e("IndexedDbPersistence","Failed to extend owner lease: ",t),this.isPrimary;if(!this.allowTabSynchronization)throw t;return $e("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1}).then(t=>{this.isPrimary!==t&&this.Jn.enqueueRetryable(()=>this.us(t)),this.isPrimary=t})}Ts(t){return mf(t).get("owner").next(e=>Ae.resolve(this.bs(e)))}Ps(t){return Am(t).delete(this.clientId)}Vs(){var t=this;return(0,be.Z)(function*(){if(t.isPrimary&&!t.vs(t.os,18e5)){t.os=Date.now();const e=yield t.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",i=>{const r=Xi(i,"clientMetadata");return r.qt().next(o=>{const u=t.Ss(o,18e5),h=o.filter(_=>-1===u.indexOf(_));return Ae.forEach(h,_=>r.delete(_.clientId)).next(()=>h)})}).catch(()=>[]);if(t._s)for(const i of e)t._s.removeItem(t.Ds(i.clientId))}})()}ps(){this.rs=this.Jn.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.ws().then(()=>this.Vs()).then(()=>this.ps()))}bs(t){return!!t&&t.ownerId===this.clientId}Es(t){return this.Xn?Ae.resolve(!0):mf(t).get("owner").next(e=>{if(null!==e&&this.vs(e.leaseTimestampMs,5e3)&&!this.Cs(e.ownerId)){if(this.bs(e)&&this.networkEnabled)return!0;if(!this.bs(e)){if(!e.allowTabSynchronization)throw new je(Ce.FAILED_PRECONDITION,sy);return!1}}return!(!this.networkEnabled||!this.inForeground)||Am(t).qt().next(i=>void 0===this.Ss(i,5e3).find(r=>{if(this.clientId!==r.clientId){const u=!this.inForeground&&r.inForeground,h=this.networkEnabled===r.networkEnabled;if(!this.networkEnabled&&r.networkEnabled||u&&h)return!0}return!1}))}).next(e=>(this.isPrimary!==e&&$e("IndexedDbPersistence",`Client ${e?"is":"is not"} eligible for a primary lease.`),e))}shutdown(){var t=this;return(0,be.Z)(function*(){t.es=!1,t.xs(),t.rs&&(t.rs.cancel(),t.rs=null),t.Ns(),t.ks(),yield t.hs.runTransaction("shutdown","readwrite",["owner","clientMetadata"],e=>{const i=new cD(e,io.A);return t.As(i).next(()=>t.Ps(i))}),t.hs.close(),t.Ms()})()}Ss(t,e){return t.filter(i=>this.vs(i.updateTimeMs,e)&&!this.Cs(i.clientId))}Os(){return this.runTransaction("getActiveClients","readonly",t=>Am(t).qt().next(e=>this.Ss(e,18e5).map(i=>i.clientId)))}get started(){return this.es}getMutationQueue(t,e){return S0.Yt(t,this.M,e,this.referenceDelegate)}getTargetCache(){return this.ls}getRemoteDocumentCache(){return this.fs}getIndexManager(t){return new T0(t)}getDocumentOverlayCache(t){return J_.Yt(this.M,t)}getBundleCache(){return this.ds}runTransaction(t,e,i){$e("IndexedDbPersistence","Starting transaction:",t);const r="readonly"===e?"readonly":"readwrite",o=14===(u=this.Zn)?aS:13===u?y0:12===u?sD:11===u?rD:void ut();var u;let h;return this.hs.runTransaction(t,r,o,_=>(h=new cD(_,this.ts?this.ts.next():io.A),"readwrite-primary"===e?this.Ts(h).next(b=>!!b||this.Es(h)).next(b=>{if(!b)throw Di(`Failed to obtain primary lease for action '${t}'.`),this.isPrimary=!1,this.Jn.enqueueRetryable(()=>this.us(!1)),new je(Ce.FAILED_PRECONDITION,oD);return i(h)}).next(b=>this.Rs(h).next(()=>b)):this.Fs(h).next(()=>i(h)))).then(_=>(h.raiseOnCommittedEvent(),_))}Fs(t){return mf(t).get("owner").next(e=>{if(null!==e&&this.vs(e.leaseTimestampMs,5e3)&&!this.Cs(e.ownerId)&&!this.bs(e)&&!(this.Xn||this.allowTabSynchronization&&e.allowTabSynchronization))throw new je(Ce.FAILED_PRECONDITION,sy)})}Rs(t){const e={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return mf(t).put("owner",e)}static vt(){return Go.vt()}As(t){const e=mf(t);return e.get("owner").next(i=>this.bs(i)?($e("IndexedDbPersistence","Releasing primary lease."),e.delete("owner")):Ae.resolve())}vs(t,e){const i=Date.now();return!(t<i-e||t>i&&(Di(`Detected an update time that is in the future: ${t} > ${i}`),1))}gs(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ss=()=>{this.Jn.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.ws()))},this.document.addEventListener("visibilitychange",this.ss),this.inForeground="visible"===this.document.visibilityState)}Ns(){this.ss&&(this.document.removeEventListener("visibilitychange",this.ss),this.ss=null)}ys(){var t;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.ns=()=>{this.xs(),(0,Pt.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Jn.enterRestrictedMode(!0),this.Jn.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ns))}ks(){this.ns&&(this.window.removeEventListener("pagehide",this.ns),this.ns=null)}Cs(t){var e;try{const i=null!==(null===(e=this._s)||void 0===e?void 0:e.getItem(this.Ds(t)));return $e("IndexedDbPersistence",`Client '${t}' ${i?"is":"is not"} zombied in LocalStorage`),i}catch(i){return Di("IndexedDbPersistence","Failed to get zombied client id.",i),!1}}xs(){if(this._s)try{this._s.setItem(this.Ds(this.clientId),String(Date.now()))}catch(t){Di("Failed to set zombie client id.",t)}}Ms(){if(this._s)try{this._s.removeItem(this.Ds(this.clientId))}catch(t){}}Ds(t){return`firestore_zombie_${this.persistenceKey}_${t}`}}function mf(n){return Xi(n,"owner")}function Am(n){return Xi(n,"clientMetadata")}function R0(n,t){let e=n.projectId;return n.isDefaultDatabase||(e+="."+n.database),"firestore/"+t+"/"+e+"/"}class ED{constructor(t,e,i){this.fs=t,this.$s=e,this.indexManager=i}Bs(t,e){return this.$s.getAllMutationBatchesAffectingDocumentKey(t,e).next(i=>this.Ls(t,e,i))}Ls(t,e,i){return this.fs.getEntry(t,e).next(r=>{for(const o of i)o.applyToLocalView(r);return r})}Us(t,e){t.forEach((i,r)=>{for(const o of e)o.applyToLocalView(r)})}qs(t,e){return this.fs.getEntries(t,e).next(i=>this.Gs(t,i).next(()=>i))}Gs(t,e){return this.$s.getAllMutationBatchesAffectingDocumentKeys(t,e).next(i=>this.Us(e,i))}Ks(t,e,i){return Ke.isDocumentKey((r=e).path)&&null===r.collectionGroup&&0===r.filters.length?this.Qs(t,e.path):Wb(e)?this.js(t,e,i):this.Ws(t,e,i);var r}Qs(t,e){return this.Bs(t,new Ke(e)).next(i=>{let r=cm();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}js(t,e,i){const r=e.collectionGroup;let o=cm();return this.indexManager.getCollectionParents(t,r).next(u=>Ae.forEach(u,h=>{const _=(b=e,T=h.child(r),new Sl(T,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt));var b,T;return this.Ws(t,_,i).next(b=>{b.forEach((T,M)=>{o=o.insert(T,M)})})}).next(()=>o))}Ws(t,e,i){let r;return this.fs.getAllFromCollection(t,e.path,i).next(o=>(r=o,this.$s.getAllMutationBatchesAffectingQuery(t,e))).next(o=>{for(const u of o)for(const h of u.mutations){const _=h.key;let b=r.get(_);null==b&&(b=Hn.newInvalidDocument(_),r=r.insert(_,b)),n0(h,b,u.localWriteTime),b.isFoundDocument()||(r=r.remove(_))}}).next(()=>(r.forEach((o,u)=>{U_(e,u)||(r=r.remove(o))}),r))}}class O0{constructor(t,e,i,r){this.targetId=t,this.fromCache=e,this.zs=i,this.Hs=r}static Js(t,e){let i=Mn(),r=Mn();for(const o of e.docChanges)switch(o.type){case 0:i=i.add(o.doc.key);break;case 1:r=r.add(o.doc.key)}return new O0(t,e.fromCache,i,r)}}class DD{Ys(t){this.Xs=t}Ks(t,e,i,r){return 0===(o=e).filters.length&&null===o.limit&&null==o.startAt&&null==o.endAt&&(0===o.explicitOrderBy.length||1===o.explicitOrderBy.length&&o.explicitOrderBy[0].field.isKeyField())||i.isEqual(Ot.min())?this.Zs(t,e):this.Xs.qs(t,r).next(o=>{const u=this.ti(e,o);return(Is(e)||Ss(e))&&this.ei(e.limitType,u,r,i)?this.Zs(t,e):(M_()<=bc.in.DEBUG&&$e("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Kb(e)),this.Xs.Ks(t,e,Gb(i,-1)).next(h=>(u.forEach(_=>{h=h.insert(_.key,_)}),h)))});var o}ti(t,e){let i=new Vn(Qb(t));return e.forEach((r,o)=>{U_(t,o)&&(i=i.add(o))}),i}ei(t,e,i,r){if(i.size!==e.size)return!0;const o="F"===t?e.last():e.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(r)>0)}Zs(t,e){return M_()<=bc.in.DEBUG&&$e("QueryEngine","Using full collection scan to execute query:",Kb(e)),this.Xs.Ks(t,e,kc.min())}}class bS{constructor(t,e,i,r){this.persistence=t,this.ni=e,this.M=r,this.si=new gi(Jt),this.ii=new Ml(o=>nd(o),Qh),this.ri=new Map,this.oi=t.getRemoteDocumentCache(),this.ls=t.getTargetCache(),this.ds=t.getBundleCache(),this.ui(i)}ui(t){this.indexManager=this.persistence.getIndexManager(t),this.$s=this.persistence.getMutationQueue(t,this.indexManager),this.ai=new ED(this.oi,this.$s,this.indexManager),this.oi.setIndexManager(this.indexManager),this.ni.Ys(this.ai)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",e=>t.collect(e,this.si))}}function AD(n,t,e,i){return new bS(n,t,e,i)}function gf(n,t){return P0.apply(this,arguments)}function P0(){return P0=(0,be.Z)(function*(n,t){const e=Xe(n);return yield e.persistence.runTransaction("Handle user change","readonly",i=>{let r;return e.$s.getAllMutationBatches(i).next(o=>(r=o,e.ui(t),e.$s.getAllMutationBatches(i))).next(o=>{const u=[],h=[];let _=Mn();for(const b of r){u.push(b.batchId);for(const T of b.mutations)_=_.add(T.key)}for(const b of o){h.push(b.batchId);for(const T of b.mutations)_=_.add(T.key)}return e.ai.qs(i,_).next(b=>({ci:b,removedBatchIds:u,addedBatchIds:h}))})})}),P0.apply(this,arguments)}function N0(n,t){const e=Xe(n);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=t.batch.keys(),o=e.oi.newChangeBuffer({trackRemovals:!0});return function(u,h,_,b){const T=_.batch,M=T.keys();let N=Ae.resolve();return M.forEach(j=>{N=N.next(()=>b.getEntry(h,j)).next(Y=>{const fe=_.docVersions.get(j);Vt(null!==fe),Y.version.compareTo(fe)<0&&(T.applyToRemoteDocument(Y,_),Y.isValidDocument()&&(Y.setReadTime(_.commitVersion),b.addEntry(Y)))})}),N.next(()=>u.$s.removeMutationBatch(h,T))}(e,i,t,o).next(()=>o.apply(i)).next(()=>e.$s.performConsistencyCheck(i)).next(()=>e.ai.qs(i,r))})}function Ea(n){const t=Xe(n);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.ls.getLastRemoteSnapshotVersion(e))}function wS(n,t){const e=Xe(n),i=t.snapshotVersion;let r=e.si;return e.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const u=e.oi.newChangeBuffer({trackRemovals:!0});r=e.si;const h=[];t.targetChanges.forEach((b,T)=>{const M=r.get(T);if(!M)return;h.push(e.ls.removeMatchingKeys(o,b.removedDocuments,T).next(()=>e.ls.addMatchingKeys(o,b.addedDocuments,T)));let N=M.withSequenceNumber(o.currentSequenceNumber);var j,Y,fe;t.targetMismatches.has(T)?N=N.withResumeToken(Ni.EMPTY_BYTE_STRING,Ot.min()).withLastLimboFreeSnapshotVersion(Ot.min()):b.resumeToken.approximateByteSize()>0&&(N=N.withResumeToken(b.resumeToken,i)),r=r.insert(T,N),Y=N,fe=b,(0===(j=M).resumeToken.approximateByteSize()||Y.snapshotVersion.toMicroseconds()-j.snapshotVersion.toMicroseconds()>=3e8||fe.addedDocuments.size+fe.modifiedDocuments.size+fe.removedDocuments.size>0)&&h.push(e.ls.updateTargetData(o,N))});let _=xr();if(t.documentUpdates.forEach(b=>{t.resolvedLimboDocuments.has(b)&&h.push(e.persistence.referenceDelegate.updateLimboDocument(o,b))}),h.push(Tm(o,u,t.documentUpdates).next(b=>{_=b})),!i.isEqual(Ot.min())){const b=e.ls.getLastRemoteSnapshotVersion(o).next(T=>e.ls.setTargetsMetadata(o,o.currentSequenceNumber,i));h.push(b)}return Ae.waitFor(h).next(()=>u.apply(o)).next(()=>e.ai.Gs(o,_)).next(()=>_)}).then(o=>(e.si=r,o))}function Tm(n,t,e){let i=Mn();return e.forEach(r=>i=i.add(r)),t.getEntries(n,i).next(r=>{let o=xr();return e.forEach((u,h)=>{const _=r.get(u);h.isNoDocument()&&h.version.isEqual(Ot.min())?(t.removeEntry(u,h.readTime),o=o.insert(u,h)):!_.isValidDocument()||h.version.compareTo(_.version)>0||0===h.version.compareTo(_.version)&&_.hasPendingWrites?(t.addEntry(h),o=o.insert(u,h)):$e("LocalStore","Ignoring outdated watch update for ",u,". Current version:",_.version," Watch version:",h.version)}),o})}function Im(n,t){const e=Xe(n);return e.persistence.runTransaction("Get next mutation batch","readonly",i=>(void 0===t&&(t=-1),e.$s.getNextMutationBatchAfterBatchId(i,t)))}function _f(n,t){const e=Xe(n);return e.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return e.ls.getTargetData(i,t).next(o=>o?(r=o,Ae.resolve(r)):e.ls.allocateTargetId(i).next(u=>(r=new Rl(t,u,0,i.currentSequenceNumber),e.ls.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=e.si.get(i.targetId);return(null===r||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(e.si=e.si.insert(i.targetId,i),e.ii.set(t,i.targetId)),i})}function yf(n,t,e){return F0.apply(this,arguments)}function F0(){return F0=(0,be.Z)(function*(n,t,e){const i=Xe(n),r=i.si.get(t),o=e?"readwrite":"readwrite-primary";try{e||(yield i.persistence.runTransaction("Release target",o,u=>i.persistence.referenceDelegate.removeTarget(u,r)))}catch(u){if(!ld(u))throw u;$e("LocalStore",`Failed to update sequence numbers for target ${t}: ${u}`)}i.si=i.si.remove(t),i.ii.delete(r.target)}),F0.apply(this,arguments)}function fd(n,t,e){const i=Xe(n);let r=Ot.min(),o=Mn();return i.persistence.runTransaction("Execute query","readonly",u=>function(h,_,b){const T=Xe(h),M=T.ii.get(b);return void 0!==M?Ae.resolve(T.si.get(M)):T.ls.getTargetData(_,b)}(i,u,zo(t)).next(h=>{if(h)return r=h.lastLimboFreeSnapshotVersion,i.ls.getMatchingKeysForTargetId(u,h.targetId).next(_=>{o=_})}).next(()=>i.ni.Ks(u,t,e?r:Ot.min(),e?o:Mn())).next(h=>(ID(i,kE(t),h),{documents:h,hi:o})))}function Sm(n,t){const e=Xe(n),i=Xe(e.ls),r=e.si.get(t);return r?Promise.resolve(r.target):e.persistence.runTransaction("Get target data","readonly",o=>i.Et(o,t).next(u=>u?u.target:null))}function TD(n,t){const e=Xe(n),i=e.ri.get(t)||Ot.min();return e.persistence.runTransaction("Get new document changes","readonly",r=>e.oi.getAllFromCollectionGroup(r,t,Gb(i,-1),Number.MAX_SAFE_INTEGER)).then(r=>(ID(e,t,r),r))}function ID(n,t,e){let i=Ot.min();e.forEach((r,o)=>{o.readTime.compareTo(i)>0&&(i=o.readTime)}),n.ri.set(t,i)}function ay(){return ay=(0,be.Z)(function*(n,t,e,i){const r=Xe(n);let o=Mn(),u=xr();for(const b of e){const T=t.li(b.metadata.name);b.document&&(o=o.add(T));const M=t.fi(b);M.setReadTime(t.di(b.metadata.readTime)),u=u.insert(T,M)}const h=r.oi.newChangeBuffer({trackRemovals:!0}),_=yield _f(r,(b=i,zo(fs(pn.fromString(`__bundle__/docs/${b}`)))));var b;return r.persistence.runTransaction("Apply bundle documents","readwrite",b=>Tm(b,h,u).next(T=>(h.apply(b),T)).next(T=>r.ls.removeMatchingKeysForTargetId(b,_.targetId).next(()=>r.ls.addMatchingKeys(b,o,_.targetId)).next(()=>r.ai.Gs(b,T)).next(()=>T)))}),ay.apply(this,arguments)}function L0(n,t){return ly.apply(this,arguments)}function ly(){return ly=(0,be.Z)(function*(n,t,e=Mn()){const i=yield _f(n,zo(ym(t.bundledQuery))),r=Xe(n);return r.persistence.runTransaction("Save named query","readwrite",o=>{const u=pr(t.readTime);if(i.snapshotVersion.compareTo(u)>=0)return r.ds.saveNamedQuery(o,t);const h=i.withResumeToken(Ni.EMPTY_BYTE_STRING,u);return r.si=r.si.insert(h.targetId,h),r.ls.updateTargetData(o,h).next(()=>r.ls.removeMatchingKeysForTargetId(o,i.targetId)).next(()=>r.ls.addMatchingKeys(o,e,i.targetId)).next(()=>r.ds.saveNamedQuery(o,t))})}),ly.apply(this,arguments)}class CS{constructor(t){this.M=t,this._i=new Map,this.wi=new Map}getBundleMetadata(t,e){return Ae.resolve(this._i.get(e))}saveBundleMetadata(t,e){var i;return this._i.set(e.id,{id:(i=e).id,version:i.version,createTime:pr(i.createTime)}),Ae.resolve()}getNamedQuery(t,e){return Ae.resolve(this.wi.get(e))}saveNamedQuery(t,e){return this.wi.set(e.name,{name:(i=e).name,query:ym(i.bundledQuery),readTime:pr(i.readTime)}),Ae.resolve();var i}}class ES{constructor(){this.overlays=new gi(Ke.comparator),this.mi=new Map}getOverlay(t,e){return Ae.resolve(this.overlays.get(e))}saveOverlays(t,e,i){return i.forEach((r,o)=>{this.Xt(t,e,o)}),Ae.resolve()}removeOverlaysForBatchId(t,e,i){const r=this.mi.get(i);return void 0!==r&&(r.forEach(o=>this.overlays=this.overlays.remove(o)),this.mi.delete(i)),Ae.resolve()}getOverlaysForCollection(t,e,i){const r=Y_(),o=e.length+1,u=new Ke(e.child("")),h=this.overlays.getIteratorFrom(u);for(;h.hasNext();){const _=h.getNext().value,b=_.getKey();if(!e.isPrefixOf(b.path))break;b.path.length===o&&_.largestBatchId>i&&r.set(_.getKey(),_)}return Ae.resolve(r)}getOverlaysForCollectionGroup(t,e,i,r){let o=new gi((b,T)=>b-T);const u=this.overlays.getIterator();for(;u.hasNext();){const b=u.getNext().value;if(b.getKey().getCollectionGroup()===e&&b.largestBatchId>i){let T=o.get(b.largestBatchId);null===T&&(T=Y_(),o=o.insert(b.largestBatchId,T)),T.set(b.getKey(),b)}}const h=Y_(),_=o.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach((b,T)=>h.set(b,T)),!(h.size()>=r)););return Ae.resolve(h)}Xt(t,e,i){if(null===i)return;const r=this.overlays.get(i.key);if(null!==r){const u=this.mi.get(r.largestBatchId).delete(i.key);this.mi.set(r.largestBatchId,u)}this.overlays=this.overlays.insert(i.key,new w0(e,i));let o=this.mi.get(e);void 0===o&&(o=Mn(),this.mi.set(e,o)),this.mi.set(e,o.add(i.key))}}class MD{constructor(){this.gi=new Vn(Li.yi),this.pi=new Vn(Li.Ii)}isEmpty(){return this.gi.isEmpty()}addReference(t,e){const i=new Li(t,e);this.gi=this.gi.add(i),this.pi=this.pi.add(i)}Ti(t,e){t.forEach(i=>this.addReference(i,e))}removeReference(t,e){this.Ei(new Li(t,e))}Ai(t,e){t.forEach(i=>this.removeReference(i,e))}Ri(t){const e=new Ke(new pn([])),i=new Li(e,t),r=new Li(e,t+1),o=[];return this.pi.forEachInRange([i,r],u=>{this.Ei(u),o.push(u.key)}),o}bi(){this.gi.forEach(t=>this.Ei(t))}Ei(t){this.gi=this.gi.delete(t),this.pi=this.pi.delete(t)}Pi(t){const e=new Ke(new pn([])),i=new Li(e,t),r=new Li(e,t+1);let o=Mn();return this.pi.forEachInRange([i,r],u=>{o=o.add(u.key)}),o}containsKey(t){const e=new Li(t,0),i=this.gi.firstAfterOrEqual(e);return null!==i&&t.isEqual(i.key)}}class Li{constructor(t,e){this.key=t,this.Vi=e}static yi(t,e){return Ke.comparator(t.key,e.key)||Jt(t.Vi,e.Vi)}static Ii(t,e){return Jt(t.Vi,e.Vi)||Ke.comparator(t.key,e.key)}}class V0{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.$s=[],this.vi=1,this.Si=new Vn(Li.yi)}checkEmpty(t){return Ae.resolve(0===this.$s.length)}addMutationBatch(t,e,i,r){const o=this.vi;this.vi++;const u=new Q_(o,e,i,r);this.$s.push(u);for(const h of r)this.Si=this.Si.add(new Li(h.key,o)),this.indexManager.addToCollectionParentIndex(t,h.key.path.popLast());return Ae.resolve(u)}lookupMutationBatch(t,e){return Ae.resolve(this.Di(e))}getNextMutationBatchAfterBatchId(t,e){const r=this.Ci(e+1),o=r<0?0:r;return Ae.resolve(this.$s.length>o?this.$s[o]:null)}getHighestUnacknowledgedBatchId(){return Ae.resolve(0===this.$s.length?-1:this.vi-1)}getAllMutationBatches(t){return Ae.resolve(this.$s.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const i=new Li(e,0),r=new Li(e,Number.POSITIVE_INFINITY),o=[];return this.Si.forEachInRange([i,r],u=>{const h=this.Di(u.Vi);o.push(h)}),Ae.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(t,e){let i=new Vn(Jt);return e.forEach(r=>{const o=new Li(r,0),u=new Li(r,Number.POSITIVE_INFINITY);this.Si.forEachInRange([o,u],h=>{i=i.add(h.Vi)})}),Ae.resolve(this.xi(i))}getAllMutationBatchesAffectingQuery(t,e){const i=e.path,r=i.length+1;let o=i;Ke.isDocumentKey(o)||(o=o.child(""));const u=new Li(new Ke(o),0);let h=new Vn(Jt);return this.Si.forEachWhile(_=>{const b=_.key.path;return!!i.isPrefixOf(b)&&(b.length===r&&(h=h.add(_.Vi)),!0)},u),Ae.resolve(this.xi(h))}xi(t){const e=[];return t.forEach(i=>{const r=this.Di(i);null!==r&&e.push(r)}),e}removeMutationBatch(t,e){Vt(0===this.Ni(e.batchId,"removed")),this.$s.shift();let i=this.Si;return Ae.forEach(e.mutations,r=>{const o=new Li(r.key,e.batchId);return i=i.delete(o),this.referenceDelegate.markPotentiallyOrphaned(t,r.key)}).next(()=>{this.Si=i})}dn(t){}containsKey(t,e){const i=new Li(e,0),r=this.Si.firstAfterOrEqual(i);return Ae.resolve(e.isEqual(r&&r.key))}performConsistencyCheck(t){return Ae.resolve()}Ni(t,e){return this.Ci(t)}Ci(t){return 0===this.$s.length?0:t-this.$s[0].batchId}Di(t){const e=this.Ci(t);return e<0||e>=this.$s.length?null:this.$s[e]}}class xD{constructor(t){this.ki=t,this.docs=new gi(Ke.comparator),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const i=e.key,r=this.docs.get(i),o=r?r.size:0,u=this.ki(e);return this.docs=this.docs.insert(i,{document:e.mutableCopy(),size:u}),this.size+=u-o,this.indexManager.addToCollectionParentIndex(t,i.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const i=this.docs.get(e);return Ae.resolve(i?i.document.mutableCopy():Hn.newInvalidDocument(e))}getEntries(t,e){let i=xr();return e.forEach(r=>{const o=this.docs.get(r);i=i.insert(r,o?o.document.mutableCopy():Hn.newInvalidDocument(r))}),Ae.resolve(i)}getAllFromCollection(t,e,i){let r=xr();const o=new Ke(e.child("")),u=this.docs.getIteratorFrom(o);for(;u.hasNext();){const{key:h,value:{document:_}}=u.getNext();if(!e.isPrefixOf(h.path))break;h.path.length>e.length+1||PI(TE(_),i)<=0||(r=r.insert(_.key,_.mutableCopy()))}return Ae.resolve(r)}getAllFromCollectionGroup(t,e,i,r){ut()}Mi(t,e){return Ae.forEach(this.docs,i=>e(i))}newChangeBuffer(t){return new B0(this)}getSize(t){return Ae.resolve(this.size)}}class B0 extends vD{constructor(t){super(),this.qn=t}applyChanges(t){const e=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?e.push(this.qn.addEntry(t,r)):this.qn.removeEntry(i)}),Ae.waitFor(e)}getFromCache(t,e){return this.qn.getEntry(t,e)}getAllFromCache(t,e){return this.qn.getEntries(t,e)}}class U0{constructor(t){this.persistence=t,this.Oi=new Ml(e=>nd(e),Qh),this.lastRemoteSnapshotVersion=Ot.min(),this.highestTargetId=0,this.Fi=0,this.$i=new MD,this.targetCount=0,this.Bi=Uc.mn()}forEachTarget(t,e){return this.Oi.forEach((i,r)=>e(r)),Ae.resolve()}getLastRemoteSnapshotVersion(t){return Ae.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return Ae.resolve(this.Fi)}allocateTargetId(t){return this.highestTargetId=this.Bi.next(),Ae.resolve(this.highestTargetId)}setTargetsMetadata(t,e,i){return i&&(this.lastRemoteSnapshotVersion=i),e>this.Fi&&(this.Fi=e),Ae.resolve()}In(t){this.Oi.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.Bi=new Uc(e),this.highestTargetId=e),t.sequenceNumber>this.Fi&&(this.Fi=t.sequenceNumber)}addTargetData(t,e){return this.In(e),this.targetCount+=1,Ae.resolve()}updateTargetData(t,e){return this.In(e),Ae.resolve()}removeTargetData(t,e){return this.Oi.delete(e.target),this.$i.Ri(e.targetId),this.targetCount-=1,Ae.resolve()}removeTargets(t,e,i){let r=0;const o=[];return this.Oi.forEach((u,h)=>{h.sequenceNumber<=e&&null===i.get(h.targetId)&&(this.Oi.delete(u),o.push(this.removeMatchingKeysForTargetId(t,h.targetId)),r++)}),Ae.waitFor(o).next(()=>r)}getTargetCount(t){return Ae.resolve(this.targetCount)}getTargetData(t,e){const i=this.Oi.get(e)||null;return Ae.resolve(i)}addMatchingKeys(t,e,i){return this.$i.Ti(e,i),Ae.resolve()}removeMatchingKeys(t,e,i){this.$i.Ai(e,i);const r=this.persistence.referenceDelegate,o=[];return r&&e.forEach(u=>{o.push(r.markPotentiallyOrphaned(t,u))}),Ae.waitFor(o)}removeMatchingKeysForTargetId(t,e){return this.$i.Ri(e),Ae.resolve()}getMatchingKeysForTargetId(t,e){const i=this.$i.Pi(e);return Ae.resolve(i)}containsKey(t,e){return Ae.resolve(this.$i.containsKey(e))}}class DS{constructor(t,e){this.Li={},this.overlays={},this.ts=new io(0),this.es=!1,this.es=!0,this.referenceDelegate=t(this),this.ls=new U0(this),this.indexManager=new pS,this.fs=new xD(i=>this.referenceDelegate.Ui(i)),this.M=new uD(e),this.ds=new CS(this.M)}start(){return Promise.resolve()}shutdown(){return this.es=!1,Promise.resolve()}get started(){return this.es}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new ES,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let i=this.Li[t.toKey()];return i||(i=new V0(e,this.referenceDelegate),this.Li[t.toKey()]=i),i}getTargetCache(){return this.ls}getRemoteDocumentCache(){return this.fs}getBundleCache(){return this.ds}runTransaction(t,e,i){$e("MemoryPersistence","Starting transaction:",t);const r=new AS(this.ts.next());return this.referenceDelegate.qi(),i(r).next(o=>this.referenceDelegate.Gi(r).next(()=>o)).toPromise().then(o=>(r.raiseOnCommittedEvent(),o))}Ki(t,e){return Ae.or(Object.values(this.Li).map(i=>()=>i.containsKey(t,e)))}}class AS extends aD{constructor(t){super(),this.currentSequenceNumber=t}}class j0{constructor(t){this.persistence=t,this.Qi=new MD,this.ji=null}static Wi(t){return new j0(t)}get zi(){if(this.ji)return this.ji;throw ut()}addReference(t,e,i){return this.Qi.addReference(i,e),this.zi.delete(i.toString()),Ae.resolve()}removeReference(t,e,i){return this.Qi.removeReference(i,e),this.zi.add(i.toString()),Ae.resolve()}markPotentiallyOrphaned(t,e){return this.zi.add(e.toString()),Ae.resolve()}removeTarget(t,e){this.Qi.Ri(e.targetId).forEach(r=>this.zi.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,e.targetId).next(r=>{r.forEach(o=>this.zi.add(o.toString()))}).next(()=>i.removeTargetData(t,e))}qi(){this.ji=new Set}Gi(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ae.forEach(this.zi,i=>{const r=Ke.fromPath(i);return this.Hi(t,r).next(o=>{o||e.removeEntry(r,Ot.min())})}).next(()=>(this.ji=null,e.apply(t)))}updateLimboDocument(t,e){return this.Hi(t,e).next(i=>{i?this.zi.delete(e.toString()):this.zi.add(e.toString())})}Ui(t){return 0}Hi(t,e){return Ae.or([()=>Ae.resolve(this.Qi.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Ki(t,e)])}}function kD(n,t){return`firestore_clients_${n}_${t}`}function H0(n,t,e){let i=`firestore_mutations_${n}_${e}`;return t.isAuthenticated()&&(i+=`_${t.uid}`),i}function Mm(n,t){return`firestore_targets_${n}_${t}`}class xm{constructor(t,e,i,r){this.user=t,this.batchId=e,this.state=i,this.error=r}static Ji(t,e,i){const r=JSON.parse(i);let o,u="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return u&&r.error&&(u="string"==typeof r.error.message&&"string"==typeof r.error.code,u&&(o=new je(r.error.code,r.error.message))),u?new xm(t,e,r.state,o):(Di("SharedClientState",`Failed to parse mutation state for ID '${e}': ${i}`),null)}Yi(){const t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}}class vf{constructor(t,e,i){this.targetId=t,this.state=e,this.error=i}static Ji(t,e){const i=JSON.parse(e);let r,o="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code,o&&(r=new je(i.error.code,i.error.message))),o?new vf(t,i.state,r):(Di("SharedClientState",`Failed to parse target state for ID '${t}': ${e}`),null)}Yi(){const t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}}class km{constructor(t,e){this.clientId=t,this.activeTargetIds=e}static Ji(t,e){const i=JSON.parse(e);let r="object"==typeof i&&i.activeTargetIds instanceof Array,o=Z_();for(let u=0;r&&u<i.activeTargetIds.length;++u)r=Qp(i.activeTargetIds[u]),o=o.add(i.activeTargetIds[u]);return r?new km(t,o):(Di("SharedClientState",`Failed to parse client data for instance '${t}': ${e}`),null)}}class cy{constructor(t,e){this.clientId=t,this.onlineState=e}static Ji(t){const e=JSON.parse(t);return"object"==typeof e&&-1!==["Unknown","Online","Offline"].indexOf(e.onlineState)&&"string"==typeof e.clientId?new cy(e.clientId,e.onlineState):(Di("SharedClientState",`Failed to parse online state: ${t}`),null)}}class z0{constructor(){this.activeTargetIds=Z_()}Xi(t){this.activeTargetIds=this.activeTargetIds.add(t)}Zi(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Yi(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class uy{constructor(t,e,i,r,o){this.window=t,this.Jn=e,this.persistenceKey=i,this.tr=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.er=this.nr.bind(this),this.sr=new gi(Jt),this.started=!1,this.ir=[];const u=i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=o,this.rr=kD(this.persistenceKey,this.tr),this.ur=`firestore_sequence_number_${this.persistenceKey}`,this.sr=this.sr.insert(this.tr,new z0),this.ar=new RegExp(`^firestore_clients_${u}_([^_]*)$`),this.cr=new RegExp(`^firestore_mutations_${u}_(\\d+)(?:_(.*))?$`),this.hr=new RegExp(`^firestore_targets_${u}_(\\d+)$`),this.lr=`firestore_online_state_${this.persistenceKey}`,this.dr=function(h){return`firestore_bundle_loaded_v2_${h}`}(this.persistenceKey),this.window.addEventListener("storage",this.er)}static vt(t){return!(!t||!t.localStorage)}start(){var t=this;return(0,be.Z)(function*(){const e=yield t.syncEngine.Os();for(const r of e){if(r===t.tr)continue;const o=t.getItem(kD(t.persistenceKey,r));if(o){const u=km.Ji(r,o);u&&(t.sr=t.sr.insert(u.clientId,u))}}t._r();const i=t.storage.getItem(t.lr);if(i){const r=t.wr(i);r&&t.mr(r)}for(const r of t.ir)t.nr(r);t.ir=[],t.window.addEventListener("pagehide",()=>t.shutdown()),t.started=!0})()}writeSequenceNumber(t){this.setItem(this.ur,JSON.stringify(t))}getAllActiveQueryTargets(){return this.gr(this.sr)}isActiveQueryTarget(t){let e=!1;return this.sr.forEach((i,r)=>{r.activeTargetIds.has(t)&&(e=!0)}),e}addPendingMutation(t){this.yr(t,"pending")}updateMutationState(t,e,i){this.yr(t,e,i),this.pr(t)}addLocalQueryTarget(t){let e="not-current";if(this.isActiveQueryTarget(t)){const i=this.storage.getItem(Mm(this.persistenceKey,t));if(i){const r=vf.Ji(t,i);r&&(e=r.state)}}return this.Ir.Xi(t),this._r(),e}removeLocalQueryTarget(t){this.Ir.Zi(t),this._r()}isLocalQueryTarget(t){return this.Ir.activeTargetIds.has(t)}clearQueryState(t){this.removeItem(Mm(this.persistenceKey,t))}updateQueryState(t,e,i){this.Tr(t,e,i)}handleUserChange(t,e,i){e.forEach(r=>{this.pr(r)}),this.currentUser=t,i.forEach(r=>{this.addPendingMutation(r)})}setOnlineState(t){this.Er(t)}notifyBundleLoaded(t){this.Ar(t)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.er),this.removeItem(this.rr),this.started=!1)}getItem(t){const e=this.storage.getItem(t);return $e("SharedClientState","READ",t,e),e}setItem(t,e){$e("SharedClientState","SET",t,e),this.storage.setItem(t,e)}removeItem(t){$e("SharedClientState","REMOVE",t),this.storage.removeItem(t)}nr(t){var e=this;const i=t;if(i.storageArea===this.storage){if($e("SharedClientState","EVENT",i.key,i.newValue),i.key===this.rr)return void Di("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Jn.enqueueRetryable((0,be.Z)(function*(){if(e.started){if(null!==i.key)if(e.ar.test(i.key)){if(null==i.newValue){const r=e.Rr(i.key);return e.br(r,null)}{const r=e.Pr(i.key,i.newValue);if(r)return e.br(r.clientId,r)}}else if(e.cr.test(i.key)){if(null!==i.newValue){const r=e.Vr(i.key,i.newValue);if(r)return e.vr(r)}}else if(e.hr.test(i.key)){if(null!==i.newValue){const r=e.Sr(i.key,i.newValue);if(r)return e.Dr(r)}}else if(i.key===e.lr){if(null!==i.newValue){const r=e.wr(i.newValue);if(r)return e.mr(r)}}else if(i.key===e.ur){const r=function(o){let u=io.A;if(null!=o)try{const h=JSON.parse(o);Vt("number"==typeof h),u=h}catch(h){Di("SharedClientState","Failed to read sequence number from WebStorage",h)}return u}(i.newValue);r!==io.A&&e.sequenceNumberHandler(r)}else if(i.key===e.dr){const r=e.Cr(i.newValue);yield Promise.all(r.map(o=>e.syncEngine.Nr(o)))}}else e.ir.push(i)}))}}get Ir(){return this.sr.get(this.tr)}_r(){this.setItem(this.rr,this.Ir.Yi())}yr(t,e,i){const r=new xm(this.currentUser,t,e,i),o=H0(this.persistenceKey,this.currentUser,t);this.setItem(o,r.Yi())}pr(t){const e=H0(this.persistenceKey,this.currentUser,t);this.removeItem(e)}Er(t){this.storage.setItem(this.lr,JSON.stringify({clientId:this.tr,onlineState:t}))}Tr(t,e,i){const r=Mm(this.persistenceKey,t),o=new vf(t,e,i);this.setItem(r,o.Yi())}Ar(t){const e=JSON.stringify(Array.from(t));this.setItem(this.dr,e)}Rr(t){const e=this.ar.exec(t);return e?e[1]:null}Pr(t,e){const i=this.Rr(t);return km.Ji(i,e)}Vr(t,e){const i=this.cr.exec(t),r=Number(i[1]);return xm.Ji(new dr(void 0!==i[2]?i[2]:null),r,e)}Sr(t,e){const i=this.hr.exec(t),r=Number(i[1]);return vf.Ji(r,e)}wr(t){return cy.Ji(t)}Cr(t){return JSON.parse(t)}vr(t){var e=this;return(0,be.Z)(function*(){if(t.user.uid===e.currentUser.uid)return e.syncEngine.kr(t.batchId,t.state,t.error);$e("SharedClientState",`Ignoring mutation for non-active user ${t.user.uid}`)})()}Dr(t){return this.syncEngine.Mr(t.targetId,t.state,t.error)}br(t,e){const i=e?this.sr.insert(t,e):this.sr.remove(t),r=this.gr(this.sr),o=this.gr(i),u=[],h=[];return o.forEach(_=>{r.has(_)||u.push(_)}),r.forEach(_=>{o.has(_)||h.push(_)}),this.syncEngine.Or(u,h).then(()=>{this.sr=i})}mr(t){this.sr.get(t.clientId)&&this.onlineStateHandler(t.onlineState)}gr(t){let e=Z_();return t.forEach((i,r)=>{e=e.unionWith(r.activeTargetIds)}),e}}class $0{constructor(){this.Fr=new z0,this.$r={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,i){}addLocalQueryTarget(t){return this.Fr.Xi(t),this.$r[t]||"not-current"}updateQueryState(t,e,i){this.$r[t]=e}removeLocalQueryTarget(t){this.Fr.Zi(t)}isLocalQueryTarget(t){return this.Fr.activeTargetIds.has(t)}clearQueryState(t){delete this.$r[t]}getAllActiveQueryTargets(){return this.Fr.activeTargetIds}isActiveQueryTarget(t){return this.Fr.activeTargetIds.has(t)}start(){return this.Fr=new z0,Promise.resolve()}handleUserChange(t,e,i){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class TS{Br(t){}shutdown(){}}class G0{constructor(){this.Lr=()=>this.Ur(),this.qr=()=>this.Gr(),this.Kr=[],this.Qr()}Br(t){this.Kr.push(t)}shutdown(){window.removeEventListener("online",this.Lr),window.removeEventListener("offline",this.qr)}Qr(){window.addEventListener("online",this.Lr),window.addEventListener("offline",this.qr)}Ur(){$e("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.Kr)t(0)}Gr(){$e("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.Kr)t(1)}static vt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const IS={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class ps{constructor(t){this.jr=t.jr,this.Wr=t.Wr}zr(t){this.Hr=t}Jr(t){this.Yr=t}onMessage(t){this.Xr=t}close(){this.Wr()}send(t){this.jr(t)}Zr(){this.Hr()}eo(t){this.Yr(t)}no(t){this.Xr(t)}}class bf extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId,this.so=(t.ssl?"https":"http")+"://"+t.host,this.io="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}ro(t,e,i,r,o){const u=this.oo(t,e);$e("RestConnection","Sending: ",u,i);const h={};return this.uo(h,r,o),this.ao(t,u,h,i).then(_=>($e("RestConnection","Received: ",_),_),_=>{throw Wp("RestConnection",`${t} failed with error: `,_,"url: ",u,"request:",i),_})}co(t,e,i,r,o){return this.ro(t,e,i,r,o)}uo(t,e,i){t["X-Goog-Api-Client"]="gl-js/ fire/"+Wu,t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach((r,o)=>t[o]=r),i&&i.headers.forEach((r,o)=>t[o]=r)}oo(t,e){return`${this.so}/v1/${e}:${IS[t]}`}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams}ao(t,e,i,r){return new Promise((o,u)=>{const h=new gE;h.listenOnce(fE.COMPLETE,()=>{try{switch(h.getLastErrorCode()){case Ic.NO_ERROR:const b=h.getResponseJson();$e("Connection","XHR received:",JSON.stringify(b)),o(b);break;case Ic.TIMEOUT:$e("Connection",'RPC "'+t+'" timed out'),u(new je(Ce.DEADLINE_EXCEEDED,"Request time out"));break;case Ic.HTTP_ERROR:const T=h.getStatus();if($e("Connection",'RPC "'+t+'" failed with status:',T,"response text:",h.getResponseText()),T>0){const M=h.getResponseJson().error;if(M&&M.status&&M.message){const N=function(j){const Y=j.toLowerCase().replace(/_/g,"-");return Object.values(Ce).indexOf(Y)>=0?Y:Ce.UNKNOWN}(M.status);u(new je(N,M.message))}else u(new je(Ce.UNKNOWN,"Server responded with status "+h.getStatus()))}else u(new je(Ce.UNAVAILABLE,"Connection failed."));break;default:ut()}}finally{$e("Connection",'RPC "'+t+'" completed.')}});const _=JSON.stringify(r);h.send(e,"POST",_,i,15)})}ho(t,e,i){const r=[this.so,"/","google.firestore.v1.Firestore","/",t,"/channel"],o=Uh(),u=jh(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(h.xmlHttpFactory=new mE({})),this.uo(h.initMessageHeaders,e,i),(0,Pt.uI)()||(0,Pt.b$)()||(0,Pt.d)()||(0,Pt.w1)()||(0,Pt.Mn)()||(0,Pt.ru)()||(h.httpHeadersOverwriteParam="$httpHeaders");const _=r.join("");$e("Connection","Creating WebChannel: "+_,h);const b=o.createWebChannel(_,h);let T=!1,M=!1;const N=new ps({jr:Y=>{M?$e("Connection","Not sending because WebChannel is closed:",Y):(T||($e("Connection","Opening WebChannel transport."),b.open(),T=!0),$e("Connection","WebChannel sending:",Y),b.send(Y))},Wr:()=>b.close()}),j=(Y,fe,Te)=>{Y.listen(fe,Qe=>{try{Te(Qe)}catch(qe){setTimeout(()=>{throw qe},0)}})};return j(b,Zp.EventType.OPEN,()=>{M||$e("Connection","WebChannel transport opened.")}),j(b,Zp.EventType.CLOSE,()=>{M||(M=!0,$e("Connection","WebChannel transport closed"),N.eo())}),j(b,Zp.EventType.ERROR,Y=>{M||(M=!0,Wp("Connection","WebChannel transport errored:",Y),N.eo(new je(Ce.UNAVAILABLE,"The operation could not be completed")))}),j(b,Zp.EventType.MESSAGE,Y=>{var fe;if(!M){const Te=Y.data[0];Vt(!!Te);const Qe=Te,qe=Qe.error||(null===(fe=Qe[0])||void 0===fe?void 0:fe.error);if(qe){$e("Connection","WebChannel received error:",qe);const ht=qe.status;let Ye=function(_t){const st=Ai[_t];if(void 0!==st)return s0(st)}(ht),St=qe.message;void 0===Ye&&(Ye=Ce.INTERNAL,St="Unknown error status: "+ht+" with message "+qe.message),M=!0,N.eo(new je(Ye,St)),b.close()}else $e("Connection","WebChannel received:",Te),N.no(Te)}}),j(u,pE.STAT_EVENT,Y=>{Y.stat===Ob.PROXY?$e("Connection","Detected buffering proxy"):Y.stat===Ob.NOPROXY&&$e("Connection","Detected no buffering proxy")}),setTimeout(()=>{N.Zr()},0),N}}function RD(){return"undefined"!=typeof window?window:null}function dy(){return"undefined"!=typeof document?document:null}function hy(n){return new $E(n,!0)}class pd{constructor(t,e,i=1e3,r=1.5,o=6e4){this.Jn=t,this.timerId=e,this.lo=i,this.fo=r,this._o=o,this.wo=0,this.mo=null,this.yo=Date.now(),this.reset()}reset(){this.wo=0}po(){this.wo=this._o}Io(t){this.cancel();const e=Math.floor(this.wo+this.To()),i=Math.max(0,Date.now()-this.yo),r=Math.max(0,e-i);r>0&&$e("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.wo} ms, delay with jitter: ${e} ms, last attempt: ${i} ms ago)`),this.mo=this.Jn.enqueueAfterDelay(this.timerId,r,()=>(this.yo=Date.now(),t())),this.wo*=this.fo,this.wo<this.lo&&(this.wo=this.lo),this.wo>this._o&&(this.wo=this._o)}Eo(){null!==this.mo&&(this.mo.skipDelay(),this.mo=null)}cancel(){null!==this.mo&&(this.mo.cancel(),this.mo=null)}To(){return(Math.random()-.5)*this.wo}}class OD{constructor(t,e,i,r,o,u,h,_){this.Jn=t,this.Ao=i,this.Ro=r,this.bo=o,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=h,this.listener=_,this.state=0,this.Po=0,this.Vo=null,this.vo=null,this.stream=null,this.So=new pd(t,e)}Do(){return 1===this.state||5===this.state||this.Co()}Co(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.xo()}stop(){var t=this;return(0,be.Z)(function*(){t.Do()&&(yield t.close(0))})()}No(){this.state=0,this.So.reset()}ko(){this.Co()&&null===this.Vo&&(this.Vo=this.Jn.enqueueAfterDelay(this.Ao,6e4,()=>this.Mo()))}Oo(t){this.Fo(),this.stream.send(t)}Mo(){var t=this;return(0,be.Z)(function*(){if(t.Co())return t.close(0)})()}Fo(){this.Vo&&(this.Vo.cancel(),this.Vo=null)}$o(){this.vo&&(this.vo.cancel(),this.vo=null)}close(t,e){var i=this;return(0,be.Z)(function*(){i.Fo(),i.$o(),i.So.cancel(),i.Po++,4!==t?i.So.reset():e&&e.code===Ce.RESOURCE_EXHAUSTED?(Di(e.toString()),Di("Using maximum backoff delay to prevent overloading the backend."),i.So.po()):e&&e.code===Ce.UNAUTHENTICATED&&3!==i.state&&(i.authCredentialsProvider.invalidateToken(),i.appCheckCredentialsProvider.invalidateToken()),null!==i.stream&&(i.Bo(),i.stream.close(),i.stream=null),i.state=t,yield i.listener.Jr(e)})()}Bo(){}auth(){this.state=1;const t=this.Lo(this.Po),e=this.Po;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.Po===e&&this.Uo(i,r)},i=>{t(()=>{const r=new je(Ce.UNKNOWN,"Fetching auth token failed: "+i.message);return this.qo(r)})})}Uo(t,e){const i=this.Lo(this.Po);this.stream=this.Go(t,e),this.stream.zr(()=>{i(()=>(this.state=2,this.vo=this.Jn.enqueueAfterDelay(this.Ro,1e4,()=>(this.Co()&&(this.state=3),Promise.resolve())),this.listener.zr()))}),this.stream.Jr(r=>{i(()=>this.qo(r))}),this.stream.onMessage(r=>{i(()=>this.onMessage(r))})}xo(){var t=this;this.state=5,this.So.Io((0,be.Z)(function*(){t.state=0,t.start()}))}qo(t){return $e("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}Lo(t){return e=>{this.Jn.enqueueAndForget(()=>this.Po===t?e():($e("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class q0 extends OD{constructor(t,e,i,r,o,u){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,i,r,u),this.M=o}Go(t,e){return this.bo.ho("Listen",t,e)}onMessage(t){this.So.reset();const e=function pm(n,t){let e;if("targetChange"in t){const i="NO_CHANGE"===(_=t.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===_?1:"REMOVE"===_?2:"CURRENT"===_?3:"RESET"===_?4:ut(),r=t.targetChange.targetIds||[],o=function(_,b){return _.N?(Vt(void 0===b||"string"==typeof b),Ni.fromBase64String(b||"")):(Vt(void 0===b||b instanceof Uint8Array),Ni.fromUint8Array(b||new Uint8Array))}(n,t.targetChange.resumeToken),u=t.targetChange.cause,h=u&&function(_){const b=void 0===_.code?Ce.UNKNOWN:s0(_.code);return new je(b,_.message||"")}(u);e=new hm(i,r,o,h||null)}else if("documentChange"in t){const i=t.documentChange,r=Wa(n,i.document.name),o=pr(i.document.updateTime),u=new Mr({mapValue:{fields:i.document.fields}}),h=Hn.newFoundDocument(r,o,u);e=new ad(i.targetIds||[],i.removedTargetIds||[],h.key,h)}else if("documentDelete"in t){const i=t.documentDelete,r=Wa(n,i.document),o=i.readTime?pr(i.readTime):Ot.min(),u=Hn.newNoDocument(r,o);e=new ad([],i.removedTargetIds||[],u.key,u)}else if("documentRemove"in t){const i=t.documentRemove,r=Wa(n,i.document);e=new ad([],i.removedTargetIds||[],r,null)}else{if(!("filter"in t))return ut();{const i=t.filter,o=new UE(i.count||0);e=new zE(i.targetId,o)}}var _;return e}(this.M,t),i=function(r){if(!("targetChange"in r))return Ot.min();const o=r.targetChange;return o.targetIds&&o.targetIds.length?Ot.min():o.readTime?pr(o.readTime):Ot.min()}(t);return this.listener.Ko(e,i)}Qo(t){const e={};e.database=Fc(this.M),e.addTarget=function(r,o){let u;const h=o.target;return u=N_(h)?{documents:ZE(r,h)}:{query:p0(r,h)},u.targetId=o.targetId,o.resumeToken.approximateByteSize()>0?u.resumeToken=a0(r,o.resumeToken):o.snapshotVersion.compareTo(Ot.min())>0&&(u.readTime=tf(r,o.snapshotVersion.toTimestamp())),u}(this.M,t);const i=function WE(n,t){const e=function(i,r){switch(r){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return ut()}}(0,t.purpose);return null==e?null:{"goog-listen-tags":e}}(0,t);i&&(e.labels=i),this.Oo(e)}jo(t){const e={};e.database=Fc(this.M),e.removeTarget=t,this.Oo(e)}}class SS extends OD{constructor(t,e,i,r,o,u){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,i,r,u),this.M=o,this.Wo=!1}get zo(){return this.Wo}start(){this.Wo=!1,this.lastStreamToken=void 0,super.start()}Bo(){this.Wo&&this.Ho([])}Go(t,e){return this.bo.ho("Write",t,e)}onMessage(t){if(Vt(!!t.streamToken),this.lastStreamToken=t.streamToken,this.Wo){this.So.reset();const e=function WI(n,t){return n&&n.length>0?(Vt(void 0!==t),n.map(e=>function(i,r){let o=pr(i.updateTime?i.updateTime:r);return o.isEqual(Ot.min())&&(o=pr(r)),new jI(o,i.transformResults||[])}(e,t))):[]}(t.writeResults,t.commitTime),i=pr(t.commitTime);return this.listener.Jo(i,e)}return Vt(!t.writeResults||0===t.writeResults.length),this.Wo=!0,this.listener.Yo()}Xo(){const t={};t.database=Fc(this.M),this.Oo(t)}Ho(t){const e={streamToken:this.lastStreamToken,writes:t.map(i=>kl(this.M,i))};this.Oo(e)}}class PD extends class{}{constructor(t,e,i,r){super(),this.authCredentials=t,this.appCheckCredentials=e,this.bo=i,this.M=r,this.Zo=!1}tu(){if(this.Zo)throw new je(Ce.FAILED_PRECONDITION,"The client has already been terminated.")}ro(t,e,i){return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,o])=>this.bo.ro(t,e,i,r,o)).catch(r=>{throw"FirebaseError"===r.name?(r.code===Ce.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new je(Ce.UNKNOWN,r.toString())})}co(t,e,i){return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,o])=>this.bo.co(t,e,i,r,o)).catch(r=>{throw"FirebaseError"===r.name?(r.code===Ce.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new je(Ce.UNKNOWN,r.toString())})}terminate(){this.Zo=!0}}class MS{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.eu=0,this.nu=null,this.su=!0}iu(){0===this.eu&&(this.ru("Unknown"),this.nu=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.nu=null,this.ou("Backend didn't respond within 10 seconds."),this.ru("Offline"),Promise.resolve())))}uu(t){"Online"===this.state?this.ru("Unknown"):(this.eu++,this.eu>=1&&(this.au(),this.ou(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ru("Offline")))}set(t){this.au(),this.eu=0,"Online"===t&&(this.su=!1),this.ru(t)}ru(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}ou(t){const e=`Could not reach Cloud Firestore backend. ${t}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.su?(Di(e),this.su=!1):$e("OnlineStateTracker",e)}au(){null!==this.nu&&(this.nu.cancel(),this.nu=null)}}class xS{constructor(t,e,i,r,o){var u=this;this.localStore=t,this.datastore=e,this.asyncQueue=i,this.remoteSyncer={},this.cu=[],this.hu=new Map,this.lu=new Set,this.fu=[],this.du=o,this.du.Br(h=>{i.enqueueAndForget((0,be.Z)(function*(){var _;Fl(u)&&($e("RemoteStore","Restarting streams for network reachability change."),yield(_=(0,be.Z)(function*(b){const T=Xe(b);T.lu.add(4),yield gd(T),T._u.set("Unknown"),T.lu.delete(4),yield md(T)}),function(b){return _.apply(this,arguments)})(u))}))}),this._u=new MS(i,r)}}function md(n){return fy.apply(this,arguments)}function fy(){return fy=(0,be.Z)(function*(n){if(Fl(n))for(const t of n.fu)yield t(!0)}),fy.apply(this,arguments)}function gd(n){return wf.apply(this,arguments)}function wf(){return wf=(0,be.Z)(function*(n){for(const t of n.fu)yield t(!1)}),wf.apply(this,arguments)}function Cf(n,t){const e=Xe(n);e.hu.has(t.targetId)||(e.hu.set(t.targetId,t),Ef(e)?gy(e):Pm(e).Co()&&my(e,t))}function py(n,t){const e=Xe(n),i=Pm(e);e.hu.delete(t),i.Co()&&ND(e,t),0===e.hu.size&&(i.Co()?i.ko():Fl(e)&&e._u.set("Unknown"))}function my(n,t){n.wu.Z(t.targetId),Pm(n).Qo(t)}function ND(n,t){n.wu.Z(t),Pm(n).jo(t)}function gy(n){n.wu=new _i({getRemoteKeysForTarget:t=>n.remoteSyncer.getRemoteKeysForTarget(t),Et:t=>n.hu.get(t)||null}),Pm(n).start(),n._u.iu()}function Ef(n){return Fl(n)&&!Pm(n).Do()&&n.hu.size>0}function Fl(n){return 0===Xe(n).lu.size}function FD(n){n.wu=void 0}function Y0(n){return Rm.apply(this,arguments)}function Rm(){return Rm=(0,be.Z)(function*(n){n.hu.forEach((t,e)=>{my(n,t)})}),Rm.apply(this,arguments)}function u1(n,t){return Z0.apply(this,arguments)}function Z0(){return Z0=(0,be.Z)(function*(n,t){FD(n),Ef(n)?(n._u.uu(t),gy(n)):n._u.set("Unknown")}),Z0.apply(this,arguments)}function kS(n,t,e){return _y.apply(this,arguments)}function _y(){return _y=(0,be.Z)(function*(n,t,e){if(n._u.set("Online"),t instanceof hm&&2===t.state&&t.cause)try{yield(i=(0,be.Z)(function*(r,o){const u=o.cause;for(const h of o.targetIds)r.hu.has(h)&&(yield r.remoteSyncer.rejectListen(h,u),r.hu.delete(h),r.wu.removeTarget(h))}),function(r,o){return i.apply(this,arguments)})(n,t)}catch(i){$e("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),i),yield Om(n,i)}else if(t instanceof ad?n.wu.ut(t):t instanceof zE?n.wu._t(t):n.wu.ht(t),!e.isEqual(Ot.min()))try{const i=yield Ea(n.localStore);e.compareTo(i)>=0&&(yield function(r,o){const u=r.wu.yt(o);return u.targetChanges.forEach((h,_)=>{if(h.resumeToken.approximateByteSize()>0){const b=r.hu.get(_);b&&r.hu.set(_,b.withResumeToken(h.resumeToken,o))}}),u.targetMismatches.forEach(h=>{const _=r.hu.get(h);if(!_)return;r.hu.set(h,_.withResumeToken(Ni.EMPTY_BYTE_STRING,_.snapshotVersion)),ND(r,h);const b=new Rl(_.target,h,1,_.sequenceNumber);my(r,b)}),r.remoteSyncer.applyRemoteEvent(u)}(n,e))}catch(i){$e("RemoteStore","Failed to raise snapshot:",i),yield Om(n,i)}var i}),_y.apply(this,arguments)}function Om(n,t,e){return W0.apply(this,arguments)}function W0(){return W0=(0,be.Z)(function*(n,t,e){if(!ld(t))throw t;n.lu.add(1),yield gd(n),n._u.set("Offline"),e||(e=()=>Ea(n.localStore)),n.asyncQueue.enqueueRetryable((0,be.Z)(function*(){$e("RemoteStore","Retrying IndexedDB access"),yield e(),n.lu.delete(1),yield md(n)}))}),W0.apply(this,arguments)}function K0(n,t){return t().catch(e=>Om(n,e,t))}function _d(n){return Q0.apply(this,arguments)}function Q0(){return Q0=(0,be.Z)(function*(n){const t=Xe(n),e=yd(t);let i=t.cu.length>0?t.cu[t.cu.length-1].batchId:-1;for(;RS(t);)try{const r=yield Im(t.localStore,i);if(null===r){0===t.cu.length&&e.ko();break}i=r.batchId,LD(t,r)}catch(r){yield Om(t,r)}VD(t)&&J0(t)}),Q0.apply(this,arguments)}function RS(n){return Fl(n)&&n.cu.length<10}function LD(n,t){n.cu.push(t);const e=yd(n);e.Co()&&e.zo&&e.Ho(t.mutations)}function VD(n){return Fl(n)&&!yd(n).Do()&&n.cu.length>0}function J0(n){yd(n).start()}function BD(n){return yy.apply(this,arguments)}function yy(){return yy=(0,be.Z)(function*(n){yd(n).Xo()}),yy.apply(this,arguments)}function UD(n){return X0.apply(this,arguments)}function X0(){return X0=(0,be.Z)(function*(n){const t=yd(n);for(const e of n.cu)t.Ho(e.mutations)}),X0.apply(this,arguments)}function OS(n,t,e){return jD.apply(this,arguments)}function jD(){return jD=(0,be.Z)(function*(n,t,e){const i=n.cu.shift(),r=b0.from(i,t,e);yield K0(n,()=>n.remoteSyncer.applySuccessfulWrite(r)),yield _d(n)}),jD.apply(this,arguments)}function HD(n,t){return zD.apply(this,arguments)}function zD(){return zD=(0,be.Z)(function*(n,t){var e;t&&yd(n).zo&&(yield(e=(0,be.Z)(function*(i,r){if(r0(o=r.code)&&o!==Ce.ABORTED){const u=i.cu.shift();yd(i).No(),yield K0(i,()=>i.remoteSyncer.rejectFailedWrite(u.batchId,r)),yield _d(i)}var o}),function(i,r){return e.apply(this,arguments)})(n,t)),VD(n)&&J0(n)}),zD.apply(this,arguments)}function PS(n,t){return $D.apply(this,arguments)}function $D(){return $D=(0,be.Z)(function*(n,t){const e=Xe(n);e.asyncQueue.verifyOperationInProgress(),$e("RemoteStore","RemoteStore received new credentials");const i=Fl(e);e.lu.add(3),yield gd(e),i&&e._u.set("Unknown"),yield e.remoteSyncer.handleCredentialChange(t),e.lu.delete(3),yield md(e)}),$D.apply(this,arguments)}function ew(n,t){return tw.apply(this,arguments)}function tw(){return tw=(0,be.Z)(function*(n,t){const e=Xe(n);t?(e.lu.delete(2),yield md(e)):t||(e.lu.add(2),yield gd(e),e._u.set("Unknown"))}),tw.apply(this,arguments)}function Pm(n){return n.mu||(n.mu=function(t,e,i){const r=Xe(t);return r.tu(),new q0(e,r.bo,r.authCredentials,r.appCheckCredentials,r.M,i)}(n.datastore,n.asyncQueue,{zr:Y0.bind(null,n),Jr:u1.bind(null,n),Ko:kS.bind(null,n)}),n.fu.push(function(){var t=(0,be.Z)(function*(e){e?(n.mu.No(),Ef(n)?gy(n):n._u.set("Unknown")):(yield n.mu.stop(),FD(n))});return function(e){return t.apply(this,arguments)}}())),n.mu}function yd(n){return n.gu||(n.gu=function(t,e,i){const r=Xe(t);return r.tu(),new SS(e,r.bo,r.authCredentials,r.appCheckCredentials,r.M,i)}(n.datastore,n.asyncQueue,{zr:BD.bind(null,n),Jr:HD.bind(null,n),Yo:UD.bind(null,n),Jo:OS.bind(null,n)}),n.fu.push(function(){var t=(0,be.Z)(function*(e){e?(n.gu.No(),yield _d(n)):(yield n.gu.stop(),n.cu.length>0&&($e("RemoteStore",`Stopping write stream with ${n.cu.length} pending writes`),n.cu=[]))});return function(e){return t.apply(this,arguments)}}())),n.gu}class GD{constructor(t,e,i,r,o){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=i,this.op=r,this.removalCallback=o,this.deferred=new hr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(u=>{})}static createAndSchedule(t,e,i,r,o){const u=Date.now()+i,h=new GD(t,e,u,r,o);return h.start(i),h}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new je(Ce.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ll(n,t){if(Di("AsyncQueue",`${t}: ${n}`),ld(n))return new je(Ce.UNAVAILABLE,`${t}: ${n}`);throw n}class Nm{constructor(t){this.comparator=t?(e,i)=>t(e,i)||Ke.comparator(e.key,i.key):(e,i)=>Ke.comparator(e.key,i.key),this.keyedMap=cm(),this.sortedSet=new gi(this.comparator)}static emptySet(t){return new Nm(t.comparator)}has(t){return null!=this.keyedMap.get(t)}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((e,i)=>(t(e),!1))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof Nm)||this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),i=t.sortedSet.getIterator();for(;e.hasNext();){const r=e.getNext().key,o=i.getNext().key;if(!r.isEqual(o))return!1}return!0}toString(){const t=[];return this.forEach(e=>{t.push(e.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"}copy(t,e){const i=new Nm;return i.comparator=this.comparator,i.keyedMap=t,i.sortedSet=e,i}}class nw{constructor(){this.yu=new gi(Ke.comparator)}track(t){const e=t.doc.key,i=this.yu.get(e);i?0!==t.type&&3===i.type?this.yu=this.yu.insert(e,t):3===t.type&&1!==i.type?this.yu=this.yu.insert(e,{type:i.type,doc:t.doc}):2===t.type&&2===i.type?this.yu=this.yu.insert(e,{type:2,doc:t.doc}):2===t.type&&0===i.type?this.yu=this.yu.insert(e,{type:0,doc:t.doc}):1===t.type&&0===i.type?this.yu=this.yu.remove(e):1===t.type&&2===i.type?this.yu=this.yu.insert(e,{type:1,doc:i.doc}):0===t.type&&1===i.type?this.yu=this.yu.insert(e,{type:2,doc:t.doc}):ut():this.yu=this.yu.insert(e,t)}pu(){const t=[];return this.yu.inorderTraversal((e,i)=>{t.push(i)}),t}}class Hc{constructor(t,e,i,r,o,u,h,_){this.query=t,this.docs=e,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=o,this.fromCache=u,this.syncStateChanged=h,this.excludesMetadataChanges=_}static fromInitialDocuments(t,e,i,r){const o=[];return e.forEach(u=>{o.push({type:0,doc:u})}),new Hc(t,e,Nm.emptySet(e),o,i,r,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&rd(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,i=t.docChanges;if(e.length!==i.length)return!1;for(let r=0;r<e.length;r++)if(e[r].type!==i[r].type||!e[r].doc.isEqual(i[r].doc))return!1;return!0}}class qD{constructor(){this.Iu=void 0,this.listeners=[]}}class YD{constructor(){this.queries=new Ml(t=>Xh(t),rd),this.onlineState="Unknown",this.Tu=new Set}}function ZD(n,t){return Fm.apply(this,arguments)}function Fm(){return Fm=(0,be.Z)(function*(n,t){const e=Xe(n),i=t.query;let r=!1,o=e.queries.get(i);if(o||(r=!0,o=new qD),r)try{o.Iu=yield e.onListen(i)}catch(u){const h=Ll(u,`Initialization of query '${Kb(t.query)}' failed`);return void t.onError(h)}e.queries.set(i,o),o.listeners.push(t),t.Eu(e.onlineState),o.Iu&&t.Au(o.Iu)&&wy(e)}),Fm.apply(this,arguments)}function vy(n,t){return by.apply(this,arguments)}function by(){return by=(0,be.Z)(function*(n,t){const e=Xe(n),i=t.query;let r=!1;const o=e.queries.get(i);if(o){const u=o.listeners.indexOf(t);u>=0&&(o.listeners.splice(u,1),r=0===o.listeners.length)}if(r)return e.queries.delete(i),e.onUnlisten(i)}),by.apply(this,arguments)}function WD(n,t){const e=Xe(n);let i=!1;for(const r of t){const u=e.queries.get(r.query);if(u){for(const h of u.listeners)h.Au(r)&&(i=!0);u.Iu=r}}i&&wy(e)}function d1(n,t,e){const i=Xe(n),r=i.queries.get(t);if(r)for(const o of r.listeners)o.onError(e);i.queries.delete(t)}function wy(n){n.Tu.forEach(t=>{t.next()})}class iw{constructor(t,e,i){this.query=t,this.Ru=e,this.bu=!1,this.Pu=null,this.onlineState="Unknown",this.options=i||{}}Au(t){if(!this.options.includeMetadataChanges){const i=[];for(const r of t.docChanges)3!==r.type&&i.push(r);t=new Hc(t.query,t.docs,t.oldDocs,i,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0)}let e=!1;return this.bu?this.Vu(t)&&(this.Ru.next(t),e=!0):this.vu(t,this.onlineState)&&(this.Su(t),e=!0),this.Pu=t,e}onError(t){this.Ru.error(t)}Eu(t){this.onlineState=t;let e=!1;return this.Pu&&!this.bu&&this.vu(this.Pu,t)&&(this.Su(this.Pu),e=!0),e}vu(t,e){return!t.fromCache||!(this.options.Du&&"Offline"!==e||t.docs.isEmpty()&&"Offline"!==e)}Vu(t){return t.docChanges.length>0||!!(t.syncStateChanged||this.Pu&&this.Pu.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Su(t){t=Hc.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache),this.bu=!0,this.Ru.next(t)}}class rw{constructor(t,e){this.payload=t,this.byteLength=e}Cu(){return"metadata"in this.payload}}class KD{constructor(t){this.M=t}li(t){return Wa(this.M,t)}fi(t){return t.metadata.exists?h0(this.M,t.document,!1):Hn.newNoDocument(this.li(t.metadata.name),this.di(t.metadata.readTime))}di(t){return pr(t)}}class h1{constructor(t,e,i){this.xu=t,this.localStore=e,this.M=i,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=NS(t)}Nu(t){this.progress.bytesLoaded+=t.byteLength;let e=this.progress.documentsLoaded;if(t.payload.namedQuery)this.queries.push(t.payload.namedQuery);else if(t.payload.documentMetadata){this.documents.push({metadata:t.payload.documentMetadata}),t.payload.documentMetadata.exists||++e;const i=pn.fromString(t.payload.documentMetadata.name);this.collectionGroups.add(i.get(i.length-2))}else t.payload.document&&(this.documents[this.documents.length-1].document=t.payload.document,++e);return e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null}ku(t){const e=new Map,i=new KD(this.M);for(const r of t)if(r.metadata.queries){const o=i.li(r.metadata.name);for(const u of r.metadata.queries){const h=(e.get(u)||Mn()).add(o);e.set(u,h)}}return e}complete(){var t=this;return(0,be.Z)(function*(){const e=yield function SD(n,t,e,i){return ay.apply(this,arguments)}(t.localStore,new KD(t.M),t.documents,t.xu.id),i=t.ku(t.documents);for(const r of t.queries)yield L0(t.localStore,r,i.get(r.name));return t.progress.taskState="Success",{progress:t.progress,Mu:t.collectionGroups,Ou:e}})()}}function NS(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class FS{constructor(t){this.key=t}}class QD{constructor(t){this.key=t}}class JD{constructor(t,e){this.query=t,this.Fu=e,this.$u=null,this.current=!1,this.Bu=Mn(),this.mutatedKeys=Mn(),this.Lu=Qb(t),this.Uu=new Nm(this.Lu)}get qu(){return this.Fu}Gu(t,e){const i=e?e.Ku:new nw,r=e?e.Uu:this.Uu;let o=e?e.mutatedKeys:this.mutatedKeys,u=r,h=!1;const _=Is(this.query)&&r.size===this.query.limit?r.last():null,b=Ss(this.query)&&r.size===this.query.limit?r.first():null;if(t.inorderTraversal((T,M)=>{const N=r.get(T),j=U_(this.query,M)?M:null,Y=!!N&&this.mutatedKeys.has(N.key),fe=!!j&&(j.hasLocalMutations||this.mutatedKeys.has(j.key)&&j.hasCommittedMutations);let Te=!1;N&&j?N.data.isEqual(j.data)?Y!==fe&&(i.track({type:3,doc:j}),Te=!0):this.Qu(N,j)||(i.track({type:2,doc:j}),Te=!0,(_&&this.Lu(j,_)>0||b&&this.Lu(j,b)<0)&&(h=!0)):!N&&j?(i.track({type:0,doc:j}),Te=!0):N&&!j&&(i.track({type:1,doc:N}),Te=!0,(_||b)&&(h=!0)),Te&&(j?(u=u.add(j),o=fe?o.add(T):o.delete(T)):(u=u.delete(T),o=o.delete(T)))}),Is(this.query)||Ss(this.query))for(;u.size>this.query.limit;){const T=Is(this.query)?u.last():u.first();u=u.delete(T.key),o=o.delete(T.key),i.track({type:1,doc:T})}return{Uu:u,Ku:i,ei:h,mutatedKeys:o}}Qu(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,i){const r=this.Uu;this.Uu=t.Uu,this.mutatedKeys=t.mutatedKeys;const o=t.Ku.pu();o.sort((b,T)=>function(M,N){const j=Y=>{switch(Y){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ut()}};return j(M)-j(N)}(b.type,T.type)||this.Lu(b.doc,T.doc)),this.ju(i);const u=e?this.Wu():[],h=0===this.Bu.size&&this.current?1:0,_=h!==this.$u;return this.$u=h,0!==o.length||_?{snapshot:new Hc(this.query,t.Uu,r,o,t.mutatedKeys,0===h,_,!1),zu:u}:{zu:u}}Eu(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({Uu:this.Uu,Ku:new nw,mutatedKeys:this.mutatedKeys,ei:!1},!1)):{zu:[]}}Hu(t){return!this.Fu.has(t)&&!!this.Uu.has(t)&&!this.Uu.get(t).hasLocalMutations}ju(t){t&&(t.addedDocuments.forEach(e=>this.Fu=this.Fu.add(e)),t.modifiedDocuments.forEach(e=>{}),t.removedDocuments.forEach(e=>this.Fu=this.Fu.delete(e)),this.current=t.current)}Wu(){if(!this.current)return[];const t=this.Bu;this.Bu=Mn(),this.Uu.forEach(i=>{this.Hu(i.key)&&(this.Bu=this.Bu.add(i.key))});const e=[];return t.forEach(i=>{this.Bu.has(i)||e.push(new QD(i))}),this.Bu.forEach(i=>{t.has(i)||e.push(new FS(i))}),e}Ju(t){this.Fu=t.hi,this.Bu=Mn();const e=this.Gu(t.documents);return this.applyChanges(e,!0)}Yu(){return Hc.fromInitialDocuments(this.query,this.Uu,this.mutatedKeys,0===this.$u)}}class LS{constructor(t,e,i){this.query=t,this.targetId=e,this.view=i}}class f1{constructor(t){this.key=t,this.Xu=!1}}class VS{constructor(t,e,i,r,o,u){this.localStore=t,this.remoteStore=e,this.eventManager=i,this.sharedClientState=r,this.currentUser=o,this.maxConcurrentLimboResolutions=u,this.Zu={},this.ta=new Ml(h=>Xh(h),rd),this.ea=new Map,this.na=new Set,this.sa=new gi(Ke.comparator),this.ia=new Map,this.ra=new MD,this.oa={},this.ua=new Map,this.aa=Uc.gn(),this.onlineState="Unknown",this.ca=void 0}get isPrimaryClient(){return!0===this.ca}}function sw(n,t){return ow.apply(this,arguments)}function ow(){return ow=(0,be.Z)(function*(n,t){const e=cA(n);let i,r;const o=e.ta.get(t);if(o)i=o.targetId,e.sharedClientState.addLocalQueryTarget(i),r=o.view.Yu();else{const u=yield _f(e.localStore,zo(t));e.isPrimaryClient&&Cf(e.remoteStore,u);const h=e.sharedClientState.addLocalQueryTarget(u.targetId);i=u.targetId,r=yield so(e,t,i,"current"===h)}return r}),ow.apply(this,arguments)}function so(n,t,e,i){return aw.apply(this,arguments)}function aw(){return aw=(0,be.Z)(function*(n,t,e,i){n.ha=(T,M,N)=>{return(j=(0,be.Z)(function*(Y,fe,Te,Qe){let qe=fe.view.Gu(Te);qe.ei&&(qe=yield fd(Y.localStore,fe.query,!1).then(({documents:St})=>fe.view.Gu(St,qe)));const ht=Qe&&Qe.targetChanges.get(fe.targetId),Ye=fe.view.applyChanges(qe,Y.isPrimaryClient,ht);return Ay(Y,fe.targetId,Ye.zu),Ye.snapshot}),function(Y,fe,Te,Qe){return j.apply(this,arguments)})(n,T,M,N);var j};const r=yield fd(n.localStore,t,!0),o=new JD(t,r.hi),u=o.Gu(r.documents),h=dm.createSynthesizedTargetChangeForCurrentChange(e,i&&"Offline"!==n.onlineState),_=o.applyChanges(u,n.isPrimaryClient,h);Ay(n,e,_.zu);const b=new LS(t,e,o);return n.ta.set(t,b),n.ea.has(e)?n.ea.get(e).push(t):n.ea.set(e,[t]),_.snapshot}),aw.apply(this,arguments)}function lw(n,t){return cw.apply(this,arguments)}function cw(){return cw=(0,be.Z)(function*(n,t){const e=Xe(n),i=e.ta.get(t),r=e.ea.get(i.targetId);if(r.length>1)return e.ea.set(i.targetId,r.filter(o=>!rd(o,t))),void e.ta.delete(t);e.isPrimaryClient?(e.sharedClientState.removeLocalQueryTarget(i.targetId),e.sharedClientState.isActiveQueryTarget(i.targetId)||(yield yf(e.localStore,i.targetId,!1).then(()=>{e.sharedClientState.clearQueryState(i.targetId),py(e.remoteStore,i.targetId),Df(e,i.targetId)}).catch(ff))):(Df(e,i.targetId),yield yf(e.localStore,i.targetId,!0))}),cw.apply(this,arguments)}function Lm(){return Lm=(0,be.Z)(function*(n,t,e){const i=uA(n);try{const r=yield function(o,u){const h=Xe(o),_=yn.now(),b=u.reduce((M,N)=>M.add(N.key),Mn());let T;return h.persistence.runTransaction("Locally write mutations","readwrite",M=>h.ai.qs(M,b).next(N=>{T=N;const j=[];for(const Y of u){const fe=zI(Y,T.get(Y.key));null!=fe&&j.push(new od(Y.key,fe,O_(fe.value.mapValue),Fi.exists(!0)))}return h.$s.addMutationBatch(M,_,j,u)})).then(M=>(M.applyToLocalDocumentSet(T),{batchId:M.batchId,changes:T}))}(i.localStore,t);i.sharedClientState.addPendingMutation(r.batchId),function(o,u,h){let _=o.oa[o.currentUser.toKey()];_||(_=new gi(Jt)),_=_.insert(u,h),o.oa[o.currentUser.toKey()]=_}(i,r.batchId,e),yield Ka(i,r.changes),yield _d(i.remoteStore)}catch(r){const o=Ll(r,"Failed to persist write");e.reject(o)}}),Lm.apply(this,arguments)}function uw(n,t){return Cy.apply(this,arguments)}function Cy(){return Cy=(0,be.Z)(function*(n,t){const e=Xe(n);try{const i=yield wS(e.localStore,t);t.targetChanges.forEach((r,o)=>{const u=e.ia.get(o);u&&(Vt(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?u.Xu=!0:r.modifiedDocuments.size>0?Vt(u.Xu):r.removedDocuments.size>0&&(Vt(u.Xu),u.Xu=!1))}),yield Ka(e,i,t)}catch(i){yield ff(i)}}),Cy.apply(this,arguments)}function XD(n,t,e){const i=Xe(n);if(i.isPrimaryClient&&0===e||!i.isPrimaryClient&&1===e){const r=[];i.ta.forEach((o,u)=>{const h=u.view.Eu(t);h.snapshot&&r.push(h.snapshot)}),function(o,u){const h=Xe(o);h.onlineState=u;let _=!1;h.queries.forEach((b,T)=>{for(const M of T.listeners)M.Eu(u)&&(_=!0)}),_&&wy(h)}(i.eventManager,t),r.length&&i.Zu.Ko(r),i.onlineState=t,i.isPrimaryClient&&i.sharedClientState.setOnlineState(t)}}function eA(n,t,e){return Ey.apply(this,arguments)}function Ey(){return Ey=(0,be.Z)(function*(n,t,e){const i=Xe(n);i.sharedClientState.updateQueryState(t,"rejected",e);const r=i.ia.get(t),o=r&&r.key;if(o){let u=new gi(Ke.comparator);u=u.insert(o,Hn.newNoDocument(o,Ot.min()));const h=Mn().add(o),_=new um(Ot.min(),new Map,new Vn(Jt),u,h);yield uw(i,_),i.sa=i.sa.remove(o),i.ia.delete(t),iA(i)}else yield yf(i.localStore,t,!1).then(()=>Df(i,t,e)).catch(ff)}),Ey.apply(this,arguments)}function US(n,t){return dw.apply(this,arguments)}function dw(){return dw=(0,be.Z)(function*(n,t){const e=Xe(n),i=t.batch.batchId;try{const r=yield N0(e.localStore,t);Dy(e,i,null),fw(e,i),e.sharedClientState.updateMutationState(i,"acknowledged"),yield Ka(e,r)}catch(r){yield ff(r)}}),dw.apply(this,arguments)}function hw(n,t,e){return oo.apply(this,arguments)}function oo(){return oo=(0,be.Z)(function*(n,t,e){const i=Xe(n);try{const r=yield function(o,u){const h=Xe(o);return h.persistence.runTransaction("Reject batch","readwrite-primary",_=>{let b;return h.$s.lookupMutationBatch(_,u).next(T=>(Vt(null!==T),b=T.keys(),h.$s.removeMutationBatch(_,T))).next(()=>h.$s.performConsistencyCheck(_)).next(()=>h.ai.qs(_,b))})}(i.localStore,t);Dy(i,t,e),fw(i,t),i.sharedClientState.updateMutationState(t,"rejected",e),yield Ka(i,r)}catch(r){yield ff(r)}}),oo.apply(this,arguments)}function tA(){return tA=(0,be.Z)(function*(n,t){const e=Xe(n);Fl(e.remoteStore)||$e("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const i=yield function(o){const u=Xe(o);return u.persistence.runTransaction("Get highest unacknowledged batch id","readonly",h=>u.$s.getHighestUnacknowledgedBatchId(h))}(e.localStore);if(-1===i)return void t.resolve();const r=e.ua.get(i)||[];r.push(t),e.ua.set(i,r)}catch(i){const r=Ll(i,"Initialization of waitForPendingWrites() operation failed");t.reject(r)}}),tA.apply(this,arguments)}function fw(n,t){(n.ua.get(t)||[]).forEach(e=>{e.resolve()}),n.ua.delete(t)}function Dy(n,t,e){const i=Xe(n);let r=i.oa[i.currentUser.toKey()];if(r){const o=r.get(t);o&&(e?o.reject(e):o.resolve(),r=r.remove(t)),i.oa[i.currentUser.toKey()]=r}}function Df(n,t,e=null){n.sharedClientState.removeLocalQueryTarget(t);for(const i of n.ea.get(t))n.ta.delete(i),e&&n.Zu.la(i,e);n.ea.delete(t),n.isPrimaryClient&&n.ra.Ri(t).forEach(i=>{n.ra.containsKey(i)||nA(n,i)})}function nA(n,t){n.na.delete(t.path.canonicalString());const e=n.sa.get(t);null!==e&&(py(n.remoteStore,e),n.sa=n.sa.remove(t),n.ia.delete(e),iA(n))}function Ay(n,t,e){for(const i of e)i instanceof FS?(n.ra.addReference(i.key,t),HS(n,i)):i instanceof QD?($e("SyncEngine","Document no longer in limbo: "+i.key),n.ra.removeReference(i.key,t),n.ra.containsKey(i.key)||nA(n,i.key)):ut()}function HS(n,t){const e=t.key,i=e.path.canonicalString();n.sa.get(e)||n.na.has(i)||($e("SyncEngine","New document in limbo: "+e),n.na.add(i),iA(n))}function iA(n){for(;n.na.size>0&&n.sa.size<n.maxConcurrentLimboResolutions;){const t=n.na.values().next().value;n.na.delete(t);const e=new Ke(pn.fromString(t)),i=n.aa.next();n.ia.set(i,new f1(e)),n.sa=n.sa.insert(e,i),Cf(n.remoteStore,new Rl(zo(fs(e.path)),i,2,io.A))}}function Ka(n,t,e){return Ty.apply(this,arguments)}function Ty(){return Ty=(0,be.Z)(function*(n,t,e){const i=Xe(n),r=[],o=[],u=[];var h;i.ta.isEmpty()||(i.ta.forEach((h,_)=>{u.push(i.ha(_,t,e).then(b=>{if(b){i.isPrimaryClient&&i.sharedClientState.updateQueryState(_.targetId,b.fromCache?"not-current":"current"),r.push(b);const T=O0.Js(_.targetId,b);o.push(T)}}))}),yield Promise.all(u),i.Zu.Ko(r),yield(h=(0,be.Z)(function*(_,b){const T=Xe(_);try{yield T.persistence.runTransaction("notifyLocalViewChanges","readwrite",M=>Ae.forEach(b,N=>Ae.forEach(N.zs,j=>T.persistence.referenceDelegate.addReference(M,N.targetId,j)).next(()=>Ae.forEach(N.Hs,j=>T.persistence.referenceDelegate.removeReference(M,N.targetId,j)))))}catch(M){if(!ld(M))throw M;$e("LocalStore","Failed to update sequence numbers: "+M)}for(const M of b){const N=M.targetId;if(!M.fromCache){const j=T.si.get(N),fe=j.withLastLimboFreeSnapshotVersion(j.snapshotVersion);T.si=T.si.insert(N,fe)}}}),function(_,b){return h.apply(this,arguments)})(i.localStore,o))}),Ty.apply(this,arguments)}function zS(n,t){return pw.apply(this,arguments)}function pw(){return pw=(0,be.Z)(function*(n,t){const e=Xe(n);if(!e.currentUser.isEqual(t)){$e("SyncEngine","User change. New user:",t.toKey());const i=yield gf(e.localStore,t);e.currentUser=t,(r=e).ua.forEach(u=>{u.forEach(h=>{h.reject(new je(Ce.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),r.ua.clear(),e.sharedClientState.handleUserChange(t,i.removedBatchIds,i.addedBatchIds),yield Ka(e,i.ci)}var r}),pw.apply(this,arguments)}function rA(n,t){const e=Xe(n),i=e.ia.get(t);if(i&&i.Xu)return Mn().add(i.key);{let r=Mn();const o=e.ea.get(t);if(!o)return r;for(const u of o){const h=e.ta.get(u);r=r.unionWith(h.view.qu)}return r}}function mw(n,t){return Vm.apply(this,arguments)}function Vm(){return Vm=(0,be.Z)(function*(n,t){const e=Xe(n),i=yield fd(e.localStore,t.query,!0),r=t.view.Ju(i);return e.isPrimaryClient&&Ay(e,t.targetId,r.zu),r}),Vm.apply(this,arguments)}function sA(n,t){return gw.apply(this,arguments)}function gw(){return gw=(0,be.Z)(function*(n,t){const e=Xe(n);return TD(e.localStore,t).then(i=>Ka(e,i))}),gw.apply(this,arguments)}function oA(n,t,e,i){return Iy.apply(this,arguments)}function Iy(){return Iy=(0,be.Z)(function*(n,t,e,i){const r=Xe(n),o=yield function(u,h){const _=Xe(u),b=Xe(_.$s);return _.persistence.runTransaction("Lookup mutation documents","readonly",T=>b.ln(T,h).next(M=>M?_.ai.qs(T,M):Ae.resolve(null)))}(r.localStore,t);var h;null!==o?("pending"===e?yield _d(r.remoteStore):"acknowledged"===e||"rejected"===e?(Dy(r,t,i||null),fw(r,t),h=t,Xe(Xe(r.localStore).$s).dn(h)):ut(),yield Ka(r,o)):$e("SyncEngine","Cannot apply mutation batch with id: "+t)}),Iy.apply(this,arguments)}function _w(){return _w=(0,be.Z)(function*(n,t){const e=Xe(n);if(cA(e),uA(e),!0===t&&!0!==e.ca){const i=e.sharedClientState.getAllActiveQueryTargets(),r=yield GS(e,i.toArray());e.ca=!0,yield ew(e.remoteStore,!0);for(const o of r)Cf(e.remoteStore,o)}else if(!1===t&&!1!==e.ca){const i=[];let r=Promise.resolve();e.ea.forEach((o,u)=>{e.sharedClientState.isLocalQueryTarget(u)?i.push(u):r=r.then(()=>(Df(e,u),yf(e.localStore,u,!0))),py(e.remoteStore,u)}),yield r,yield GS(e,i),function(o){const u=Xe(o);u.ia.forEach((h,_)=>{py(u.remoteStore,_)}),u.ra.bi(),u.ia=new Map,u.sa=new gi(Ke.comparator)}(e),e.ca=!1,yield ew(e.remoteStore,!1)}}),_w.apply(this,arguments)}function GS(n,t,e){return aA.apply(this,arguments)}function aA(){return aA=(0,be.Z)(function*(n,t,e){const i=Xe(n),r=[],o=[];for(const u of t){let h;const _=i.ea.get(u);if(_&&0!==_.length){h=yield _f(i.localStore,zo(_[0]));for(const b of _){const T=i.ta.get(b),M=yield mw(i,T);M.snapshot&&o.push(M.snapshot)}}else{const b=yield Sm(i.localStore,u);h=yield _f(i.localStore,b),yield so(i,yw(b),u,!1)}r.push(h)}return i.Zu.Ko(o),r}),aA.apply(this,arguments)}function yw(n){return Zb(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function qS(n){const t=Xe(n);return Xe(Xe(t.localStore).persistence).Os()}function YS(n,t,e,i){return vw.apply(this,arguments)}function vw(){return vw=(0,be.Z)(function*(n,t,e,i){const r=Xe(n);if(r.ca)return void $e("SyncEngine","Ignoring unexpected query state notification.");const o=r.ea.get(t);if(o&&o.length>0)switch(e){case"current":case"not-current":{const u=yield TD(r.localStore,kE(o[0])),h=um.createSynthesizedRemoteEventForCurrentChange(t,"current"===e);yield Ka(r,u,h);break}case"rejected":yield yf(r.localStore,t,!0),Df(r,t,i);break;default:ut()}}),vw.apply(this,arguments)}function p1(n,t,e){return lA.apply(this,arguments)}function lA(){return lA=(0,be.Z)(function*(n,t,e){const i=cA(n);if(i.ca){for(const r of t){if(i.ea.has(r)){$e("SyncEngine","Adding an already active target "+r);continue}const o=yield Sm(i.localStore,r),u=yield _f(i.localStore,o);yield so(i,yw(o),u.targetId,!1),Cf(i.remoteStore,u)}for(const r of e)i.ea.has(r)&&(yield yf(i.localStore,r,!1).then(()=>{py(i.remoteStore,r),Df(i,r)}).catch(ff))}}),lA.apply(this,arguments)}function cA(n){const t=Xe(n);return t.remoteStore.remoteSyncer.applyRemoteEvent=uw.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=rA.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=eA.bind(null,t),t.Zu.Ko=WD.bind(null,t.eventManager),t.Zu.la=d1.bind(null,t.eventManager),t}function uA(n){const t=Xe(n);return t.remoteStore.remoteSyncer.applySuccessfulWrite=US.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=hw.bind(null,t),t}class dA{constructor(){this.synchronizeTabs=!1}initialize(t){var e=this;return(0,be.Z)(function*(){e.M=hy(t.databaseInfo.databaseId),e.sharedClientState=e.da(t),e.persistence=e._a(t),yield e.persistence.start(),e.gcScheduler=e.wa(t),e.localStore=e.ma(t)})()}wa(t){return null}ma(t){return AD(this.persistence,new DD,t.initialUser,this.M)}_a(t){return new DS(j0.Wi,this.M)}da(t){return new $0}terminate(){var t=this;return(0,be.Z)(function*(){t.gcScheduler&&t.gcScheduler.stop(),yield t.sharedClientState.shutdown(),yield t.persistence.shutdown()})()}}class Bm extends dA{constructor(t,e,i){super(),this.ga=t,this.cacheSizeBytes=e,this.forceOwnership=i,this.synchronizeTabs=!1}initialize(t){var e=()=>super.initialize,i=this;return(0,be.Z)(function*(){yield e().call(i,t),yield i.ga.initialize(i,t),yield uA(i.ga.syncEngine),yield _d(i.ga.remoteStore),yield i.persistence.Is(()=>(i.gcScheduler&&!i.gcScheduler.started&&i.gcScheduler.start(i.localStore),Promise.resolve()))})()}ma(t){return AD(this.persistence,new DD,t.initialUser,this.M)}wa(t){return new x0(this.persistence.referenceDelegate.garbageCollector,t.asyncQueue)}_a(t){const e=R0(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey),i=void 0!==this.cacheSizeBytes?Ms.withCacheSize(this.cacheSizeBytes):Ms.DEFAULT;return new oy(this.synchronizeTabs,e,t.clientId,i,t.asyncQueue,RD(),dy(),this.M,this.sharedClientState,!!this.forceOwnership)}da(t){return new $0}}class ZS extends Bm{constructor(t,e){super(t,e,!1),this.ga=t,this.cacheSizeBytes=e,this.synchronizeTabs=!0}initialize(t){var e=()=>super.initialize,i=this;return(0,be.Z)(function*(){yield e().call(i,t);const r=i.ga.syncEngine;i.sharedClientState instanceof uy&&(i.sharedClientState.syncEngine={kr:oA.bind(null,r),Mr:YS.bind(null,r),Or:p1.bind(null,r),Os:qS.bind(null,r),Nr:sA.bind(null,r)},yield i.sharedClientState.start()),yield i.persistence.Is(function(){var o=(0,be.Z)(function*(u){yield function $S(n,t){return _w.apply(this,arguments)}(i.ga.syncEngine,u),i.gcScheduler&&(u&&!i.gcScheduler.started?i.gcScheduler.start(i.localStore):u||i.gcScheduler.stop())});return function(u){return o.apply(this,arguments)}}())})()}da(t){const e=RD();if(!uy.vt(e))throw new je(Ce.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const i=R0(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey);return new uy(e,t.asyncQueue,i,t.clientId,t.initialUser)}}class bw{initialize(t,e){var i=this;return(0,be.Z)(function*(){i.localStore||(i.localStore=t.localStore,i.sharedClientState=t.sharedClientState,i.datastore=i.createDatastore(e),i.remoteStore=i.createRemoteStore(e),i.eventManager=i.createEventManager(e),i.syncEngine=i.createSyncEngine(e,!t.synchronizeTabs),i.sharedClientState.onlineStateHandler=r=>XD(i.syncEngine,r,1),i.remoteStore.remoteSyncer.handleCredentialChange=zS.bind(null,i.syncEngine),yield ew(i.remoteStore,i.syncEngine.isPrimaryClient))})()}createEventManager(t){return new YD}createDatastore(t){const e=hy(t.databaseInfo.databaseId),i=new bf(t.databaseInfo);return new PD(t.authCredentials,t.appCheckCredentials,i,e)}createRemoteStore(t){return e=this.localStore,i=this.datastore,r=t.asyncQueue,o=h=>XD(this.syncEngine,h,0),u=G0.vt()?new G0:new TS,new xS(e,i,r,o,u);var e,i,r,o,u}createSyncEngine(t,e){return function(i,r,o,u,h,_,b){const T=new VS(i,r,o,u,h,_);return b&&(T.ca=!0),T}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}terminate(){return(t=(0,be.Z)(function*(e){const i=Xe(e);$e("RemoteStore","RemoteStore shutting down."),i.lu.add(5),yield gd(i),i.du.shutdown(),i._u.set("Unknown")}),function(e){return t.apply(this,arguments)})(this.remoteStore);var t}}function ww(n,t=10240){let e=0;return{read:()=>(0,be.Z)(function*(){if(e<n.byteLength){const i={value:n.slice(e,e+t),done:!1};return e+=t,i}return{done:!0}})(),cancel:()=>(0,be.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class Qa{constructor(t){this.observer=t,this.muted=!1}next(t){this.observer.next&&this.ya(this.observer.next,t)}error(t){this.observer.error?this.ya(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)}pa(){this.muted=!0}ya(t,e){this.muted||setTimeout(()=>{this.muted||t(e)},0)}}class hA{constructor(t,e){this.Ia=t,this.M=e,this.metadata=new hr,this.buffer=new Uint8Array,this.Ta=new TextDecoder("utf-8"),this.Ea().then(i=>{i&&i.Cu()?this.metadata.resolve(i.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==i?void 0:i.payload)}`))},i=>this.metadata.reject(i))}close(){return this.Ia.cancel()}getMetadata(){var t=this;return(0,be.Z)(function*(){return t.metadata.promise})()}fa(){var t=this;return(0,be.Z)(function*(){return yield t.getMetadata(),t.Ea()})()}Ea(){var t=this;return(0,be.Z)(function*(){const e=yield t.Aa();if(null===e)return null;const i=t.Ta.decode(e),r=Number(i);isNaN(r)&&t.Ra(`length string (${i}) is not valid number`);const o=yield t.ba(r);return new rw(JSON.parse(o),e.length+r)})()}Pa(){return this.buffer.findIndex(t=>t==="{".charCodeAt(0))}Aa(){var t=this;return(0,be.Z)(function*(){for(;t.Pa()<0&&!(yield t.Va()););if(0===t.buffer.length)return null;const e=t.Pa();e<0&&t.Ra("Reached the end of bundle when a length string is expected.");const i=t.buffer.slice(0,e);return t.buffer=t.buffer.slice(e),i})()}ba(t){var e=this;return(0,be.Z)(function*(){for(;e.buffer.length<t;)(yield e.Va())&&e.Ra("Reached the end of bundle when more is expected.");const i=e.Ta.decode(e.buffer.slice(0,t));return e.buffer=e.buffer.slice(t),i})()}Ra(t){throw this.Ia.cancel(),new Error(`Invalid bundle format: ${t}`)}Va(){var t=this;return(0,be.Z)(function*(){const e=yield t.Ia.read();if(!e.done){const i=new Uint8Array(t.buffer.length+e.value.length);i.set(t.buffer),i.set(e.value,t.buffer.length),t.buffer=i}return e.done})()}}class Cw{constructor(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(t){var e=this;return(0,be.Z)(function*(){if(e.ensureCommitNotCalled(),e.mutations.length>0)throw new je(Ce.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const i=yield(r=(0,be.Z)(function*(o,u){const h=Xe(o),_=Fc(h.M)+"/documents",b={documents:u.map(j=>xl(h.M,j))},T=yield h.co("BatchGetDocuments",_,b),M=new Map;T.forEach(j=>{const Y=function ZI(n,t){return"found"in t?function(e,i){Vt(!!i.found);const r=Wa(e,i.found.name),o=pr(i.found.updateTime),u=new Mr({mapValue:{fields:i.found.fields}});return Hn.newFoundDocument(r,o,u)}(n,t):"missing"in t?function(e,i){Vt(!!i.missing),Vt(!!i.readTime);const r=Wa(e,i.missing),o=pr(i.readTime);return Hn.newNoDocument(r,o)}(n,t):ut()}(h.M,j);M.set(Y.key.toString(),Y)});const N=[];return u.forEach(j=>{const Y=M.get(j.toString());Vt(!!Y),N.push(Y)}),N}),function(o,u){return r.apply(this,arguments)})(e.datastore,t);var r;return i.forEach(r=>e.recordVersion(r)),i})()}set(t,e){this.write(e.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())}update(t,e){try{this.write(e.toMutation(t,this.preconditionForUpdate(t)))}catch(i){this.lastWriteError=i}this.writtenDocs.add(t.toString())}delete(t){this.write(new am(t,this.precondition(t))),this.writtenDocs.add(t.toString())}commit(){var t=this;return(0,be.Z)(function*(){if(t.ensureCommitNotCalled(),t.lastWriteError)throw t.lastWriteError;const e=t.readVersions;var i;t.mutations.forEach(i=>{e.delete(i.key.toString())}),e.forEach((i,r)=>{const o=Ke.fromPath(r);t.mutations.push(new q_(o,t.precondition(o)))}),yield(i=(0,be.Z)(function*(r,o){const u=Xe(r),h=Fc(u.M)+"/documents",_={writes:o.map(b=>kl(u.M,b))};yield u.ro("Commit",h,_)}),function(r,o){return i.apply(this,arguments)})(t.datastore,t.mutations),t.committed=!0})()}recordVersion(t){let e;if(t.isFoundDocument())e=t.version;else{if(!t.isNoDocument())throw ut();e=Ot.min()}const i=this.readVersions.get(t.key.toString());if(i){if(!e.isEqual(i))throw new je(Ce.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),e)}precondition(t){const e=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&e?Fi.updateTime(e):Fi.none()}preconditionForUpdate(t){const e=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&e){if(e.isEqual(Ot.min()))throw new je(Ce.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Fi.updateTime(e)}return Fi.exists(!0)}write(t){this.ensureCommitNotCalled(),this.mutations.push(t)}ensureCommitNotCalled(){}}class Ew{constructor(t,e,i,r){this.asyncQueue=t,this.datastore=e,this.updateFunction=i,this.deferred=r,this.va=5,this.So=new pd(this.asyncQueue,"transaction_retry")}run(){this.va-=1,this.Sa()}Sa(){var t=this;this.So.Io((0,be.Z)(function*(){const e=new Cw(t.datastore),i=t.Da(e);i&&i.then(r=>{t.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{t.deferred.resolve(r)}).catch(o=>{t.Ca(o)}))}).catch(r=>{t.Ca(r)})}))}Da(t){try{const e=this.updateFunction(t);return!Xu(e)&&e.catch&&e.then?e:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}Ca(t){this.va>0&&this.xa(t)?(this.va-=1,this.asyncQueue.enqueueAndForget(()=>(this.Sa(),Promise.resolve()))):this.deferred.reject(t)}xa(t){if("FirebaseError"===t.name){const e=t.code;return"aborted"===e||"failed-precondition"===e||!r0(e)}return!1}}class WS{constructor(t,e,i,r){var o=this;this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=i,this.databaseInfo=r,this.user=dr.UNAUTHENTICATED,this.clientId=bE.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,function(){var u=(0,be.Z)(function*(h){$e("FirestoreClient","Received user=",h.uid),yield o.authCredentialListener(h),o.user=h});return function(h){return u.apply(this,arguments)}}()),this.appCheckCredentials.start(i,u=>($e("FirestoreClient","Received new app check token=",u),this.appCheckCredentialListener(u,this.user)))}getConfiguration(){var t=this;return(0,be.Z)(function*(){return{asyncQueue:t.asyncQueue,databaseInfo:t.databaseInfo,clientId:t.clientId,authCredentials:t.authCredentials,appCheckCredentials:t.appCheckCredentials,initialUser:t.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new je(Ce.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var t=this;this.asyncQueue.enterRestrictedMode();const e=new hr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,be.Z)(function*(){try{t.onlineComponents&&(yield t.onlineComponents.terminate()),t.offlineComponents&&(yield t.offlineComponents.terminate()),t.authCredentials.shutdown(),t.appCheckCredentials.shutdown(),e.resolve()}catch(i){const r=Ll(i,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}function Sy(n,t){return Um.apply(this,arguments)}function Um(){return Um=(0,be.Z)(function*(n,t){n.asyncQueue.verifyOperationInProgress(),$e("FirestoreClient","Initializing OfflineComponentProvider");const e=yield n.getConfiguration();yield t.initialize(e);let i=e.initialUser;n.setCredentialChangeListener(function(){var r=(0,be.Z)(function*(o){i.isEqual(o)||(yield gf(t.localStore,o),i=o)});return function(o){return r.apply(this,arguments)}}()),t.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=t}),Um.apply(this,arguments)}function jm(n,t){return fA.apply(this,arguments)}function fA(){return fA=(0,be.Z)(function*(n,t){n.asyncQueue.verifyOperationInProgress();const e=yield pA(n);$e("FirestoreClient","Initializing OnlineComponentProvider");const i=yield n.getConfiguration();yield t.initialize(e,i),n.setCredentialChangeListener(r=>PS(t.remoteStore,r)),n.setAppCheckTokenChangeListener((r,o)=>PS(t.remoteStore,o)),n.onlineComponents=t}),fA.apply(this,arguments)}function pA(n){return mA.apply(this,arguments)}function mA(){return mA=(0,be.Z)(function*(n){return n.offlineComponents||($e("FirestoreClient","Using default OfflineComponentProvider"),yield Sy(n,new dA)),n.offlineComponents}),mA.apply(this,arguments)}function Dw(n){return My.apply(this,arguments)}function My(){return My=(0,be.Z)(function*(n){return n.onlineComponents||($e("FirestoreClient","Using default OnlineComponentProvider"),yield jm(n,new bw)),n.onlineComponents}),My.apply(this,arguments)}function gA(n){return pA(n).then(t=>t.persistence)}function Aw(n){return pA(n).then(t=>t.localStore)}function _A(n){return Dw(n).then(t=>t.remoteStore)}function Tw(n){return Dw(n).then(t=>t.syncEngine)}function vd(n){return xy.apply(this,arguments)}function xy(){return xy=(0,be.Z)(function*(n){const t=yield Dw(n),e=t.eventManager;return e.onListen=sw.bind(null,t.syncEngine),e.onUnlisten=lw.bind(null,t.syncEngine),e}),xy.apply(this,arguments)}function Iw(n,t,e={}){const i=new hr;return n.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return function(r,o,u,h,_){const b=new Qa({next:M=>{o.enqueueAndForget(()=>vy(r,T));const N=M.docs.has(u);!N&&M.fromCache?_.reject(new je(Ce.UNAVAILABLE,"Failed to get document because the client is offline.")):N&&M.fromCache&&h&&"server"===h.source?_.reject(new je(Ce.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):_.resolve(M)},error:M=>_.reject(M)}),T=new iw(fs(u.path),b,{includeMetadataChanges:!0,Du:!0});return ZD(r,T)}(yield vd(n),n.asyncQueue,t,e,i)})),i.promise}function JS(n,t,e={}){const i=new hr;return n.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return function(r,o,u,h,_){const b=new Qa({next:M=>{o.enqueueAndForget(()=>vy(r,T)),M.fromCache&&"server"===h.source?_.reject(new je(Ce.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):_.resolve(M)},error:M=>_.reject(M)}),T=new iw(u,b,{includeMetadataChanges:!0,Du:!0});return ZD(r,T)}(yield vd(n),n.asyncQueue,t,e,i)})),i.promise}const tM=new Map;function bA(n,t,e){if(!e)throw new je(Ce.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${t}.`)}function nM(n,t,e,i){if(!0===t&&!0===i)throw new je(Ce.INVALID_ARGUMENT,`${n} and ${e} cannot be used together.`)}function wA(n){if(!Ke.isDocumentKey(n))throw new je(Ce.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function CA(n){if(Ke.isDocumentKey(n))throw new je(Ce.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function xw(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const t=(e=n).constructor?e.constructor.name:null;return t?`a custom ${t} object`:"an object"}}var e;return"function"==typeof n?"a function":ut()}function mn(n,t){if("_delegate"in n&&(n=n._delegate),!(n instanceof t)){if(t.name===n.constructor.name)throw new je(Ce.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=xw(n);throw new je(Ce.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return n}function iM(n,t){if(t<=0)throw new je(Ce.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${t}.`)}class rM{constructor(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new je(Ce.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new je(Ce.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,nM("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class ky{constructor(t,e,i){this._authCredentials=e,this._appCheckCredentials=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new rM({}),this._settingsFrozen=!1,t instanceof wa?this._databaseId=t:(this._app=t,this._databaseId=function(r){if(!Object.prototype.hasOwnProperty.apply(r.options,["projectId"]))throw new je(Ce.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new wa(r.options.projectId)}(t))}get app(){if(!this._app)throw new je(Ce.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(t){if(this._settingsFrozen)throw new je(Ce.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new rM(t),void 0!==t.credentials&&(this._authCredentials=function(e){if(!e)return new Fb;switch(e.type){case"gapi":const i=e.client;return Vt(!("object"!=typeof i||null===i||!i.auth||!i.auth.getAuthHeaderValueForFirstParty)),new s1(i,e.sessionIndex||"0",e.iamToken||null);case"provider":return e.client;default:throw new je(Ce.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const e=tM.get(t);e&&($e("ComponentProvider","Removing Datastore"),tM.delete(t),e.terminate())}(this),Promise.resolve()}}class ni{constructor(t,e,i){this.converter=e,this._key=i,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Vl(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new ni(this.firestore,t,this._key)}}class ms{constructor(t,e,i){this.converter=e,this._query=i,this.type="query",this.firestore=t}withConverter(t){return new ms(this.firestore,t,this._query)}}class Vl extends ms{constructor(t,e,i){super(t,e,fs(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new ni(this.firestore,null,new Ke(t))}withConverter(t){return new Vl(this.firestore,t,this._path)}}function oM(n,t,...e){if(n=(0,Pt.m9)(n),bA("collection","path",t),n instanceof ky){const i=pn.fromString(t,...e);return CA(i),new Vl(n,null,i)}{if(!(n instanceof ni||n instanceof Vl))throw new je(Ce.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(pn.fromString(t,...e));return CA(i),new Vl(n.firestore,null,i)}}function l(n,t,...e){if(n=(0,Pt.m9)(n),1===arguments.length&&(t=bE.R()),bA("doc","path",t),n instanceof ky){const i=pn.fromString(t,...e);return wA(i),new ni(n,null,new Ke(i))}{if(!(n instanceof ni||n instanceof Vl))throw new je(Ce.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(pn.fromString(t,...e));return wA(i),new ni(n.firestore,n instanceof Vl?n.converter:null,new Ke(i))}}function c(n,t){return n=(0,Pt.m9)(n),t=(0,Pt.m9)(t),(n instanceof ni||n instanceof Vl)&&(t instanceof ni||t instanceof Vl)&&n.firestore===t.firestore&&n.path===t.path&&n.converter===t.converter}function d(n,t){return n=(0,Pt.m9)(n),t=(0,Pt.m9)(t),n instanceof ms&&t instanceof ms&&n.firestore===t.firestore&&rd(n._query,t._query)&&n.converter===t.converter}class f{constructor(){this.Na=Promise.resolve(),this.ka=[],this.Ma=!1,this.Oa=[],this.Fa=null,this.$a=!1,this.Ba=!1,this.La=[],this.So=new pd(this,"async_queue_retry"),this.Ua=()=>{const e=dy();e&&$e("AsyncQueue","Visibility state changed to "+e.visibilityState),this.So.Eo()};const t=dy();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.Ua)}get isShuttingDown(){return this.Ma}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.qa(),this.Ga(t)}enterRestrictedMode(t){if(!this.Ma){this.Ma=!0,this.Ba=t||!1;const e=dy();e&&"function"==typeof e.removeEventListener&&e.removeEventListener("visibilitychange",this.Ua)}}enqueue(t){if(this.qa(),this.Ma)return new Promise(()=>{});const e=new hr;return this.Ga(()=>this.Ma&&this.Ba?Promise.resolve():(t().then(e.resolve,e.reject),e.promise)).then(()=>e.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.ka.push(t),this.Ka()))}Ka(){var t=this;return(0,be.Z)(function*(){if(0!==t.ka.length){try{yield t.ka[0](),t.ka.shift(),t.So.reset()}catch(e){if(!ld(e))throw e;$e("AsyncQueue","Operation failed with retryable error: "+e)}t.ka.length>0&&t.So.Io(()=>t.Ka())}})()}Ga(t){const e=this.Na.then(()=>(this.$a=!0,t().catch(i=>{throw this.Fa=i,this.$a=!1,Di("INTERNAL UNHANDLED ERROR: ",function(o){let u=o.message||"";return o.stack&&(u=o.stack.includes(o.message)?o.stack:o.message+"\n"+o.stack),u}(i)),i}).then(i=>(this.$a=!1,i))));return this.Na=e,e}enqueueAfterDelay(t,e,i){this.qa(),this.La.indexOf(t)>-1&&(e=0);const r=GD.createAndSchedule(this,t,e,i,o=>this.Qa(o));return this.Oa.push(r),r}qa(){this.Fa&&ut()}verifyOperationInProgress(){}ja(){var t=this;return(0,be.Z)(function*(){let e;do{e=t.Na,yield e}while(e!==t.Na)})()}Wa(t){for(const e of this.Oa)if(e.timerId===t)return!0;return!1}za(t){return this.ja().then(()=>{this.Oa.sort((e,i)=>e.targetTimeMs-i.targetTimeMs);for(const e of this.Oa)if(e.skipDelay(),"all"!==t&&e.timerId===t)break;return this.ja()})}Ha(t){this.La.push(t)}Qa(t){const e=this.Oa.indexOf(t);this.Oa.splice(e,1)}}function m(n){return function(t,e){if("object"!=typeof t||null===t)return!1;const i=t;for(const r of["next","error","complete"])if(r in i&&"function"==typeof i[r])return!0;return!1}(n)}class v{constructor(){this._progressObserver={},this._taskCompletionResolver=new hr,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(t,e,i){this._progressObserver={next:t,error:e,complete:i}}catch(t){return this._taskCompletionResolver.promise.catch(t)}then(t,e){return this._taskCompletionResolver.promise.then(t,e)}_completeWith(t){this._updateProgress(t),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(t)}_failWith(t){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(t),this._taskCompletionResolver.reject(t)}_updateProgress(t){this._lastProgress=t,this._progressObserver.next&&this._progressObserver.next(t)}}class E extends ky{constructor(t,e,i){super(t,e,i),this.type="firestore",this._queue=new f,this._persistenceKey="name"in t?t.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||X(this),this._firestoreClient.terminate()}}function U(n){return n._firestoreClient||X(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function X(n){var t;const e=n._freezeSettings(),i=(o=(null===(t=n._app)||void 0===t?void 0:t.options.appId)||"",new Ub(n._databaseId,o,n._persistenceKey,(h=e).host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,h.useFetchStreams));var o,h;n._firestoreClient=new WS(n._authCredentials,n._appCheckCredentials,n._queue,i)}function Ge(n,t,e){const i=new hr;return n.asyncQueue.enqueue((0,be.Z)(function*(){try{yield Sy(n,e),yield jm(n,t),i.resolve()}catch(r){if(!("FirebaseError"===(o=r).name?o.code===Ce.FAILED_PRECONDITION||o.code===Ce.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&o instanceof DOMException)||22===o.code||20===o.code||11===o.code))throw r;console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+r),i.reject(r)}var o})).then(()=>i.promise)}function zc(n){if(n._initialized||n._terminated)throw new je(Ce.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Da{constructor(...t){for(let e=0;e<t.length;++e)if(0===t[e].length)throw new je(Ce.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ki(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class qo{constructor(t){this._byteString=t}static fromBase64String(t){try{return new qo(Ni.fromBase64String(t))}catch(e){throw new je(Ce.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new qo(Ni.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}class Bl{constructor(t){this._methodName=t}}class Af{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new je(Ce.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new je(Ce.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return Jt(this._lat,t._lat)||Jt(this._long,t._long)}}const kw=/^__.*__$/;class Rw{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return null!==this.fieldMask?new od(t,this.data,this.fieldMask,e,this.fieldTransforms):new om(t,this.data,e,this.fieldTransforms)}}class Ry{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return new od(t,this.data,this.fieldMask,e,this.fieldTransforms)}}function Oy(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ut()}}class DA{constructor(t,e,i,r,o,u){this.settings=t,this.databaseId=e,this.M=i,this.ignoreUndefinedProperties=r,void 0===o&&this.Ja(),this.fieldTransforms=o||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Ya(){return this.settings.Ya}Xa(t){return new DA(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.M,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Za(t){var e;const i=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.Xa({path:i,tc:!1});return r.ec(t),r}nc(t){var e;const i=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.Xa({path:i,tc:!1});return r.Ja(),r}sc(t){return this.Xa({path:void 0,tc:!0})}ic(t){return IA(t,this.settings.methodName,this.settings.rc||!1,this.path,this.settings.oc)}contains(t){return void 0!==this.fieldMask.find(e=>t.isPrefixOf(e))||void 0!==this.fieldTransforms.find(e=>t.isPrefixOf(e.field))}Ja(){if(this.path)for(let t=0;t<this.path.length;t++)this.ec(this.path.get(t))}ec(t){if(0===t.length)throw this.ic("Document fields must not be empty");if(Oy(this.Ya)&&kw.test(t))throw this.ic('Document fields cannot begin and end with "__"')}}class wL{constructor(t,e,i){this.databaseId=t,this.ignoreUndefinedProperties=e,this.M=i||hy(t)}uc(t,e,i,r=!1){return new DA({Ya:t,methodName:e,oc:i,path:Ki.emptyPath(),tc:!1,rc:r},this.databaseId,this.M,this.ignoreUndefinedProperties)}}function Hm(n){const t=n._freezeSettings(),e=hy(n._databaseId);return new wL(n._databaseId,!!t.ignoreUndefinedProperties,e)}function AA(n,t,e,i,r,o={}){const u=n.uc(o.merge||o.mergeFields?2:0,t,e,r);uM("Data must be an object, but it was:",u,i);const h=y1(i,u);let _,b;if(o.merge)_=new $h(u.fieldMask),b=u.fieldTransforms;else if(o.mergeFields){const T=[];for(const M of o.mergeFields){const N=dM(t,M,e);if(!u.contains(N))throw new je(Ce.INVALID_ARGUMENT,`Field '${N}' is specified in your field mask but missing from your input data.`);b1(T,N)||T.push(N)}_=new $h(T),b=u.fieldTransforms.filter(M=>_.covers(M.field))}else _=null,b=u.fieldTransforms;return new Rw(new Mr(h),_,b)}class Ow extends Bl{_toFieldTransform(t){if(2!==t.Ya)throw t.ic(1===t.Ya?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Ow}}function g1(n,t,e){return new DA({Ya:3,oc:t.settings.oc,methodName:n._methodName,tc:e},t.databaseId,t.M,t.ignoreUndefinedProperties)}class aM extends Bl{_toFieldTransform(t){return new sm(t.path,new Rc)}isEqual(t){return t instanceof aM}}class CL extends Bl{constructor(t,e){super(t),this.ac=e}_toFieldTransform(t){const e=g1(this,t,!0),i=this.ac.map(o=>zm(o,e)),r=new Oc(i);return new sm(t.path,r)}isEqual(t){return this===t}}class EL extends Bl{constructor(t,e){super(t),this.ac=e}_toFieldTransform(t){const e=g1(this,t,!0),i=this.ac.map(o=>zm(o,e)),r=new Pc(i);return new sm(t.path,r)}isEqual(t){return this===t}}class DL extends Bl{constructor(t,e){super(t),this.cc=e}_toFieldTransform(t){const e=new sd(t.M,Jb(t.M,this.cc));return new sm(t.path,e)}isEqual(t){return this===t}}function lM(n,t,e,i){const r=n.uc(1,t,e);uM("Data must be an object, but it was:",r,i);const o=[],u=Mr.empty();Ku(i,(_,b)=>{const T=TA(t,_,e);b=(0,Pt.m9)(b);const M=r.nc(T);if(b instanceof Ow)o.push(T);else{const N=zm(b,M);null!=N&&(o.push(T),u.set(T,N))}});const h=new $h(o);return new Ry(u,h,r.fieldTransforms)}function cM(n,t,e,i,r,o){const u=n.uc(1,t,e),h=[dM(t,i,e)],_=[r];if(o.length%2!=0)throw new je(Ce.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let N=0;N<o.length;N+=2)h.push(dM(t,o[N])),_.push(o[N+1]);const b=[],T=Mr.empty();for(let N=h.length-1;N>=0;--N)if(!b1(b,h[N])){const j=h[N];let Y=_[N];Y=(0,Pt.m9)(Y);const fe=u.nc(j);if(Y instanceof Ow)b.push(j);else{const Te=zm(Y,fe);null!=Te&&(b.push(j),T.set(j,Te))}}const M=new $h(b);return new Ry(T,M,u.fieldTransforms)}function _1(n,t,e,i=!1){return zm(e,n.uc(i?4:3,t))}function zm(n,t){if(v1(n=(0,Pt.m9)(n)))return uM("Unsupported field value:",t,n),y1(n,t);if(n instanceof Bl)return function(e,i){if(!Oy(i.Ya))throw i.ic(`${e._methodName}() can only be used with update() and set()`);if(!i.path)throw i.ic(`${e._methodName}() is not currently supported inside arrays`);const r=e._toFieldTransform(i);r&&i.fieldTransforms.push(r)}(n,t),null;if(void 0===n&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),n instanceof Array){if(t.settings.tc&&4!==t.Ya)throw t.ic("Nested arrays are not supported");return function(e,i){const r=[];let o=0;for(const u of e){let h=zm(u,i.sc(o));null==h&&(h={nullValue:"NULL_VALUE"}),r.push(h),o++}return{arrayValue:{values:r}}}(n,t)}return function(e,i){if(null===(e=(0,Pt.m9)(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return Jb(i.M,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const r=yn.fromDate(e);return{timestampValue:tf(i.M,r)}}if(e instanceof yn){const r=new yn(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:tf(i.M,r)}}if(e instanceof Af)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof qo)return{bytesValue:a0(i.M,e._byteString)};if(e instanceof ni){const r=i.databaseId,o=e.firestore._databaseId;if(!o.isEqual(r))throw i.ic(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${r.projectId}/${r.database}`);return{referenceValue:l0(e.firestore._databaseId||i.databaseId,e._key.path)}}throw i.ic(`Unsupported field value: ${xw(e)}`)}(n,t)}function y1(n,t){const e={};return wE(n)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Ku(n,(i,r)=>{const o=zm(r,t.Za(i));null!=o&&(e[i]=o)}),{mapValue:{fields:e}}}function v1(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof yn||n instanceof Af||n instanceof qo||n instanceof ni||n instanceof Bl)}function uM(n,t,e){if(!v1(e)||"object"!=typeof(i=e)||null===i||Object.getPrototypeOf(i)!==Object.prototype&&null!==Object.getPrototypeOf(i)){const i=xw(e);throw t.ic("an object"===i?n+" a custom object":n+" "+i)}var i}function dM(n,t,e){if((t=(0,Pt.m9)(t))instanceof Da)return t._internalPath;if("string"==typeof t)return TA(n,t);throw IA("Field path arguments must be of type string or ",n,!1,void 0,e)}const AL=new RegExp("[~\\*/\\[\\]]");function TA(n,t,e){if(t.search(AL)>=0)throw IA(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,e);try{return new Da(...t.split("."))._internalPath}catch(i){throw IA(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,e)}}function IA(n,t,e,i,r){const o=i&&!i.isEmpty(),u=void 0!==r;let h=`Function ${t}() called with invalid data`;e&&(h+=" (via `toFirestore()`)"),h+=". ";let _="";return(o||u)&&(_+=" (found",o&&(_+=` in field ${i}`),u&&(_+=` in document ${r}`),_+=")"),new je(Ce.INVALID_ARGUMENT,h+n+_)}function b1(n,t){return n.some(e=>e.isEqual(t))}class Pw{constructor(t,e,i,r,o){this._firestore=t,this._userDataWriter=e,this._key=i,this._document=r,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new ni(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const t=new TL(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field(SA("DocumentSnapshot.get",t));if(null!==e)return this._userDataWriter.convertValue(e)}}}class TL extends Pw{data(){return super.data()}}function SA(n,t){return"string"==typeof t?TA(n,t):t instanceof Da?t._internalPath:t._delegate._internalPath}class $m{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class bd extends Pw{constructor(t,e,i,r,o,u){super(t,e,i,r,u),this._firestore=t,this._firestoreImpl=t,this.metadata=o}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new Nw(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const i=this._document.data.field(SA("DocumentSnapshot.get",t));if(null!==i)return this._userDataWriter.convertValue(i,e.serverTimestamps)}}}class Nw extends bd{data(t={}){return super.data(t)}}class Tf{constructor(t,e,i,r){this._firestore=t,this._userDataWriter=e,this._snapshot=r,this.metadata=new $m(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const t=[];return this.forEach(e=>t.push(e)),t}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(t,e){this._snapshot.docs.forEach(i=>{t.call(e,new Nw(this._firestore,this._userDataWriter,i.key,i,new $m(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new je(Ce.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(i,r){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(u=>({type:"added",doc:new Nw(i._firestore,i._userDataWriter,u.doc.key,u.doc,new $m(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:o++}))}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(u=>r||3!==u.type).map(u=>{const h=new Nw(i._firestore,i._userDataWriter,u.doc.key,u.doc,new $m(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);let _=-1,b=-1;return 0!==u.type&&(_=o.indexOf(u.doc.key),o=o.delete(u.doc.key)),1!==u.type&&(o=o.add(u.doc),b=o.indexOf(u.doc.key)),{type:IL(u.type),doc:h,oldIndex:_,newIndex:b}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function IL(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ut()}}function w1(n,t){return n instanceof bd&&t instanceof bd?n._firestore===t._firestore&&n._key.isEqual(t._key)&&(null===n._document?null===t._document:n._document.isEqual(t._document))&&n._converter===t._converter:n instanceof Tf&&t instanceof Tf&&n._firestore===t._firestore&&d(n.query,t.query)&&n.metadata.isEqual(t.metadata)&&n._snapshot.isEqual(t._snapshot)}function C1(n){if(Ss(n)&&0===n.explicitOrderBy.length)throw new je(Ce.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Fw{}function If(n,...t){for(const e of t)n=e._apply(n);return n}class SL extends Fw{constructor(t,e,i){super(),this.hc=t,this.lc=e,this.fc=i,this.type="where"}_apply(t){const e=Hm(t.firestore),i=function(r,o,u,h,_,b,T){let M;if(_.isKeyField()){if("array-contains"===b||"array-contains-any"===b)throw new je(Ce.INVALID_ARGUMENT,`Invalid Query. You can't perform '${b}' queries on documentId().`);if("in"===b||"not-in"===b){S1(T,b);const j=[];for(const Y of T)j.push(I1(h,r,Y));M={arrayValue:{values:j}}}else M=I1(h,r,T)}else"in"!==b&&"not-in"!==b&&"array-contains-any"!==b||S1(T,b),M=_1(u,"where",T,"in"===b||"not-in"===b);const N=fr.create(_,b,M);return function(j,Y){if(Y.S()){const Te=B_(j);if(null!==Te&&!Te.isEqual(Y.field))throw new je(Ce.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${Te.toString()}' and '${Y.field.toString()}'`);const Qe=V_(j);null!==Qe&&M1(0,Y.field,Qe)}const fe=function(Te,Qe){for(const qe of Te.filters)if(Qe.indexOf(qe.op)>=0)return qe.op;return null}(j,function(Te){switch(Te){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(Y.op));if(null!==fe)throw new je(Ce.INVALID_ARGUMENT,fe===Y.op?`Invalid query. You cannot use more than one '${Y.op.toString()}' filter.`:`Invalid query. You cannot use '${Y.op.toString()}' filters with '${fe.toString()}' filters.`)}(r,N),N}(t._query,0,e,t.firestore._databaseId,this.hc,this.lc,this.fc);return new ms(t.firestore,t.converter,function(r,o){const u=r.filters.concat([o]);return new Sl(r.path,r.collectionGroup,r.explicitOrderBy.slice(),u,r.limit,r.limitType,r.startAt,r.endAt)}(t._query,i))}}class xL extends Fw{constructor(t,e){super(),this.hc=t,this.dc=e,this.type="orderBy"}_apply(t){const e=function(i,r,o){if(null!==i.startAt)throw new je(Ce.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==i.endAt)throw new je(Ce.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const u=new nm(r,o);return function(h,_){if(null===V_(h)){const b=B_(h);null!==b&&M1(0,b,_.field)}}(i,u),u}(t._query,this.hc,this.dc);return new ms(t.firestore,t.converter,function(i,r){const o=i.explicitOrderBy.concat([r]);return new Sl(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(t._query,e))}}class E1 extends Fw{constructor(t,e,i){super(),this.type=t,this._c=e,this.wc=i}_apply(t){return new ms(t.firestore,t.converter,xE(t._query,this._c,this.wc))}}class D1 extends Fw{constructor(t,e,i){super(),this.type=t,this.mc=e,this.gc=i}_apply(t){const e=T1(t,this.type,this.mc,this.gc);return new ms(t.firestore,t.converter,(r=e,new Sl((i=t._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,r,i.endAt)));var i,r}}class A1 extends Fw{constructor(t,e,i){super(),this.type=t,this.mc=e,this.gc=i}_apply(t){const e=T1(t,this.type,this.mc,this.gc);return new ms(t.firestore,t.converter,(r=e,new Sl((i=t._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,r)));var i,r}}function T1(n,t,e,i){if(e[0]=(0,Pt.m9)(e[0]),e[0]instanceof Pw)return function(r,o,u,h,_){if(!h)throw new je(Ce.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${u}().`);const b=[];for(const T of Jh(r))if(T.field.isKeyField())b.push(xc(o,h.key));else{const M=h.data.field(T.field);if(EE(M))throw new je(Ce.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+T.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===M){const N=T.field.canonicalString();throw new je(Ce.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${N}' (used as the orderBy) does not exist.`)}b.push(M)}return new Il(b,_)}(n._query,n.firestore._databaseId,t,e[0]._document,i);{const r=Hm(n.firestore);return function(o,u,h,_,b,T){const M=o.explicitOrderBy;if(b.length>M.length)throw new je(Ce.INVALID_ARGUMENT,`Too many arguments provided to ${_}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const N=[];for(let j=0;j<b.length;j++){const Y=b[j];if(M[j].field.isKeyField()){if("string"!=typeof Y)throw new je(Ce.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${_}(), but got a ${typeof Y}`);if(!Wb(o)&&-1!==Y.indexOf("/"))throw new je(Ce.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${_}() must be a plain document ID, but '${Y}' contains a slash.`);const fe=o.path.child(pn.fromString(Y));if(!Ke.isDocumentKey(fe))throw new je(Ce.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${_}() must result in a valid document path, but '${fe}' is not because it contains an odd number of segments.`);const Te=new Ke(fe);N.push(xc(u,Te))}else{const fe=_1(h,_,Y);N.push(fe)}}return new Il(N,T)}(n._query,n.firestore._databaseId,r,t,e,i)}}function I1(n,t,e){if("string"==typeof(e=(0,Pt.m9)(e))){if(""===e)throw new je(Ce.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Wb(t)&&-1!==e.indexOf("/"))throw new je(Ce.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${e}' contains a '/' character.`);const i=t.path.child(pn.fromString(e));if(!Ke.isDocumentKey(i))throw new je(Ce.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return xc(n,new Ke(i))}if(e instanceof ni)return xc(n,e._key);throw new je(Ce.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${xw(e)}.`)}function S1(n,t){if(!Array.isArray(n)||0===n.length)throw new je(Ce.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`);if(n.length>10)throw new je(Ce.INVALID_ARGUMENT,`Invalid Query. '${t.toString()}' filters support a maximum of 10 elements in the value array.`)}function M1(n,t,e){if(!e.isEqual(t))throw new je(Ce.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${t.toString()}' and so you must also use '${t.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${e.toString()}' instead.`)}class hM{convertValue(t,e="none"){switch(Za(t)){case 0:return null;case 1:return t.booleanValue;case 2:return ti(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(Ju(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 10:return this.convertObject(t.mapValue,e);default:throw ut()}}convertObject(t,e){const i={};return Ku(t.fields,(r,o)=>{i[r]=this.convertValue(o,e)}),i}convertGeoPoint(t){return new Af(ti(t.latitude),ti(t.longitude))}convertArray(t,e){return(t.values||[]).map(i=>this.convertValue(i,e))}convertServerTimestamp(t,e){switch(e){case"previous":const i=Gh(t);return null==i?null:this.convertValue(i,e);case"estimate":return this.convertTimestamp(qh(t));default:return null}}convertTimestamp(t){const e=Qu(t);return new yn(e.seconds,e.nanos)}convertDocumentKey(t,e){const i=pn.fromString(t);Vt(g0(i));const r=new wa(i.get(1),i.get(3)),o=new Ke(i.popFirst(5));return r.isEqual(e)||Di(`Document ${o} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),o}}function MA(n,t,e){let i;return i=n?e&&(e.merge||e.mergeFields)?n.toFirestore(t,e):n.toFirestore(t):t,i}class VL extends hM{constructor(t){super(),this.firestore=t}convertBytes(t){return new qo(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new ni(this.firestore,null,e)}}class x1{constructor(t,e){this._firestore=t,this._commitHandler=e,this._mutations=[],this._committed=!1,this._dataReader=Hm(t)}set(t,e,i){this._verifyNotCommitted();const r=Sf(t,this._firestore),o=MA(r.converter,e,i),u=AA(this._dataReader,"WriteBatch.set",r._key,o,null!==r.converter,i);return this._mutations.push(u.toMutation(r._key,Fi.none())),this}update(t,e,i,...r){this._verifyNotCommitted();const o=Sf(t,this._firestore);let u;return u="string"==typeof(e=(0,Pt.m9)(e))||e instanceof Da?cM(this._dataReader,"WriteBatch.update",o._key,e,i,r):lM(this._dataReader,"WriteBatch.update",o._key,e),this._mutations.push(u.toMutation(o._key,Fi.exists(!0))),this}delete(t){this._verifyNotCommitted();const e=Sf(t,this._firestore);return this._mutations=this._mutations.concat(new am(e._key,Fi.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new je(Ce.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Sf(n,t){if((n=(0,Pt.m9)(n)).firestore!==t)throw new je(Ce.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class Gm extends hM{constructor(t){super(),this.firestore=t}convertBytes(t){return new qo(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new ni(this.firestore,null,e)}}function k1(n,t,e){n=mn(n,ni);const i=mn(n.firestore,E),r=MA(n.converter,t,e);return Py(i,[AA(Hm(i),"setDoc",n._key,r,null!==n.converter,e).toMutation(n._key,Fi.none())])}function R1(n,t,e,...i){n=mn(n,ni);const r=mn(n.firestore,E),o=Hm(r);let u;return u="string"==typeof(t=(0,Pt.m9)(t))||t instanceof Da?cM(o,"updateDoc",n._key,t,e,i):lM(o,"updateDoc",n._key,t),Py(r,[u.toMutation(n._key,Fi.exists(!0))])}function O1(n,...t){var e,i,r;n=(0,Pt.m9)(n);let o={includeMetadataChanges:!1},u=0;"object"!=typeof t[u]||m(t[u])||(o=t[u],u++);const h={includeMetadataChanges:o.includeMetadataChanges};if(m(t[u])){const M=t[u];t[u]=null===(e=M.next)||void 0===e?void 0:e.bind(M),t[u+1]=null===(i=M.error)||void 0===i?void 0:i.bind(M),t[u+2]=null===(r=M.complete)||void 0===r?void 0:r.bind(M)}let _,b,T;if(n instanceof ni)b=mn(n.firestore,E),T=fs(n._key.path),_={next:M=>{t[u]&&t[u](fM(b,n,M))},error:t[u+1],complete:t[u+2]};else{const M=mn(n,ms);b=mn(M.firestore,E),T=M._query;const N=new Gm(b);_={next:j=>{t[u]&&t[u](new Tf(b,N,M,j))},error:t[u+1],complete:t[u+2]},C1(n._query)}return function(M,N,j,Y){const fe=new Qa(Y),Te=new iw(N,fe,j);return M.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return ZD(yield vd(M),Te)})),()=>{fe.pa(),M.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return vy(yield vd(M),Te)}))}}(U(b),T,h,_)}function Py(n,t){return function(e,i){const r=new hr;return e.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return function BS(n,t,e){return Lm.apply(this,arguments)}(yield Tw(e),i,r)})),r.promise}(U(n),t)}function fM(n,t,e){const i=e.docs.get(t._key),r=new Gm(n);return new bd(n,r,t._key,i,new $m(e.hasPendingWrites,e.fromCache),t.converter)}class ZL extends class{constructor(t,e){this._firestore=t,this._transaction=e,this._dataReader=Hm(t)}get(t){const e=Sf(t,this._firestore),i=new VL(this._firestore);return this._transaction.lookup([e._key]).then(r=>{if(!r||1!==r.length)return ut();const o=r[0];if(o.isFoundDocument())return new Pw(this._firestore,i,o.key,o,e.converter);if(o.isNoDocument())return new Pw(this._firestore,i,e._key,null,e.converter);throw ut()})}set(t,e,i){const r=Sf(t,this._firestore),o=MA(r.converter,e,i),u=AA(this._dataReader,"Transaction.set",r._key,o,null!==r.converter,i);return this._transaction.set(r._key,u),this}update(t,e,i,...r){const o=Sf(t,this._firestore);let u;return u="string"==typeof(e=(0,Pt.m9)(e))||e instanceof Da?cM(this._dataReader,"Transaction.update",o._key,e,i,r):lM(this._dataReader,"Transaction.update",o._key,e),this._transaction.update(o._key,u),this}delete(t){const e=Sf(t,this._firestore);return this._transaction.delete(e._key),this}}{constructor(t,e){super(t,e),this._firestore=t}get(t){const e=Sf(t,this._firestore),i=new Gm(this._firestore);return super.get(t).then(r=>new bd(this._firestore,i,e._key,r._document,new $m(!1,!1),e.converter))}}function Lw(...n){return new CL("arrayUnion",n)}function P1(...n){return new EL("arrayRemove",n)}!function(n,t=!0){Wu=Uo.SDK_VERSION,(0,Uo._registerComponent)(new Dh.wA("firestore",(e,{options:i})=>{const r=e.getProvider("app").getImmediate(),o=new E(r,new n1(e.getProvider("auth-internal")),new vE(e.getProvider("app-check-internal")));return i=Object.assign({useFetchStreams:t},i),o._setSettings(i),o},"PUBLIC")),(0,Uo.registerVersion)(Pb,"3.4.7",n),(0,Uo.registerVersion)(Pb,"3.4.7","esm2017")}();class XL{constructor(t,e,i,r,o,u){this.createDate=yn.fromDate(new Date),this.name=t,this.description=e,this.emoji=i,this.offers=r,this.when=yn.fromDate(o),this.city=u}convert(){return Object.assign(Object.assign(Object.assign(Object.assign({createDate:new Date,name:this.name,emoji:this.emoji,description:this.description,offers:this.offers},this.requirements?{requirements:this.requirements}:{}),{when:this.when}),this.where?{where:this.where}:{}),{city:this.city})}}var Ny=R(6451),xA=R(5363),e2=R(6063);class t2 extends dt.x{constructor(t=1/0,e=1/0,i=e2.l){super(),this._bufferSize=t,this._windowTime=e,this._timestampProvider=i,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=e===1/0,this._bufferSize=Math.max(1,t),this._windowTime=Math.max(1,e)}next(t){const{isStopped:e,_buffer:i,_infiniteTimeWindow:r,_timestampProvider:o,_windowTime:u}=this;e||(i.push(t),!r&&i.push(o.now()+u)),this._trimBuffer(),super.next(t)}_subscribe(t){this._throwIfClosed(),this._trimBuffer();const e=this._innerSubscribe(t),{_infiniteTimeWindow:i,_buffer:r}=this,o=r.slice();for(let u=0;u<o.length&&!t.closed;u+=i?1:2)t.next(o[u]);return this._checkFinalizedStatuses(t),e}_trimBuffer(){const{_bufferSize:t,_timestampProvider:e,_buffer:i,_infiniteTimeWindow:r}=this,o=(r?1:2)*t;if(t<1/0&&o<i.length&&i.splice(0,i.length-o),!r){const u=e.now();let h=0;for(let _=1;_<i.length&&i[_]<=u;_+=2)h=_;h&&i.splice(0,h+1)}}}var F1=R(3099);function L1(n,t,e){let i,r=!1;return n&&"object"==typeof n?({bufferSize:i=1/0,windowTime:t=1/0,refCount:r=!1,scheduler:e}=n):i=null!=n?n:1/0,(0,F1.B)({connector:()=>new t2(i,t,e),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:r})}function V1(n,t){return(0,Br.m)(t)?Sn(()=>n,t):Sn(()=>n)}var pM=R(9468),yi=R(5813),lo=R(2011);R(5867);const U1=new Map,a2={activated:!1,tokenObservers:[]},l2={initialized:!1,enabled:!1};function qr(n){return U1.get(n)||a2}function Ul(n,t){U1.set(n,t)}function RA(){return l2}class f2{constructor(t,e,i,r,o){if(this.operation=t,this.retryPolicy=e,this.getWaitDuration=i,this.lowerBound=r,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=r,r>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(t){var e=this;return(0,be.Z)(function*(){e.stop();try{e.pending=new Pt.BH,yield function p2(n){return new Promise(t=>{setTimeout(t,n)})}(e.getNextRun(t)),e.pending.resolve(),yield e.pending.promise,e.pending=new Pt.BH,yield e.operation(),e.pending.resolve(),yield e.pending.promise,e.process(!0).catch(()=>{})}catch(i){e.retryPolicy(i)?e.process(!1).catch(()=>{}):e.stop()}})()}getNextRun(t){if(t)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const e=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),e}}}const co=new Pt.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function H1(n){if(!qr(n).activated)throw co.create("use-before-activation",{appName:n.name})}function yM(n,t){return vM.apply(this,arguments)}function vM(){return vM=(0,be.Z)(function*({url:n,body:t},e){const i={"Content-Type":"application/json"},r=e.getImmediate({optional:!0});if(r){const M=yield r.getHeartbeatsHeader();M&&(i["X-Firebase-Client"]=M)}const o={method:"POST",body:JSON.stringify(t),headers:i};let u,h;try{u=yield fetch(n,o)}catch(M){throw co.create("fetch-network-error",{originalErrorMessage:M.message})}if(200!==u.status)throw co.create("fetch-status-error",{httpStatus:u.status});try{h=yield u.json()}catch(M){throw co.create("fetch-parse-error",{originalErrorMessage:M.message})}const _=h.ttl.match(/^([\d.]+)(s)$/);if(!_||!_[2]||isNaN(Number(_[1])))throw co.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${h.ttl}`});const b=1e3*Number(_[1]),T=Date.now();return{token:h.attestationToken,expireTimeMillis:T+b,issuedAtTimeMillis:T}}),vM.apply(this,arguments)}function v2(n,t){const{projectId:e,appId:i,apiKey:r}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1beta/projects/${e}/apps/${i}:exchangeDebugToken?key=${r}`,body:{debug_token:t}}}const Vw="firebase-app-check-store";let NA=null;function $1(){return NA||(NA=new Promise((n,t)=>{try{const e=indexedDB.open("firebase-app-check-database",1);e.onsuccess=i=>{n(i.target.result)},e.onerror=i=>{var r;t(co.create("storage-open",{originalErrorMessage:null===(r=i.target.error)||void 0===r?void 0:r.message}))},e.onupgradeneeded=i=>{0===i.oldVersion&&i.target.result.createObjectStore(Vw,{keyPath:"compositeKey"})}}catch(e){t(co.create("storage-open",{originalErrorMessage:e.message}))}}),NA)}function bM(){return bM=(0,be.Z)(function*(n,t){const i=(yield $1()).transaction(Vw,"readwrite"),o=i.objectStore(Vw).put({compositeKey:n,value:t});return new Promise((u,h)=>{o.onsuccess=_=>{u()},i.onerror=_=>{var b;h(co.create("storage-set",{originalErrorMessage:null===(b=_.target.error)||void 0===b?void 0:b.message}))}})}),bM.apply(this,arguments)}const Bw=new bc.Yd("@firebase/app-check");function Z1(n,t){return(0,Pt.hl)()?function E2(n,t){return function G1(n,t){return bM.apply(this,arguments)}(function Y1(n){return`${n.options.appId}-${n.name}`}(n),t)}(n,t).catch(e=>{Bw.warn(`Failed to write token to IndexedDB. Error: ${e}`)}):Promise.resolve()}function W1(){return RA().enabled}function K1(){return DM.apply(this,arguments)}function DM(){return DM=(0,be.Z)(function*(){const n=RA();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),DM.apply(this,arguments)}const M2={error:"UNKNOWN_ERROR"};function x2(n){return Pt.US.encodeString(JSON.stringify(n),!1)}function FA(n){return AM.apply(this,arguments)}function AM(){return AM=(0,be.Z)(function*(n,t=!1){const e=n.app;H1(e);const i=qr(e);let o,r=i.token;if(!r){const _=yield i.cachedTokenPromise;_&&LA(_)&&(r=_)}if(!t&&r&&LA(r))return{token:r.token};let h,u=!1;if(W1()){i.exchangeTokenPromise||(i.exchangeTokenPromise=yM(v2(e,yield K1()),n.heartbeatServiceProvider).then(b=>(i.exchangeTokenPromise=void 0,b)),u=!0);const _=yield i.exchangeTokenPromise;return yield Z1(e,_),Ul(e,Object.assign(Object.assign({},i),{token:_})),{token:_.token}}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().then(_=>(i.exchangeTokenPromise=void 0,_)),u=!0),r=yield i.exchangeTokenPromise}catch(_){"appCheck/throttled"===_.code?Bw.warn(_.message):Bw.error(_),o=_}return r?(h={token:r.token},Ul(e,Object.assign(Object.assign({},i),{token:r})),yield Z1(e,r)):h=R2(o),u&&J1(e,h),h}),AM.apply(this,arguments)}function IM(n,t){const e=qr(n),i=e.tokenObservers.filter(r=>r.next!==t);0===i.length&&e.tokenRefresher&&e.tokenRefresher.isRunning()&&e.tokenRefresher.stop(),Ul(n,Object.assign(Object.assign({},e),{tokenObservers:i}))}function Q1(n){const{app:t}=n,e=qr(t);let i=e.tokenRefresher;i||(i=function k2(n){const{app:t}=n;return new f2((0,be.Z)(function*(){let i;if(i=qr(t).token?yield FA(n,!0):yield FA(n),i.error)throw i.error}),()=>!0,()=>{const e=qr(t);if(e.token){let i=e.token.issuedAtTimeMillis+.5*(e.token.expireTimeMillis-e.token.issuedAtTimeMillis)+3e5;return i=Math.min(i,e.token.expireTimeMillis-3e5),Math.max(0,i-Date.now())}return 0},3e4,96e4)}(n),Ul(t,Object.assign(Object.assign({},e),{tokenRefresher:i}))),!i.isRunning()&&e.isTokenAutoRefreshEnabled&&i.start()}function J1(n,t){const e=qr(n).tokenObservers;for(const i of e)try{"EXTERNAL"===i.type&&null!=t.error?i.error(t.error):i.next(t)}catch(r){}}function LA(n){return n.expireTimeMillis-Date.now()>0}function R2(n){return{token:x2(M2),error:n}}class O2{constructor(t,e){this.app=t,this.heartbeatServiceProvider=e}_delete(){const{tokenObservers:t}=qr(this.app);for(const e of t)IM(this.app,e.next);return Promise.resolve()}}const oR="app-check-internal";!function Y2(){(0,Uo._registerComponent)(new Dh.wA("app-check",n=>function P2(n,t){return new O2(n,t)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,t,e)=>{n.getProvider(oR).initialize()})),(0,Uo._registerComponent)(new Dh.wA(oR,n=>function N2(n){return{getToken:t=>FA(n,t),addTokenListener:t=>function TM(n,t,e,i){const{app:r}=n,o=qr(r),u={next:e,error:i,type:t};if(Ul(r,Object.assign(Object.assign({},o),{tokenObservers:[...o.tokenObservers,u]})),o.token&&LA(o.token)){const h=o.token;Promise.resolve().then(()=>{e({token:h.token}),Q1(n)}).catch(()=>{})}o.cachedTokenPromise.then(()=>Q1(n))}(n,"INTERNAL",t),removeTokenListener:t=>IM(n.app,t)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Uo.registerVersion)("@firebase/app-check","0.5.5")}();class BA{constructor(){return(0,yi.vb)("app-check")}}"undefined"!=typeof window&&window;var RM=R(127);const lR=new s.OlP("angularfire2.auth.use-emulator"),cR=new s.OlP("angularfire2.auth.settings"),uR=new s.OlP("angularfire2.auth.tenant-id"),dR=new s.OlP("angularfire2.auth.langugage-code"),hR=new s.OlP("angularfire2.auth.use-device-language"),fR=new s.OlP("angularfire.auth.persistence"),pR=(n,t,e,i,r,o,u,h)=>(0,lo.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const _=t.runOutsideAngular(()=>n.auth());if(e&&_.useEmulator(...e),i&&(_.tenantId=i),_.languageCode=r,o&&_.useDeviceLanguage(),u)for(const[b,T]of Object.entries(u))_.settings[b]=T;return h&&_.setPersistence(h),_},[e,i,r,o,u,h]);let UA=(()=>{class n{constructor(e,i,r,o,u,h,_,b,T,M,N,j){const Y=new dt.x,fe=ot(void 0).pipe((0,xA.Q)(u.outsideAngular),Sn(()=>o.runOutsideAngular(()=>Promise.resolve().then(R.bind(R,4087)))),(0,mt.U)(()=>(0,lo.on)(e,o,i)),(0,mt.U)(Te=>pR(Te,o,h,b,T,M,_,N)),L1({bufferSize:1,refCount:!1}));if(ki(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=ot(null);else{fe.pipe(Fo()).subscribe();const Qe=fe.pipe(Sn(Ye=>Ye.getRedirectResult().then(St=>St,()=>null)),yi.iC,L1({bufferSize:1,refCount:!1})),qe=fe.pipe(Sn(Ye=>new Xn.y(St=>({unsubscribe:o.runOutsideAngular(()=>Ye.onAuthStateChanged(_t=>St.next(_t),_t=>St.error(_t),()=>St.complete()))})))),ht=fe.pipe(Sn(Ye=>new Xn.y(St=>({unsubscribe:o.runOutsideAngular(()=>Ye.onIdTokenChanged(_t=>St.next(_t),_t=>St.error(_t),()=>St.complete()))}))));this.authState=Qe.pipe(V1(qe),(0,pM.R)(u.outsideAngular),(0,xA.Q)(u.insideAngular)),this.user=Qe.pipe(V1(ht),(0,pM.R)(u.outsideAngular),(0,xA.Q)(u.insideAngular)),this.idToken=this.user.pipe(Sn(Ye=>Ye?(0,Rn.D)(Ye.getIdToken()):ot(null))),this.idTokenResult=this.user.pipe(Sn(Ye=>Ye?(0,Rn.D)(Ye.getIdTokenResult()):ot(null))),this.credential=(0,Ny.T)(Qe,Y,this.authState.pipe(Ci(Ye=>!Ye))).pipe((0,mt.U)(Ye=>(null==Ye?void 0:Ye.user)?Ye:null),(0,pM.R)(u.outsideAngular),(0,xA.Q)(u.insideAngular))}return(0,lo.pX)(this,fe,o,{spy:{apply:(Te,Qe,qe)=>{(Te.startsWith("signIn")||Te.startsWith("createUser"))&&qe.then(ht=>Y.next(ht))}}})}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(lo.Dh),s.LFG(lo.xv,8),s.LFG(s.Lbi),s.LFG(s.R0b),s.LFG(yi.HU),s.LFG(lR,8),s.LFG(cR,8),s.LFG(uR,8),s.LFG(dR,8),s.LFG(hR,8),s.LFG(fR,8),s.LFG(BA,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),X2=(()=>{class n{constructor(){RM.Z.registerVersion("angularfire",yi.q4.full,"auth-compat")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[UA]}),n})(),qm=(()=>{class n{constructor(e){this.afAuth=e,e.user.subscribe(i=>this.uid=null==i?void 0:i.uid)}register(e,i){var r=this;return(0,be.Z)(function*(){return r.afAuth.createUserWithEmailAndPassword(e,i).then(o=>o.user)})()}login(e,i){var r=this;return(0,be.Z)(function*(){return r.afAuth.signInWithEmailAndPassword(e,i).then(o=>o.user)})()}isUserExists(e){var i=this;return(0,be.Z)(function*(){return i.afAuth.fetchSignInMethodsForEmail(e).then(r=>1==r.length)})()}logout(){return this.afAuth.signOut()}subUid(){return this.afAuth.user.pipe((0,mt.U)(e=>null==e?void 0:e.uid))}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(UA))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var Uw=R(4986);function OM(){return(0,fi.e)((n,t)=>{let e,i=!1;n.subscribe((0,On.x)(t,r=>{const o=e;e=r,i&&t.next([o,r]),i=!0}))})}function jA(n,t=Lr.y){return n=null!=n?n:eV,(0,fi.e)((e,i)=>{let r,o=!0;e.subscribe((0,On.x)(i,u=>{const h=t(u);(o||!n(r,h))&&(o=!1,r=h,i.next(u))}))})}function eV(n,t){return n===t}R(4087);var mR=R(3942);function PM(n,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new je("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return t}function gR(){if("undefined"==typeof Uint8Array)throw new je("unimplemented","Uint8Arrays are not available in this environment.")}function _R(){if(!function CE(){return"undefined"!=typeof atob}())throw new je("unimplemented","Blobs are unavailable in Firestore in this environment.")}class jw{constructor(t){this._delegate=t}static fromBase64String(t){return _R(),new jw(qo.fromBase64String(t))}static fromUint8Array(t){return gR(),new jw(qo.fromUint8Array(t))}toBase64(){return _R(),this._delegate.toBase64()}toUint8Array(){return gR(),this._delegate.toUint8Array()}isEqual(t){return this._delegate.isEqual(t._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function NM(n){return function iV(n,t){if("object"!=typeof n||null===n)return!1;const e=n;for(const i of t)if(i in e&&"function"==typeof e[i])return!0;return!1}(n,["next","error","complete"])}class rV{enableIndexedDbPersistence(t,e){return function ue(n,t){zc(n=mn(n,E));const e=U(n),i=n._freezeSettings(),r=new bw;return Ge(e,r,new Bm(r,i.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(t._delegate,{forceOwnership:e})}enableMultiTabIndexedDbPersistence(t){return function xe(n){zc(n=mn(n,E));const t=U(n),e=n._freezeSettings(),i=new bw;return Ge(t,i,new ZS(i,e.cacheSizeBytes))}(t._delegate)}clearIndexedDbPersistence(t){return function Je(n){if(n._initialized&&!n._terminated)throw new je(Ce.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const t=new hr;return n._queue.enqueueAndForgetEvenWhileRestricted((0,be.Z)(function*(){try{yield(e=(0,be.Z)(function*(i){if(!Go.vt())return Promise.resolve();const r=i+"main";yield Go.delete(r)}),function(i){return e.apply(this,arguments)})(R0(n._databaseId,n._persistenceKey)),t.resolve()}catch(e){t.reject(e)}var e})),t.promise}(t._delegate)}}class yR{constructor(t,e,i){this._delegate=e,this._persistenceProvider=i,this.INTERNAL={delete:()=>this.terminate()},t instanceof wa||(this._appCompat=t)}get _databaseId(){return this._delegate._databaseId}settings(t){const e=this._delegate._getSettings();!t.merge&&e.host!==t.host&&Wp("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),t.merge&&delete(t=Object.assign(Object.assign({},e),t)).merge,this._delegate._setSettings(t)}useEmulator(t,e,i={}){!function sM(n,t,e,i={}){var r;const o=(n=mn(n,ky))._getSettings();if("firestore.googleapis.com"!==o.host&&o.host!==t&&Wp("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},o),{host:`${t}:${e}`,ssl:!1})),i.mockUserToken){let u,h;if("string"==typeof i.mockUserToken)u=i.mockUserToken,h=dr.MOCK_USER;else{u=(0,Pt.Sg)(i.mockUserToken,null===(r=n._app)||void 0===r?void 0:r.options.projectId);const _=i.mockUserToken.sub||i.mockUserToken.user_id;if(!_)throw new je(Ce.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");h=new dr(_)}n._authCredentials=new kI(new x_(u,h))}}(this._delegate,t,e,i)}enableNetwork(){return function Ne(n){return function yA(n){return n.asyncQueue.enqueue((0,be.Z)(function*(){const t=yield gA(n),e=yield _A(n);return t.setNetworkEnabled(!0),function(i){const r=Xe(i);return r.lu.delete(0),md(r)}(e)}))}(U(n=mn(n,E)))}(this._delegate)}disableNetwork(){return function Dt(n){return function KS(n){return n.asyncQueue.enqueue((0,be.Z)(function*(){const t=yield gA(n),e=yield _A(n);return t.setNetworkEnabled(!1),(i=(0,be.Z)(function*(r){const o=Xe(r);o.lu.add(0),yield gd(o),o._u.set("Offline")}),function(r){return i.apply(this,arguments)})(e);var i}))}(U(n=mn(n,E)))}(this._delegate)}enablePersistence(t){let e=!1,i=!1;return t&&(e=!!t.synchronizeTabs,i=!!t.experimentalForceOwningTab,nM("synchronizeTabs",e,"experimentalForceOwningTab",i)),e?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,i)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function at(n){return function(t){const e=new hr;return t.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return function jS(n,t){return tA.apply(this,arguments)}(yield Tw(t),e)})),e.promise}(U(n=mn(n,E)))}(this._delegate)}onSnapshotsInSync(t){return function YL(n,t){return function vA(n,t){const e=new Qa(t);return n.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return i=yield vd(n),r=e,Xe(i).Tu.add(r),void r.next();var i,r})),()=>{e.pa(),n.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return i=yield vd(n),r=e,void Xe(i).Tu.delete(r);var i,r}))}}(U(n=mn(n,E)),m(t)?t:{next:t})}(this._delegate,t)}get app(){if(!this._appCompat)throw new je("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(t){try{return new Fy(this,oM(this._delegate,t))}catch(e){throw uo(e,"collection()","Firestore.collection()")}}doc(t){try{return new Ja(this,l(this._delegate,t))}catch(e){throw uo(e,"doc()","Firestore.doc()")}}collectionGroup(t){try{return new ho(this,function a(n,t){if(n=mn(n,ky),bA("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new je(Ce.INVALID_ARGUMENT,`Invalid collection ID '${t}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new ms(n,null,(e=t,new Sl(pn.emptyPath(),e)));var e}(this._delegate,t))}catch(e){throw uo(e,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(t){return function WL(n,t){return function Mw(n,t){const e=new hr;return n.asyncQueue.enqueueAndForget((0,be.Z)(function*(){const i=yield(r=n,Dw(r).then(o=>o.datastore));var r;new Ew(n.asyncQueue,i,t,e).run()})),e.promise}(U(n=mn(n,E)),e=>t(new ZL(n,e)))}(this._delegate,e=>t(new vR(this,e)))}batch(){return U(this._delegate),new bR(new x1(this._delegate,t=>Py(this._delegate,t)))}loadBundle(t){return function In(n,t){const e=U(n=mn(n,E)),i=new v;return function XS(n,t,e,i){const r=function(o,u){let h;return h="string"==typeof o?(new TextEncoder).encode(o):o,_=function(_,b){if(_ instanceof Uint8Array)return ww(_,b);if(_ instanceof ArrayBuffer)return ww(new Uint8Array(_),b);if(_ instanceof ReadableStream)return _.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(h),new hA(_,u);var _}(e,hy(t));n.asyncQueue.enqueueAndForget((0,be.Z)(function*(){!function m1(n,t,e){const i=Xe(n);var r;(r=(0,be.Z)(function*(o,u,h){try{const _=yield u.getMetadata();if(yield function(N,j){const Y=Xe(N),fe=pr(j.createTime);return Y.persistence.runTransaction("hasNewerBundle","readonly",Te=>Y.ds.getBundleMetadata(Te,j.id)).then(Te=>!!Te&&Te.createTime.compareTo(fe)>=0)}(o.localStore,_))return yield u.close(),h._completeWith({taskState:"Success",documentsLoaded:(N=_).totalDocuments,bytesLoaded:N.totalBytes,totalDocuments:N.totalDocuments,totalBytes:N.totalBytes}),Promise.resolve(new Set);h._updateProgress(NS(_));const b=new h1(_,o.localStore,u.M);let T=yield u.fa();for(;T;){const N=yield b.Nu(T);N&&h._updateProgress(N),T=yield u.fa()}const M=yield b.complete();return yield Ka(o,M.Ou,void 0),yield function(N,j){const Y=Xe(N);return Y.persistence.runTransaction("Save bundle","readwrite",fe=>Y.ds.saveBundleMetadata(fe,j))}(o.localStore,_),h._completeWith(M.progress),Promise.resolve(M.Mu)}catch(_){return Wp("SyncEngine",`Loading bundle failed with ${_}`),h._failWith(_),Promise.resolve(new Set)}var N}),function(o,u,h){return r.apply(this,arguments)})(i,t,e).then(r=>{i.sharedClientState.notifyBundleLoaded(r)})}(yield Tw(n),r,i)}))}(e,n._databaseId,t,i),i}(this._delegate,t)}namedQuery(t){return function ao(n,t){return function eM(n,t){return n.asyncQueue.enqueue((0,be.Z)(function*(){return function(e,i){const r=Xe(e);return r.persistence.runTransaction("Get named query","readonly",o=>r.ds.getNamedQuery(o,i))}(yield Aw(n),t)}))}(U(n=mn(n,E)),t).then(e=>e?new ms(n,null,e.query):null)}(this._delegate,t).then(e=>e?new ho(this,e):null)}}class HA extends hM{constructor(t){super(),this.firestore=t}convertBytes(t){return new jw(new qo(t))}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return Ja.forKey(e,this.firestore,null)}}class vR{constructor(t,e){this._firestore=t,this._delegate=e,this._userDataWriter=new HA(t)}get(t){const e=Zm(t);return this._delegate.get(e).then(i=>new Hw(this._firestore,new bd(this._firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,e.converter)))}set(t,e,i){const r=Zm(t);return i?(PM("Transaction.set",i),this._delegate.set(r,e,i)):this._delegate.set(r,e),this}update(t,e,i,...r){const o=Zm(t);return 2===arguments.length?this._delegate.update(o,e):this._delegate.update(o,e,i,...r),this}delete(t){const e=Zm(t);return this._delegate.delete(e),this}}class bR{constructor(t){this._delegate=t}set(t,e,i){const r=Zm(t);return i?(PM("WriteBatch.set",i),this._delegate.set(r,e,i)):this._delegate.set(r,e),this}update(t,e,i,...r){const o=Zm(t);return 2===arguments.length?this._delegate.update(o,e):this._delegate.update(o,e,i,...r),this}delete(t){const e=Zm(t);return this._delegate.delete(e),this}commit(){return this._delegate.commit()}}class Ym{constructor(t,e,i){this._firestore=t,this._userDataWriter=e,this._delegate=i}fromFirestore(t,e){const i=new Nw(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new zw(this._firestore,i),null!=e?e:{})}toFirestore(t,e){return e?this._delegate.toFirestore(t,e):this._delegate.toFirestore(t)}static getInstance(t,e){const i=Ym.INSTANCES;let r=i.get(t);r||(r=new WeakMap,i.set(t,r));let o=r.get(e);return o||(o=new Ym(t,new HA(t),e),r.set(e,o)),o}}Ym.INSTANCES=new WeakMap;class Ja{constructor(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new HA(t)}static forPath(t,e,i){if(t.length%2!=0)throw new je("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${t.canonicalString()} has ${t.length}`);return new Ja(e,new ni(e._delegate,i,new Ke(t)))}static forKey(t,e,i){return new Ja(e,new ni(e._delegate,i,t))}get id(){return this._delegate.id}get parent(){return new Fy(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(t){try{return new Fy(this.firestore,oM(this._delegate,t))}catch(e){throw uo(e,"collection()","DocumentReference.collection()")}}isEqual(t){return(t=(0,Pt.m9)(t))instanceof ni&&c(this._delegate,t)}set(t,e){e=PM("DocumentReference.set",e);try{return e?k1(this._delegate,t,e):k1(this._delegate,t)}catch(i){throw uo(i,"setDoc()","DocumentReference.set()")}}update(t,e,...i){try{return 1===arguments.length?R1(this._delegate,t):R1(this._delegate,t,e,...i)}catch(r){throw uo(r,"updateDoc()","DocumentReference.update()")}}delete(){return function GL(n){return Py(mn(n.firestore,E),[new am(n._key,Fi.none())])}(this._delegate)}onSnapshot(...t){const e=wR(t),i=CR(t,r=>new Hw(this.firestore,new bd(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)));return O1(this._delegate,e,i)}get(t){let e;return e="cache"===(null==t?void 0:t.source)?function UL(n){n=mn(n,ni);const t=mn(n.firestore,E),e=U(t),i=new Gm(t);return function QS(n,t){const e=new hr;return n.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return(i=(0,be.Z)(function*(r,o,u){try{const h=yield function(_,b){const T=Xe(_);return T.persistence.runTransaction("read document","readonly",M=>T.ai.Bs(M,b))}(r,o);h.isFoundDocument()?u.resolve(h):h.isNoDocument()?u.resolve(null):u.reject(new je(Ce.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(h){const _=Ll(h,`Failed to get document '${o} from cache`);u.reject(_)}}),function(r,o,u){return i.apply(this,arguments)})(yield Aw(n),t,e);var i})),e.promise}(e,n._key).then(r=>new bd(t,i,n._key,r,new $m(null!==r&&r.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===(null==t?void 0:t.source)?function jL(n){n=mn(n,ni);const t=mn(n.firestore,E);return Iw(U(t),n._key,{source:"server"}).then(e=>fM(t,n,e))}(this._delegate):function BL(n){n=mn(n,ni);const t=mn(n.firestore,E);return Iw(U(t),n._key).then(e=>fM(t,n,e))}(this._delegate),e.then(i=>new Hw(this.firestore,new bd(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)))}withConverter(t){return new Ja(this.firestore,this._delegate.withConverter(t?Ym.getInstance(this.firestore,t):null))}}function uo(n,t,e){return n.message=n.message.replace(t,e),n}function wR(n){for(const t of n)if("object"==typeof t&&!NM(t))return t;return{}}function CR(n,t){var e,i;let r;return r=NM(n[0])?n[0]:NM(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:o=>{r.next&&r.next(t(o))},error:null===(e=r.error)||void 0===e?void 0:e.bind(r),complete:null===(i=r.complete)||void 0===i?void 0:i.bind(r)}}class Hw{constructor(t,e){this._firestore=t,this._delegate=e}get ref(){return new Ja(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(t){return this._delegate.data(t)}get(t,e){return this._delegate.get(t,e)}isEqual(t){return w1(this._delegate,t._delegate)}}class zw extends Hw{data(t){const e=this._delegate.data(t);return function _E(n,t){n||ut()}(void 0!==e),e}}class ho{constructor(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new HA(t)}where(t,e,i){try{return new ho(this.firestore,If(this._delegate,function ML(n,t,e){const i=t,r=SA("where",n);return new SL(r,i,e)}(t,e,i)))}catch(r){throw uo(r,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(t,e){try{return new ho(this.firestore,If(this._delegate,function kL(n,t="asc"){const e=t,i=SA("orderBy",n);return new xL(i,e)}(t,e)))}catch(i){throw uo(i,/(orderBy|where)\(\)/,"Query.$1()")}}limit(t){try{return new ho(this.firestore,If(this._delegate,function RL(n){return iM("limit",n),new E1("limit",n,"F")}(t)))}catch(e){throw uo(e,"limit()","Query.limit()")}}limitToLast(t){try{return new ho(this.firestore,If(this._delegate,function OL(n){return iM("limitToLast",n),new E1("limitToLast",n,"L")}(t)))}catch(e){throw uo(e,"limitToLast()","Query.limitToLast()")}}startAt(...t){try{return new ho(this.firestore,If(this._delegate,function PL(...n){return new D1("startAt",n,!0)}(...t)))}catch(e){throw uo(e,"startAt()","Query.startAt()")}}startAfter(...t){try{return new ho(this.firestore,If(this._delegate,function NL(...n){return new D1("startAfter",n,!1)}(...t)))}catch(e){throw uo(e,"startAfter()","Query.startAfter()")}}endBefore(...t){try{return new ho(this.firestore,If(this._delegate,function FL(...n){return new A1("endBefore",n,!1)}(...t)))}catch(e){throw uo(e,"endBefore()","Query.endBefore()")}}endAt(...t){try{return new ho(this.firestore,If(this._delegate,function LL(...n){return new A1("endAt",n,!0)}(...t)))}catch(e){throw uo(e,"endAt()","Query.endAt()")}}isEqual(t){return d(this._delegate,t._delegate)}get(t){let e;return e="cache"===(null==t?void 0:t.source)?function zL(n){n=mn(n,ms);const t=mn(n.firestore,E),e=U(t),i=new Gm(t);return function Sw(n,t){const e=new hr;return n.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return(i=(0,be.Z)(function*(r,o,u){try{const h=yield fd(r,o,!0),_=new JD(o,h.hi),b=_.Gu(h.documents),T=_.applyChanges(b,!1);u.resolve(T.snapshot)}catch(h){const _=Ll(h,`Failed to execute query '${o} against cache`);u.reject(_)}}),function(r,o,u){return i.apply(this,arguments)})(yield Aw(n),t,e);var i})),e.promise}(e,n._query).then(r=>new Tf(t,i,n,r))}(this._delegate):"server"===(null==t?void 0:t.source)?function $L(n){n=mn(n,ms);const t=mn(n.firestore,E),e=U(t),i=new Gm(t);return JS(e,n._query,{source:"server"}).then(r=>new Tf(t,i,n,r))}(this._delegate):function HL(n){n=mn(n,ms);const t=mn(n.firestore,E),e=U(t),i=new Gm(t);return C1(n._query),JS(e,n._query).then(r=>new Tf(t,i,n,r))}(this._delegate),e.then(i=>new FM(this.firestore,new Tf(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)))}onSnapshot(...t){const e=wR(t),i=CR(t,r=>new FM(this.firestore,new Tf(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)));return O1(this._delegate,e,i)}withConverter(t){return new ho(this.firestore,this._delegate.withConverter(t?Ym.getInstance(this.firestore,t):null))}}class oV{constructor(t,e){this._firestore=t,this._delegate=e}get type(){return this._delegate.type}get doc(){return new zw(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class FM{constructor(t,e){this._firestore=t,this._delegate=e}get query(){return new ho(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(t=>new zw(this._firestore,t))}docChanges(t){return this._delegate.docChanges(t).map(e=>new oV(this._firestore,e))}forEach(t,e){this._delegate.forEach(i=>{t.call(e,new zw(this._firestore,i))})}isEqual(t){return w1(this._delegate,t._delegate)}}class Fy extends ho{constructor(t,e){super(t,e),this.firestore=t,this._delegate=e}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const t=this._delegate.parent;return t?new Ja(this.firestore,t):null}doc(t){try{return new Ja(this.firestore,void 0===t?l(this._delegate):l(this._delegate,t))}catch(e){throw uo(e,"doc()","CollectionReference.doc()")}}add(t){return function qL(n,t){const e=mn(n.firestore,E),i=l(n),r=MA(n.converter,t);return Py(e,[AA(Hm(n.firestore),"addDoc",i._key,r,null!==n.converter,{}).toMutation(i._key,Fi.exists(!1))]).then(()=>i)}(this._delegate,t).then(e=>new Ja(this.firestore,e))}isEqual(t){return c(this._delegate,t._delegate)}withConverter(t){return new Fy(this.firestore,this._delegate.withConverter(t?Ym.getInstance(this.firestore,t):null))}}function Zm(n){return mn(n,ni)}class LM{constructor(...t){this._delegate=new Da(...t)}static documentId(){return new LM(Ki.keyField().canonicalString())}isEqual(t){return(t=(0,Pt.m9)(t))instanceof Da&&this._delegate._internalPath.isEqual(t._internalPath)}}class Wm{constructor(t){this._delegate=t}static serverTimestamp(){const t=function QL(){return new aM("serverTimestamp")}();return t._methodName="FieldValue.serverTimestamp",new Wm(t)}static delete(){const t=function KL(){return new Ow("deleteField")}();return t._methodName="FieldValue.delete",new Wm(t)}static arrayUnion(...t){const e=Lw(...t);return e._methodName="FieldValue.arrayUnion",new Wm(e)}static arrayRemove(...t){const e=P1(...t);return e._methodName="FieldValue.arrayRemove",new Wm(e)}static increment(t){const e=function JL(n){return new DL("increment",n)}(t);return e._methodName="FieldValue.increment",new Wm(e)}isEqual(t){return this._delegate.isEqual(t._delegate)}}const aV={Firestore:yR,GeoPoint:Af,Timestamp:yn,Blob:jw,Transaction:vR,WriteBatch:bR,DocumentReference:Ja,DocumentSnapshot:Hw,Query:ho,QueryDocumentSnapshot:zw,QuerySnapshot:FM,CollectionReference:Fy,FieldPath:LM,FieldValue:Wm,setLogLevel:function sV(n){!function xI(n){Sc.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};function ER(n,t){return function uV(n,t=Uw.z){return new Xn.y(e=>{let i;return null!=t?t.schedule(()=>{i=n.onSnapshot({includeMetadataChanges:!0},e)}):i=n.onSnapshot({includeMetadataChanges:!0},e),()=>{null!=i&&i()}})}(n,t)}function VM(n,t){return ER(n,t).pipe((0,mt.U)(e=>({payload:e,type:"query"})))}function zA(n,t){return VM(n,t).pipe(ai(void 0),OM(),(0,mt.U)(([e,i])=>{const r=i.payload.docChanges(),o=r.map(u=>({type:u.type,payload:u}));return e&&JSON.stringify(e.payload.metadata)!==JSON.stringify(i.payload.metadata)&&i.payload.docs.forEach((u,h)=>{const _=r.find(T=>T.doc.ref.isEqual(u.ref)),b=null==e?void 0:e.payload.docs.find(T=>T.ref.isEqual(u.ref));_&&JSON.stringify(_.doc.metadata)===JSON.stringify(u.metadata)||!_&&b&&JSON.stringify(b.metadata)===JSON.stringify(u.metadata)||o.push({type:"modified",payload:{oldIndex:h,newIndex:h,type:"modified",doc:u}})}),o}))}function DR(n,t,e){return zA(n,e).pipe(Yi((i,r)=>function hV(n,t,e){return t.forEach(i=>{e.indexOf(i.type)>-1&&(n=function fV(n,t){switch(t.type){case"added":if(!n[t.newIndex]||!n[t.newIndex].doc.ref.isEqual(t.doc.ref))return BM(n,t.newIndex,0,t);break;case"modified":if(null==n[t.oldIndex]||n[t.oldIndex].doc.ref.isEqual(t.doc.ref)){if(t.oldIndex!==t.newIndex){const e=n.slice();return e.splice(t.oldIndex,1),e.splice(t.newIndex,0,t),e}return BM(n,t.newIndex,1,t)}break;case"removed":if(n[t.oldIndex]&&n[t.oldIndex].doc.ref.isEqual(t.doc.ref))return BM(n,t.oldIndex,1)}return n}(n,i))}),n}(i,r.map(o=>o.payload),t),[]),jA(),(0,mt.U)(i=>i.map(r=>({type:r.type,payload:r}))))}function BM(n,t,e,...i){const r=n.slice();return r.splice(t,e,...i),r}function AR(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}!function cV(n){(function lV(n,t){n.INTERNAL.registerComponent(new Dh.wA("firestore-compat",e=>{const i=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(i,r)},"PUBLIC").setServiceProps(Object.assign({},aV)))})(n,(t,e)=>new yR(t,e,new rV)),n.registerVersion("@firebase/firestore-compat","0.1.16")}(mR.Z);class TR{constructor(t,e,i){this.ref=t,this.query=e,this.afs=i}stateChanges(t){let e=zA(this.query,this.afs.schedulers.outsideAngular);return t&&t.length>0&&(e=e.pipe((0,mt.U)(i=>i.filter(r=>t.indexOf(r.type)>-1)))),e.pipe(ai(void 0),OM(),Ci(([i,r])=>r.length>0||!i),(0,mt.U)(([i,r])=>r),yi.iC)}auditTrail(t){return this.stateChanges(t).pipe(Yi((e,i)=>[...e,...i],[]))}snapshotChanges(t){const e=AR(t);return DR(this.query,e,this.afs.schedulers.outsideAngular).pipe(yi.iC)}valueChanges(t={}){return VM(this.query,this.afs.schedulers.outsideAngular).pipe((0,mt.U)(e=>e.payload.docs.map(i=>t.idField?Object.assign(Object.assign({},i.data()),{[t.idField]:i.id}):i.data())),yi.iC)}get(t){return(0,Rn.D)(this.query.get(t)).pipe(yi.iC)}add(t){return this.ref.add(t)}doc(t){return new IR(this.ref.doc(t),this.afs)}}class IR{constructor(t,e){this.ref=t,this.afs=e}set(t,e){return this.ref.set(t,e)}update(t){return this.ref.update(t)}delete(){return this.ref.delete()}collection(t,e){const i=this.ref.collection(t),{ref:r,query:o}=xR(i,e);return new TR(r,o,this.afs)}snapshotChanges(){return function dV(n,t){return ER(n,t).pipe(ai(void 0),OM(),(0,mt.U)(([e,i])=>i.exists?(null==e?void 0:e.exists)?{payload:i,type:"modified"}:{payload:i,type:"added"}:{payload:i,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(yi.iC)}valueChanges(t={}){return this.snapshotChanges().pipe((0,mt.U)(({payload:e})=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data()))}get(t){return(0,Rn.D)(this.ref.get(t)).pipe(yi.iC)}}class pV{constructor(t,e){this.query=t,this.afs=e}stateChanges(t){return t&&0!==t.length?zA(this.query,this.afs.schedulers.outsideAngular).pipe((0,mt.U)(e=>e.filter(i=>t.indexOf(i.type)>-1)),Ci(e=>e.length>0),yi.iC):zA(this.query,this.afs.schedulers.outsideAngular).pipe(yi.iC)}auditTrail(t){return this.stateChanges(t).pipe(Yi((e,i)=>[...e,...i],[]))}snapshotChanges(t){const e=AR(t);return DR(this.query,e,this.afs.schedulers.outsideAngular).pipe(yi.iC)}valueChanges(t={}){return VM(this.query,this.afs.schedulers.outsideAngular).pipe((0,mt.U)(i=>i.payload.docs.map(r=>t.idField?Object.assign({[t.idField]:r.id},r.data()):r.data())),yi.iC)}get(t){return(0,Rn.D)(this.query.get(t)).pipe(yi.iC)}}const SR=new s.OlP("angularfire2.enableFirestorePersistence"),MR=new s.OlP("angularfire2.firestore.persistenceSettings"),mV=new s.OlP("angularfire2.firestore.settings"),gV=new s.OlP("angularfire2.firestore.use-emulator");function xR(n,t=(e=>e)){return{query:t(n),ref:n}}let $A=(()=>{class n{constructor(e,i,r,o,u,h,_,b,T,M,N,j,Y,fe,Te,Qe,qe){this.schedulers=_;const ht=(0,lo.on)(e,h,i),Ye=T;M&&pR(ht,h,N,Y,fe,Te,j,Qe),[this.firestore,this.persistenceEnabled$]=(0,lo.cc)(`${ht.name}.firestore`,"AngularFirestore",ht.name,()=>{const St=h.runOutsideAngular(()=>ht.firestore());if(o&&St.settings(o),Ye&&St.useEmulator(...Ye),r&&!ki(u)){const _t=()=>{try{return(0,Rn.D)(St.enablePersistence(b||void 0).then(()=>!0,()=>!1))}catch(st){return"undefined"!=typeof console&&console.warn(st),ot(!1)}};return[St,h.runOutsideAngular(_t)]}return[St,ot(!1)]},[o,Ye,r])}collection(e,i){let r;r="string"==typeof e?this.firestore.collection(e):e;const{ref:o,query:u}=xR(r,i),h=this.schedulers.ngZone.run(()=>o);return new TR(h,u,this)}collectionGroup(e,i){const r=i||(u=>u),o=this.firestore.collectionGroup(e);return new pV(r(o),this)}doc(e){let i;i="string"==typeof e?this.firestore.doc(e):e;const r=this.schedulers.ngZone.run(()=>i);return new IR(r,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(lo.Dh),s.LFG(lo.xv,8),s.LFG(SR,8),s.LFG(mV,8),s.LFG(s.Lbi),s.LFG(s.R0b),s.LFG(yi.HU),s.LFG(MR,8),s.LFG(gV,8),s.LFG(UA,8),s.LFG(lR,8),s.LFG(cR,8),s.LFG(uR,8),s.LFG(dR,8),s.LFG(hR,8),s.LFG(fR,8),s.LFG(BA,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),_V=(()=>{class n{constructor(){RM.Z.registerVersion("angularfire",yi.q4.full,"fst-compat")}static enablePersistence(e){return{ngModule:n,providers:[{provide:SR,useValue:!0},{provide:MR,useValue:e}]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[$A]}),n})(),yV=(()=>{class n{constructor(e){this.afs=e}getEventDefaultPublic(){var e=this;return(0,be.Z)(function*(){return(yield e.afs.firestore.collection("sets").doc("eventDefaultPublic").get()).data()})()}}return n.\u0275fac=function(e){return new(e||n)(s.LFG($A))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Ly=(()=>{class n{constructor(e,i){this.afs=e,this.authService=i}addUser(e,i){return this.afs.collection("users").doc(e).set(i.convert())}update(e,i,r){return this.afs.collection("users").doc(this.authService.uid).update(Object.assign({nickname:e,about:i},r?{socialLink:r}:{}))}addCreatedEvent(e){this.afs.collection("users").doc(this.authService.uid).update({createdEventsID:Lw(e)})}addSeenEvent(e){this.afs.collection("users").doc(this.authService.uid).update({eventsID:Lw(e)})}getUserData(e){var i=this;return(0,be.Z)(function*(){return(yield i.afs.firestore.collection("users").doc(e).get()).data()})()}subUserData(e){return e?this.afs.collection("users").doc(e).valueChanges().pipe((0,mt.U)(i=>i)):is.E}}return n.\u0275fac=function(e){return new(e||n)(s.LFG($A),s.LFG(qm))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),UM=(()=>{class n{constructor(e,i){this.afs=e,this.userService=i}addEvent(e,i){var r=this;return(0,be.Z)(function*(){const o=yield r.afs.collection("events").add(i.convert());return r.afs.collection("events").doc(o.id).collection("eventUsers").doc(e).set({status:"o",lastDate:yn.fromDate(new Date)}),r.userService.addCreatedEvent(o.id),o.id})()}deleteEvent(e){return this.afs.collection("events").doc(e).update({isDeleted:!0})}getEvent(e){var i=this;return(0,be.Z)(function*(){let o=(yield i.afs.firestore.collection("events").doc(e).get()).data();if(o&&(null==o.isDeleted||0==o.isDeleted))return o})()}getEventBasics(e){var i=this;return(0,be.Z)(function*(){let o=(yield i.afs.firestore.collection("events").doc(e).get()).data();if(o&&(null==o.isDeleted||0==o.isDeleted))return{name:o.name,emoji:o.emoji,when:o.when}})()}onLoad(e,i){var r=this;return(0,be.Z)(function*(){r.afs.collection("events").doc(e).update({viewDates:Lw(yn.fromDate(new Date))}).catch(o=>console.log(o)),i&&r.getStatus(e,i).then(o=>{o||(r.userService.addSeenEvent(e),r.userService.getUserData(i).then(u=>{(null==u?void 0:u.name)&&r.isInMaybeLocal(e,u.name)&&(r.removeMaybeNoName(e,u.name),r.afs.collection("events").doc(e).collection("eventUsers").doc(i).set({status:"m",lastDate:yn.fromDate(new Date),userID:i})),r.afs.collection("events").doc(e).collection("eventUsers").doc(i).set({status:"s",lastDate:yn.fromDate(new Date),userID:i})}))})})()}subStatus(e,i){return this.afs.collection("events").doc(e).collection("eventUsers").doc(i).valueChanges().pipe((0,mt.U)(r=>{if(r)return r.status}))}getStatus(e,i){var r=this;return(0,be.Z)(function*(){return r.afs.firestore.collection("events").doc(e).collection("eventUsers").doc(i).get().then(o=>{if(o)return o.data().status})})()}getUsersStatus(e){var i=this;return(0,be.Z)(function*(){return(yield i.afs.firestore.collection("events").doc(e).collection("eventUsers").get()).docs.map(o=>({uid:o.id,status:o.data().status}))})()}getUsersStatusFull(e){var i=this;return(0,be.Z)(function*(){return(yield i.afs.firestore.collection("events").doc(e).collection("eventUsers").get()).docs.map(o=>({uid:o.id,data:o.data()}))})()}changeStatus(e,i,r){return this.afs.collection("events").doc(e).collection("eventUsers").doc(i).update({status:r,lastDate:yn.fromDate(new Date)})}isInMaybeLocal(e,i){let r,o=localStorage.getItem(e);return r=o?JSON.parse(o):[],r.indexOf(i,0)>-1}addMaybeNoName(e,i){var r=this;return(0,be.Z)(function*(){return r.afs.collection("events").doc(e).update({maybeNoNames:Lw(i)}).then(o=>{let u,h=localStorage.getItem(e);u=h?JSON.parse(h):[],u.push(i),localStorage.setItem(e,JSON.stringify(u))})})()}removeMaybeNoName(e,i){let r,o=localStorage.getItem(e);r=o?JSON.parse(o):[];let u=r.indexOf(i,0);u>-1&&r.splice(u,1),r.length>0?localStorage.setItem(e,JSON.stringify(r)):o&&localStorage.removeItem(e),this.afs.collection("events").doc(e).update({maybeNoNames:P1(i)})}}return n.\u0275fac=function(e){return new(e||n)(s.LFG($A),s.LFG(Ly))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function er(n){return null!=n&&"false"!=`${n}`}function GA(n,t=0){return function vV(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}(n)?Number(n):t}function qA(n){return Array.isArray(n)?n:[n]}function mr(n){return null==n?"":"string"==typeof n?n:`${n}px`}function wd(n){return n instanceof s.SBq?n.nativeElement:n}var wV=R(1144);const CV=["addListener","removeListener"],EV=["addEventListener","removeEventListener"],DV=["on","off"];function YA(n,t,e,i){if((0,Br.m)(e)&&(i=e,e=void 0),i)return YA(n,t,e).pipe(gu(i));const[r,o]=function IV(n){return(0,Br.m)(n.addEventListener)&&(0,Br.m)(n.removeEventListener)}(n)?EV.map(u=>h=>n[u](t,h,e)):function AV(n){return(0,Br.m)(n.addListener)&&(0,Br.m)(n.removeListener)}(n)?CV.map(kR(n,t)):function TV(n){return(0,Br.m)(n.on)&&(0,Br.m)(n.off)}(n)?DV.map(kR(n,t)):[];if(!r&&(0,wV.z)(n))return(0,Ln.z)(u=>YA(u,t,e))((0,Ys.Xf)(n));if(!r)throw new TypeError("Invalid event target");return new Xn.y(u=>{const h=(..._)=>u.next(1<_.length?_:_[0]);return r(h),()=>o(h)})}function kR(n,t){return e=>i=>n[e](t,i)}var RR=R(4408);const $w={schedule(n){let t=requestAnimationFrame,e=cancelAnimationFrame;const{delegate:i}=$w;i&&(t=i.requestAnimationFrame,e=i.cancelAnimationFrame);const r=t(o=>{e=void 0,n(o)});return new qn.w0(()=>null==e?void 0:e(r))},requestAnimationFrame(...n){const{delegate:t}=$w;return((null==t?void 0:t.requestAnimationFrame)||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:t}=$w;return((null==t?void 0:t.cancelAnimationFrame)||cancelAnimationFrame)(...n)},delegate:void 0};var OR=R(7565);new class MV extends OR.v{flush(t){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;t=t||i.shift();do{if(r=t.execute(t.state,t.delay))break}while((t=i[0])&&t.id===e&&i.shift());if(this._active=!1,r){for(;(t=i[0])&&t.id===e&&i.shift();)t.unsubscribe();throw r}}}(class SV extends RR.o{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,i=0){return null!==i&&i>0?super.requestAsyncId(t,e,i):(t.actions.push(this),t._scheduled||(t._scheduled=$w.requestAnimationFrame(()=>t.flush(void 0))))}recycleAsyncId(t,e,i=0){if(null!=i&&i>0||null==i&&this.delay>0)return super.recycleAsyncId(t,e,i);t.actions.some(r=>r.id===e)||($w.cancelAnimationFrame(e),t._scheduled=void 0)}});let jM,kV=1;const ZA={};function PR(n){return n in ZA&&(delete ZA[n],!0)}const RV={setImmediate(n){const t=kV++;return ZA[t]=!0,jM||(jM=Promise.resolve()),jM.then(()=>PR(t)&&n()),t},clearImmediate(n){PR(n)}},{setImmediate:OV,clearImmediate:PV}=RV,WA={setImmediate(...n){const{delegate:t}=WA;return((null==t?void 0:t.setImmediate)||OV)(...n)},clearImmediate(n){const{delegate:t}=WA;return((null==t?void 0:t.clearImmediate)||PV)(n)},delegate:void 0};new class FV extends OR.v{flush(t){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;t=t||i.shift();do{if(r=t.execute(t.state,t.delay))break}while((t=i[0])&&t.id===e&&i.shift());if(this._active=!1,r){for(;(t=i[0])&&t.id===e&&i.shift();)t.unsubscribe();throw r}}}(class NV extends RR.o{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,i=0){return null!==i&&i>0?super.requestAsyncId(t,e,i):(t.actions.push(this),t._scheduled||(t._scheduled=WA.setImmediate(t.flush.bind(t,void 0))))}recycleAsyncId(t,e,i=0){if(null!=i&&i>0||null==i&&this.delay>0)return super.recycleAsyncId(t,e,i);t.actions.some(r=>r.id===e)||(WA.clearImmediate(e),t._scheduled=void 0)}});var BV=R(3532);function NR(n=0,t,e=Uw.P){let i=-1;return null!=t&&((0,BV.K)(t)?e=t:i=t),new Xn.y(r=>{let o=function UV(n){return n instanceof Date&&!isNaN(n)}(n)?+n-e.now():n;o<0&&(o=0);let u=0;return e.schedule(function(){r.closed||(r.next(u++),0<=i?this.schedule(void 0,i):r.complete())},o)})}function FR(n,t=Uw.z){return function VV(n){return(0,fi.e)((t,e)=>{let i=!1,r=null,o=null,u=!1;const h=()=>{if(null==o||o.unsubscribe(),o=null,i){i=!1;const b=r;r=null,e.next(b)}u&&e.complete()},_=()=>{o=null,u&&e.complete()};t.subscribe((0,On.x)(e,b=>{i=!0,r=b,o||(0,Ys.Xf)(n(b)).subscribe(o=(0,On.x)(e,h,_))},()=>{u=!0,(!i||!o||o.closed)&&e.complete()}))})}(()=>NR(n,t))}let HM;try{HM="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(n){HM=!1}let Vy,Yr=(()=>{class n{constructor(e){this._platformId=e,this.isBrowser=this._platformId?function rr(n){return n===Ao}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!HM)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(s.Lbi))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),jV=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({}),n})();const LR=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function VR(){if(Vy)return Vy;if("object"!=typeof document||!document)return Vy=new Set(LR),Vy;let n=document.createElement("input");return Vy=new Set(LR.filter(t=>(n.setAttribute("type",t),n.type===t))),Vy}let Gw,Km,zM;function KA(n){return function HV(){if(null==Gw&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Gw=!0}))}finally{Gw=Gw||!1}return Gw}()?n:!!n.capture}function zV(){if(null==Km){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return Km=!1,Km;if("scrollBehavior"in document.documentElement.style)Km=!0;else{const n=Element.prototype.scrollTo;Km=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return Km}function BR(n){if(function $V(){if(null==zM){const n="undefined"!=typeof document?document.head:null;zM=!(!n||!n.createShadowRoot&&!n.attachShadow)}return zM}()){const t=n.getRootNode?n.getRootNode():null;if("undefined"!=typeof ShadowRoot&&ShadowRoot&&t instanceof ShadowRoot)return t}return null}function qw(){let n="undefined"!=typeof document&&document?document.activeElement:null;for(;n&&n.shadowRoot;){const t=n.shadowRoot.activeElement;if(t===n)break;n=t}return n}function Qm(n){return n.composedPath?n.composedPath()[0]:n.target}function $M(){return"undefined"!=typeof __karma__&&!!__karma__||"undefined"!=typeof jasmine&&!!jasmine||"undefined"!=typeof jest&&!!jest||"undefined"!=typeof Mocha&&!!Mocha}const GV=new s.OlP("cdk-dir-doc",{providedIn:"root",factory:function qV(){return(0,s.f3M)(H)}}),YV=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let Mf=(()=>{class n{constructor(e){if(this.value="ltr",this.change=new s.vpe,e){const r=e.documentElement?e.documentElement.dir:null;this.value=function ZV(n){const t=(null==n?void 0:n.toLowerCase())||"";return"auto"===t&&"undefined"!=typeof navigator&&(null==navigator?void 0:navigator.language)?YV.test(navigator.language)?"rtl":"ltr":"rtl"===t?"rtl":"ltr"}((e.body?e.body.dir:null)||r||"ltr")}}ngOnDestroy(){this.change.complete()}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(GV,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Yw=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({}),n})(),KV=(()=>{class n{constructor(e,i,r){this._ngZone=e,this._platform=i,this._scrolled=new dt.x,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=r}register(e){this.scrollContainers.has(e)||this.scrollContainers.set(e,e.elementScrolled().subscribe(()=>this._scrolled.next(e)))}deregister(e){const i=this.scrollContainers.get(e);i&&(i.unsubscribe(),this.scrollContainers.delete(e))}scrolled(e=20){return this._platform.isBrowser?new Xn.y(i=>{this._globalSubscription||this._addGlobalListener();const r=e>0?this._scrolled.pipe(FR(e)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{r.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):ot()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((e,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(e,i){const r=this.getAncestorScrollContainers(e);return this.scrolled(i).pipe(Ci(o=>!o||r.indexOf(o)>-1))}getAncestorScrollContainers(e){const i=[];return this.scrollContainers.forEach((r,o)=>{this._scrollableContainsElement(o,e)&&i.push(o)}),i}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(e,i){let r=wd(i),o=e.getElementRef().nativeElement;do{if(r==o)return!0}while(r=r.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>YA(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(s.R0b),s.LFG(Yr),s.LFG(H,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),GM=(()=>{class n{constructor(e,i,r){this._platform=e,this._change=new dt.x,this._changeListener=o=>{this._change.next(o)},this._document=r,i.runOutsideAngular(()=>{if(e.isBrowser){const o=this._getWindow();o.addEventListener("resize",this._changeListener),o.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const e=this._getWindow();e.removeEventListener("resize",this._changeListener),e.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){const e=this.getViewportScrollPosition(),{width:i,height:r}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+r,right:e.left+i,height:r,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const e=this._document,i=this._getWindow(),r=e.documentElement,o=r.getBoundingClientRect();return{top:-o.top||e.body.scrollTop||i.scrollY||r.scrollTop||0,left:-o.left||e.body.scrollLeft||i.scrollX||r.scrollLeft||0}}change(e=20){return e>0?this._change.pipe(FR(e)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Yr),s.LFG(s.R0b),s.LFG(H,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),qM=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({}),n})(),UR=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[Yw,qM],Yw,qM]}),n})();class YM{attach(t){return this._attachedHost=t,t.attach(this)}detach(){let t=this._attachedHost;null!=t&&(this._attachedHost=null,t.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(t){this._attachedHost=t}}class Jm extends YM{constructor(t,e,i,r){super(),this.component=t,this.viewContainerRef=e,this.injector=i,this.componentFactoryResolver=r}}class ZM extends YM{constructor(t,e,i){super(),this.templateRef=t,this.viewContainerRef=e,this.context=i}get origin(){return this.templateRef.elementRef}attach(t,e=this.context){return this.context=e,super.attach(t)}detach(){return this.context=void 0,super.detach()}}class JV extends YM{constructor(t){super(),this.element=t instanceof s.SBq?t.nativeElement:t}}class JA{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(t){return t instanceof Jm?(this._attachedPortal=t,this.attachComponentPortal(t)):t instanceof ZM?(this._attachedPortal=t,this.attachTemplatePortal(t)):this.attachDomPortal&&t instanceof JV?(this._attachedPortal=t,this.attachDomPortal(t)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(t){this._disposeFn=t}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class XV extends JA{constructor(t,e,i,r,o){super(),this.outletElement=t,this._componentFactoryResolver=e,this._appRef=i,this._defaultInjector=r,this.attachDomPortal=u=>{const h=u.element,_=this._document.createComment("dom-portal");h.parentNode.insertBefore(_,h),this.outletElement.appendChild(h),this._attachedPortal=u,super.setDisposeFn(()=>{_.parentNode&&_.parentNode.replaceChild(h,_)})},this._document=o}attachComponentPortal(t){const i=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component);let r;return t.viewContainerRef?(r=t.viewContainerRef.createComponent(i,t.viewContainerRef.length,t.injector||t.viewContainerRef.injector),this.setDisposeFn(()=>r.destroy())):(r=i.create(t.injector||this._defaultInjector||s.zs3.NULL),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.detachView(r.hostView),r.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(r)),this._attachedPortal=t,r}attachTemplatePortal(t){let e=t.viewContainerRef,i=e.createEmbeddedView(t.templateRef,t.context);return i.rootNodes.forEach(r=>this.outletElement.appendChild(r)),i.detectChanges(),this.setDisposeFn(()=>{let r=e.indexOf(i);-1!==r&&e.remove(r)}),this._attachedPortal=t,i}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(t){return t.hostView.rootNodes[0]}}let By=(()=>{class n extends JA{constructor(e,i,r){super(),this._componentFactoryResolver=e,this._viewContainerRef=i,this._isInitialized=!1,this.attached=new s.vpe,this.attachDomPortal=o=>{const u=o.element,h=this._document.createComment("dom-portal");o.setAttachedHost(this),u.parentNode.insertBefore(h,u),this._getRootNode().appendChild(u),this._attachedPortal=o,super.setDisposeFn(()=>{h.parentNode&&h.parentNode.replaceChild(u,h)})},this._document=r}get portal(){return this._attachedPortal}set portal(e){this.hasAttached()&&!e&&!this._isInitialized||(this.hasAttached()&&super.detach(),e&&super.attach(e),this._attachedPortal=e||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedPortal=null,this._attachedRef=null}attachComponentPortal(e){e.setAttachedHost(this);const i=null!=e.viewContainerRef?e.viewContainerRef:this._viewContainerRef,o=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component),u=i.createComponent(o,i.length,e.injector||i.injector);return i!==this._viewContainerRef&&this._getRootNode().appendChild(u.hostView.rootNodes[0]),super.setDisposeFn(()=>u.destroy()),this._attachedPortal=e,this._attachedRef=u,this.attached.emit(u),u}attachTemplatePortal(e){e.setAttachedHost(this);const i=this._viewContainerRef.createEmbeddedView(e.templateRef,e.context);return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=e,this._attachedRef=i,this.attached.emit(i),i}_getRootNode(){const e=this._viewContainerRef.element.nativeElement;return e.nodeType===e.ELEMENT_NODE?e:e.parentNode}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s._Vd),s.Y36(s.s_b),s.Y36(H))},n.\u0275dir=s.lG2({type:n,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[s.qOj]}),n})(),Zw=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({}),n})();var jR=R(5032);function Xa(n){return(0,fi.e)((t,e)=>{(0,Ys.Xf)(n).subscribe((0,On.x)(e,()=>e.complete(),jR.Z)),!e.closed&&t.subscribe(e)})}const HR=zV();class eB{constructor(t,e){this._viewportRuler=t,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=e}attach(){}enable(){if(this._canBeEnabled()){const t=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=t.style.left||"",this._previousHTMLStyles.top=t.style.top||"",t.style.left=mr(-this._previousScrollPosition.left),t.style.top=mr(-this._previousScrollPosition.top),t.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const t=this._document.documentElement,i=t.style,r=this._document.body.style,o=i.scrollBehavior||"",u=r.scrollBehavior||"";this._isEnabled=!1,i.left=this._previousHTMLStyles.left,i.top=this._previousHTMLStyles.top,t.classList.remove("cdk-global-scrollblock"),HR&&(i.scrollBehavior=r.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),HR&&(i.scrollBehavior=o,r.scrollBehavior=u)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const e=this._document.body,i=this._viewportRuler.getViewportSize();return e.scrollHeight>i.height||e.scrollWidth>i.width}}class tB{constructor(t,e,i,r){this._scrollDispatcher=t,this._ngZone=e,this._viewportRuler=i,this._config=r,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(t){this._overlayRef=t}enable(){if(this._scrollSubscription)return;const t=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=t.subscribe(()=>{const e=this._viewportRuler.getViewportScrollPosition().top;Math.abs(e-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=t.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class zR{enable(){}disable(){}attach(){}}function WM(n,t){return t.some(e=>n.bottom<e.top||n.top>e.bottom||n.right<e.left||n.left>e.right)}function $R(n,t){return t.some(e=>n.top<e.top||n.bottom>e.bottom||n.left<e.left||n.right>e.right)}class nB{constructor(t,e,i,r){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=i,this._config=r,this._scrollSubscription=null}attach(t){this._overlayRef=t}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const e=this._overlayRef.overlayElement.getBoundingClientRect(),{width:i,height:r}=this._viewportRuler.getViewportSize();WM(e,[{width:i,height:r,bottom:r,right:i,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let iB=(()=>{class n{constructor(e,i,r,o){this._scrollDispatcher=e,this._viewportRuler=i,this._ngZone=r,this.noop=()=>new zR,this.close=u=>new tB(this._scrollDispatcher,this._ngZone,this._viewportRuler,u),this.block=()=>new eB(this._viewportRuler,this._document),this.reposition=u=>new nB(this._scrollDispatcher,this._viewportRuler,this._ngZone,u),this._document=o}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(KV),s.LFG(GM),s.LFG(s.R0b),s.LFG(H))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class XA{constructor(t){if(this.scrollStrategy=new zR,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,t){const e=Object.keys(t);for(const i of e)void 0!==t[i]&&(this[i]=t[i])}}}class rB{constructor(t,e){this.connectionPair=t,this.scrollableViewProperties=e}}class sB{constructor(t,e,i,r,o,u,h,_,b){this._portalOutlet=t,this._host=e,this._pane=i,this._config=r,this._ngZone=o,this._keyboardDispatcher=u,this._document=h,this._location=_,this._outsideClickDispatcher=b,this._backdropElement=null,this._backdropClick=new dt.x,this._attachments=new dt.x,this._detachments=new dt.x,this._locationChanges=qn.w0.EMPTY,this._backdropClickHandler=T=>this._backdropClick.next(T),this._backdropTransitionendHandler=T=>{this._disposeBackdrop(T.target)},this._keydownEvents=new dt.x,this._outsidePointerEvents=new dt.x,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(t){let e=this._portalOutlet.attach(t);return!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host),this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe((0,ei.q)(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),e}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const t=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),t}dispose(){var t;const e=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),null===(t=this._host)||void 0===t||t.remove(),this._previousHostParent=this._pane=this._host=null,e&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(t){t!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=t,this.hasAttached()&&(t.attach(this),this.updatePosition()))}updateSize(t){this._config=Object.assign(Object.assign({},this._config),t),this._updateElementSize()}setDirection(t){this._config=Object.assign(Object.assign({},this._config),{direction:t}),this._updateElementDirection()}addPanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!0)}removePanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!1)}getDirection(){const t=this._config.direction;return t?"string"==typeof t?t:t.value:"ltr"}updateScrollStrategy(t){t!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=t,this.hasAttached()&&(t.attach(this),t.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const t=this._pane.style;t.width=mr(this._config.width),t.height=mr(this._config.height),t.minWidth=mr(this._config.minWidth),t.minHeight=mr(this._config.minHeight),t.maxWidth=mr(this._config.maxWidth),t.maxHeight=mr(this._config.maxHeight)}_togglePointerEvents(t){this._pane.style.pointerEvents=t?"":"none"}_attachBackdrop(){const t="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),"undefined"!=typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(t)})}):this._backdropElement.classList.add(t)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const t=this._backdropElement;!t||(t.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{t.addEventListener("transitionend",this._backdropTransitionendHandler)}),t.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(t)},500)))}_toggleClasses(t,e,i){const r=qA(e||[]).filter(o=>!!o);r.length&&(i?t.classList.add(...r):t.classList.remove(...r))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const t=this._ngZone.onStable.pipe(Xa((0,Ny.T)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),t.unsubscribe())})})}_disposeScrollStrategy(){const t=this._scrollStrategy;t&&(t.disable(),t.detach&&t.detach())}_disposeBackdrop(t){t&&(t.removeEventListener("click",this._backdropClickHandler),t.removeEventListener("transitionend",this._backdropTransitionendHandler),t.remove(),this._backdropElement===t&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}let KM=(()=>{class n{constructor(e,i){this._platform=i,this._document=e}ngOnDestroy(){var e;null===(e=this._containerElement)||void 0===e||e.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const e="cdk-overlay-container";if(this._platform.isBrowser||$M()){const r=this._document.querySelectorAll(`.${e}[platform="server"], .${e}[platform="test"]`);for(let o=0;o<r.length;o++)r[o].remove()}const i=this._document.createElement("div");i.classList.add(e),$M()?i.setAttribute("platform","test"):this._platform.isBrowser||i.setAttribute("platform","server"),this._document.body.appendChild(i),this._containerElement=i}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(H),s.LFG(Yr))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const GR="cdk-overlay-connected-position-bounding-box",oB=/([A-Za-z%]+)$/;class qR{constructor(t,e,i,r,o){this._viewportRuler=e,this._document=i,this._platform=r,this._overlayContainer=o,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new dt.x,this._resizeSubscription=qn.w0.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(t)}get positions(){return this._preferredPositions}attach(t){this._validatePositions(),t.hostElement.classList.add(GR),this._overlayRef=t,this._boundingBox=t.hostElement,this._pane=t.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const t=this._originRect,e=this._overlayRect,i=this._viewportRect,r=this._containerRect,o=[];let u;for(let h of this._preferredPositions){let _=this._getOriginPoint(t,r,h),b=this._getOverlayPoint(_,e,h),T=this._getOverlayFit(b,e,i,h);if(T.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(h,_);this._canFitWithFlexibleDimensions(T,b,i)?o.push({position:h,origin:_,overlayRect:e,boundingBoxRect:this._calculateBoundingBoxRect(_,h)}):(!u||u.overlayFit.visibleArea<T.visibleArea)&&(u={overlayFit:T,overlayPoint:b,originPoint:_,position:h,overlayRect:e})}if(o.length){let h=null,_=-1;for(const b of o){const T=b.boundingBoxRect.width*b.boundingBoxRect.height*(b.position.weight||1);T>_&&(_=T,h=b)}return this._isPushed=!1,void this._applyPosition(h.position,h.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(u.position,u.originPoint);this._applyPosition(u.position,u.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&Xm(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(GR),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const t=this._lastPosition;if(t){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._getOriginPoint(this._originRect,this._containerRect,t);this._applyPosition(t,e)}else this.apply()}withScrollableContainers(t){return this._scrollables=t,this}withPositions(t){return this._preferredPositions=t,-1===t.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(t){return this._viewportMargin=t,this}withFlexibleDimensions(t=!0){return this._hasFlexibleDimensions=t,this}withGrowAfterOpen(t=!0){return this._growAfterOpen=t,this}withPush(t=!0){return this._canPush=t,this}withLockedPosition(t=!0){return this._positionLocked=t,this}setOrigin(t){return this._origin=t,this}withDefaultOffsetX(t){return this._offsetX=t,this}withDefaultOffsetY(t){return this._offsetY=t,this}withTransformOriginOn(t){return this._transformOriginSelector=t,this}_getOriginPoint(t,e,i){let r,o;if("center"==i.originX)r=t.left+t.width/2;else{const u=this._isRtl()?t.right:t.left,h=this._isRtl()?t.left:t.right;r="start"==i.originX?u:h}return e.left<0&&(r-=e.left),o="center"==i.originY?t.top+t.height/2:"top"==i.originY?t.top:t.bottom,e.top<0&&(o-=e.top),{x:r,y:o}}_getOverlayPoint(t,e,i){let r,o;return r="center"==i.overlayX?-e.width/2:"start"===i.overlayX?this._isRtl()?-e.width:0:this._isRtl()?0:-e.width,o="center"==i.overlayY?-e.height/2:"top"==i.overlayY?0:-e.height,{x:t.x+r,y:t.y+o}}_getOverlayFit(t,e,i,r){const o=ZR(e);let{x:u,y:h}=t,_=this._getOffset(r,"x"),b=this._getOffset(r,"y");_&&(u+=_),b&&(h+=b);let N=0-h,j=h+o.height-i.height,Y=this._subtractOverflows(o.width,0-u,u+o.width-i.width),fe=this._subtractOverflows(o.height,N,j),Te=Y*fe;return{visibleArea:Te,isCompletelyWithinViewport:o.width*o.height===Te,fitsInViewportVertically:fe===o.height,fitsInViewportHorizontally:Y==o.width}}_canFitWithFlexibleDimensions(t,e,i){if(this._hasFlexibleDimensions){const r=i.bottom-e.y,o=i.right-e.x,u=YR(this._overlayRef.getConfig().minHeight),h=YR(this._overlayRef.getConfig().minWidth),b=t.fitsInViewportHorizontally||null!=h&&h<=o;return(t.fitsInViewportVertically||null!=u&&u<=r)&&b}return!1}_pushOverlayOnScreen(t,e,i){if(this._previousPushAmount&&this._positionLocked)return{x:t.x+this._previousPushAmount.x,y:t.y+this._previousPushAmount.y};const r=ZR(e),o=this._viewportRect,u=Math.max(t.x+r.width-o.width,0),h=Math.max(t.y+r.height-o.height,0),_=Math.max(o.top-i.top-t.y,0),b=Math.max(o.left-i.left-t.x,0);let T=0,M=0;return T=r.width<=o.width?b||-u:t.x<this._viewportMargin?o.left-i.left-t.x:0,M=r.height<=o.height?_||-h:t.y<this._viewportMargin?o.top-i.top-t.y:0,this._previousPushAmount={x:T,y:M},{x:t.x+T,y:t.y+M}}_applyPosition(t,e){if(this._setTransformOrigin(t),this._setOverlayElementStyles(e,t),this._setBoundingBoxStyles(e,t),t.panelClass&&this._addPanelClasses(t.panelClass),this._lastPosition=t,this._positionChanges.observers.length){const i=this._getScrollVisibility(),r=new rB(t,i);this._positionChanges.next(r)}this._isInitialRender=!1}_setTransformOrigin(t){if(!this._transformOriginSelector)return;const e=this._boundingBox.querySelectorAll(this._transformOriginSelector);let i,r=t.overlayY;i="center"===t.overlayX?"center":this._isRtl()?"start"===t.overlayX?"right":"left":"start"===t.overlayX?"left":"right";for(let o=0;o<e.length;o++)e[o].style.transformOrigin=`${i} ${r}`}_calculateBoundingBoxRect(t,e){const i=this._viewportRect,r=this._isRtl();let o,u,h,T,M,N;if("top"===e.overlayY)u=t.y,o=i.height-u+this._viewportMargin;else if("bottom"===e.overlayY)h=i.height-t.y+2*this._viewportMargin,o=i.height-h+this._viewportMargin;else{const j=Math.min(i.bottom-t.y+i.top,t.y),Y=this._lastBoundingBoxSize.height;o=2*j,u=t.y-j,o>Y&&!this._isInitialRender&&!this._growAfterOpen&&(u=t.y-Y/2)}if("end"===e.overlayX&&!r||"start"===e.overlayX&&r)N=i.width-t.x+this._viewportMargin,T=t.x-this._viewportMargin;else if("start"===e.overlayX&&!r||"end"===e.overlayX&&r)M=t.x,T=i.right-t.x;else{const j=Math.min(i.right-t.x+i.left,t.x),Y=this._lastBoundingBoxSize.width;T=2*j,M=t.x-j,T>Y&&!this._isInitialRender&&!this._growAfterOpen&&(M=t.x-Y/2)}return{top:u,left:M,bottom:h,right:N,width:T,height:o}}_setBoundingBoxStyles(t,e){const i=this._calculateBoundingBoxRect(t,e);!this._isInitialRender&&!this._growAfterOpen&&(i.height=Math.min(i.height,this._lastBoundingBoxSize.height),i.width=Math.min(i.width,this._lastBoundingBoxSize.width));const r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{const o=this._overlayRef.getConfig().maxHeight,u=this._overlayRef.getConfig().maxWidth;r.height=mr(i.height),r.top=mr(i.top),r.bottom=mr(i.bottom),r.width=mr(i.width),r.left=mr(i.left),r.right=mr(i.right),r.alignItems="center"===e.overlayX?"center":"end"===e.overlayX?"flex-end":"flex-start",r.justifyContent="center"===e.overlayY?"center":"bottom"===e.overlayY?"flex-end":"flex-start",o&&(r.maxHeight=mr(o)),u&&(r.maxWidth=mr(u))}this._lastBoundingBoxSize=i,Xm(this._boundingBox.style,r)}_resetBoundingBoxStyles(){Xm(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){Xm(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(t,e){const i={},r=this._hasExactPosition(),o=this._hasFlexibleDimensions,u=this._overlayRef.getConfig();if(r){const T=this._viewportRuler.getViewportScrollPosition();Xm(i,this._getExactOverlayY(e,t,T)),Xm(i,this._getExactOverlayX(e,t,T))}else i.position="static";let h="",_=this._getOffset(e,"x"),b=this._getOffset(e,"y");_&&(h+=`translateX(${_}px) `),b&&(h+=`translateY(${b}px)`),i.transform=h.trim(),u.maxHeight&&(r?i.maxHeight=mr(u.maxHeight):o&&(i.maxHeight="")),u.maxWidth&&(r?i.maxWidth=mr(u.maxWidth):o&&(i.maxWidth="")),Xm(this._pane.style,i)}_getExactOverlayY(t,e,i){let r={top:"",bottom:""},o=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,i)),"bottom"===t.overlayY?r.bottom=this._document.documentElement.clientHeight-(o.y+this._overlayRect.height)+"px":r.top=mr(o.y),r}_getExactOverlayX(t,e,i){let u,r={left:"",right:""},o=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,i)),u=this._isRtl()?"end"===t.overlayX?"left":"right":"end"===t.overlayX?"right":"left","right"===u?r.right=this._document.documentElement.clientWidth-(o.x+this._overlayRect.width)+"px":r.left=mr(o.x),r}_getScrollVisibility(){const t=this._getOriginRect(),e=this._pane.getBoundingClientRect(),i=this._scrollables.map(r=>r.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:$R(t,i),isOriginOutsideView:WM(t,i),isOverlayClipped:$R(e,i),isOverlayOutsideView:WM(e,i)}}_subtractOverflows(t,...e){return e.reduce((i,r)=>i-Math.max(r,0),t)}_getNarrowedViewportRect(){const t=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,i=this._viewportRuler.getViewportScrollPosition();return{top:i.top+this._viewportMargin,left:i.left+this._viewportMargin,right:i.left+t-this._viewportMargin,bottom:i.top+e-this._viewportMargin,width:t-2*this._viewportMargin,height:e-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(t,e){return"x"===e?null==t.offsetX?this._offsetX:t.offsetX:null==t.offsetY?this._offsetY:t.offsetY}_validatePositions(){}_addPanelClasses(t){this._pane&&qA(t).forEach(e=>{""!==e&&-1===this._appliedPanelClasses.indexOf(e)&&(this._appliedPanelClasses.push(e),this._pane.classList.add(e))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(t=>{this._pane.classList.remove(t)}),this._appliedPanelClasses=[])}_getOriginRect(){const t=this._origin;if(t instanceof s.SBq)return t.nativeElement.getBoundingClientRect();if(t instanceof Element)return t.getBoundingClientRect();const e=t.width||0,i=t.height||0;return{top:t.y,bottom:t.y+i,left:t.x,right:t.x+e,height:i,width:e}}}function Xm(n,t){for(let e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}function YR(n){if("number"!=typeof n&&null!=n){const[t,e]=n.split(oB);return e&&"px"!==e?null:parseFloat(t)}return n||null}function ZR(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}const WR="cdk-global-overlay-wrapper";class aB{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._leftOffset="",this._rightOffset="",this._alignItems="",this._justifyContent="",this._width="",this._height=""}attach(t){const e=t.getConfig();this._overlayRef=t,this._width&&!e.width&&t.updateSize({width:this._width}),this._height&&!e.height&&t.updateSize({height:this._height}),t.hostElement.classList.add(WR),this._isDisposed=!1}top(t=""){return this._bottomOffset="",this._topOffset=t,this._alignItems="flex-start",this}left(t=""){return this._rightOffset="",this._leftOffset=t,this._justifyContent="flex-start",this}bottom(t=""){return this._topOffset="",this._bottomOffset=t,this._alignItems="flex-end",this}right(t=""){return this._leftOffset="",this._rightOffset=t,this._justifyContent="flex-end",this}width(t=""){return this._overlayRef?this._overlayRef.updateSize({width:t}):this._width=t,this}height(t=""){return this._overlayRef?this._overlayRef.updateSize({height:t}):this._height=t,this}centerHorizontally(t=""){return this.left(t),this._justifyContent="center",this}centerVertically(t=""){return this.top(t),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,i=this._overlayRef.getConfig(),{width:r,height:o,maxWidth:u,maxHeight:h}=i,_=!("100%"!==r&&"100vw"!==r||u&&"100%"!==u&&"100vw"!==u),b=!("100%"!==o&&"100vh"!==o||h&&"100%"!==h&&"100vh"!==h);t.position=this._cssPosition,t.marginLeft=_?"0":this._leftOffset,t.marginTop=b?"0":this._topOffset,t.marginBottom=this._bottomOffset,t.marginRight=this._rightOffset,_?e.justifyContent="flex-start":"center"===this._justifyContent?e.justifyContent="center":"rtl"===this._overlayRef.getConfig().direction?"flex-start"===this._justifyContent?e.justifyContent="flex-end":"flex-end"===this._justifyContent&&(e.justifyContent="flex-start"):e.justifyContent=this._justifyContent,e.alignItems=b?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement,i=e.style;e.classList.remove(WR),i.justifyContent=i.alignItems=t.marginTop=t.marginBottom=t.marginLeft=t.marginRight=t.position="",this._overlayRef=null,this._isDisposed=!0}}let lB=(()=>{class n{constructor(e,i,r,o){this._viewportRuler=e,this._document=i,this._platform=r,this._overlayContainer=o}global(){return new aB}flexibleConnectedTo(e){return new qR(e,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(GM),s.LFG(H),s.LFG(Yr),s.LFG(KM))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),KR=(()=>{class n{constructor(e){this._attachedOverlays=[],this._document=e}ngOnDestroy(){this.detach()}add(e){this.remove(e),this._attachedOverlays.push(e)}remove(e){const i=this._attachedOverlays.indexOf(e);i>-1&&this._attachedOverlays.splice(i,1),0===this._attachedOverlays.length&&this.detach()}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(H))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),cB=(()=>{class n extends KR{constructor(e,i){super(e),this._ngZone=i,this._keydownListener=r=>{const o=this._attachedOverlays;for(let u=o.length-1;u>-1;u--)if(o[u]._keydownEvents.observers.length>0){const h=o[u]._keydownEvents;this._ngZone?this._ngZone.run(()=>h.next(r)):h.next(r);break}}}add(e){super.add(e),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(H),s.LFG(s.R0b,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),uB=(()=>{class n extends KR{constructor(e,i,r){super(e),this._platform=i,this._ngZone=r,this._cursorStyleIsSet=!1,this._pointerDownListener=o=>{this._pointerDownEventTarget=Qm(o)},this._clickListener=o=>{const u=Qm(o),h="click"===o.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:u;this._pointerDownEventTarget=null;const _=this._attachedOverlays.slice();for(let b=_.length-1;b>-1;b--){const T=_[b];if(T._outsidePointerEvents.observers.length<1||!T.hasAttached())continue;if(T.overlayElement.contains(u)||T.overlayElement.contains(h))break;const M=T._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>M.next(o)):M.next(o)}}}add(e){if(super.add(e),!this._isAttached){const i=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(i)):this._addEventListeners(i),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=i.style.cursor,i.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const e=this._document.body;e.removeEventListener("pointerdown",this._pointerDownListener,!0),e.removeEventListener("click",this._clickListener,!0),e.removeEventListener("auxclick",this._clickListener,!0),e.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(e.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(e){e.addEventListener("pointerdown",this._pointerDownListener,!0),e.addEventListener("click",this._clickListener,!0),e.addEventListener("auxclick",this._clickListener,!0),e.addEventListener("contextmenu",this._clickListener,!0)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(H),s.LFG(Yr),s.LFG(s.R0b,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),dB=0,xf=(()=>{class n{constructor(e,i,r,o,u,h,_,b,T,M,N){this.scrollStrategies=e,this._overlayContainer=i,this._componentFactoryResolver=r,this._positionBuilder=o,this._keyboardDispatcher=u,this._injector=h,this._ngZone=_,this._document=b,this._directionality=T,this._location=M,this._outsideClickDispatcher=N}create(e){const i=this._createHostElement(),r=this._createPaneElement(i),o=this._createPortalOutlet(r),u=new XA(e);return u.direction=u.direction||this._directionality.value,new sB(o,i,r,u,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher)}position(){return this._positionBuilder}_createPaneElement(e){const i=this._document.createElement("div");return i.id="cdk-overlay-"+dB++,i.classList.add("cdk-overlay-pane"),e.appendChild(i),i}_createHostElement(){const e=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(e),e}_createPortalOutlet(e){return this._appRef||(this._appRef=this._injector.get(s.z2F)),new XV(e,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(iB),s.LFG(KM),s.LFG(s._Vd),s.LFG(lB),s.LFG(cB),s.LFG(s.zs3),s.LFG(s.R0b),s.LFG(H),s.LFG(Mf),s.LFG(we),s.LFG(uB))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const pB={provide:new s.OlP("cdk-connected-overlay-scroll-strategy"),deps:[xf],useFactory:function fB(n){return()=>n.scrollStrategies.reposition()}};let QM=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[xf,pB],imports:[[Yw,Zw,UR],UR]}),n})();function tT(n,...t){return t.length?t.some(e=>n[e]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}function JR(n){return Ci((t,e)=>n<=e)}function Kw(n,t=Uw.z){return(0,fi.e)((e,i)=>{let r=null,o=null,u=null;const h=()=>{if(r){r.unsubscribe(),r=null;const b=o;o=null,i.next(b)}};function _(){const b=u+n,T=t.now();if(T<b)return r=this.schedule(void 0,b-T),void i.add(r);h()}e.subscribe((0,On.x)(i,b=>{o=b,u=t.now(),r||(r=t.schedule(_,n),i.add(r))},()=>{h(),i.complete()},void 0,()=>{o=r=null}))})}let XR=(()=>{class n{create(e){return"undefined"==typeof MutationObserver?null:new MutationObserver(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),bB=(()=>{class n{constructor(e){this._mutationObserverFactory=e,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((e,i)=>this._cleanupObserver(i))}observe(e){const i=wd(e);return new Xn.y(r=>{const u=this._observeElement(i).subscribe(r);return()=>{u.unsubscribe(),this._unobserveElement(i)}})}_observeElement(e){if(this._observedElements.has(e))this._observedElements.get(e).count++;else{const i=new dt.x,r=this._mutationObserverFactory.create(o=>i.next(o));r&&r.observe(e,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(e,{observer:r,stream:i,count:1})}return this._observedElements.get(e).stream}_unobserveElement(e){this._observedElements.has(e)&&(this._observedElements.get(e).count--,this._observedElements.get(e).count||this._cleanupObserver(e))}_cleanupObserver(e){if(this._observedElements.has(e)){const{observer:i,stream:r}=this._observedElements.get(e);i&&i.disconnect(),r.complete(),this._observedElements.delete(e)}}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(XR))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),wB=(()=>{class n{constructor(e,i,r){this._contentObserver=e,this._elementRef=i,this._ngZone=r,this.event=new s.vpe,this._disabled=!1,this._currentSubscription=null}get disabled(){return this._disabled}set disabled(e){this._disabled=er(e),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(e){this._debounce=GA(e),this._subscribe()}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const e=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?e.pipe(Kw(this.debounce)):e).subscribe(this.event)})}_unsubscribe(){var e;null===(e=this._currentSubscription)||void 0===e||e.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(bB),s.Y36(s.SBq),s.Y36(s.R0b))},n.\u0275dir=s.lG2({type:n,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),n})(),eO=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[XR]}),n})(),iO=(()=>{class n{constructor(e){this._platform=e}isDisabled(e){return e.hasAttribute("disabled")}isVisible(e){return function AB(n){return!!(n.offsetWidth||n.offsetHeight||"function"==typeof n.getClientRects&&n.getClientRects().length)}(e)&&"visible"===getComputedStyle(e).visibility}isTabbable(e){if(!this._platform.isBrowser)return!1;const i=function DB(n){try{return n.frameElement}catch(t){return null}}(function OB(n){return n.ownerDocument&&n.ownerDocument.defaultView||window}(e));if(i&&(-1===sO(i)||!this.isVisible(i)))return!1;let r=e.nodeName.toLowerCase(),o=sO(e);return e.hasAttribute("contenteditable")?-1!==o:!("iframe"===r||"object"===r||this._platform.WEBKIT&&this._platform.IOS&&!function kB(n){let t=n.nodeName.toLowerCase(),e="input"===t&&n.type;return"text"===e||"password"===e||"select"===t||"textarea"===t}(e))&&("audio"===r?!!e.hasAttribute("controls")&&-1!==o:"video"===r?-1!==o&&(null!==o||this._platform.FIREFOX||e.hasAttribute("controls")):e.tabIndex>=0)}isFocusable(e,i){return function RB(n){return!function IB(n){return function MB(n){return"input"==n.nodeName.toLowerCase()}(n)&&"hidden"==n.type}(n)&&(function TB(n){let t=n.nodeName.toLowerCase();return"input"===t||"select"===t||"button"===t||"textarea"===t}(n)||function SB(n){return function xB(n){return"a"==n.nodeName.toLowerCase()}(n)&&n.hasAttribute("href")}(n)||n.hasAttribute("contenteditable")||rO(n))}(e)&&!this.isDisabled(e)&&((null==i?void 0:i.ignoreVisibility)||this.isVisible(e))}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Yr))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function rO(n){if(!n.hasAttribute("tabindex")||void 0===n.tabIndex)return!1;let t=n.getAttribute("tabindex");return!(!t||isNaN(parseInt(t,10)))}function sO(n){if(!rO(n))return null;const t=parseInt(n.getAttribute("tabindex")||"",10);return isNaN(t)?-1:t}class PB{constructor(t,e,i,r,o=!1){this._element=t,this._checker=e,this._ngZone=i,this._document=r,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,o||this.attachAnchors()}get enabled(){return this._enabled}set enabled(t){this._enabled=t,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}destroy(){const t=this._startAnchor,e=this._endAnchor;t&&(t.removeEventListener("focus",this.startAnchorListener),t.remove()),e&&(e.removeEventListener("focus",this.endAnchorListener),e.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusInitialElement(t)))})}focusFirstTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusFirstTabbableElement(t)))})}focusLastTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusLastTabbableElement(t)))})}_getRegionBoundary(t){const e=this._element.querySelectorAll(`[cdk-focus-region-${t}], [cdkFocusRegion${t}], [cdk-focus-${t}]`);return"start"==t?e.length?e[0]:this._getFirstTabbableElement(this._element):e.length?e[e.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(t){const e=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(e){if(!this._checker.isFocusable(e)){const i=this._getFirstTabbableElement(e);return null==i||i.focus(t),!!i}return e.focus(t),!0}return this.focusFirstTabbableElement(t)}focusFirstTabbableElement(t){const e=this._getRegionBoundary("start");return e&&e.focus(t),!!e}focusLastTabbableElement(t){const e=this._getRegionBoundary("end");return e&&e.focus(t),!!e}hasAttached(){return this._hasAttached}_getFirstTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;const e=t.children;for(let i=0;i<e.length;i++){const r=e[i].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(e[i]):null;if(r)return r}return null}_getLastTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;const e=t.children;for(let i=e.length-1;i>=0;i--){const r=e[i].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(e[i]):null;if(r)return r}return null}_createAnchor(){const t=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,t),t.classList.add("cdk-visually-hidden"),t.classList.add("cdk-focus-trap-anchor"),t.setAttribute("aria-hidden","true"),t}_toggleAnchorTabIndex(t,e){t?e.setAttribute("tabindex","0"):e.removeAttribute("tabindex")}toggleAnchors(t){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}_executeOnStable(t){this._ngZone.isStable?t():this._ngZone.onStable.pipe((0,ei.q)(1)).subscribe(t)}}let oO=(()=>{class n{constructor(e,i,r){this._checker=e,this._ngZone=i,this._document=r}create(e,i=!1){return new PB(e,this._checker,this._ngZone,this._document,i)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(iO),s.LFG(s.R0b),s.LFG(H))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),NB=(()=>{class n{constructor(e,i,r){this._elementRef=e,this._focusTrapFactory=i,this._previouslyFocusedElement=null,this.focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement,!0)}get enabled(){return this.focusTrap.enabled}set enabled(e){this.focusTrap.enabled=er(e)}get autoCapture(){return this._autoCapture}set autoCapture(e){this._autoCapture=er(e)}ngOnDestroy(){this.focusTrap.destroy(),this._previouslyFocusedElement&&(this._previouslyFocusedElement.focus(),this._previouslyFocusedElement=null)}ngAfterContentInit(){this.focusTrap.attachAnchors(),this.autoCapture&&this._captureFocus()}ngDoCheck(){this.focusTrap.hasAttached()||this.focusTrap.attachAnchors()}ngOnChanges(e){const i=e.autoCapture;i&&!i.firstChange&&this.autoCapture&&this.focusTrap.hasAttached()&&this._captureFocus()}_captureFocus(){this._previouslyFocusedElement=qw(),this.focusTrap.focusInitialElementWhenReady()}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(oO),s.Y36(H))},n.\u0275dir=s.lG2({type:n,selectors:[["","cdkTrapFocus",""]],inputs:{enabled:["cdkTrapFocus","enabled"],autoCapture:["cdkTrapFocusAutoCapture","autoCapture"]},exportAs:["cdkTrapFocus"],features:[s.TTD]}),n})();function aO(n){return 0===n.buttons||0===n.offsetX&&0===n.offsetY}function lO(n){const t=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!t||-1!==t.identifier||null!=t.radiusX&&1!==t.radiusX||null!=t.radiusY&&1!==t.radiusY)}const FB=new s.OlP("cdk-input-modality-detector-options"),LB={ignoreKeys:[18,17,224,91,16]},Hy=KA({passive:!0,capture:!0});let VB=(()=>{class n{constructor(e,i,r,o){this._platform=e,this._mostRecentTarget=null,this._modality=new sr(null),this._lastTouchMs=0,this._onKeydown=u=>{var h,_;(null===(_=null===(h=this._options)||void 0===h?void 0:h.ignoreKeys)||void 0===_?void 0:_.some(b=>b===u.keyCode))||(this._modality.next("keyboard"),this._mostRecentTarget=Qm(u))},this._onMousedown=u=>{Date.now()-this._lastTouchMs<650||(this._modality.next(aO(u)?"keyboard":"mouse"),this._mostRecentTarget=Qm(u))},this._onTouchstart=u=>{lO(u)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=Qm(u))},this._options=Object.assign(Object.assign({},LB),o),this.modalityDetected=this._modality.pipe(JR(1)),this.modalityChanged=this.modalityDetected.pipe(jA()),e.isBrowser&&i.runOutsideAngular(()=>{r.addEventListener("keydown",this._onKeydown,Hy),r.addEventListener("mousedown",this._onMousedown,Hy),r.addEventListener("touchstart",this._onTouchstart,Hy)})}get mostRecentModality(){return this._modality.value}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,Hy),document.removeEventListener("mousedown",this._onMousedown,Hy),document.removeEventListener("touchstart",this._onTouchstart,Hy))}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Yr),s.LFG(s.R0b),s.LFG(H),s.LFG(FB,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const BB=new s.OlP("liveAnnouncerElement",{providedIn:"root",factory:function UB(){return null}}),jB=new s.OlP("LIVE_ANNOUNCER_DEFAULT_OPTIONS");let uO=(()=>{class n{constructor(e,i,r,o){this._ngZone=i,this._defaultOptions=o,this._document=r,this._liveElement=e||this._createLiveElement()}announce(e,...i){const r=this._defaultOptions;let o,u;return 1===i.length&&"number"==typeof i[0]?u=i[0]:[o,u]=i,this.clear(),clearTimeout(this._previousTimeout),o||(o=r&&r.politeness?r.politeness:"polite"),null==u&&r&&(u=r.duration),this._liveElement.setAttribute("aria-live",o),this._ngZone.runOutsideAngular(()=>(this._currentPromise||(this._currentPromise=new Promise(h=>this._currentResolve=h)),clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=e,"number"==typeof u&&(this._previousTimeout=setTimeout(()=>this.clear(),u)),this._currentResolve(),this._currentPromise=this._currentResolve=void 0},100),this._currentPromise))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){var e,i;clearTimeout(this._previousTimeout),null===(e=this._liveElement)||void 0===e||e.remove(),this._liveElement=null,null===(i=this._currentResolve)||void 0===i||i.call(this),this._currentPromise=this._currentResolve=void 0}_createLiveElement(){const e="cdk-live-announcer-element",i=this._document.getElementsByClassName(e),r=this._document.createElement("div");for(let o=0;o<i.length;o++)i[o].remove();return r.classList.add(e),r.classList.add("cdk-visually-hidden"),r.setAttribute("aria-atomic","true"),r.setAttribute("aria-live","polite"),this._document.body.appendChild(r),r}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(BB,8),s.LFG(s.R0b),s.LFG(H),s.LFG(jB,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const HB=new s.OlP("cdk-focus-monitor-default-options"),nT=KA({passive:!0,capture:!0});let iT=(()=>{class n{constructor(e,i,r,o,u){this._ngZone=e,this._platform=i,this._inputModalityDetector=r,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new dt.x,this._rootNodeFocusAndBlurListener=h=>{const _=Qm(h),b="focus"===h.type?this._onFocus:this._onBlur;for(let T=_;T;T=T.parentElement)b.call(this,h,T)},this._document=o,this._detectionMode=(null==u?void 0:u.detectionMode)||0}monitor(e,i=!1){const r=wd(e);if(!this._platform.isBrowser||1!==r.nodeType)return ot(null);const o=BR(r)||this._getDocument(),u=this._elementInfo.get(r);if(u)return i&&(u.checkChildren=!0),u.subject;const h={checkChildren:i,subject:new dt.x,rootNode:o};return this._elementInfo.set(r,h),this._registerGlobalListeners(h),h.subject}stopMonitoring(e){const i=wd(e),r=this._elementInfo.get(i);r&&(r.subject.complete(),this._setClasses(i),this._elementInfo.delete(i),this._removeGlobalListeners(r))}focusVia(e,i,r){const o=wd(e);o===this._getDocument().activeElement?this._getClosestElementsInfo(o).forEach(([h,_])=>this._originChanged(h,i,_)):(this._setOrigin(i),"function"==typeof o.focus&&o.focus(r))}ngOnDestroy(){this._elementInfo.forEach((e,i)=>this.stopMonitoring(i))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(e){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(e)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:"program"}_shouldBeAttributedToTouch(e){return 1===this._detectionMode||!!(null==e?void 0:e.contains(this._inputModalityDetector._mostRecentTarget))}_setClasses(e,i){e.classList.toggle("cdk-focused",!!i),e.classList.toggle("cdk-touch-focused","touch"===i),e.classList.toggle("cdk-keyboard-focused","keyboard"===i),e.classList.toggle("cdk-mouse-focused","mouse"===i),e.classList.toggle("cdk-program-focused","program"===i)}_setOrigin(e,i=!1){this._ngZone.runOutsideAngular(()=>{this._origin=e,this._originFromTouchInteraction="touch"===e&&i,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(e,i){const r=this._elementInfo.get(i),o=Qm(e);!r||!r.checkChildren&&i!==o||this._originChanged(i,this._getFocusOrigin(o),r)}_onBlur(e,i){const r=this._elementInfo.get(i);!r||r.checkChildren&&e.relatedTarget instanceof Node&&i.contains(e.relatedTarget)||(this._setClasses(i),this._emitOrigin(r.subject,null))}_emitOrigin(e,i){this._ngZone.run(()=>e.next(i))}_registerGlobalListeners(e){if(!this._platform.isBrowser)return;const i=e.rootNode,r=this._rootNodeFocusListenerCount.get(i)||0;r||this._ngZone.runOutsideAngular(()=>{i.addEventListener("focus",this._rootNodeFocusAndBlurListener,nT),i.addEventListener("blur",this._rootNodeFocusAndBlurListener,nT)}),this._rootNodeFocusListenerCount.set(i,r+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(Xa(this._stopInputModalityDetector)).subscribe(o=>{this._setOrigin(o,!0)}))}_removeGlobalListeners(e){const i=e.rootNode;if(this._rootNodeFocusListenerCount.has(i)){const r=this._rootNodeFocusListenerCount.get(i);r>1?this._rootNodeFocusListenerCount.set(i,r-1):(i.removeEventListener("focus",this._rootNodeFocusAndBlurListener,nT),i.removeEventListener("blur",this._rootNodeFocusAndBlurListener,nT),this._rootNodeFocusListenerCount.delete(i))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(e,i,r){this._setClasses(e,i),this._emitOrigin(r.subject,i),this._lastFocusOrigin=i}_getClosestElementsInfo(e){const i=[];return this._elementInfo.forEach((r,o)=>{(o===e||r.checkChildren&&o.contains(e))&&i.push([o,r])}),i}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(s.R0b),s.LFG(Yr),s.LFG(VB),s.LFG(H,8),s.LFG(HB,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),zB=(()=>{class n{constructor(e,i){this._elementRef=e,this._focusMonitor=i,this.cdkFocusChange=new s.vpe}ngAfterViewInit(){const e=this._elementRef.nativeElement;this._monitorSubscription=this._focusMonitor.monitor(e,1===e.nodeType&&e.hasAttribute("cdkMonitorSubtreeFocus")).subscribe(i=>this.cdkFocusChange.emit(i))}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._monitorSubscription&&this._monitorSubscription.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(iT))},n.\u0275dir=s.lG2({type:n,selectors:[["","cdkMonitorElementFocus",""],["","cdkMonitorSubtreeFocus",""]],outputs:{cdkFocusChange:"cdkFocusChange"}}),n})();const dO="cdk-high-contrast-black-on-white",hO="cdk-high-contrast-white-on-black",sx="cdk-high-contrast-active";let fO=(()=>{class n{constructor(e,i){this._platform=e,this._document=i}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const e=this._document.createElement("div");e.style.backgroundColor="rgb(1,2,3)",e.style.position="absolute",this._document.body.appendChild(e);const i=this._document.defaultView||window,r=i&&i.getComputedStyle?i.getComputedStyle(e):null,o=(r&&r.backgroundColor||"").replace(/ /g,"");switch(e.remove(),o){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const e=this._document.body.classList;e.remove(sx),e.remove(dO),e.remove(hO),this._hasCheckedHighContrastMode=!0;const i=this.getHighContrastMode();1===i?(e.add(sx),e.add(dO)):2===i&&(e.add(sx),e.add(hO))}}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Yr),s.LFG(H))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),$B=(()=>{class n{constructor(e){e._applyBodyHighContrastModeCssClasses()}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(fO))},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[eO]]}),n})();class pO{}const Cd="*";function Qw(n,t){return{type:7,name:n,definitions:t,options:{}}}function Ed(n,t=null){return{type:4,styles:t,timings:n}}function mO(n,t=null){return{type:3,steps:n,options:t}}function gO(n,t=null){return{type:2,steps:n,options:t}}function Zr(n){return{type:6,styles:n,offset:null}}function eg(n,t,e){return{type:0,name:n,styles:t,options:e}}function _O(n){return{type:5,steps:n}}function Dd(n,t,e=null){return{type:1,expr:n,animation:t,options:e}}function yO(n=null){return{type:9,options:n}}function vO(n,t,e=null){return{type:11,selector:n,animation:t,options:e}}function bO(n){Promise.resolve(null).then(n)}class Jw{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){bO(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class wO{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,i=0,r=0;const o=this.players.length;0==o?bO(()=>this._onFinish()):this.players.forEach(u=>{u.onDone(()=>{++e==o&&this._onFinish()}),u.onDestroy(()=>{++i==o&&this._onDestroy()}),u.onStart(()=>{++r==o&&this._onStart()})}),this.totalTime=this.players.reduce((u,h)=>Math.max(u,h.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(i=>{const r=i.totalTime?Math.min(1,e/i.totalTime):1;i.setPosition(r)})}getPosition(){const t=this.players.reduce((e,i)=>null===e||i.totalTime>e.totalTime?i:e,null);return null!=t?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}const gn=!1;function CO(n){return new s.vHH(3e3,gn)}function T3(){return"undefined"!=typeof window&&void 0!==window.document}function ax(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function kf(n){switch(n.length){case 0:return new Jw;case 1:return n[0];default:return new wO(n)}}function EO(n,t,e,i,r={},o={}){const u=[],h=[];let _=-1,b=null;if(i.forEach(T=>{const M=T.offset,N=M==_,j=N&&b||{};Object.keys(T).forEach(Y=>{let fe=Y,Te=T[Y];if("offset"!==Y)switch(fe=t.normalizePropertyName(fe,u),Te){case"!":Te=r[Y];break;case Cd:Te=o[Y];break;default:Te=t.normalizeStyleValue(Y,fe,Te,u)}j[fe]=Te}),N||h.push(j),b=j,_=M}),u.length)throw function m3(n){return new s.vHH(3502,gn)}();return h}function lx(n,t,e,i){switch(t){case"start":n.onStart(()=>i(e&&cx(e,"start",n)));break;case"done":n.onDone(()=>i(e&&cx(e,"done",n)));break;case"destroy":n.onDestroy(()=>i(e&&cx(e,"destroy",n)))}}function cx(n,t,e){const i=e.totalTime,o=ux(n.element,n.triggerName,n.fromState,n.toState,t||n.phaseName,null==i?n.totalTime:i,!!e.disabled),u=n._data;return null!=u&&(o._data=u),o}function ux(n,t,e,i,r="",o=0,u){return{element:n,triggerName:t,fromState:e,toState:i,phaseName:r,totalTime:o,disabled:!!u}}function Aa(n,t,e){let i;return n instanceof Map?(i=n.get(t),i||n.set(t,i=e)):(i=n[t],i||(i=n[t]=e)),i}function DO(n){const t=n.indexOf(":");return[n.substring(1,t),n.substr(t+1)]}let dx=(n,t)=>!1,AO=(n,t,e)=>[],TO=null;function hx(n){const t=n.parentNode||n.host;return t===TO?null:t}(ax()||"undefined"!=typeof Element)&&(T3()?(TO=(()=>document.documentElement)(),dx=(n,t)=>{for(;t;){if(t===n)return!0;t=hx(t)}return!1}):dx=(n,t)=>n.contains(t),AO=(n,t,e)=>{if(e)return Array.from(n.querySelectorAll(t));const i=n.querySelector(t);return i?[i]:[]});let tg=null,IO=!1;function SO(n){tg||(tg=function S3(){return"undefined"!=typeof document?document.body:null}()||{},IO=!!tg.style&&"WebkitAppearance"in tg.style);let t=!0;return tg.style&&!function I3(n){return"ebkit"==n.substring(1,6)}(n)&&(t=n in tg.style,!t&&IO&&(t="Webkit"+n.charAt(0).toUpperCase()+n.substr(1)in tg.style)),t}const MO=dx,xO=AO;let kO=(()=>{class n{validateStyleProperty(e){return SO(e)}matchesElement(e,i){return!1}containsElement(e,i){return MO(e,i)}getParentElement(e){return hx(e)}query(e,i,r){return xO(e,i,r)}computeStyle(e,i,r){return r||""}animate(e,i,r,o,u,h=[],_){return new Jw(r,o)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),fx=(()=>{class n{}return n.NOOP=new kO,n})();const px="ng-enter",sT="ng-leave",oT="ng-trigger",aT=".ng-trigger",OO="ng-animating",mx=".ng-animating";function ng(n){if("number"==typeof n)return n;const t=n.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:gx(parseFloat(t[1]),t[2])}function gx(n,t){return"s"===t?1e3*n:n}function lT(n,t,e){return n.hasOwnProperty("duration")?n:function k3(n,t,e){let r,o=0,u="";if("string"==typeof n){const h=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===h)return t.push(CO()),{duration:0,delay:0,easing:""};r=gx(parseFloat(h[1]),h[2]);const _=h[3];null!=_&&(o=gx(parseFloat(_),h[4]));const b=h[5];b&&(u=b)}else r=n;if(!e){let h=!1,_=t.length;r<0&&(t.push(function qB(){return new s.vHH(3100,gn)}()),h=!0),o<0&&(t.push(function YB(){return new s.vHH(3101,gn)}()),h=!0),h&&t.splice(_,0,CO())}return{duration:r,delay:o,easing:u}}(n,t,e)}function zy(n,t={}){return Object.keys(n).forEach(e=>{t[e]=n[e]}),t}function Rf(n,t,e={}){if(t)for(let i in n)e[i]=n[i];else zy(n,e);return e}function NO(n,t,e){return e?t+":"+e+";":""}function FO(n){let t="";for(let e=0;e<n.style.length;e++){const i=n.style.item(e);t+=NO(0,i,n.style.getPropertyValue(i))}for(const e in n.style)n.style.hasOwnProperty(e)&&!e.startsWith("_")&&(t+=NO(0,P3(e),n.style[e]));n.setAttribute("style",t)}function $c(n,t,e){n.style&&(Object.keys(t).forEach(i=>{const r=yx(i);e&&!e.hasOwnProperty(i)&&(e[i]=n.style[r]),n.style[r]=t[i]}),ax()&&FO(n))}function ig(n,t){n.style&&(Object.keys(t).forEach(e=>{const i=yx(e);n.style[i]=""}),ax()&&FO(n))}function Xw(n){return Array.isArray(n)?1==n.length?n[0]:gO(n):n}const _x=new RegExp("{{\\s*(.+?)\\s*}}","g");function LO(n){let t=[];if("string"==typeof n){let e;for(;e=_x.exec(n);)t.push(e[1]);_x.lastIndex=0}return t}function cT(n,t,e){const i=n.toString(),r=i.replace(_x,(o,u)=>{let h=t[u];return t.hasOwnProperty(u)||(e.push(function WB(n){return new s.vHH(3003,gn)}()),h=""),h.toString()});return r==i?n:r}function uT(n){const t=[];let e=n.next();for(;!e.done;)t.push(e.value),e=n.next();return t}const O3=/-+([a-z0-9])/g;function yx(n){return n.replace(O3,(...t)=>t[1].toUpperCase())}function P3(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function Ta(n,t,e){switch(t.type){case 7:return n.visitTrigger(t,e);case 0:return n.visitState(t,e);case 1:return n.visitTransition(t,e);case 2:return n.visitSequence(t,e);case 3:return n.visitGroup(t,e);case 4:return n.visitAnimate(t,e);case 5:return n.visitKeyframes(t,e);case 6:return n.visitStyle(t,e);case 8:return n.visitReference(t,e);case 9:return n.visitAnimateChild(t,e);case 10:return n.visitAnimateRef(t,e);case 11:return n.visitQuery(t,e);case 12:return n.visitStagger(t,e);default:throw function KB(n){return new s.vHH(3004,gn)}()}}function VO(n,t){return window.getComputedStyle(n)[t]}function U3(n,t){const e=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(i=>function j3(n,t,e){if(":"==n[0]){const _=function H3(n,t){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,i)=>parseFloat(i)>parseFloat(e);case":decrement":return(e,i)=>parseFloat(i)<parseFloat(e);default:return t.push(function d3(n){return new s.vHH(3016,gn)}()),"* => *"}}(n,e);if("function"==typeof _)return void t.push(_);n=_}const i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return e.push(function u3(n){return new s.vHH(3015,gn)}()),t;const r=i[1],o=i[2],u=i[3];t.push(BO(r,u));"<"==o[0]&&!("*"==r&&"*"==u)&&t.push(BO(u,r))}(i,e,t)):e.push(n),e}const pT=new Set(["true","1"]),mT=new Set(["false","0"]);function BO(n,t){const e=pT.has(n)||mT.has(n),i=pT.has(t)||mT.has(t);return(r,o)=>{let u="*"==n||n==r,h="*"==t||t==o;return!u&&e&&"boolean"==typeof r&&(u=r?pT.has(n):mT.has(n)),!h&&i&&"boolean"==typeof o&&(h=o?pT.has(t):mT.has(t)),u&&h}}const z3=new RegExp("s*:selfs*,?","g");function vx(n,t,e,i){return new $3(n).build(t,e,i)}class $3{constructor(t){this._driver=t}build(t,e,i){const r=new Y3(e);this._resetContextStyleTimingState(r);const o=Ta(this,Xw(t),r);return r.unsupportedCSSPropertiesFound.size&&r.unsupportedCSSPropertiesFound.keys(),o}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles={},t.collectedStyles[""]={},t.currentTime=0}visitTrigger(t,e){let i=e.queryCount=0,r=e.depCount=0;const o=[],u=[];return"@"==t.name.charAt(0)&&e.errors.push(function JB(){return new s.vHH(3006,gn)}()),t.definitions.forEach(h=>{if(this._resetContextStyleTimingState(e),0==h.type){const _=h,b=_.name;b.toString().split(/\s*,\s*/).forEach(T=>{_.name=T,o.push(this.visitState(_,e))}),_.name=b}else if(1==h.type){const _=this.visitTransition(h,e);i+=_.queryCount,r+=_.depCount,u.push(_)}else e.errors.push(function XB(){return new s.vHH(3007,gn)}())}),{type:7,name:t.name,states:o,transitions:u,queryCount:i,depCount:r,options:null}}visitState(t,e){const i=this.visitStyle(t.styles,e),r=t.options&&t.options.params||null;if(i.containsDynamicStyles){const o=new Set,u=r||{};i.styles.forEach(h=>{if(gT(h)){const _=h;Object.keys(_).forEach(b=>{LO(_[b]).forEach(T=>{u.hasOwnProperty(T)||o.add(T)})})}}),o.size&&(uT(o.values()),e.errors.push(function e3(n,t){return new s.vHH(3008,gn)}()))}return{type:0,name:t.name,style:i,options:r?{params:r}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const i=Ta(this,Xw(t.animation),e);return{type:1,matchers:U3(t.expr,e.errors),animation:i,queryCount:e.queryCount,depCount:e.depCount,options:rg(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(i=>Ta(this,i,e)),options:rg(t.options)}}visitGroup(t,e){const i=e.currentTime;let r=0;const o=t.steps.map(u=>{e.currentTime=i;const h=Ta(this,u,e);return r=Math.max(r,e.currentTime),h});return e.currentTime=r,{type:3,steps:o,options:rg(t.options)}}visitAnimate(t,e){const i=function W3(n,t){let e=null;if(n.hasOwnProperty("duration"))e=n;else if("number"==typeof n)return bx(lT(n,t).duration,0,"");const i=n;if(i.split(/\s+/).some(o=>"{"==o.charAt(0)&&"{"==o.charAt(1))){const o=bx(0,0,"");return o.dynamic=!0,o.strValue=i,o}return e=e||lT(i,t),bx(e.duration,e.delay,e.easing)}(t.timings,e.errors);e.currentAnimateTimings=i;let r,o=t.styles?t.styles:Zr({});if(5==o.type)r=this.visitKeyframes(o,e);else{let u=t.styles,h=!1;if(!u){h=!0;const b={};i.easing&&(b.easing=i.easing),u=Zr(b)}e.currentTime+=i.duration+i.delay;const _=this.visitStyle(u,e);_.isEmptyStep=h,r=_}return e.currentAnimateTimings=null,{type:4,timings:i,style:r,options:null}}visitStyle(t,e){const i=this._makeStyleAst(t,e);return this._validateStyleAst(i,e),i}_makeStyleAst(t,e){const i=[];Array.isArray(t.styles)?t.styles.forEach(u=>{"string"==typeof u?u==Cd?i.push(u):e.errors.push(function t3(n){return new s.vHH(3002,gn)}()):i.push(u)}):i.push(t.styles);let r=!1,o=null;return i.forEach(u=>{if(gT(u)){const h=u,_=h.easing;if(_&&(o=_,delete h.easing),!r)for(let b in h)if(h[b].toString().indexOf("{{")>=0){r=!0;break}}}),{type:6,styles:i,easing:o,offset:t.offset,containsDynamicStyles:r,options:null}}_validateStyleAst(t,e){const i=e.currentAnimateTimings;let r=e.currentTime,o=e.currentTime;i&&o>0&&(o-=i.duration+i.delay),t.styles.forEach(u=>{"string"!=typeof u&&Object.keys(u).forEach(h=>{if(!this._driver.validateStyleProperty(h))return delete u[h],void e.unsupportedCSSPropertiesFound.add(h);const _=e.collectedStyles[e.currentQuerySelector],b=_[h];let T=!0;b&&(o!=r&&o>=b.startTime&&r<=b.endTime&&(e.errors.push(function n3(n,t,e,i,r){return new s.vHH(3010,gn)}()),T=!1),o=b.startTime),T&&(_[h]={startTime:o,endTime:r}),e.options&&function R3(n,t,e){const i=t.params||{},r=LO(n);r.length&&r.forEach(o=>{i.hasOwnProperty(o)||e.push(function ZB(n){return new s.vHH(3001,gn)}())})}(u[h],e.options,e.errors)})})}visitKeyframes(t,e){const i={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push(function r3(){return new s.vHH(3011,gn)}()),i;let o=0;const u=[];let h=!1,_=!1,b=0;const T=t.steps.map(Qe=>{const qe=this._makeStyleAst(Qe,e);let ht=null!=qe.offset?qe.offset:function Z3(n){if("string"==typeof n)return null;let t=null;if(Array.isArray(n))n.forEach(e=>{if(gT(e)&&e.hasOwnProperty("offset")){const i=e;t=parseFloat(i.offset),delete i.offset}});else if(gT(n)&&n.hasOwnProperty("offset")){const e=n;t=parseFloat(e.offset),delete e.offset}return t}(qe.styles),Ye=0;return null!=ht&&(o++,Ye=qe.offset=ht),_=_||Ye<0||Ye>1,h=h||Ye<b,b=Ye,u.push(Ye),qe});_&&e.errors.push(function s3(){return new s.vHH(3012,gn)}()),h&&e.errors.push(function o3(){return new s.vHH(3200,gn)}());const M=t.steps.length;let N=0;o>0&&o<M?e.errors.push(function a3(){return new s.vHH(3202,gn)}()):0==o&&(N=1/(M-1));const j=M-1,Y=e.currentTime,fe=e.currentAnimateTimings,Te=fe.duration;return T.forEach((Qe,qe)=>{const ht=N>0?qe==j?1:N*qe:u[qe],Ye=ht*Te;e.currentTime=Y+fe.delay+Ye,fe.duration=Ye,this._validateStyleAst(Qe,e),Qe.offset=ht,i.styles.push(Qe)}),i}visitReference(t,e){return{type:8,animation:Ta(this,Xw(t.animation),e),options:rg(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:rg(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:rg(t.options)}}visitQuery(t,e){const i=e.currentQuerySelector,r=t.options||{};e.queryCount++,e.currentQuery=t;const[o,u]=function G3(n){const t=!!n.split(/\s*,\s*/).find(e=>":self"==e);return t&&(n=n.replace(z3,"")),n=n.replace(/@\*/g,aT).replace(/@\w+/g,e=>aT+"-"+e.substr(1)).replace(/:animating/g,mx),[n,t]}(t.selector);e.currentQuerySelector=i.length?i+" "+o:o,Aa(e.collectedStyles,e.currentQuerySelector,{});const h=Ta(this,Xw(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=i,{type:11,selector:o,limit:r.limit||0,optional:!!r.optional,includeSelf:u,animation:h,originalSelector:t.selector,options:rg(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push(function l3(){return new s.vHH(3013,gn)}());const i="full"===t.timings?{duration:0,delay:0,easing:"full"}:lT(t.timings,e.errors,!0);return{type:12,animation:Ta(this,Xw(t.animation),e),timings:i,options:null}}}class Y3{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function gT(n){return!Array.isArray(n)&&"object"==typeof n}function rg(n){return n?(n=zy(n)).params&&(n.params=function q3(n){return n?zy(n):null}(n.params)):n={},n}function bx(n,t,e){return{duration:n,delay:t,easing:e}}function wx(n,t,e,i,r,o,u=null,h=!1){return{type:1,element:n,keyframes:t,preStyleProps:e,postStyleProps:i,duration:r,delay:o,totalTime:r+o,easing:u,subTimeline:h}}class _T{constructor(){this._map=new Map}get(t){return this._map.get(t)||[]}append(t,e){let i=this._map.get(t);i||this._map.set(t,i=[]),i.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const J3=new RegExp(":enter","g"),eU=new RegExp(":leave","g");function Cx(n,t,e,i,r,o={},u={},h,_,b=[]){return(new tU).buildKeyframes(n,t,e,i,r,o,u,h,_,b)}class tU{buildKeyframes(t,e,i,r,o,u,h,_,b,T=[]){b=b||new _T;const M=new Ex(t,e,b,r,o,T,[]);M.options=_,M.currentTimeline.setStyles([u],null,M.errors,_),Ta(this,i,M);const N=M.timelines.filter(j=>j.containsAnimation());if(Object.keys(h).length){let j;for(let Y=N.length-1;Y>=0;Y--){const fe=N[Y];if(fe.element===e){j=fe;break}}j&&!j.allowOnlyTimelineStyles()&&j.setStyles([h],null,M.errors,_)}return N.length?N.map(j=>j.buildKeyframes()):[wx(e,[],[],[],0,0,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const i=e.subInstructions.get(e.element);if(i){const r=e.createSubContext(t.options),o=e.currentTimeline.currentTime,u=this._visitSubInstructions(i,r,r.options);o!=u&&e.transformIntoNewTimeline(u)}e.previousNode=t}visitAnimateRef(t,e){const i=e.createSubContext(t.options);i.transformIntoNewTimeline(),this.visitReference(t.animation,i),e.transformIntoNewTimeline(i.currentTimeline.currentTime),e.previousNode=t}_visitSubInstructions(t,e,i){let o=e.currentTimeline.currentTime;const u=null!=i.duration?ng(i.duration):null,h=null!=i.delay?ng(i.delay):null;return 0!==u&&t.forEach(_=>{const b=e.appendInstructionToTimeline(_,u,h);o=Math.max(o,b.duration+b.delay)}),o}visitReference(t,e){e.updateOptions(t.options,!0),Ta(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const i=e.subContextCount;let r=e;const o=t.options;if(o&&(o.params||o.delay)&&(r=e.createSubContext(o),r.transformIntoNewTimeline(),null!=o.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=yT);const u=ng(o.delay);r.delayNextStep(u)}t.steps.length&&(t.steps.forEach(u=>Ta(this,u,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const i=[];let r=e.currentTimeline.currentTime;const o=t.options&&t.options.delay?ng(t.options.delay):0;t.steps.forEach(u=>{const h=e.createSubContext(t.options);o&&h.delayNextStep(o),Ta(this,u,h),r=Math.max(r,h.currentTimeline.currentTime),i.push(h.currentTimeline)}),i.forEach(u=>e.currentTimeline.mergeTimelineCollectedStyles(u)),e.transformIntoNewTimeline(r),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const i=t.strValue;return lT(e.params?cT(i,e.params,e.errors):i,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const i=e.currentAnimateTimings=this._visitTiming(t.timings,e),r=e.currentTimeline;i.delay&&(e.incrementTime(i.delay),r.snapshotCurrentStyles());const o=t.style;5==o.type?this.visitKeyframes(o,e):(e.incrementTime(i.duration),this.visitStyle(o,e),r.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const i=e.currentTimeline,r=e.currentAnimateTimings;!r&&i.getCurrentStyleProperties().length&&i.forwardFrame();const o=r&&r.easing||t.easing;t.isEmptyStep?i.applyEmptyStep(o):i.setStyles(t.styles,o,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const i=e.currentAnimateTimings,r=e.currentTimeline.duration,o=i.duration,h=e.createSubContext().currentTimeline;h.easing=i.easing,t.styles.forEach(_=>{h.forwardTime((_.offset||0)*o),h.setStyles(_.styles,_.easing,e.errors,e.options),h.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(h),e.transformIntoNewTimeline(r+o),e.previousNode=t}visitQuery(t,e){const i=e.currentTimeline.currentTime,r=t.options||{},o=r.delay?ng(r.delay):0;o&&(6===e.previousNode.type||0==i&&e.currentTimeline.getCurrentStyleProperties().length)&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=yT);let u=i;const h=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!r.optional,e.errors);e.currentQueryTotal=h.length;let _=null;h.forEach((b,T)=>{e.currentQueryIndex=T;const M=e.createSubContext(t.options,b);o&&M.delayNextStep(o),b===e.element&&(_=M.currentTimeline),Ta(this,t.animation,M),M.currentTimeline.applyStylesToKeyframe(),u=Math.max(u,M.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(u),_&&(e.currentTimeline.mergeTimelineCollectedStyles(_),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const i=e.parentContext,r=e.currentTimeline,o=t.timings,u=Math.abs(o.duration),h=u*(e.currentQueryTotal-1);let _=u*e.currentQueryIndex;switch(o.duration<0?"reverse":o.easing){case"reverse":_=h-_;break;case"full":_=i.currentStaggerTime}const T=e.currentTimeline;_&&T.delayNextStep(_);const M=T.currentTime;Ta(this,t.animation,e),e.previousNode=t,i.currentStaggerTime=r.currentTime-M+(r.startTime-i.currentTimeline.startTime)}}const yT={};class Ex{constructor(t,e,i,r,o,u,h,_){this._driver=t,this.element=e,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=o,this.errors=u,this.timelines=h,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=yT,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=_||new vT(this._driver,e,0),h.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const i=t;let r=this.options;null!=i.duration&&(r.duration=ng(i.duration)),null!=i.delay&&(r.delay=ng(i.delay));const o=i.params;if(o){let u=r.params;u||(u=this.options.params={}),Object.keys(o).forEach(h=>{(!e||!u.hasOwnProperty(h))&&(u[h]=cT(o[h],u,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const i=t.params={};Object.keys(e).forEach(r=>{i[r]=e[r]})}}return t}createSubContext(t=null,e,i){const r=e||this.element,o=new Ex(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(t),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}transformIntoNewTimeline(t){return this.previousNode=yT,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,i){const r={duration:null!=e?e:t.duration,delay:this.currentTimeline.currentTime+(null!=i?i:0)+t.delay,easing:""},o=new nU(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,r,t.stretchStartingKeyframe);return this.timelines.push(o),r}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,i,r,o,u){let h=[];if(r&&h.push(this.element),t.length>0){t=(t=t.replace(J3,"."+this._enterClassName)).replace(eU,"."+this._leaveClassName);let b=this._driver.query(this.element,t,1!=i);0!==i&&(b=i<0?b.slice(b.length+i,b.length):b.slice(0,i)),h.push(...b)}return!o&&0==h.length&&u.push(function c3(n){return new s.vHH(3014,gn)}()),h}}class vT{constructor(t,e,i,r){this._driver=t,this.element=e,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new vT(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles[t]=e,this._globalTimelineStyles[t]=e,this._styleSummary[t]={time:this.currentTime,value:e}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&(this._previousKeyframe.easing=t),Object.keys(this._globalTimelineStyles).forEach(e=>{this._backFill[e]=this._globalTimelineStyles[e]||Cd,this._currentKeyframe[e]=Cd}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,i,r){e&&(this._previousKeyframe.easing=e);const o=r&&r.params||{},u=function iU(n,t){const e={};let i;return n.forEach(r=>{"*"===r?(i=i||Object.keys(t),i.forEach(o=>{e[o]=Cd})):Rf(r,!1,e)}),e}(t,this._globalTimelineStyles);Object.keys(u).forEach(h=>{const _=cT(u[h],o,i);this._pendingStyles[h]=_,this._localTimelineStyles.hasOwnProperty(h)||(this._backFill[h]=this._globalTimelineStyles.hasOwnProperty(h)?this._globalTimelineStyles[h]:Cd),this._updateStyle(h,_)})}applyStylesToKeyframe(){const t=this._pendingStyles,e=Object.keys(t);0!=e.length&&(this._pendingStyles={},e.forEach(i=>{this._currentKeyframe[i]=t[i]}),Object.keys(this._localTimelineStyles).forEach(i=>{this._currentKeyframe.hasOwnProperty(i)||(this._currentKeyframe[i]=this._localTimelineStyles[i])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(t=>{const e=this._localTimelineStyles[t];this._pendingStyles[t]=e,this._updateStyle(t,e)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){Object.keys(t._styleSummary).forEach(e=>{const i=this._styleSummary[e],r=t._styleSummary[e];(!i||r.time>i.time)&&this._updateStyle(e,r.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,i=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((h,_)=>{const b=Rf(h,!0);Object.keys(b).forEach(T=>{const M=b[T];"!"==M?t.add(T):M==Cd&&e.add(T)}),i||(b.offset=_/this.duration),r.push(b)});const o=t.size?uT(t.values()):[],u=e.size?uT(e.values()):[];if(i){const h=r[0],_=zy(h);h.offset=0,_.offset=1,r=[h,_]}return wx(this.element,r,o,u,this.duration,this.startTime,this.easing,!1)}}class nU extends vT{constructor(t,e,i,r,o,u,h=!1){super(t,e,u.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=o,this._stretchStartingKeyframe=h,this.timings={duration:u.duration,delay:u.delay,easing:u.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&e){const o=[],u=i+e,h=e/u,_=Rf(t[0],!1);_.offset=0,o.push(_);const b=Rf(t[0],!1);b.offset=HO(h),o.push(b);const T=t.length-1;for(let M=1;M<=T;M++){let N=Rf(t[M],!1);N.offset=HO((e+N.offset*i)/u),o.push(N)}i=u,e=0,r="",t=o}return wx(this.element,t,this.preStyleProps,this.postStyleProps,i,e,r,!0)}}function HO(n,t=3){const e=Math.pow(10,t-1);return Math.round(n*e)/e}class Dx{}class rU extends Dx{normalizePropertyName(t,e){return yx(t)}normalizeStyleValue(t,e,i,r){let o="";const u=i.toString().trim();if(sU[e]&&0!==i&&"0"!==i)if("number"==typeof i)o="px";else{const h=i.match(/^[+-]?[\d\.]+([a-z]*)$/);h&&0==h[1].length&&r.push(function QB(n,t){return new s.vHH(3005,gn)}())}return u+o}}const sU=(()=>function oU(n){const t={};return n.forEach(e=>t[e]=!0),t}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function zO(n,t,e,i,r,o,u,h,_,b,T,M,N){return{type:0,element:n,triggerName:t,isRemovalTransition:r,fromState:e,fromStyles:o,toState:i,toStyles:u,timelines:h,queriedElements:_,preStyleProps:b,postStyleProps:T,totalTime:M,errors:N}}const Ax={};class $O{constructor(t,e,i){this._triggerName=t,this.ast=e,this._stateStyles=i}match(t,e,i,r){return function aU(n,t,e,i,r){return n.some(o=>o(t,e,i,r))}(this.ast.matchers,t,e,i,r)}buildStyles(t,e,i){const r=this._stateStyles["*"],o=this._stateStyles[t],u=r?r.buildStyles(e,i):{};return o?o.buildStyles(e,i):u}build(t,e,i,r,o,u,h,_,b,T){const M=[],N=this.ast.options&&this.ast.options.params||Ax,Y=this.buildStyles(i,h&&h.params||Ax,M),fe=_&&_.params||Ax,Te=this.buildStyles(r,fe,M),Qe=new Set,qe=new Map,ht=new Map,Ye="void"===r,St={params:Object.assign(Object.assign({},N),fe)},_t=T?[]:Cx(t,e,this.ast.animation,o,u,Y,Te,St,b,M);let st=0;if(_t.forEach(_n=>{st=Math.max(_n.duration+_n.delay,st)}),M.length)return zO(e,this._triggerName,i,r,Ye,Y,Te,[],[],qe,ht,st,M);_t.forEach(_n=>{const Lt=_n.element,zt=Aa(qe,Lt,{});_n.preStyleProps.forEach(Os=>zt[Os]=!0);const Bn=Aa(ht,Lt,{});_n.postStyleProps.forEach(Os=>Bn[Os]=!0),Lt!==e&&Qe.add(Lt)});const et=uT(Qe.values());return zO(e,this._triggerName,i,r,Ye,Y,Te,_t,et,qe,ht,st)}}class lU{constructor(t,e,i){this.styles=t,this.defaultParams=e,this.normalizer=i}buildStyles(t,e){const i={},r=zy(this.defaultParams);return Object.keys(t).forEach(o=>{const u=t[o];null!=u&&(r[o]=u)}),this.styles.styles.forEach(o=>{if("string"!=typeof o){const u=o;Object.keys(u).forEach(h=>{let _=u[h];_.length>1&&(_=cT(_,r,e));const b=this.normalizer.normalizePropertyName(h,e);_=this.normalizer.normalizeStyleValue(h,b,_,e),i[b]=_})}}),i}}class uU{constructor(t,e,i){this.name=t,this.ast=e,this._normalizer=i,this.transitionFactories=[],this.states={},e.states.forEach(r=>{this.states[r.name]=new lU(r.style,r.options&&r.options.params||{},i)}),GO(this.states,"true","1"),GO(this.states,"false","0"),e.transitions.forEach(r=>{this.transitionFactories.push(new $O(t,r,this.states))}),this.fallbackTransition=function dU(n,t,e){return new $O(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(u,h)=>!0],options:null,queryCount:0,depCount:0},t)}(t,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,i,r){return this.transitionFactories.find(u=>u.match(t,e,i,r))||null}matchStyles(t,e,i){return this.fallbackTransition.buildStyles(t,e,i)}}function GO(n,t,e){n.hasOwnProperty(t)?n.hasOwnProperty(e)||(n[e]=n[t]):n.hasOwnProperty(e)&&(n[t]=n[e])}const hU=new _T;class fU{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._animations={},this._playersById={},this.players=[]}register(t,e){const i=[],o=vx(this._driver,e,i,[]);if(i.length)throw function g3(n){return new s.vHH(3503,gn)}();this._animations[t]=o}_buildPlayer(t,e,i){const r=t.element,o=EO(0,this._normalizer,0,t.keyframes,e,i);return this._driver.animate(r,o,t.duration,t.delay,t.easing,[],!0)}create(t,e,i={}){const r=[],o=this._animations[t];let u;const h=new Map;if(o?(u=Cx(this._driver,e,o,px,sT,{},{},i,hU,r),u.forEach(T=>{const M=Aa(h,T.element,{});T.postStyleProps.forEach(N=>M[N]=null)})):(r.push(function _3(){return new s.vHH(3300,gn)}()),u=[]),r.length)throw function y3(n){return new s.vHH(3504,gn)}();h.forEach((T,M)=>{Object.keys(T).forEach(N=>{T[N]=this._driver.computeStyle(M,N,Cd)})});const b=kf(u.map(T=>{const M=h.get(T.element);return this._buildPlayer(T,{},M)}));return this._playersById[t]=b,b.onDestroy(()=>this.destroy(t)),this.players.push(b),b}destroy(t){const e=this._getPlayer(t);e.destroy(),delete this._playersById[t];const i=this.players.indexOf(e);i>=0&&this.players.splice(i,1)}_getPlayer(t){const e=this._playersById[t];if(!e)throw function v3(n){return new s.vHH(3301,gn)}();return e}listen(t,e,i,r){const o=ux(e,"","","");return lx(this._getPlayer(t),i,o,r),()=>{}}command(t,e,i,r){if("register"==i)return void this.register(t,r[0]);if("create"==i)return void this.create(t,e,r[0]||{});const o=this._getPlayer(t);switch(i){case"play":o.play();break;case"pause":o.pause();break;case"reset":o.reset();break;case"restart":o.restart();break;case"finish":o.finish();break;case"init":o.init();break;case"setPosition":o.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(t)}}}const qO="ng-animate-queued",Tx="ng-animate-disabled",yU=[],YO={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},vU={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},el="__ng_removed";class Ix{constructor(t,e=""){this.namespaceId=e;const i=t&&t.hasOwnProperty("value");if(this.value=function EU(n){return null!=n?n:null}(i?t.value:t),i){const o=zy(t);delete o.value,this.options=o}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(t){const e=t.params;if(e){const i=this.options.params;Object.keys(e).forEach(r=>{null==i[r]&&(i[r]=e[r])})}}}const eC="void",Sx=new Ix(eC);class bU{constructor(t,e,i){this.id=t,this.hostElement=e,this._engine=i,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,tl(e,this._hostClassName)}listen(t,e,i,r){if(!this._triggers.hasOwnProperty(e))throw function b3(n,t){return new s.vHH(3302,gn)}();if(null==i||0==i.length)throw function w3(n){return new s.vHH(3303,gn)}();if(!function DU(n){return"start"==n||"done"==n}(i))throw function C3(n,t){return new s.vHH(3400,gn)}();const o=Aa(this._elementListeners,t,[]),u={name:e,phase:i,callback:r};o.push(u);const h=Aa(this._engine.statesByElement,t,{});return h.hasOwnProperty(e)||(tl(t,oT),tl(t,oT+"-"+e),h[e]=Sx),()=>{this._engine.afterFlush(()=>{const _=o.indexOf(u);_>=0&&o.splice(_,1),this._triggers[e]||delete h[e]})}}register(t,e){return!this._triggers[t]&&(this._triggers[t]=e,!0)}_getTrigger(t){const e=this._triggers[t];if(!e)throw function E3(n){return new s.vHH(3401,gn)}();return e}trigger(t,e,i,r=!0){const o=this._getTrigger(e),u=new Mx(this.id,e,t);let h=this._engine.statesByElement.get(t);h||(tl(t,oT),tl(t,oT+"-"+e),this._engine.statesByElement.set(t,h={}));let _=h[e];const b=new Ix(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&_&&b.absorbOptions(_.options),h[e]=b,_||(_=Sx),b.value!==eC&&_.value===b.value){if(!function IU(n,t){const e=Object.keys(n),i=Object.keys(t);if(e.length!=i.length)return!1;for(let r=0;r<e.length;r++){const o=e[r];if(!t.hasOwnProperty(o)||n[o]!==t[o])return!1}return!0}(_.params,b.params)){const fe=[],Te=o.matchStyles(_.value,_.params,fe),Qe=o.matchStyles(b.value,b.params,fe);fe.length?this._engine.reportError(fe):this._engine.afterFlush(()=>{ig(t,Te),$c(t,Qe)})}return}const N=Aa(this._engine.playersByElement,t,[]);N.forEach(fe=>{fe.namespaceId==this.id&&fe.triggerName==e&&fe.queued&&fe.destroy()});let j=o.matchTransition(_.value,b.value,t,b.params),Y=!1;if(!j){if(!r)return;j=o.fallbackTransition,Y=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:j,fromState:_,toState:b,player:u,isFallbackTransition:Y}),Y||(tl(t,qO),u.onStart(()=>{$y(t,qO)})),u.onDone(()=>{let fe=this.players.indexOf(u);fe>=0&&this.players.splice(fe,1);const Te=this._engine.playersByElement.get(t);if(Te){let Qe=Te.indexOf(u);Qe>=0&&Te.splice(Qe,1)}}),this.players.push(u),N.push(u),u}deregister(t){delete this._triggers[t],this._engine.statesByElement.forEach((e,i)=>{delete e[t]}),this._elementListeners.forEach((e,i)=>{this._elementListeners.set(i,e.filter(r=>r.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(i=>i.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const i=this._engine.driver.query(t,aT,!0);i.forEach(r=>{if(r[el])return;const o=this._engine.fetchNamespacesByElement(r);o.size?o.forEach(u=>u.triggerLeaveAnimation(r,e,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(t,e,i,r){const o=this._engine.statesByElement.get(t),u=new Map;if(o){const h=[];if(Object.keys(o).forEach(_=>{if(u.set(_,o[_].value),this._triggers[_]){const b=this.trigger(t,_,eC,r);b&&h.push(b)}}),h.length)return this._engine.markElementAsRemoved(this.id,t,!0,e,u),i&&kf(h).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t),i=this._engine.statesByElement.get(t);if(e&&i){const r=new Set;e.forEach(o=>{const u=o.name;if(r.has(u))return;r.add(u);const _=this._triggers[u].fallbackTransition,b=i[u]||Sx,T=new Ix(eC),M=new Mx(this.id,u,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:u,transition:_,fromState:b,toState:T,player:M,isFallbackTransition:!0})})}}removeNode(t,e){const i=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let r=!1;if(i.totalAnimations){const o=i.players.length?i.playersByQueriedElement.get(t):[];if(o&&o.length)r=!0;else{let u=t;for(;u=u.parentNode;)if(i.statesByElement.get(u)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(t),r)i.markElementAsRemoved(this.id,t,!1,e);else{const o=t[el];(!o||o===YO)&&(i.afterFlush(()=>this.clearElementCache(t)),i.destroyInnerAnimations(t),i._onRemovalComplete(t,e))}}insertNode(t,e){tl(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(i=>{const r=i.player;if(r.destroyed)return;const o=i.element,u=this._elementListeners.get(o);u&&u.forEach(h=>{if(h.name==i.triggerName){const _=ux(o,i.triggerName,i.fromState.value,i.toState.value);_._data=t,lx(i.player,h.phase,_,h.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):e.push(i)}),this._queue=[],e.sort((i,r)=>{const o=i.transition.ast.depCount,u=r.transition.ast.depCount;return 0==o||0==u?o-u:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(t){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}elementContainsData(t){let e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find(i=>i.element===t)||e,e}}class wU{constructor(t,e,i){this.bodyNode=t,this.driver=e,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(r,o)=>{}}_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(i=>{i.queued&&t.push(i)})}),t}createNamespace(t,e){const i=new bU(t,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(i,e):(this.newHostElements.set(e,i),this.collectEnterElement(e)),this._namespaceLookup[t]=i}_balanceNamespaceList(t,e){const i=this._namespaceList,r=this.namespacesByHostElement,o=i.length-1;if(o>=0){let u=!1;if(void 0!==this.driver.getParentElement){let h=this.driver.getParentElement(e);for(;h;){const _=r.get(h);if(_){const b=i.indexOf(_);i.splice(b+1,0,t),u=!0;break}h=this.driver.getParentElement(h)}}else for(let h=o;h>=0;h--)if(this.driver.containsElement(i[h].hostElement,e)){i.splice(h+1,0,t),u=!0;break}u||i.unshift(t)}else i.push(t);return r.set(e,t),t}register(t,e){let i=this._namespaceLookup[t];return i||(i=this.createNamespace(t,e)),i}registerTrigger(t,e,i){let r=this._namespaceLookup[t];r&&r.register(e,i)&&this.totalAnimations++}destroy(t,e){if(!t)return;const i=this._fetchNamespace(t);this.afterFlush(()=>{this.namespacesByHostElement.delete(i.hostElement),delete this._namespaceLookup[t];const r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1)}),this.afterFlushAnimationsDone(()=>i.destroy(e))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,i=this.statesByElement.get(t);if(i){const r=Object.keys(i);for(let o=0;o<r.length;o++){const u=i[r[o]].namespaceId;if(u){const h=this._fetchNamespace(u);h&&e.add(h)}}}return e}trigger(t,e,i,r){if(bT(e)){const o=this._fetchNamespace(t);if(o)return o.trigger(e,i,r),!0}return!1}insertNode(t,e,i,r){if(!bT(e))return;const o=e[el];if(o&&o.setForRemoval){o.setForRemoval=!1,o.setForMove=!0;const u=this.collectedLeaveElements.indexOf(e);u>=0&&this.collectedLeaveElements.splice(u,1)}if(t){const u=this._fetchNamespace(t);u&&u.insertNode(e,i)}r&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),tl(t,Tx)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),$y(t,Tx))}removeNode(t,e,i,r){if(bT(e)){const o=t?this._fetchNamespace(t):null;if(o?o.removeNode(e,r):this.markElementAsRemoved(t,e,!1,r),i){const u=this.namespacesByHostElement.get(e);u&&u.id!==t&&u.removeNode(e,r)}}else this._onRemovalComplete(e,r)}markElementAsRemoved(t,e,i,r,o){this.collectedLeaveElements.push(e),e[el]={namespaceId:t,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:o}}listen(t,e,i,r,o){return bT(e)?this._fetchNamespace(t).listen(e,i,r,o):()=>{}}_buildInstruction(t,e,i,r,o){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,i,r,t.fromState.options,t.toState.options,e,o)}destroyInnerAnimations(t){let e=this.driver.query(t,aT,!0);e.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,mx,!0),e.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return kf(this.players).onDone(()=>t());t()})}processLeaveNode(t){var e;const i=t[el];if(i&&i.setForRemoval){if(t[el]=YO,i.namespaceId){this.destroyInnerAnimations(t);const r=this._fetchNamespace(i.namespaceId);r&&r.clearElementCache(t)}this._onRemovalComplete(t,i.setForRemoval)}(null===(e=t.classList)||void 0===e?void 0:e.contains(Tx))&&this.markElementAsDisabled(t,!1),this.driver.query(t,".ng-animate-disabled",!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)tl(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{e=this._flushAnimations(i,t)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],e.length?kf(e).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(t){throw function D3(n){return new s.vHH(3402,gn)}()}_flushAnimations(t,e){const i=new _T,r=[],o=new Map,u=[],h=new Map,_=new Map,b=new Map,T=new Set;this.disabledNodes.forEach(lt=>{T.add(lt);const At=this.driver.query(lt,".ng-animate-queued",!0);for(let Mt=0;Mt<At.length;Mt++)T.add(At[Mt])});const M=this.bodyNode,N=Array.from(this.statesByElement.keys()),j=KO(N,this.collectedEnterElements),Y=new Map;let fe=0;j.forEach((lt,At)=>{const Mt=px+fe++;Y.set(At,Mt),lt.forEach(ln=>tl(ln,Mt))});const Te=[],Qe=new Set,qe=new Set;for(let lt=0;lt<this.collectedLeaveElements.length;lt++){const At=this.collectedLeaveElements[lt],Mt=At[el];Mt&&Mt.setForRemoval&&(Te.push(At),Qe.add(At),Mt.hasAnimation?this.driver.query(At,".ng-star-inserted",!0).forEach(ln=>Qe.add(ln)):qe.add(At))}const ht=new Map,Ye=KO(N,Array.from(Qe));Ye.forEach((lt,At)=>{const Mt=sT+fe++;ht.set(At,Mt),lt.forEach(ln=>tl(ln,Mt))}),t.push(()=>{j.forEach((lt,At)=>{const Mt=Y.get(At);lt.forEach(ln=>$y(ln,Mt))}),Ye.forEach((lt,At)=>{const Mt=ht.get(At);lt.forEach(ln=>$y(ln,Mt))}),Te.forEach(lt=>{this.processLeaveNode(lt)})});const St=[],_t=[];for(let lt=this._namespaceList.length-1;lt>=0;lt--)this._namespaceList[lt].drainQueuedTransitions(e).forEach(Mt=>{const ln=Mt.player,Pn=Mt.element;if(St.push(ln),this.collectedEnterElements.length){const _o=Pn[el];if(_o&&_o.setForMove){if(_o.previousTriggersValues&&_o.previousTriggersValues.has(Mt.triggerName)){const _g=_o.previousTriggersValues.get(Mt.triggerName),Bf=this.statesByElement.get(Mt.element);Bf&&Bf[Mt.triggerName]&&(Bf[Mt.triggerName].value=_g)}return void ln.destroy()}}const gs=!M||!this.driver.containsElement(M,Pn),Jr=ht.get(Pn),nl=Y.get(Pn),Ii=this._buildInstruction(Mt,i,nl,Jr,gs);if(Ii.errors&&Ii.errors.length)return void _t.push(Ii);if(gs)return ln.onStart(()=>ig(Pn,Ii.fromStyles)),ln.onDestroy(()=>$c(Pn,Ii.toStyles)),void r.push(ln);if(Mt.isFallbackTransition)return ln.onStart(()=>ig(Pn,Ii.fromStyles)),ln.onDestroy(()=>$c(Pn,Ii.toStyles)),void r.push(ln);const vL=[];Ii.timelines.forEach(_o=>{_o.stretchStartingKeyframe=!0,this.disabledNodes.has(_o.element)||vL.push(_o)}),Ii.timelines=vL,i.append(Pn,Ii.timelines),u.push({instruction:Ii,player:ln,element:Pn}),Ii.queriedElements.forEach(_o=>Aa(h,_o,[]).push(ln)),Ii.preStyleProps.forEach((_o,_g)=>{const Bf=Object.keys(_o);if(Bf.length){let yg=_.get(_g);yg||_.set(_g,yg=new Set),Bf.forEach(Yk=>yg.add(Yk))}}),Ii.postStyleProps.forEach((_o,_g)=>{const Bf=Object.keys(_o);let yg=b.get(_g);yg||b.set(_g,yg=new Set),Bf.forEach(Yk=>yg.add(Yk))})});if(_t.length){const lt=[];_t.forEach(At=>{lt.push(function A3(n,t){return new s.vHH(3505,gn)}())}),St.forEach(At=>At.destroy()),this.reportError(lt)}const st=new Map,et=new Map;u.forEach(lt=>{const At=lt.element;i.has(At)&&(et.set(At,At),this._beforeAnimationBuild(lt.player.namespaceId,lt.instruction,st))}),r.forEach(lt=>{const At=lt.element;this._getPreviousPlayers(At,!1,lt.namespaceId,lt.triggerName,null).forEach(ln=>{Aa(st,At,[]).push(ln),ln.destroy()})});const _n=Te.filter(lt=>JO(lt,_,b)),Lt=new Map;WO(Lt,this.driver,qe,b,Cd).forEach(lt=>{JO(lt,_,b)&&_n.push(lt)});const Bn=new Map;j.forEach((lt,At)=>{WO(Bn,this.driver,new Set(lt),_,"!")}),_n.forEach(lt=>{const At=Lt.get(lt),Mt=Bn.get(lt);Lt.set(lt,Object.assign(Object.assign({},At),Mt))});const Os=[],Ps=[],gg={};u.forEach(lt=>{const{element:At,player:Mt,instruction:ln}=lt;if(i.has(At)){if(T.has(At))return Mt.onDestroy(()=>$c(At,ln.toStyles)),Mt.disabled=!0,Mt.overrideTotalTime(ln.totalTime),void r.push(Mt);let Pn=gg;if(et.size>1){let Jr=At;const nl=[];for(;Jr=Jr.parentNode;){const Ii=et.get(Jr);if(Ii){Pn=Ii;break}nl.push(Jr)}nl.forEach(Ii=>et.set(Ii,Pn))}const gs=this._buildAnimation(Mt.namespaceId,ln,st,o,Bn,Lt);if(Mt.setRealPlayer(gs),Pn===gg)Os.push(Mt);else{const Jr=this.playersByElement.get(Pn);Jr&&Jr.length&&(Mt.parentPlayer=kf(Jr)),r.push(Mt)}}else ig(At,ln.fromStyles),Mt.onDestroy(()=>$c(At,ln.toStyles)),Ps.push(Mt),T.has(At)&&r.push(Mt)}),Ps.forEach(lt=>{const At=o.get(lt.element);if(At&&At.length){const Mt=kf(At);lt.setRealPlayer(Mt)}}),r.forEach(lt=>{lt.parentPlayer?lt.syncPlayerEvents(lt.parentPlayer):lt.destroy()});for(let lt=0;lt<Te.length;lt++){const At=Te[lt],Mt=At[el];if($y(At,sT),Mt&&Mt.hasAnimation)continue;let ln=[];if(h.size){let gs=h.get(At);gs&&gs.length&&ln.push(...gs);let Jr=this.driver.query(At,mx,!0);for(let nl=0;nl<Jr.length;nl++){let Ii=h.get(Jr[nl]);Ii&&Ii.length&&ln.push(...Ii)}}const Pn=ln.filter(gs=>!gs.destroyed);Pn.length?AU(this,At,Pn):this.processLeaveNode(At)}return Te.length=0,Os.forEach(lt=>{this.players.push(lt),lt.onDone(()=>{lt.destroy();const At=this.players.indexOf(lt);this.players.splice(At,1)}),lt.play()}),Os}elementContainsData(t,e){let i=!1;const r=e[el];return r&&r.setForRemoval&&(i=!0),this.playersByElement.has(e)&&(i=!0),this.playersByQueriedElement.has(e)&&(i=!0),this.statesByElement.has(e)&&(i=!0),this._fetchNamespace(t).elementContainsData(e)||i}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,i,r,o){let u=[];if(e){const h=this.playersByQueriedElement.get(t);h&&(u=h)}else{const h=this.playersByElement.get(t);if(h){const _=!o||o==eC;h.forEach(b=>{b.queued||!_&&b.triggerName!=r||u.push(b)})}}return(i||r)&&(u=u.filter(h=>!(i&&i!=h.namespaceId||r&&r!=h.triggerName))),u}_beforeAnimationBuild(t,e,i){const o=e.element,u=e.isRemovalTransition?void 0:t,h=e.isRemovalTransition?void 0:e.triggerName;for(const _ of e.timelines){const b=_.element,T=b!==o,M=Aa(i,b,[]);this._getPreviousPlayers(b,T,u,h,e.toState).forEach(j=>{const Y=j.getRealPlayer();Y.beforeDestroy&&Y.beforeDestroy(),j.destroy(),M.push(j)})}ig(o,e.fromStyles)}_buildAnimation(t,e,i,r,o,u){const h=e.triggerName,_=e.element,b=[],T=new Set,M=new Set,N=e.timelines.map(Y=>{const fe=Y.element;T.add(fe);const Te=fe[el];if(Te&&Te.removedBeforeQueried)return new Jw(Y.duration,Y.delay);const Qe=fe!==_,qe=function TU(n){const t=[];return QO(n,t),t}((i.get(fe)||yU).map(st=>st.getRealPlayer())).filter(st=>!!st.element&&st.element===fe),ht=o.get(fe),Ye=u.get(fe),St=EO(0,this._normalizer,0,Y.keyframes,ht,Ye),_t=this._buildPlayer(Y,St,qe);if(Y.subTimeline&&r&&M.add(fe),Qe){const st=new Mx(t,h,fe);st.setRealPlayer(_t),b.push(st)}return _t});b.forEach(Y=>{Aa(this.playersByQueriedElement,Y.element,[]).push(Y),Y.onDone(()=>function CU(n,t,e){let i;if(n instanceof Map){if(i=n.get(t),i){if(i.length){const r=i.indexOf(e);i.splice(r,1)}0==i.length&&n.delete(t)}}else if(i=n[t],i){if(i.length){const r=i.indexOf(e);i.splice(r,1)}0==i.length&&delete n[t]}return i}(this.playersByQueriedElement,Y.element,Y))}),T.forEach(Y=>tl(Y,OO));const j=kf(N);return j.onDestroy(()=>{T.forEach(Y=>$y(Y,OO)),$c(_,e.toStyles)}),M.forEach(Y=>{Aa(r,Y,[]).push(j)}),j}_buildPlayer(t,e,i){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,i):new Jw(t.duration,t.delay)}}class Mx{constructor(t,e,i){this.namespaceId=t,this.triggerName=e,this.element=i,this._player=new Jw,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,Object.keys(this._queuedCallbacks).forEach(e=>{this._queuedCallbacks[e].forEach(i=>lx(t,e,void 0,i))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){Aa(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function bT(n){return n&&1===n.nodeType}function ZO(n,t){const e=n.style.display;return n.style.display=null!=t?t:"none",e}function WO(n,t,e,i,r){const o=[];e.forEach(_=>o.push(ZO(_)));const u=[];i.forEach((_,b)=>{const T={};_.forEach(M=>{const N=T[M]=t.computeStyle(b,M,r);(!N||0==N.length)&&(b[el]=vU,u.push(b))}),n.set(b,T)});let h=0;return e.forEach(_=>ZO(_,o[h++])),u}function KO(n,t){const e=new Map;if(n.forEach(h=>e.set(h,[])),0==t.length)return e;const r=new Set(t),o=new Map;function u(h){if(!h)return 1;let _=o.get(h);if(_)return _;const b=h.parentNode;return _=e.has(b)?b:r.has(b)?1:u(b),o.set(h,_),_}return t.forEach(h=>{const _=u(h);1!==_&&e.get(_).push(h)}),e}function tl(n,t){var e;null===(e=n.classList)||void 0===e||e.add(t)}function $y(n,t){var e;null===(e=n.classList)||void 0===e||e.remove(t)}function AU(n,t,e){kf(e).onDone(()=>n.processLeaveNode(t))}function QO(n,t){for(let e=0;e<n.length;e++){const i=n[e];i instanceof wO?QO(i.players,t):t.push(i)}}function JO(n,t,e){const i=e.get(n);if(!i)return!1;let r=t.get(n);return r?i.forEach(o=>r.add(o)):t.set(n,i),e.delete(n),!0}class wT{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(r,o)=>{},this._transitionEngine=new wU(t,e,i),this._timelineEngine=new fU(t,e,i),this._transitionEngine.onRemovalComplete=(r,o)=>this.onRemovalComplete(r,o)}registerTrigger(t,e,i,r,o){const u=t+"-"+r;let h=this._triggerCache[u];if(!h){const _=[],T=vx(this._driver,o,_,[]);if(_.length)throw function p3(n,t){return new s.vHH(3404,gn)}();h=function cU(n,t,e){return new uU(n,t,e)}(r,T,this._normalizer),this._triggerCache[u]=h}this._transitionEngine.registerTrigger(e,r,h)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,i,r){this._transitionEngine.insertNode(t,e,i,r)}onRemove(t,e,i,r){this._transitionEngine.removeNode(t,e,r||!1,i)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,i,r){if("@"==i.charAt(0)){const[o,u]=DO(i);this._timelineEngine.command(o,e,u,r)}else this._transitionEngine.trigger(t,e,i,r)}listen(t,e,i,r,o){if("@"==i.charAt(0)){const[u,h]=DO(i);return this._timelineEngine.listen(u,e,h,o)}return this._transitionEngine.listen(t,e,i,r,o)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let MU=(()=>{class n{constructor(e,i,r){this._element=e,this._startStyles=i,this._endStyles=r,this._state=0;let o=n.initialStylesByElement.get(e);o||n.initialStylesByElement.set(e,o={}),this._initialStyles=o}start(){this._state<1&&(this._startStyles&&$c(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&($c(this._element,this._initialStyles),this._endStyles&&($c(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(ig(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(ig(this._element,this._endStyles),this._endStyles=null),$c(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function xx(n){let t=null;const e=Object.keys(n);for(let i=0;i<e.length;i++){const r=e[i];xU(r)&&(t=t||{},t[r]=n[r])}return t}function xU(n){return"display"===n||"position"===n}class XO{constructor(t,e,i,r){this.element=t,this.keyframes=e,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(t,e,i){return t.animate(e,i)}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t={};if(this.hasStarted()){const e=this._finalKeyframe;Object.keys(e).forEach(i=>{"offset"!=i&&(t[i]=this._finished?e[i]:VO(this.element,i))})}this.currentSnapshot=t}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class kU{validateStyleProperty(t){return SO(t)}matchesElement(t,e){return!1}containsElement(t,e){return MO(t,e)}getParentElement(t){return hx(t)}query(t,e,i){return xO(t,e,i)}computeStyle(t,e,i){return window.getComputedStyle(t)[e]}animate(t,e,i,r,o,u=[]){const _={duration:i,delay:r,fill:0==r?"both":"forwards"};o&&(_.easing=o);const b={},T=u.filter(N=>N instanceof XO);(function N3(n,t){return 0===n||0===t})(i,r)&&T.forEach(N=>{let j=N.currentSnapshot;Object.keys(j).forEach(Y=>b[Y]=j[Y])}),e=function F3(n,t,e){const i=Object.keys(e);if(i.length&&t.length){let o=t[0],u=[];if(i.forEach(h=>{o.hasOwnProperty(h)||u.push(h),o[h]=e[h]}),u.length)for(var r=1;r<t.length;r++){let h=t[r];u.forEach(function(_){h[_]=VO(n,_)})}}return t}(t,e=e.map(N=>Rf(N,!1)),b);const M=function SU(n,t){let e=null,i=null;return Array.isArray(t)&&t.length?(e=xx(t[0]),t.length>1&&(i=xx(t[t.length-1]))):t&&(e=xx(t)),e||i?new MU(n,e,i):null}(t,e);return new XO(t,e,_,M)}}let RU=(()=>{class n extends pO{constructor(e,i){super(),this._nextAnimationId=0,this._renderer=e.createRenderer(i.body,{id:"0",encapsulation:s.ifc.None,styles:[],data:{animation:[]}})}build(e){const i=this._nextAnimationId.toString();this._nextAnimationId++;const r=Array.isArray(e)?gO(e):e;return eP(this._renderer,null,i,"register",[r]),new OU(i,this._renderer)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(s.FYo),s.LFG(H))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();class OU extends class GB{}{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new PU(this._id,t,e||{},this._renderer)}}class PU{constructor(t,e,i,r){this.id=t,this.element=e,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return eP(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(t){this._command("setPosition",t)}getPosition(){var t,e;return null!==(e=null===(t=this._renderer.engine.players[+this.id])||void 0===t?void 0:t.getPosition())&&void 0!==e?e:0}}function eP(n,t,e,i,r){return n.setProperty(t,`@@${e}:${i}`,r)}const tP="@.disabled";let NU=(()=>{class n{constructor(e,i,r){this.delegate=e,this.engine=i,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),i.onRemovalComplete=(o,u)=>{const h=null==u?void 0:u.parentNode(o);h&&u.removeChild(h,o)}}createRenderer(e,i){const o=this.delegate.createRenderer(e,i);if(!(e&&i&&i.data&&i.data.animation)){let T=this._rendererCache.get(o);return T||(T=new nP("",o,this.engine),this._rendererCache.set(o,T)),T}const u=i.id,h=i.id+"-"+this._currentId;this._currentId++,this.engine.register(h,e);const _=T=>{Array.isArray(T)?T.forEach(_):this.engine.registerTrigger(u,h,e,T.name,T)};return i.data.animation.forEach(_),new FU(this,h,o,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(e,i,r){e>=0&&e<this._microtaskId?this._zone.run(()=>i(r)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(o=>{const[u,h]=o;u(h)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([i,r]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(s.FYo),s.LFG(wT),s.LFG(s.R0b))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();class nP{constructor(t,e,i){this.namespaceId=t,this.delegate=e,this.engine=i,this.destroyNode=this.delegate.destroyNode?r=>e.destroyNode(r):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,i,r=!0){this.delegate.insertBefore(t,e,i),this.engine.onInsert(this.namespaceId,e,t,r)}removeChild(t,e,i){this.engine.onRemove(this.namespaceId,e,this.delegate,i)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,i,r){this.delegate.setAttribute(t,e,i,r)}removeAttribute(t,e,i){this.delegate.removeAttribute(t,e,i)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,i,r){this.delegate.setStyle(t,e,i,r)}removeStyle(t,e,i){this.delegate.removeStyle(t,e,i)}setProperty(t,e,i){"@"==e.charAt(0)&&e==tP?this.disableAnimations(t,!!i):this.delegate.setProperty(t,e,i)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,i){return this.delegate.listen(t,e,i)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class FU extends nP{constructor(t,e,i,r){super(e,i,r),this.factory=t,this.namespaceId=e}setProperty(t,e,i){"@"==e.charAt(0)?"."==e.charAt(1)&&e==tP?this.disableAnimations(t,i=void 0===i||!!i):this.engine.process(this.namespaceId,t,e.substr(1),i):this.delegate.setProperty(t,e,i)}listen(t,e,i){if("@"==e.charAt(0)){const r=function LU(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(t);let o=e.substr(1),u="";return"@"!=o.charAt(0)&&([o,u]=function VU(n){const t=n.indexOf(".");return[n.substring(0,t),n.substr(t+1)]}(o)),this.engine.listen(this.namespaceId,r,o,u,h=>{this.factory.scheduleListenerCallback(h._data||-1,i,h)})}return this.delegate.listen(t,e,i)}}let BU=(()=>{class n extends wT{constructor(e,i,r){super(e.body,i,r)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(H),s.LFG(fx),s.LFG(Dx))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const sg=new s.OlP("AnimationModuleType"),iP=[{provide:pO,useClass:RU},{provide:Dx,useFactory:function UU(){return new rU}},{provide:wT,useClass:BU},{provide:s.FYo,useFactory:function jU(n,t,e){return new NU(n,t,e)},deps:[kn,wT,s.R0b]}],rP=[{provide:fx,useFactory:()=>new kU},{provide:sg,useValue:"BrowserAnimations"},...iP],HU=[{provide:fx,useClass:kO},{provide:sg,useValue:"NoopAnimations"},...iP];let zU=(()=>{class n{static withConfig(e){return{ngModule:n,providers:e.disableAnimations?HU:rP}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:rP,imports:[Pa]}),n})();const GU=new s.OlP("mat-sanity-checks",{providedIn:"root",factory:function $U(){return!0}});let Wr=(()=>{class n{constructor(e,i,r){this._sanityChecks=i,this._document=r,this._hasDoneGlobalChecks=!1,e._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(e){return!$M()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[e])}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(fO),s.LFG(GU,8),s.LFG(H))},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[Yw],Yw]}),n})();function qU(n){return class extends n{constructor(...t){super(...t),this._disabled=!1}get disabled(){return this._disabled}set disabled(t){this._disabled=er(t)}}}function Gy(n,t){return class extends n{constructor(...e){super(...e),this.defaultColor=t,this.color=t}get color(){return this._color}set color(e){const i=e||this.defaultColor;i!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),i&&this._elementRef.nativeElement.classList.add(`mat-${i}`),this._color=i)}}}function oP(n){return class extends n{constructor(...t){super(...t),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=er(t)}}}function YU(n){return class extends n{constructor(...t){super(...t),this.stateChanges=new dt.x,this.errorState=!1}updateErrorState(){const t=this.errorState,o=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);o!==t&&(this.errorState=o,this.stateChanges.next())}}}const aP=new s.OlP("MAT_DATE_LOCALE",{providedIn:"root",factory:function ZU(){return(0,s.f3M)(s.soG)}});class Kr{constructor(){this._localeChanges=new dt.x,this.localeChanges=this._localeChanges}getValidDateOrNull(t){return this.isDateInstance(t)&&this.isValid(t)?t:null}deserialize(t){return null==t||this.isDateInstance(t)&&this.isValid(t)?t:this.invalid()}setLocale(t){this.locale=t,this._localeChanges.next()}compareDate(t,e){return this.getYear(t)-this.getYear(e)||this.getMonth(t)-this.getMonth(e)||this.getDate(t)-this.getDate(e)}sameDate(t,e){if(t&&e){let i=this.isValid(t),r=this.isValid(e);return i&&r?!this.compareDate(t,e):i==r}return t==e}clampDate(t,e,i){return e&&this.compareDate(t,e)<0?e:i&&this.compareDate(t,i)>0?i:t}}const og=new s.OlP("mat-date-formats"),WU=/^\d{4}-\d{2}-\d{2}(?:T\d{2}:\d{2}:\d{2}(?:\.\d+)?(?:Z|(?:(?:\+|-)\d{2}:\d{2}))?)?$/;function kx(n,t){const e=Array(n);for(let i=0;i<n;i++)e[i]=t(i);return e}let KU=(()=>{class n extends Kr{constructor(e,i){super(),this.useUtcForDisplay=!1,super.setLocale(e)}getYear(e){return e.getFullYear()}getMonth(e){return e.getMonth()}getDate(e){return e.getDate()}getDayOfWeek(e){return e.getDay()}getMonthNames(e){const i=new Intl.DateTimeFormat(this.locale,{month:e,timeZone:"utc"});return kx(12,r=>this._format(i,new Date(2017,r,1)))}getDateNames(){const e=new Intl.DateTimeFormat(this.locale,{day:"numeric",timeZone:"utc"});return kx(31,i=>this._format(e,new Date(2017,0,i+1)))}getDayOfWeekNames(e){const i=new Intl.DateTimeFormat(this.locale,{weekday:e,timeZone:"utc"});return kx(7,r=>this._format(i,new Date(2017,0,r+1)))}getYearName(e){const i=new Intl.DateTimeFormat(this.locale,{year:"numeric",timeZone:"utc"});return this._format(i,e)}getFirstDayOfWeek(){return 0}getNumDaysInMonth(e){return this.getDate(this._createDateWithOverflow(this.getYear(e),this.getMonth(e)+1,0))}clone(e){return new Date(e.getTime())}createDate(e,i,r){let o=this._createDateWithOverflow(e,i,r);return o.getMonth(),o}today(){return new Date}parse(e){return"number"==typeof e?new Date(e):e?new Date(Date.parse(e)):null}format(e,i){if(!this.isValid(e))throw Error("NativeDateAdapter: Cannot format invalid date.");const r=new Intl.DateTimeFormat(this.locale,Object.assign(Object.assign({},i),{timeZone:"utc"}));return this._format(r,e)}addCalendarYears(e,i){return this.addCalendarMonths(e,12*i)}addCalendarMonths(e,i){let r=this._createDateWithOverflow(this.getYear(e),this.getMonth(e)+i,this.getDate(e));return this.getMonth(r)!=((this.getMonth(e)+i)%12+12)%12&&(r=this._createDateWithOverflow(this.getYear(r),this.getMonth(r),0)),r}addCalendarDays(e,i){return this._createDateWithOverflow(this.getYear(e),this.getMonth(e),this.getDate(e)+i)}toIso8601(e){return[e.getUTCFullYear(),this._2digit(e.getUTCMonth()+1),this._2digit(e.getUTCDate())].join("-")}deserialize(e){if("string"==typeof e){if(!e)return null;if(WU.test(e)){let i=new Date(e);if(this.isValid(i))return i}}return super.deserialize(e)}isDateInstance(e){return e instanceof Date}isValid(e){return!isNaN(e.getTime())}invalid(){return new Date(NaN)}_createDateWithOverflow(e,i,r){const o=new Date;return o.setFullYear(e,i,r),o.setHours(0,0,0,0),o}_2digit(e){return("00"+e).slice(-2)}_format(e,i){const r=new Date;return r.setUTCFullYear(i.getFullYear(),i.getMonth(),i.getDate()),r.setUTCHours(i.getHours(),i.getMinutes(),i.getSeconds(),i.getMilliseconds()),e.format(r)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(aP,8),s.LFG(Yr))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const QU={parse:{dateInput:null},display:{dateInput:{year:"numeric",month:"numeric",day:"numeric"},monthYearLabel:{year:"numeric",month:"short"},dateA11yLabel:{year:"numeric",month:"long",day:"numeric"},monthYearA11yLabel:{year:"numeric",month:"long"}}};let JU=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[{provide:Kr,useClass:KU}]}),n})(),XU=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[{provide:og,useValue:QU}],imports:[[JU]]}),n})(),lP=(()=>{class n{isErrorState(e,i){return!!(e&&e.invalid&&(e.touched||i&&i.submitted))}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class ej{constructor(t,e,i){this._renderer=t,this.element=e,this.config=i,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const cP={enterDuration:225,exitDuration:150},Rx=KA({passive:!0}),uP=["mousedown","touchstart"],dP=["mouseup","mouseleave","touchend","touchcancel"];class nj{constructor(t,e,i,r){this._target=t,this._ngZone=e,this._isPointerDown=!1,this._activeRipples=new Set,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=wd(i))}fadeInRipple(t,e,i={}){const r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),o=Object.assign(Object.assign({},cP),i.animation);i.centered&&(t=r.left+r.width/2,e=r.top+r.height/2);const u=i.radius||function rj(n,t,e){const i=Math.max(Math.abs(n-e.left),Math.abs(n-e.right)),r=Math.max(Math.abs(t-e.top),Math.abs(t-e.bottom));return Math.sqrt(i*i+r*r)}(t,e,r),h=t-r.left,_=e-r.top,b=o.enterDuration,T=document.createElement("div");T.classList.add("mat-ripple-element"),T.style.left=h-u+"px",T.style.top=_-u+"px",T.style.height=2*u+"px",T.style.width=2*u+"px",null!=i.color&&(T.style.backgroundColor=i.color),T.style.transitionDuration=`${b}ms`,this._containerElement.appendChild(T),function ij(n){window.getComputedStyle(n).getPropertyValue("opacity")}(T),T.style.transform="scale(1)";const M=new ej(this,T,i);return M.state=0,this._activeRipples.add(M),i.persistent||(this._mostRecentTransientRipple=M),this._runTimeoutOutsideZone(()=>{const N=M===this._mostRecentTransientRipple;M.state=1,!i.persistent&&(!N||!this._isPointerDown)&&M.fadeOut()},b),M}fadeOutRipple(t){const e=this._activeRipples.delete(t);if(t===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),this._activeRipples.size||(this._containerRect=null),!e)return;const i=t.element,r=Object.assign(Object.assign({},cP),t.config.animation);i.style.transitionDuration=`${r.exitDuration}ms`,i.style.opacity="0",t.state=2,this._runTimeoutOutsideZone(()=>{t.state=3,i.remove()},r.exitDuration)}fadeOutAll(){this._activeRipples.forEach(t=>t.fadeOut())}fadeOutAllNonPersistent(){this._activeRipples.forEach(t=>{t.config.persistent||t.fadeOut()})}setupTriggerEvents(t){const e=wd(t);!e||e===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=e,this._registerEvents(uP))}handleEvent(t){"mousedown"===t.type?this._onMousedown(t):"touchstart"===t.type?this._onTouchStart(t):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(dP),this._pointerUpEventsRegistered=!0)}_onMousedown(t){const e=aO(t),i=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!e&&!i&&(this._isPointerDown=!0,this.fadeInRipple(t.clientX,t.clientY,this._target.rippleConfig))}_onTouchStart(t){if(!this._target.rippleDisabled&&!lO(t)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const e=t.changedTouches;for(let i=0;i<e.length;i++)this.fadeInRipple(e[i].clientX,e[i].clientY,this._target.rippleConfig)}}_onPointerUp(){!this._isPointerDown||(this._isPointerDown=!1,this._activeRipples.forEach(t=>{!t.config.persistent&&(1===t.state||t.config.terminateOnPointerUp&&0===t.state)&&t.fadeOut()}))}_runTimeoutOutsideZone(t,e=0){this._ngZone.runOutsideAngular(()=>setTimeout(t,e))}_registerEvents(t){this._ngZone.runOutsideAngular(()=>{t.forEach(e=>{this._triggerElement.addEventListener(e,this,Rx)})})}_removeTriggerEvents(){this._triggerElement&&(uP.forEach(t=>{this._triggerElement.removeEventListener(t,this,Rx)}),this._pointerUpEventsRegistered&&dP.forEach(t=>{this._triggerElement.removeEventListener(t,this,Rx)}))}}const sj=new s.OlP("mat-ripple-global-options");let Ox=(()=>{class n{constructor(e,i,r,o,u){this._elementRef=e,this._animationMode=u,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=o||{},this._rippleRenderer=new nj(this,i,e,r)}get disabled(){return this._disabled}set disabled(e){e&&this.fadeOutAllNonPersistent(),this._disabled=e,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(e){this._trigger=e,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:Object.assign(Object.assign(Object.assign({},this._globalOptions.animation),"NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(e,i=0,r){return"number"==typeof e?this._rippleRenderer.fadeInRipple(e,i,Object.assign(Object.assign({},this.rippleConfig),r)):this._rippleRenderer.fadeInRipple(0,0,Object.assign(Object.assign({},this.rippleConfig),e))}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(s.R0b),s.Y36(Yr),s.Y36(sj,8),s.Y36(sg,8))},n.\u0275dir=s.lG2({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(e,i){2&e&&s.ekj("mat-ripple-unbounded",i.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),n})(),hP=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[Wr],Wr]}),n})();const oj=["mat-button",""],aj=["*"],cj=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"],uj=Gy(qU(oP(class{constructor(n){this._elementRef=n}})));let Yo=(()=>{class n extends uj{constructor(e,i,r){super(e),this._focusMonitor=i,this._animationMode=r,this.isRoundButton=this._hasHostAttributes("mat-fab","mat-mini-fab"),this.isIconButton=this._hasHostAttributes("mat-icon-button");for(const o of cj)this._hasHostAttributes(o)&&this._getHostElement().classList.add(o);e.nativeElement.classList.add("mat-button-base"),this.isRoundButton&&(this.color="accent")}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(e,i){e?this._focusMonitor.focusVia(this._getHostElement(),e,i):this._getHostElement().focus(i)}_getHostElement(){return this._elementRef.nativeElement}_isRippleDisabled(){return this.disableRipple||this.disabled}_hasHostAttributes(...e){return e.some(i=>this._getHostElement().hasAttribute(i))}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(iT),s.Y36(sg,8))},n.\u0275cmp=s.Xpm({type:n,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-icon-button",""],["button","mat-fab",""],["button","mat-mini-fab",""],["button","mat-stroked-button",""],["button","mat-flat-button",""]],viewQuery:function(e,i){if(1&e&&s.Gf(Ox,5),2&e){let r;s.iGM(r=s.CRH())&&(i.ripple=r.first)}},hostAttrs:[1,"mat-focus-indicator"],hostVars:5,hostBindings:function(e,i){2&e&&(s.uIk("disabled",i.disabled||null),s.ekj("_mat-animation-noopable","NoopAnimations"===i._animationMode)("mat-button-disabled",i.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[s.qOj],attrs:oj,ngContentSelectors:aj,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(e,i){1&e&&(s.F$t(),s.TgZ(0,"span",0),s.Hsn(1),s.qZA(),s._UZ(2,"span",1)(3,"span",2)),2&e&&(s.xp6(2),s.ekj("mat-button-ripple-round",i.isRoundButton||i.isIconButton),s.Q6J("matRippleDisabled",i._isRippleDisabled())("matRippleCentered",i.isIconButton)("matRippleTrigger",i._getHostElement()))},directives:[Ox],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}._mat-animation-noopable.mat-raised-button{transition:none;animation:none}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-fab{transition:none;animation:none}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-mini-fab{transition:none;animation:none}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:inline-flex;justify-content:center;align-items:center;font-size:inherit;width:2.5em;height:2.5em}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}.cdk-high-contrast-active .mat-button-base.cdk-keyboard-focused,.cdk-high-contrast-active .mat-button-base.cdk-program-focused{outline:solid 3px}\n"],encapsulation:2,changeDetection:0}),n})(),nC=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[hP,Wr],Wr]}),n})();const fP=new Set;let qy,dj=(()=>{class n{constructor(e){this._platform=e,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):fj}matchMedia(e){return(this._platform.WEBKIT||this._platform.BLINK)&&function hj(n){if(!fP.has(n))try{qy||(qy=document.createElement("style"),qy.setAttribute("type","text/css"),document.head.appendChild(qy)),qy.sheet&&(qy.sheet.insertRule(`@media ${n} {body{ }}`,0),fP.add(n))}catch(t){console.error(t)}}(e),this._matchMedia(e)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Yr))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function fj(n){return{matches:"all"===n||""===n,media:n,addListener:()=>{},removeListener:()=>{}}}let pP=(()=>{class n{constructor(e,i){this._mediaMatcher=e,this._zone=i,this._queries=new Map,this._destroySubject=new dt.x}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(e){return mP(qA(e)).some(r=>this._registerQuery(r).mql.matches)}observe(e){let o=aa(mP(qA(e)).map(u=>this._registerQuery(u).observable));return o=uc(o.pipe((0,ei.q)(1)),o.pipe(JR(1),Kw(0))),o.pipe((0,mt.U)(u=>{const h={matches:!1,breakpoints:{}};return u.forEach(({matches:_,query:b})=>{h.matches=h.matches||_,h.breakpoints[b]=_}),h}))}_registerQuery(e){if(this._queries.has(e))return this._queries.get(e);const i=this._mediaMatcher.matchMedia(e),o={observable:new Xn.y(u=>{const h=_=>this._zone.run(()=>u.next(_));return i.addListener(h),()=>{i.removeListener(h)}}).pipe(ai(i),(0,mt.U)(({matches:u})=>({query:e,matches:u})),Xa(this._destroySubject)),mql:i};return this._queries.set(e,o),o}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(dj),s.LFG(s.R0b))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function mP(n){return n.map(t=>t.split(",")).reduce((t,e)=>t.concat(e)).map(t=>t.trim())}function mj(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",2)(1,"button",3),s.NdJ("click",function(){return s.CHM(e),s.oxw().action()}),s._uU(2),s.qZA()()}if(2&n){const e=s.oxw();s.xp6(2),s.Oqu(e.data.action)}}function gj(n,t){}const gP=new s.OlP("MatSnackBarData");class ET{constructor(){this.politeness="assertive",this.announcementMessage="",this.duration=0,this.data=null,this.horizontalPosition="center",this.verticalPosition="bottom"}}const _j=Math.pow(2,31)-1;class Px{constructor(t,e){this._overlayRef=e,this._afterDismissed=new dt.x,this._afterOpened=new dt.x,this._onAction=new dt.x,this._dismissedByAction=!1,this.containerInstance=t,this.onAction().subscribe(()=>this.dismiss()),t._onExit.subscribe(()=>this._finishDismiss())}dismiss(){this._afterDismissed.closed||this.containerInstance.exit(),clearTimeout(this._durationTimeoutId)}dismissWithAction(){this._onAction.closed||(this._dismissedByAction=!0,this._onAction.next(),this._onAction.complete()),clearTimeout(this._durationTimeoutId)}closeWithAction(){this.dismissWithAction()}_dismissAfter(t){this._durationTimeoutId=setTimeout(()=>this.dismiss(),Math.min(t,_j))}_open(){this._afterOpened.closed||(this._afterOpened.next(),this._afterOpened.complete())}_finishDismiss(){this._overlayRef.dispose(),this._onAction.closed||this._onAction.complete(),this._afterDismissed.next({dismissedByAction:this._dismissedByAction}),this._afterDismissed.complete(),this._dismissedByAction=!1}afterDismissed(){return this._afterDismissed}afterOpened(){return this.containerInstance._onEnter}onAction(){return this._onAction}}let yj=(()=>{class n{constructor(e,i){this.snackBarRef=e,this.data=i}action(){this.snackBarRef.dismissWithAction()}get hasAction(){return!!this.data.action}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Px),s.Y36(gP))},n.\u0275cmp=s.Xpm({type:n,selectors:[["simple-snack-bar"]],hostAttrs:[1,"mat-simple-snackbar"],decls:3,vars:2,consts:[[1,"mat-simple-snack-bar-content"],["class","mat-simple-snackbar-action",4,"ngIf"],[1,"mat-simple-snackbar-action"],["mat-button","",3,"click"]],template:function(e,i){1&e&&(s.TgZ(0,"span",0),s._uU(1),s.qZA(),s.YNc(2,mj,3,1,"div",1)),2&e&&(s.xp6(1),s.Oqu(i.data.message),s.xp6(1),s.Q6J("ngIf",i.hasAction))},directives:[Yo,Fn],styles:[".mat-simple-snackbar{display:flex;justify-content:space-between;align-items:center;line-height:20px;opacity:1}.mat-simple-snackbar-action{flex-shrink:0;margin:-8px -8px -8px 8px}.mat-simple-snackbar-action button{max-height:36px;min-width:0}[dir=rtl] .mat-simple-snackbar-action{margin-left:-8px;margin-right:8px}.mat-simple-snack-bar-content{overflow:hidden;text-overflow:ellipsis}\n"],encapsulation:2,changeDetection:0}),n})();const vj={snackBarState:Qw("state",[eg("void, hidden",Zr({transform:"scale(0.8)",opacity:0})),eg("visible",Zr({transform:"scale(1)",opacity:1})),Dd("* => visible",Ed("150ms cubic-bezier(0, 0, 0.2, 1)")),Dd("* => void, * => hidden",Ed("75ms cubic-bezier(0.4, 0.0, 1, 1)",Zr({opacity:0})))])};let bj=(()=>{class n extends JA{constructor(e,i,r,o,u){super(),this._ngZone=e,this._elementRef=i,this._changeDetectorRef=r,this._platform=o,this.snackBarConfig=u,this._announceDelay=150,this._destroyed=!1,this._onAnnounce=new dt.x,this._onExit=new dt.x,this._onEnter=new dt.x,this._animationState="void",this.attachDomPortal=h=>(this._assertNotAttached(),this._applySnackBarClasses(),this._portalOutlet.attachDomPortal(h)),this._live="assertive"!==u.politeness||u.announcementMessage?"off"===u.politeness?"off":"polite":"assertive",this._platform.FIREFOX&&("polite"===this._live&&(this._role="status"),"assertive"===this._live&&(this._role="alert"))}attachComponentPortal(e){return this._assertNotAttached(),this._applySnackBarClasses(),this._portalOutlet.attachComponentPortal(e)}attachTemplatePortal(e){return this._assertNotAttached(),this._applySnackBarClasses(),this._portalOutlet.attachTemplatePortal(e)}onAnimationEnd(e){const{fromState:i,toState:r}=e;if(("void"===r&&"void"!==i||"hidden"===r)&&this._completeExit(),"visible"===r){const o=this._onEnter;this._ngZone.run(()=>{o.next(),o.complete()})}}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.detectChanges(),this._screenReaderAnnounce())}exit(){return this._ngZone.run(()=>{this._animationState="hidden",this._elementRef.nativeElement.setAttribute("mat-exit",""),clearTimeout(this._announceTimeoutId)}),this._onExit}ngOnDestroy(){this._destroyed=!0,this._completeExit()}_completeExit(){this._ngZone.onMicrotaskEmpty.pipe((0,ei.q)(1)).subscribe(()=>{this._ngZone.run(()=>{this._onExit.next(),this._onExit.complete()})})}_applySnackBarClasses(){const e=this._elementRef.nativeElement,i=this.snackBarConfig.panelClass;i&&(Array.isArray(i)?i.forEach(r=>e.classList.add(r)):e.classList.add(i)),"center"===this.snackBarConfig.horizontalPosition&&e.classList.add("mat-snack-bar-center"),"top"===this.snackBarConfig.verticalPosition&&e.classList.add("mat-snack-bar-top")}_assertNotAttached(){this._portalOutlet.hasAttached()}_screenReaderAnnounce(){this._announceTimeoutId||this._ngZone.runOutsideAngular(()=>{this._announceTimeoutId=setTimeout(()=>{const e=this._elementRef.nativeElement.querySelector("[aria-hidden]"),i=this._elementRef.nativeElement.querySelector("[aria-live]");if(e&&i){let r=null;this._platform.isBrowser&&document.activeElement instanceof HTMLElement&&e.contains(document.activeElement)&&(r=document.activeElement),e.removeAttribute("aria-hidden"),i.appendChild(e),null==r||r.focus(),this._onAnnounce.next(),this._onAnnounce.complete()}},this._announceDelay)})}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.R0b),s.Y36(s.SBq),s.Y36(s.sBO),s.Y36(Yr),s.Y36(ET))},n.\u0275cmp=s.Xpm({type:n,selectors:[["snack-bar-container"]],viewQuery:function(e,i){if(1&e&&s.Gf(By,7),2&e){let r;s.iGM(r=s.CRH())&&(i._portalOutlet=r.first)}},hostAttrs:[1,"mat-snack-bar-container"],hostVars:1,hostBindings:function(e,i){1&e&&s.WFA("@state.done",function(o){return i.onAnimationEnd(o)}),2&e&&s.d8E("@state",i._animationState)},features:[s.qOj],decls:3,vars:2,consts:[["aria-hidden","true"],["cdkPortalOutlet",""]],template:function(e,i){1&e&&(s.TgZ(0,"div",0),s.YNc(1,gj,0,0,"ng-template",1),s.qZA(),s._UZ(2,"div")),2&e&&(s.xp6(2),s.uIk("aria-live",i._live)("role",i._role))},directives:[By],styles:[".mat-snack-bar-container{border-radius:4px;box-sizing:border-box;display:block;margin:24px;max-width:33vw;min-width:344px;padding:14px 16px;min-height:48px;transform-origin:center}.cdk-high-contrast-active .mat-snack-bar-container{border:solid 1px}.mat-snack-bar-handset{width:100%}.mat-snack-bar-handset .mat-snack-bar-container{margin:8px;max-width:100%;min-width:0;width:100%}\n"],encapsulation:2,data:{animation:[vj.snackBarState]}}),n})(),_P=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[QM,Zw,wr,nC,Wr],Wr]}),n})();const yP=new s.OlP("mat-snack-bar-default-options",{providedIn:"root",factory:function wj(){return new ET}});let Cj=(()=>{class n{constructor(e,i,r,o,u,h){this._overlay=e,this._live=i,this._injector=r,this._breakpointObserver=o,this._parentSnackBar=u,this._defaultConfig=h,this._snackBarRefAtThisLevel=null}get _openedSnackBarRef(){const e=this._parentSnackBar;return e?e._openedSnackBarRef:this._snackBarRefAtThisLevel}set _openedSnackBarRef(e){this._parentSnackBar?this._parentSnackBar._openedSnackBarRef=e:this._snackBarRefAtThisLevel=e}openFromComponent(e,i){return this._attach(e,i)}openFromTemplate(e,i){return this._attach(e,i)}open(e,i="",r){const o=Object.assign(Object.assign({},this._defaultConfig),r);return o.data={message:e,action:i},o.announcementMessage===e&&(o.announcementMessage=void 0),this.openFromComponent(this.simpleSnackBarComponent,o)}dismiss(){this._openedSnackBarRef&&this._openedSnackBarRef.dismiss()}ngOnDestroy(){this._snackBarRefAtThisLevel&&this._snackBarRefAtThisLevel.dismiss()}_attachSnackBarContainer(e,i){const o=s.zs3.create({parent:i&&i.viewContainerRef&&i.viewContainerRef.injector||this._injector,providers:[{provide:ET,useValue:i}]}),u=new Jm(this.snackBarContainerComponent,i.viewContainerRef,o),h=e.attach(u);return h.instance.snackBarConfig=i,h.instance}_attach(e,i){const r=Object.assign(Object.assign(Object.assign({},new ET),this._defaultConfig),i),o=this._createOverlay(r),u=this._attachSnackBarContainer(o,r),h=new Px(u,o);if(e instanceof s.Rgc){const _=new ZM(e,null,{$implicit:r.data,snackBarRef:h});h.instance=u.attachTemplatePortal(_)}else{const _=this._createInjector(r,h),b=new Jm(e,void 0,_),T=u.attachComponentPortal(b);h.instance=T.instance}return this._breakpointObserver.observe("(max-width: 599.98px) and (orientation: portrait)").pipe(Xa(o.detachments())).subscribe(_=>{o.overlayElement.classList.toggle(this.handsetCssClass,_.matches)}),r.announcementMessage&&u._onAnnounce.subscribe(()=>{this._live.announce(r.announcementMessage,r.politeness)}),this._animateSnackBar(h,r),this._openedSnackBarRef=h,this._openedSnackBarRef}_animateSnackBar(e,i){e.afterDismissed().subscribe(()=>{this._openedSnackBarRef==e&&(this._openedSnackBarRef=null),i.announcementMessage&&this._live.clear()}),this._openedSnackBarRef?(this._openedSnackBarRef.afterDismissed().subscribe(()=>{e.containerInstance.enter()}),this._openedSnackBarRef.dismiss()):e.containerInstance.enter(),i.duration&&i.duration>0&&e.afterOpened().subscribe(()=>e._dismissAfter(i.duration))}_createOverlay(e){const i=new XA;i.direction=e.direction;let r=this._overlay.position().global();const o="rtl"===e.direction,u="left"===e.horizontalPosition||"start"===e.horizontalPosition&&!o||"end"===e.horizontalPosition&&o,h=!u&&"center"!==e.horizontalPosition;return u?r.left("0"):h?r.right("0"):r.centerHorizontally(),"top"===e.verticalPosition?r.top("0"):r.bottom("0"),i.positionStrategy=r,this._overlay.create(i)}_createInjector(e,i){return s.zs3.create({parent:e&&e.viewContainerRef&&e.viewContainerRef.injector||this._injector,providers:[{provide:Px,useValue:i},{provide:gP,useValue:e.data}]})}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(xf),s.LFG(uO),s.LFG(s.zs3),s.LFG(pP),s.LFG(n,12),s.LFG(yP))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),iC=(()=>{class n extends Cj{constructor(e,i,r,o,u,h){super(e,i,r,o,u,h),this.simpleSnackBarComponent=yj,this.snackBarContainerComponent=bj,this.handsetCssClass="mat-snack-bar-handset"}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(xf),s.LFG(uO),s.LFG(s.zs3),s.LFG(pP),s.LFG(n,12),s.LFG(yP))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:_P}),n})();function vP(...n){const t=(0,Jn.jO)(n),{args:e,keys:i}=ts(n),r=new Xn.y(o=>{const{length:u}=e;if(!u)return void o.complete();const h=new Array(u);let _=u,b=u;for(let T=0;T<u;T++){let M=!1;(0,Ys.Xf)(e[T]).subscribe((0,On.x)(o,N=>{M||(M=!0,b--),h[T]=N},()=>_--,void 0,()=>{(!_||!M)&&(b||o.next(i?oa(i,h):h),o.complete())}))}});return t?r.pipe(gu(t)):r}class bP{}class wP{}class Ad{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?()=>{this.headers=new Map,t.split("\n").forEach(e=>{const i=e.indexOf(":");if(i>0){const r=e.slice(0,i),o=r.toLowerCase(),u=e.slice(i+1).trim();this.maybeSetNormalizedName(r,o),this.headers.has(o)?this.headers.get(o).push(u):this.headers.set(o,[u])}})}:()=>{this.headers=new Map,Object.keys(t).forEach(e=>{let i=t[e];const r=e.toLowerCase();"string"==typeof i&&(i=[i]),i.length>0&&(this.headers.set(r,i),this.maybeSetNormalizedName(e,r))})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof Ad?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new Ad;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof Ad?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let i=t.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(t.name,e);const r=("a"===t.op?this.headers.get(e):void 0)||[];r.push(...i),this.headers.set(e,r);break;case"d":const o=t.value;if(o){let u=this.headers.get(e);if(!u)return;u=u.filter(h=>-1===o.indexOf(h)),0===u.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,u)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class Ej{encodeKey(t){return CP(t)}encodeValue(t){return CP(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}const Aj=/%(\d[a-f0-9])/gi,Tj={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function CP(n){return encodeURIComponent(n).replace(Aj,(t,e)=>{var i;return null!==(i=Tj[e])&&void 0!==i?i:t})}function EP(n){return`${n}`}class Of{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new Ej,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function Dj(n,t){const e=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(r=>{const o=r.indexOf("="),[u,h]=-1==o?[t.decodeKey(r),""]:[t.decodeKey(r.slice(0,o)),t.decodeValue(r.slice(o+1))],_=e.get(u)||[];_.push(h),e.set(u,_)}),e}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const i=t.fromObject[e];this.map.set(e,Array.isArray(i)?i:[i])})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){const e=[];return Object.keys(t).forEach(i=>{const r=t[i];Array.isArray(r)?r.forEach(o=>{e.push({param:i,value:o,op:"a"})}):e.push({param:i,value:r,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(i=>e+"="+this.encoder.encodeValue(i)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new Of({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(EP(t.value)),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let i=this.map.get(t.param)||[];const r=i.indexOf(EP(t.value));-1!==r&&i.splice(r,1),i.length>0?this.map.set(t.param,i):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}class Ij{constructor(){this.map=new Map}set(t,e){return this.map.set(t,e),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}}function DP(n){return"undefined"!=typeof ArrayBuffer&&n instanceof ArrayBuffer}function AP(n){return"undefined"!=typeof Blob&&n instanceof Blob}function TP(n){return"undefined"!=typeof FormData&&n instanceof FormData}class rC{constructor(t,e,i,r){let o;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function Sj(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==i?i:null,o=r):o=i,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params)),this.headers||(this.headers=new Ad),this.context||(this.context=new Ij),this.params){const u=this.params.toString();if(0===u.length)this.urlWithParams=e;else{const h=e.indexOf("?");this.urlWithParams=e+(-1===h?"?":h<e.length-1?"&":"")+u}}else this.params=new Of,this.urlWithParams=e}serializeBody(){return null===this.body?null:DP(this.body)||AP(this.body)||TP(this.body)||function Mj(n){return"undefined"!=typeof URLSearchParams&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Of?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||TP(this.body)?null:AP(this.body)?this.body.type||null:DP(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Of?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(t={}){var e;const i=t.method||this.method,r=t.url||this.url,o=t.responseType||this.responseType,u=void 0!==t.body?t.body:this.body,h=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,_=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let b=t.headers||this.headers,T=t.params||this.params;const M=null!==(e=t.context)&&void 0!==e?e:this.context;return void 0!==t.setHeaders&&(b=Object.keys(t.setHeaders).reduce((N,j)=>N.set(j,t.setHeaders[j]),b)),t.setParams&&(T=Object.keys(t.setParams).reduce((N,j)=>N.set(j,t.setParams[j]),T)),new rC(i,r,u,{params:T,headers:b,context:M,reportProgress:_,responseType:o,withCredentials:h})}}var gr=(()=>((gr=gr||{})[gr.Sent=0]="Sent",gr[gr.UploadProgress=1]="UploadProgress",gr[gr.ResponseHeader=2]="ResponseHeader",gr[gr.DownloadProgress=3]="DownloadProgress",gr[gr.Response=4]="Response",gr[gr.User=5]="User",gr))();class Nx{constructor(t,e=200,i="OK"){this.headers=t.headers||new Ad,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||i,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class Fx extends Nx{constructor(t={}){super(t),this.type=gr.ResponseHeader}clone(t={}){return new Fx({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class DT extends Nx{constructor(t={}){super(t),this.type=gr.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new DT({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class IP extends Nx{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${t.url||"(unknown url)"}`:`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}function Lx(n,t){return{body:t,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let Vx=(()=>{class n{constructor(e){this.handler=e}request(e,i,r={}){let o;if(e instanceof rC)o=e;else{let _,b;_=r.headers instanceof Ad?r.headers:new Ad(r.headers),r.params&&(b=r.params instanceof Of?r.params:new Of({fromObject:r.params})),o=new rC(e,i,void 0!==r.body?r.body:null,{headers:_,context:r.context,params:b,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials})}const u=ot(o).pipe(Dr(_=>this.handler.handle(_)));if(e instanceof rC||"events"===r.observe)return u;const h=u.pipe(Ci(_=>_ instanceof DT));switch(r.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return h.pipe((0,mt.U)(_=>{if(null!==_.body&&!(_.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return _.body}));case"blob":return h.pipe((0,mt.U)(_=>{if(null!==_.body&&!(_.body instanceof Blob))throw new Error("Response is not a Blob.");return _.body}));case"text":return h.pipe((0,mt.U)(_=>{if(null!==_.body&&"string"!=typeof _.body)throw new Error("Response is not a string.");return _.body}));default:return h.pipe((0,mt.U)(_=>_.body))}case"response":return h;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`)}}delete(e,i={}){return this.request("DELETE",e,i)}get(e,i={}){return this.request("GET",e,i)}head(e,i={}){return this.request("HEAD",e,i)}jsonp(e,i){return this.request("JSONP",e,{params:(new Of).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,i={}){return this.request("OPTIONS",e,i)}patch(e,i,r={}){return this.request("PATCH",e,Lx(r,i))}post(e,i,r={}){return this.request("POST",e,Lx(r,i))}put(e,i,r={}){return this.request("PUT",e,Lx(r,i))}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(bP))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();class SP{constructor(t,e){this.next=t,this.interceptor=e}handle(t){return this.interceptor.intercept(t,this.next)}}const MP=new s.OlP("HTTP_INTERCEPTORS");let xj=(()=>{class n{intercept(e,i){return i.handle(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const kj=/^\)\]\}',?\n/;let xP=(()=>{class n{constructor(e){this.xhrFactory=e}handle(e){if("JSONP"===e.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new Xn.y(i=>{const r=this.xhrFactory.build();if(r.open(e.method,e.urlWithParams),e.withCredentials&&(r.withCredentials=!0),e.headers.forEach((j,Y)=>r.setRequestHeader(j,Y.join(","))),e.headers.has("Accept")||r.setRequestHeader("Accept","application/json, text/plain, */*"),!e.headers.has("Content-Type")){const j=e.detectContentTypeHeader();null!==j&&r.setRequestHeader("Content-Type",j)}if(e.responseType){const j=e.responseType.toLowerCase();r.responseType="json"!==j?j:"text"}const o=e.serializeBody();let u=null;const h=()=>{if(null!==u)return u;const j=r.statusText||"OK",Y=new Ad(r.getAllResponseHeaders()),fe=function Rj(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(r)||e.url;return u=new Fx({headers:Y,status:r.status,statusText:j,url:fe}),u},_=()=>{let{headers:j,status:Y,statusText:fe,url:Te}=h(),Qe=null;204!==Y&&(Qe=void 0===r.response?r.responseText:r.response),0===Y&&(Y=Qe?200:0);let qe=Y>=200&&Y<300;if("json"===e.responseType&&"string"==typeof Qe){const ht=Qe;Qe=Qe.replace(kj,"");try{Qe=""!==Qe?JSON.parse(Qe):null}catch(Ye){Qe=ht,qe&&(qe=!1,Qe={error:Ye,text:Qe})}}qe?(i.next(new DT({body:Qe,headers:j,status:Y,statusText:fe,url:Te||void 0})),i.complete()):i.error(new IP({error:Qe,headers:j,status:Y,statusText:fe,url:Te||void 0}))},b=j=>{const{url:Y}=h(),fe=new IP({error:j,status:r.status||0,statusText:r.statusText||"Unknown Error",url:Y||void 0});i.error(fe)};let T=!1;const M=j=>{T||(i.next(h()),T=!0);let Y={type:gr.DownloadProgress,loaded:j.loaded};j.lengthComputable&&(Y.total=j.total),"text"===e.responseType&&!!r.responseText&&(Y.partialText=r.responseText),i.next(Y)},N=j=>{let Y={type:gr.UploadProgress,loaded:j.loaded};j.lengthComputable&&(Y.total=j.total),i.next(Y)};return r.addEventListener("load",_),r.addEventListener("error",b),r.addEventListener("timeout",b),r.addEventListener("abort",b),e.reportProgress&&(r.addEventListener("progress",M),null!==o&&r.upload&&r.upload.addEventListener("progress",N)),r.send(o),i.next({type:gr.Sent}),()=>{r.removeEventListener("error",b),r.removeEventListener("abort",b),r.removeEventListener("load",_),r.removeEventListener("timeout",b),e.reportProgress&&(r.removeEventListener("progress",M),null!==o&&r.upload&&r.upload.removeEventListener("progress",N)),r.readyState!==r.DONE&&r.abort()}})}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(An))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const Bx=new s.OlP("XSRF_COOKIE_NAME"),Ux=new s.OlP("XSRF_HEADER_NAME");class kP{}let Oj=(()=>{class n{constructor(e,i,r){this.doc=e,this.platform=i,this.cookieName=r,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=Jo(e,this.cookieName),this.lastCookieString=e),this.lastToken}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(H),s.LFG(s.Lbi),s.LFG(Bx))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),jx=(()=>{class n{constructor(e,i){this.tokenService=e,this.headerName=i}intercept(e,i){const r=e.url.toLowerCase();if("GET"===e.method||"HEAD"===e.method||r.startsWith("http://")||r.startsWith("https://"))return i.handle(e);const o=this.tokenService.getToken();return null!==o&&!e.headers.has(this.headerName)&&(e=e.clone({headers:e.headers.set(this.headerName,o)})),i.handle(e)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(kP),s.LFG(Ux))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),Pj=(()=>{class n{constructor(e,i){this.backend=e,this.injector=i,this.chain=null}handle(e){if(null===this.chain){const i=this.injector.get(MP,[]);this.chain=i.reduceRight((r,o)=>new SP(r,o),this.backend)}return this.chain.handle(e)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(wP),s.LFG(s.zs3))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),Nj=(()=>{class n{static disable(){return{ngModule:n,providers:[{provide:jx,useClass:xj}]}}static withOptions(e={}){return{ngModule:n,providers:[e.cookieName?{provide:Bx,useValue:e.cookieName}:[],e.headerName?{provide:Ux,useValue:e.headerName}:[]]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[jx,{provide:MP,useExisting:jx,multi:!0},{provide:kP,useClass:Oj},{provide:Bx,useValue:"XSRF-TOKEN"},{provide:Ux,useValue:"X-XSRF-TOKEN"}]}),n})(),Fj=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[Vx,{provide:bP,useClass:Pj},xP,{provide:wP,useExisting:xP}],imports:[[Nj.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),n})();const Lj=["*"];let AT;function sC(n){var t;return(null===(t=function Vj(){if(void 0===AT&&(AT=null,"undefined"!=typeof window)){const n=window;void 0!==n.trustedTypes&&(AT=n.trustedTypes.createPolicy("angular#components",{createHTML:t=>t}))}return AT}())||void 0===t?void 0:t.createHTML(n))||n}function RP(n){return Error(`Unable to find icon with the name "${n}"`)}function OP(n){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${n}".`)}function PP(n){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${n}".`)}class ag{constructor(t,e,i){this.url=t,this.svgText=e,this.options=i}}let TT=(()=>{class n{constructor(e,i,r,o){this._httpClient=e,this._sanitizer=i,this._errorHandler=o,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass="material-icons",this._document=r}addSvgIcon(e,i,r){return this.addSvgIconInNamespace("",e,i,r)}addSvgIconLiteral(e,i,r){return this.addSvgIconLiteralInNamespace("",e,i,r)}addSvgIconInNamespace(e,i,r,o){return this._addSvgIconConfig(e,i,new ag(r,null,o))}addSvgIconResolver(e){return this._resolvers.push(e),this}addSvgIconLiteralInNamespace(e,i,r,o){const u=this._sanitizer.sanitize(s.q3G.HTML,r);if(!u)throw PP(r);const h=sC(u);return this._addSvgIconConfig(e,i,new ag("",h,o))}addSvgIconSet(e,i){return this.addSvgIconSetInNamespace("",e,i)}addSvgIconSetLiteral(e,i){return this.addSvgIconSetLiteralInNamespace("",e,i)}addSvgIconSetInNamespace(e,i,r){return this._addSvgIconSetConfig(e,new ag(i,null,r))}addSvgIconSetLiteralInNamespace(e,i,r){const o=this._sanitizer.sanitize(s.q3G.HTML,i);if(!o)throw PP(i);const u=sC(o);return this._addSvgIconSetConfig(e,new ag("",u,r))}registerFontClassAlias(e,i=e){return this._fontCssClassesByAlias.set(e,i),this}classNameForFontAlias(e){return this._fontCssClassesByAlias.get(e)||e}setDefaultFontSetClass(e){return this._defaultFontSetClass=e,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(e){const i=this._sanitizer.sanitize(s.q3G.RESOURCE_URL,e);if(!i)throw OP(e);const r=this._cachedIconsByUrl.get(i);return r?ot(IT(r)):this._loadSvgIconFromConfig(new ag(e,null)).pipe((0,Oi.b)(o=>this._cachedIconsByUrl.set(i,o)),(0,mt.U)(o=>IT(o)))}getNamedSvgIcon(e,i=""){const r=NP(i,e);let o=this._svgIconConfigs.get(r);if(o)return this._getSvgFromConfig(o);if(o=this._getIconConfigFromResolvers(i,e),o)return this._svgIconConfigs.set(r,o),this._getSvgFromConfig(o);const u=this._iconSetConfigs.get(i);return u?this._getSvgFromIconSetConfigs(e,u):ns(RP(r))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(e){return e.svgText?ot(IT(this._svgElementFromConfig(e))):this._loadSvgIconFromConfig(e).pipe((0,mt.U)(i=>IT(i)))}_getSvgFromIconSetConfigs(e,i){const r=this._extractIconWithNameFromAnySet(e,i);return r?ot(r):vP(i.filter(u=>!u.svgText).map(u=>this._loadSvgIconSetFromConfig(u).pipe(ss(h=>{const b=`Loading icon set URL: ${this._sanitizer.sanitize(s.q3G.RESOURCE_URL,u.url)} failed: ${h.message}`;return this._errorHandler.handleError(new Error(b)),ot(null)})))).pipe((0,mt.U)(()=>{const u=this._extractIconWithNameFromAnySet(e,i);if(!u)throw RP(e);return u}))}_extractIconWithNameFromAnySet(e,i){for(let r=i.length-1;r>=0;r--){const o=i[r];if(o.svgText&&o.svgText.toString().indexOf(e)>-1){const u=this._svgElementFromConfig(o),h=this._extractSvgIconFromSet(u,e,o.options);if(h)return h}}return null}_loadSvgIconFromConfig(e){return this._fetchIcon(e).pipe((0,Oi.b)(i=>e.svgText=i),(0,mt.U)(()=>this._svgElementFromConfig(e)))}_loadSvgIconSetFromConfig(e){return e.svgText?ot(null):this._fetchIcon(e).pipe((0,Oi.b)(i=>e.svgText=i))}_extractSvgIconFromSet(e,i,r){const o=e.querySelector(`[id="${i}"]`);if(!o)return null;const u=o.cloneNode(!0);if(u.removeAttribute("id"),"svg"===u.nodeName.toLowerCase())return this._setSvgAttributes(u,r);if("symbol"===u.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(u),r);const h=this._svgElementFromString(sC("<svg></svg>"));return h.appendChild(u),this._setSvgAttributes(h,r)}_svgElementFromString(e){const i=this._document.createElement("DIV");i.innerHTML=e;const r=i.querySelector("svg");if(!r)throw Error("<svg> tag not found");return r}_toSvgElement(e){const i=this._svgElementFromString(sC("<svg></svg>")),r=e.attributes;for(let o=0;o<r.length;o++){const{name:u,value:h}=r[o];"id"!==u&&i.setAttribute(u,h)}for(let o=0;o<e.childNodes.length;o++)e.childNodes[o].nodeType===this._document.ELEMENT_NODE&&i.appendChild(e.childNodes[o].cloneNode(!0));return i}_setSvgAttributes(e,i){return e.setAttribute("fit",""),e.setAttribute("height","100%"),e.setAttribute("width","100%"),e.setAttribute("preserveAspectRatio","xMidYMid meet"),e.setAttribute("focusable","false"),i&&i.viewBox&&e.setAttribute("viewBox",i.viewBox),e}_fetchIcon(e){var i;const{url:r,options:o}=e,u=null!==(i=null==o?void 0:o.withCredentials)&&void 0!==i&&i;if(!this._httpClient)throw function Bj(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==r)throw Error(`Cannot fetch icon from URL "${r}".`);const h=this._sanitizer.sanitize(s.q3G.RESOURCE_URL,r);if(!h)throw OP(r);const _=this._inProgressUrlFetches.get(h);if(_)return _;const b=this._httpClient.get(h,{responseType:"text",withCredentials:u}).pipe((0,mt.U)(T=>sC(T)),ih(()=>this._inProgressUrlFetches.delete(h)),(0,F1.B)());return this._inProgressUrlFetches.set(h,b),b}_addSvgIconConfig(e,i,r){return this._svgIconConfigs.set(NP(e,i),r),this}_addSvgIconSetConfig(e,i){const r=this._iconSetConfigs.get(e);return r?r.push(i):this._iconSetConfigs.set(e,[i]),this}_svgElementFromConfig(e){if(!e.svgElement){const i=this._svgElementFromString(e.svgText);this._setSvgAttributes(i,e.options),e.svgElement=i}return e.svgElement}_getIconConfigFromResolvers(e,i){for(let r=0;r<this._resolvers.length;r++){const o=this._resolvers[r](i,e);if(o)return jj(o)?new ag(o.url,null,o.options):new ag(o,null)}}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Vx,8),s.LFG(Fr),s.LFG(H,8),s.LFG(s.qLn))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function IT(n){return n.cloneNode(!0)}function NP(n,t){return n+":"+t}function jj(n){return!(!n.url||!n.options)}const Hj=Gy(class{constructor(n){this._elementRef=n}}),zj=new s.OlP("mat-icon-location",{providedIn:"root",factory:function $j(){const n=(0,s.f3M)(H),t=n?n.location:null;return{getPathname:()=>t?t.pathname+t.search:""}}}),FP=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],Gj=FP.map(n=>`[${n}]`).join(", "),qj=/^url\(['"]?#(.*?)['"]?\)$/;let Yy=(()=>{class n extends Hj{constructor(e,i,r,o,u){super(e),this._iconRegistry=i,this._location=o,this._errorHandler=u,this._inline=!1,this._currentIconFetch=qn.w0.EMPTY,r||e.nativeElement.setAttribute("aria-hidden","true")}get inline(){return this._inline}set inline(e){this._inline=er(e)}get svgIcon(){return this._svgIcon}set svgIcon(e){e!==this._svgIcon&&(e?this._updateSvgIcon(e):this._svgIcon&&this._clearSvgElement(),this._svgIcon=e)}get fontSet(){return this._fontSet}set fontSet(e){const i=this._cleanupFontValue(e);i!==this._fontSet&&(this._fontSet=i,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(e){const i=this._cleanupFontValue(e);i!==this._fontIcon&&(this._fontIcon=i,this._updateFontIconClasses())}_splitIconName(e){if(!e)return["",""];const i=e.split(":");switch(i.length){case 1:return["",i[0]];case 2:return i;default:throw Error(`Invalid icon name: "${e}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const e=this._elementsWithExternalReferences;if(e&&e.size){const i=this._location.getPathname();i!==this._previousPath&&(this._previousPath=i,this._prependPathToReferences(i))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(e){this._clearSvgElement();const i=this._location.getPathname();this._previousPath=i,this._cacheChildrenWithExternalReferences(e),this._prependPathToReferences(i),this._elementRef.nativeElement.appendChild(e)}_clearSvgElement(){const e=this._elementRef.nativeElement;let i=e.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();i--;){const r=e.childNodes[i];(1!==r.nodeType||"svg"===r.nodeName.toLowerCase())&&r.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const e=this._elementRef.nativeElement,i=this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet):this._iconRegistry.getDefaultFontSetClass();i!=this._previousFontSetClass&&(this._previousFontSetClass&&e.classList.remove(this._previousFontSetClass),i&&e.classList.add(i),this._previousFontSetClass=i),this.fontIcon!=this._previousFontIconClass&&(this._previousFontIconClass&&e.classList.remove(this._previousFontIconClass),this.fontIcon&&e.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(e){return"string"==typeof e?e.trim().split(" ")[0]:e}_prependPathToReferences(e){const i=this._elementsWithExternalReferences;i&&i.forEach((r,o)=>{r.forEach(u=>{o.setAttribute(u.name,`url('${e}#${u.value}')`)})})}_cacheChildrenWithExternalReferences(e){const i=e.querySelectorAll(Gj),r=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let o=0;o<i.length;o++)FP.forEach(u=>{const h=i[o],_=h.getAttribute(u),b=_?_.match(qj):null;if(b){let T=r.get(h);T||(T=[],r.set(h,T)),T.push({name:u,value:b[1]})}})}_updateSvgIcon(e){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),e){const[i,r]=this._splitIconName(e);i&&(this._svgNamespace=i),r&&(this._svgName=r),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(r,i).pipe((0,ei.q)(1)).subscribe(o=>this._setSvgElement(o),o=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${i}:${r}! ${o.message}`))})}}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(TT),s.$8M("aria-hidden"),s.Y36(zj),s.Y36(s.qLn))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:7,hostBindings:function(e,i){2&e&&(s.uIk("data-mat-icon-type",i._usingFontIcon()?"font":"svg")("data-mat-icon-name",i._svgName||i.fontIcon)("data-mat-icon-namespace",i._svgNamespace||i.fontSet),s.ekj("mat-icon-inline",i.inline)("mat-icon-no-color","primary"!==i.color&&"accent"!==i.color&&"warn"!==i.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[s.qOj],ngContentSelectors:Lj,decls:1,vars:0,template:function(e,i){1&e&&(s.F$t(),s.Hsn(0))},styles:[".mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}\n"],encapsulation:2,changeDetection:0}),n})(),Hx=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[Wr],Wr]}),n})(),Zy=(()=>{class n{constructor(e,i){this.authService=e,this.router=i,this.title="HelloYo!"}account(){this.router.navigate(this.authService.uid?["/user/"+this.authService.uid]:["/user/signin"])}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(qm),s.Y36(Ei))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-up-bar"]],inputs:{title:"title"},decls:12,vars:1,consts:[["id","hello"],["id","gram"],["id","flex"],["id","logo"],["mat-icon-button","","id","toright",3,"click"],["id","gap"]],template:function(e,i){1&e&&(s.TgZ(0,"div")(1,"b",0),s._uU(2),s.qZA()(),s._UZ(3,"div",1),s.TgZ(4,"div",2)(5,"div",3)(6,"b"),s._uU(7,"PlaceYo!"),s.qZA()(),s.TgZ(8,"button",4),s.NdJ("click",function(){return i.account()}),s.TgZ(9,"mat-icon"),s._uU(10,"account_circle"),s.qZA()()(),s._UZ(11,"div",5)),2&e&&(s.xp6(2),s.Oqu(i.title))},directives:[Yo,Yy],styles:["#flex[_ngcontent-%COMP%]{display:flex;height:60px;background-color:gold;align-items:center;padding:0 15px;font-size:15px;box-shadow:#000 0 0 10px;position:fixed;width:100%;z-index:1000}#logo[_ngcontent-%COMP%]{font-family:MainFont}#toright[_ngcontent-%COMP%]{margin-left:auto;margin-right:30px}#hello[_ngcontent-%COMP%]{z-index:1004;position:fixed;left:50%;transform:translate(-50%);white-space:nowrap;font-size:25px;padding-top:20px}@keyframes move{0%{left:0}50%{left:85%}to{left:0}}#gram[_ngcontent-%COMP%]{z-index:1002;position:fixed;width:40px;height:60px;transform:skew(20deg);background:rgba(255,255,255,.158);animation-name:move;animation-duration:10s;animation-iteration-count:10;animation-timing-function:ease-in-out}#gap[_ngcontent-%COMP%]{height:60px;width:10px}"]}),n})();const Yj=["connectionContainer"],Zj=["inputContainer"],Wj=["label"];function Kj(n,t){1&n&&(s.ynx(0),s.TgZ(1,"div",14),s._UZ(2,"div",15)(3,"div",16)(4,"div",17),s.qZA(),s.TgZ(5,"div",18),s._UZ(6,"div",15)(7,"div",16)(8,"div",17),s.qZA(),s.BQk())}function Qj(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",19),s.NdJ("cdkObserveContent",function(){return s.CHM(e),s.oxw().updateOutlineGap()}),s.Hsn(1,1),s.qZA()}if(2&n){const e=s.oxw();s.Q6J("cdkObserveContentDisabled","outline"!=e.appearance)}}function Jj(n,t){if(1&n&&(s.ynx(0),s.Hsn(1,2),s.TgZ(2,"span"),s._uU(3),s.qZA(),s.BQk()),2&n){const e=s.oxw(2);s.xp6(3),s.Oqu(e._control.placeholder)}}function Xj(n,t){1&n&&s.Hsn(0,3,["*ngSwitchCase","true"])}function e6(n,t){1&n&&(s.TgZ(0,"span",23),s._uU(1," *"),s.qZA())}function t6(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"label",20,21),s.NdJ("cdkObserveContent",function(){return s.CHM(e),s.oxw().updateOutlineGap()}),s.YNc(2,Jj,4,1,"ng-container",12),s.YNc(3,Xj,1,0,"ng-content",12),s.YNc(4,e6,2,0,"span",22),s.qZA()}if(2&n){const e=s.oxw();s.ekj("mat-empty",e._control.empty&&!e._shouldAlwaysFloat())("mat-form-field-empty",e._control.empty&&!e._shouldAlwaysFloat())("mat-accent","accent"==e.color)("mat-warn","warn"==e.color),s.Q6J("cdkObserveContentDisabled","outline"!=e.appearance)("id",e._labelId)("ngSwitch",e._hasLabel()),s.uIk("for",e._control.id)("aria-owns",e._control.id),s.xp6(2),s.Q6J("ngSwitchCase",!1),s.xp6(1),s.Q6J("ngSwitchCase",!0),s.xp6(1),s.Q6J("ngIf",!e.hideRequiredMarker&&e._control.required&&!e._control.disabled)}}function n6(n,t){1&n&&(s.TgZ(0,"div",24),s.Hsn(1,4),s.qZA())}function i6(n,t){if(1&n&&(s.TgZ(0,"div",25),s._UZ(1,"span",26),s.qZA()),2&n){const e=s.oxw();s.xp6(1),s.ekj("mat-accent","accent"==e.color)("mat-warn","warn"==e.color)}}function r6(n,t){if(1&n&&(s.TgZ(0,"div"),s.Hsn(1,5),s.qZA()),2&n){const e=s.oxw();s.Q6J("@transitionMessages",e._subscriptAnimationState)}}function s6(n,t){if(1&n&&(s.TgZ(0,"div",30),s._uU(1),s.qZA()),2&n){const e=s.oxw(2);s.Q6J("id",e._hintLabelId),s.xp6(1),s.Oqu(e.hintLabel)}}function o6(n,t){if(1&n&&(s.TgZ(0,"div",27),s.YNc(1,s6,2,2,"div",28),s.Hsn(2,6),s._UZ(3,"div",29),s.Hsn(4,7),s.qZA()),2&n){const e=s.oxw();s.Q6J("@transitionMessages",e._subscriptAnimationState),s.xp6(1),s.Q6J("ngIf",e.hintLabel)}}const a6=["*",[["","matPrefix",""]],[["mat-placeholder"]],[["mat-label"]],[["","matSuffix",""]],[["mat-error"]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],l6=["*","[matPrefix]","mat-placeholder","mat-label","[matSuffix]","mat-error","mat-hint:not([align='end'])","mat-hint[align='end']"],c6=new s.OlP("MatError"),u6={transitionMessages:Qw("transitionMessages",[eg("enter",Zr({opacity:1,transform:"translateY(0%)"})),Dd("void => enter",[Zr({opacity:0,transform:"translateY(-5px)"}),Ed("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let zx=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n}),n})(),d6=0;const LP=new s.OlP("MatHint");let oC=(()=>{class n{constructor(){this.align="start",this.id="mat-hint-"+d6++}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n,selectors:[["mat-hint"]],hostAttrs:[1,"mat-hint"],hostVars:4,hostBindings:function(e,i){2&e&&(s.uIk("id",i.id)("align",null),s.ekj("mat-form-field-hint-end","end"===i.align))},inputs:{align:"align",id:"id"},features:[s._Bn([{provide:LP,useExisting:n}])]}),n})(),lg=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n,selectors:[["mat-label"]]}),n})(),h6=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n,selectors:[["mat-placeholder"]]}),n})();const VP=new s.OlP("MatPrefix");let BP=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n,selectors:[["","matPrefix",""]],features:[s._Bn([{provide:VP,useExisting:n}])]}),n})();const UP=new s.OlP("MatSuffix");let $x=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n,selectors:[["","matSuffix",""]],features:[s._Bn([{provide:UP,useExisting:n}])]}),n})(),jP=0;const p6=Gy(class{constructor(n){this._elementRef=n}},"primary"),m6=new s.OlP("MAT_FORM_FIELD_DEFAULT_OPTIONS"),Gx=new s.OlP("MatFormField");let cg=(()=>{class n extends p6{constructor(e,i,r,o,u,h,_){super(e),this._changeDetectorRef=i,this._dir=r,this._defaults=o,this._platform=u,this._ngZone=h,this._outlineGapCalculationNeededImmediately=!1,this._outlineGapCalculationNeededOnStable=!1,this._destroyed=new dt.x,this._showAlwaysAnimate=!1,this._subscriptAnimationState="",this._hintLabel="",this._hintLabelId="mat-hint-"+jP++,this._labelId="mat-form-field-label-"+jP++,this.floatLabel=this._getDefaultFloatLabelState(),this._animationsEnabled="NoopAnimations"!==_,this.appearance=o&&o.appearance?o.appearance:"legacy",this._hideRequiredMarker=!(!o||null==o.hideRequiredMarker)&&o.hideRequiredMarker}get appearance(){return this._appearance}set appearance(e){const i=this._appearance;this._appearance=e||this._defaults&&this._defaults.appearance||"legacy","outline"===this._appearance&&i!==e&&(this._outlineGapCalculationNeededOnStable=!0)}get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(e){this._hideRequiredMarker=er(e)}_shouldAlwaysFloat(){return"always"===this.floatLabel&&!this._showAlwaysAnimate}_canLabelFloat(){return"never"!==this.floatLabel}get hintLabel(){return this._hintLabel}set hintLabel(e){this._hintLabel=e,this._processHints()}get floatLabel(){return"legacy"!==this.appearance&&"never"===this._floatLabel?"auto":this._floatLabel}set floatLabel(e){e!==this._floatLabel&&(this._floatLabel=e||this._getDefaultFloatLabelState(),this._changeDetectorRef.markForCheck())}get _control(){return this._explicitFormFieldControl||this._controlNonStatic||this._controlStatic}set _control(e){this._explicitFormFieldControl=e}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._connectionContainerRef||this._elementRef}ngAfterContentInit(){this._validateControlChild();const e=this._control;e.controlType&&this._elementRef.nativeElement.classList.add(`mat-form-field-type-${e.controlType}`),e.stateChanges.pipe(ai(null)).subscribe(()=>{this._validatePlaceholders(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),e.ngControl&&e.ngControl.valueChanges&&e.ngControl.valueChanges.pipe(Xa(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(Xa(this._destroyed)).subscribe(()=>{this._outlineGapCalculationNeededOnStable&&this.updateOutlineGap()})}),(0,Ny.T)(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._outlineGapCalculationNeededOnStable=!0,this._changeDetectorRef.markForCheck()}),this._hintChildren.changes.pipe(ai(null)).subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.pipe(ai(null)).subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._dir&&this._dir.change.pipe(Xa(this._destroyed)).subscribe(()=>{"function"==typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this.updateOutlineGap())}):this.updateOutlineGap()})}ngAfterContentChecked(){this._validateControlChild(),this._outlineGapCalculationNeededImmediately&&this.updateOutlineGap()}ngAfterViewInit(){this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_shouldForward(e){const i=this._control?this._control.ngControl:null;return i&&i[e]}_hasPlaceholder(){return!!(this._control&&this._control.placeholder||this._placeholderChild)}_hasLabel(){return!(!this._labelChildNonStatic&&!this._labelChildStatic)}_shouldLabelFloat(){return this._canLabelFloat()&&(this._control&&this._control.shouldLabelFloat||this._shouldAlwaysFloat())}_hideControlPlaceholder(){return"legacy"===this.appearance&&!this._hasLabel()||this._hasLabel()&&!this._shouldLabelFloat()}_hasFloatingLabel(){return this._hasLabel()||"legacy"===this.appearance&&this._hasPlaceholder()}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_animateAndLockLabel(){this._hasFloatingLabel()&&this._canLabelFloat()&&(this._animationsEnabled&&this._label&&(this._showAlwaysAnimate=!0,YA(this._label.nativeElement,"transitionend").pipe((0,ei.q)(1)).subscribe(()=>{this._showAlwaysAnimate=!1})),this.floatLabel="always",this._changeDetectorRef.markForCheck())}_validatePlaceholders(){}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_getDefaultFloatLabelState(){return this._defaults&&this._defaults.floatLabel||"auto"}_syncDescribedByIds(){if(this._control){let e=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&e.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const i=this._hintChildren?this._hintChildren.find(o=>"start"===o.align):null,r=this._hintChildren?this._hintChildren.find(o=>"end"===o.align):null;i?e.push(i.id):this._hintLabel&&e.push(this._hintLabelId),r&&e.push(r.id)}else this._errorChildren&&e.push(...this._errorChildren.map(i=>i.id));this._control.setDescribedByIds(e)}}_validateControlChild(){}updateOutlineGap(){const e=this._label?this._label.nativeElement:null,i=this._connectionContainerRef.nativeElement,r=".mat-form-field-outline-start",o=".mat-form-field-outline-gap";if("outline"!==this.appearance||!this._platform.isBrowser)return;if(!e||!e.children.length||!e.textContent.trim()){const T=i.querySelectorAll(`${r}, ${o}`);for(let M=0;M<T.length;M++)T[M].style.width="0";return}if(!this._isAttachedToDOM())return void(this._outlineGapCalculationNeededImmediately=!0);let u=0,h=0;const _=i.querySelectorAll(r),b=i.querySelectorAll(o);if(this._label&&this._label.nativeElement.children.length){const T=i.getBoundingClientRect();if(0===T.width&&0===T.height)return this._outlineGapCalculationNeededOnStable=!0,void(this._outlineGapCalculationNeededImmediately=!1);const M=this._getStartEnd(T),N=e.children,j=this._getStartEnd(N[0].getBoundingClientRect());let Y=0;for(let fe=0;fe<N.length;fe++)Y+=N[fe].offsetWidth;u=Math.abs(j-M)-5,h=Y>0?.75*Y+10:0}for(let T=0;T<_.length;T++)_[T].style.width=`${u}px`;for(let T=0;T<b.length;T++)b[T].style.width=`${h}px`;this._outlineGapCalculationNeededOnStable=this._outlineGapCalculationNeededImmediately=!1}_getStartEnd(e){return this._dir&&"rtl"===this._dir.value?e.right:e.left}_isAttachedToDOM(){const e=this._elementRef.nativeElement;if(e.getRootNode){const i=e.getRootNode();return i&&i!==e}return document.documentElement.contains(e)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(s.sBO),s.Y36(Mf,8),s.Y36(m6,8),s.Y36(Yr),s.Y36(s.R0b),s.Y36(sg,8))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-form-field"]],contentQueries:function(e,i,r){if(1&e&&(s.Suo(r,zx,5),s.Suo(r,zx,7),s.Suo(r,lg,5),s.Suo(r,lg,7),s.Suo(r,h6,5),s.Suo(r,c6,5),s.Suo(r,LP,5),s.Suo(r,VP,5),s.Suo(r,UP,5)),2&e){let o;s.iGM(o=s.CRH())&&(i._controlNonStatic=o.first),s.iGM(o=s.CRH())&&(i._controlStatic=o.first),s.iGM(o=s.CRH())&&(i._labelChildNonStatic=o.first),s.iGM(o=s.CRH())&&(i._labelChildStatic=o.first),s.iGM(o=s.CRH())&&(i._placeholderChild=o.first),s.iGM(o=s.CRH())&&(i._errorChildren=o),s.iGM(o=s.CRH())&&(i._hintChildren=o),s.iGM(o=s.CRH())&&(i._prefixChildren=o),s.iGM(o=s.CRH())&&(i._suffixChildren=o)}},viewQuery:function(e,i){if(1&e&&(s.Gf(Yj,7),s.Gf(Zj,5),s.Gf(Wj,5)),2&e){let r;s.iGM(r=s.CRH())&&(i._connectionContainerRef=r.first),s.iGM(r=s.CRH())&&(i._inputContainerRef=r.first),s.iGM(r=s.CRH())&&(i._label=r.first)}},hostAttrs:[1,"mat-form-field"],hostVars:40,hostBindings:function(e,i){2&e&&s.ekj("mat-form-field-appearance-standard","standard"==i.appearance)("mat-form-field-appearance-fill","fill"==i.appearance)("mat-form-field-appearance-outline","outline"==i.appearance)("mat-form-field-appearance-legacy","legacy"==i.appearance)("mat-form-field-invalid",i._control.errorState)("mat-form-field-can-float",i._canLabelFloat())("mat-form-field-should-float",i._shouldLabelFloat())("mat-form-field-has-label",i._hasFloatingLabel())("mat-form-field-hide-placeholder",i._hideControlPlaceholder())("mat-form-field-disabled",i._control.disabled)("mat-form-field-autofilled",i._control.autofilled)("mat-focused",i._control.focused)("ng-untouched",i._shouldForward("untouched"))("ng-touched",i._shouldForward("touched"))("ng-pristine",i._shouldForward("pristine"))("ng-dirty",i._shouldForward("dirty"))("ng-valid",i._shouldForward("valid"))("ng-invalid",i._shouldForward("invalid"))("ng-pending",i._shouldForward("pending"))("_mat-animation-noopable",!i._animationsEnabled)},inputs:{color:"color",appearance:"appearance",hideRequiredMarker:"hideRequiredMarker",hintLabel:"hintLabel",floatLabel:"floatLabel"},exportAs:["matFormField"],features:[s._Bn([{provide:Gx,useExisting:n}]),s.qOj],ngContentSelectors:l6,decls:15,vars:8,consts:[[1,"mat-form-field-wrapper"],[1,"mat-form-field-flex",3,"click"],["connectionContainer",""],[4,"ngIf"],["class","mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent",4,"ngIf"],[1,"mat-form-field-infix"],["inputContainer",""],[1,"mat-form-field-label-wrapper"],["class","mat-form-field-label",3,"cdkObserveContentDisabled","id","mat-empty","mat-form-field-empty","mat-accent","mat-warn","ngSwitch","cdkObserveContent",4,"ngIf"],["class","mat-form-field-suffix",4,"ngIf"],["class","mat-form-field-underline",4,"ngIf"],[1,"mat-form-field-subscript-wrapper",3,"ngSwitch"],[4,"ngSwitchCase"],["class","mat-form-field-hint-wrapper",4,"ngSwitchCase"],[1,"mat-form-field-outline"],[1,"mat-form-field-outline-start"],[1,"mat-form-field-outline-gap"],[1,"mat-form-field-outline-end"],[1,"mat-form-field-outline","mat-form-field-outline-thick"],[1,"mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent"],[1,"mat-form-field-label",3,"cdkObserveContentDisabled","id","ngSwitch","cdkObserveContent"],["label",""],["class","mat-placeholder-required mat-form-field-required-marker","aria-hidden","true",4,"ngIf"],["aria-hidden","true",1,"mat-placeholder-required","mat-form-field-required-marker"],[1,"mat-form-field-suffix"],[1,"mat-form-field-underline"],[1,"mat-form-field-ripple"],[1,"mat-form-field-hint-wrapper"],["class","mat-hint",3,"id",4,"ngIf"],[1,"mat-form-field-hint-spacer"],[1,"mat-hint",3,"id"]],template:function(e,i){1&e&&(s.F$t(a6),s.TgZ(0,"div",0)(1,"div",1,2),s.NdJ("click",function(o){return i._control.onContainerClick&&i._control.onContainerClick(o)}),s.YNc(3,Kj,9,0,"ng-container",3),s.YNc(4,Qj,2,1,"div",4),s.TgZ(5,"div",5,6),s.Hsn(7),s.TgZ(8,"span",7),s.YNc(9,t6,5,16,"label",8),s.qZA()(),s.YNc(10,n6,2,0,"div",9),s.qZA(),s.YNc(11,i6,2,4,"div",10),s.TgZ(12,"div",11),s.YNc(13,r6,2,1,"div",12),s.YNc(14,o6,5,2,"div",13),s.qZA()()),2&e&&(s.xp6(3),s.Q6J("ngIf","outline"==i.appearance),s.xp6(1),s.Q6J("ngIf",i._prefixChildren.length),s.xp6(5),s.Q6J("ngIf",i._hasFloatingLabel()),s.xp6(1),s.Q6J("ngIf",i._suffixChildren.length),s.xp6(1),s.Q6J("ngIf","outline"!=i.appearance),s.xp6(1),s.Q6J("ngSwitch",i._getDisplayedMessages()),s.xp6(1),s.Q6J("ngSwitchCase","error"),s.xp6(1),s.Q6J("ngSwitchCase","hint"))},directives:[Fn,wB,ir,zi],styles:[".mat-form-field{display:inline-block;position:relative;text-align:left}[dir=rtl] .mat-form-field{text-align:right}.mat-form-field-wrapper{position:relative}.mat-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-form-field-prefix,.mat-form-field-suffix{white-space:nowrap;flex:none;position:relative}.mat-form-field-infix{display:block;position:relative;flex:auto;min-width:0;width:180px}.cdk-high-contrast-active .mat-form-field-infix{border-image:linear-gradient(transparent, transparent)}.mat-form-field-label-wrapper{position:absolute;left:0;box-sizing:content-box;width:100%;height:100%;overflow:hidden;pointer-events:none}[dir=rtl] .mat-form-field-label-wrapper{left:auto;right:0}.mat-form-field-label{position:absolute;left:0;font:inherit;pointer-events:none;width:100%;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;transform-origin:0 0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),width 400ms cubic-bezier(0.25, 0.8, 0.25, 1);display:none}[dir=rtl] .mat-form-field-label{transform-origin:100% 0;left:auto;right:0}.cdk-high-contrast-active .mat-form-field-disabled .mat-form-field-label{color:GrayText}.mat-form-field-empty.mat-form-field-label,.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label{display:block}.mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:block;transition:none}.mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-form-field-can-float .mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:block}.mat-form-field-label:not(.mat-form-field-empty){transition:none}.mat-form-field-underline{position:absolute;width:100%;pointer-events:none;transform:scale3d(1, 1.0001, 1)}.mat-form-field-ripple{position:absolute;left:0;width:100%;transform-origin:50%;transform:scaleX(0.5);opacity:0;transition:background-color 300ms cubic-bezier(0.55, 0, 0.55, 0.2)}.mat-form-field.mat-focused .mat-form-field-ripple,.mat-form-field.mat-form-field-invalid .mat-form-field-ripple{opacity:1;transform:none;transition:transform 300ms cubic-bezier(0.25, 0.8, 0.25, 1),opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 300ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-subscript-wrapper{position:absolute;box-sizing:border-box;width:100%;overflow:hidden}.mat-form-field-subscript-wrapper .mat-icon,.mat-form-field-label-wrapper .mat-icon{width:1em;height:1em;font-size:inherit;vertical-align:baseline}.mat-form-field-hint-wrapper{display:flex}.mat-form-field-hint-spacer{flex:1 0 1em}.mat-error{display:block}.mat-form-field-control-wrapper{position:relative}.mat-form-field-hint-end{order:1}.mat-form-field._mat-animation-noopable .mat-form-field-label,.mat-form-field._mat-animation-noopable .mat-form-field-ripple{transition:none}\n",'.mat-form-field-appearance-fill .mat-form-field-flex{border-radius:4px 4px 0 0;padding:.75em .75em 0 .75em}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-flex{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-form-field-flex{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-form-field-flex{outline:dashed 3px}.mat-form-field-appearance-fill .mat-form-field-underline::before{content:"";display:block;position:absolute;bottom:0;height:1px;width:100%}.mat-form-field-appearance-fill .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-ripple{height:0}.mat-form-field-appearance-fill:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-fill._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}.mat-form-field-appearance-fill .mat-form-field-subscript-wrapper{padding:0 1em}\n','.mat-input-element{font:inherit;background:transparent;color:currentColor;border:none;outline:none;padding:0;margin:0;width:100%;max-width:100%;vertical-align:bottom;text-align:inherit;box-sizing:content-box}.mat-input-element:-moz-ui-invalid{box-shadow:none}.mat-input-element,.mat-input-element::-webkit-search-cancel-button,.mat-input-element::-webkit-search-decoration,.mat-input-element::-webkit-search-results-button,.mat-input-element::-webkit-search-results-decoration{-webkit-appearance:none}.mat-input-element::-webkit-contacts-auto-fill-button,.mat-input-element::-webkit-caps-lock-indicator,.mat-input-element:not([type=password])::-webkit-credentials-auto-fill-button{visibility:hidden}.mat-input-element[type=date],.mat-input-element[type=datetime],.mat-input-element[type=datetime-local],.mat-input-element[type=month],.mat-input-element[type=week],.mat-input-element[type=time]{line-height:1}.mat-input-element[type=date]::after,.mat-input-element[type=datetime]::after,.mat-input-element[type=datetime-local]::after,.mat-input-element[type=month]::after,.mat-input-element[type=week]::after,.mat-input-element[type=time]::after{content:" ";white-space:pre;width:1px}.mat-input-element::-webkit-inner-spin-button,.mat-input-element::-webkit-calendar-picker-indicator,.mat-input-element::-webkit-clear-button{font-size:.75em}.mat-input-element::placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-moz-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-webkit-input-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element:-ms-input-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-hide-placeholder .mat-input-element::placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{opacity:0}textarea.mat-input-element{resize:vertical;overflow:auto}textarea.mat-input-element.cdk-textarea-autosize{resize:none}textarea.mat-input-element{padding:2px 0;margin:-2px 0}select.mat-input-element{-moz-appearance:none;-webkit-appearance:none;position:relative;background-color:transparent;display:inline-flex;box-sizing:border-box;padding-top:1em;top:-1em;margin-bottom:-1em}select.mat-input-element::-moz-focus-inner{border:0}select.mat-input-element:not(:disabled){cursor:pointer}.mat-form-field-type-mat-native-select .mat-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;position:absolute;top:50%;right:0;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-form-field-type-mat-native-select .mat-form-field-infix::after{right:auto;left:0}.mat-form-field-type-mat-native-select .mat-input-element{padding-right:15px}[dir=rtl] .mat-form-field-type-mat-native-select .mat-input-element{padding-right:0;padding-left:15px}.mat-form-field-type-mat-native-select .mat-form-field-label-wrapper{max-width:calc(100% - 10px)}.mat-form-field-type-mat-native-select.mat-form-field-appearance-outline .mat-form-field-infix::after{margin-top:-5px}.mat-form-field-type-mat-native-select.mat-form-field-appearance-fill .mat-form-field-infix::after{margin-top:-10px}\n',".mat-form-field-appearance-legacy .mat-form-field-label{transform:perspective(100px)}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon{width:1em}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button{font:inherit;vertical-align:baseline}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button .mat-icon{font-size:inherit}.mat-form-field-appearance-legacy .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-legacy .mat-form-field-ripple{top:0;height:2px;overflow:hidden}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px;border-top-color:GrayText}.mat-form-field-appearance-legacy.mat-form-field-invalid:not(.mat-focused) .mat-form-field-ripple{height:1px}\n",".mat-form-field-appearance-outline .mat-form-field-wrapper{margin:.25em 0}.mat-form-field-appearance-outline .mat-form-field-flex{padding:0 .75em 0 .75em;margin-top:-0.25em;position:relative}.mat-form-field-appearance-outline .mat-form-field-prefix,.mat-form-field-appearance-outline .mat-form-field-suffix{top:.25em}.mat-form-field-appearance-outline .mat-form-field-outline{display:flex;position:absolute;top:.25em;left:0;right:0;bottom:0;pointer-events:none}.mat-form-field-appearance-outline .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-end{border:1px solid currentColor;min-width:5px}.mat-form-field-appearance-outline .mat-form-field-outline-start{border-radius:5px 0 0 5px;border-right-style:none}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-start{border-right-style:solid;border-left-style:none;border-radius:0 5px 5px 0}.mat-form-field-appearance-outline .mat-form-field-outline-end{border-radius:0 5px 5px 0;border-left-style:none;flex-grow:1}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-end{border-left-style:solid;border-right-style:none;border-radius:5px 0 0 5px}.mat-form-field-appearance-outline .mat-form-field-outline-gap{border-radius:.000001px;border:1px solid currentColor;border-left-style:none;border-right-style:none}.mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-outline-gap{border-top-color:transparent}.mat-form-field-appearance-outline .mat-form-field-outline-thick{opacity:0}.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-end,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-gap{border-width:2px}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline{opacity:0;transition:opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline-thick{opacity:1}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick{border:3px dashed}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline{opacity:0;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline .mat-form-field-subscript-wrapper{padding:0 1em}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-form-field-disabled .mat-form-field-outline{color:GrayText}.mat-form-field-appearance-outline._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-start,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-end,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-gap{transition:none}\n",".mat-form-field-appearance-standard .mat-form-field-flex{padding-top:.75em}.mat-form-field-appearance-standard .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-standard .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-standard:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-standard._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}\n"],encapsulation:2,data:{animation:[u6.transitionMessages]},changeDetection:0}),n})(),zP=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[wr,Wr,eO],Wr]}),n})(),$P=(()=>{class n{constructor(e,i){this._renderer=e,this._elementRef=i,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(e,i){this._renderer.setProperty(this._elementRef.nativeElement,e,i)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.Qsj),s.Y36(s.SBq))},n.\u0275dir=s.lG2({type:n}),n})(),ug=(()=>{class n extends $P{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275dir=s.lG2({type:n,features:[s.qOj]}),n})();const Zo=new s.OlP("NgValueAccessor"),_6={provide:Zo,useExisting:(0,s.Gpc)(()=>Td),multi:!0},v6=new s.OlP("CompositionEventMode");let Td=(()=>{class n extends $P{constructor(e,i,r){super(e,i),this._compositionMode=r,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function y6(){const n=S()?S().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(e){this.setProperty("value",null==e?"":e)}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.Qsj),s.Y36(s.SBq),s.Y36(v6,8))},n.\u0275dir=s.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,i){1&e&&s.NdJ("input",function(o){return i._handleInput(o.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(o){return i._compositionEnd(o.target.value)})},features:[s._Bn([_6]),s.qOj]}),n})();function Pf(n){return null==n||0===n.length}function qP(n){return null!=n&&"number"==typeof n.length}const Qr=new s.OlP("NgValidators"),Nf=new s.OlP("NgAsyncValidators"),b6=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Id{static min(t){return function YP(n){return t=>{if(Pf(t.value)||Pf(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e<n?{min:{min:n,actual:t.value}}:null}}(t)}static max(t){return function ZP(n){return t=>{if(Pf(t.value)||Pf(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e>n?{max:{max:n,actual:t.value}}:null}}(t)}static required(t){return function WP(n){return Pf(n.value)?{required:!0}:null}(t)}static requiredTrue(t){return function KP(n){return!0===n.value?null:{required:!0}}(t)}static email(t){return function QP(n){return Pf(n.value)||b6.test(n.value)?null:{email:!0}}(t)}static minLength(t){return function JP(n){return t=>Pf(t.value)||!qP(t.value)?null:t.value.length<n?{minlength:{requiredLength:n,actualLength:t.value.length}}:null}(t)}static maxLength(t){return XP(t)}static pattern(t){return function eN(n){if(!n)return ST;let t,e;return"string"==typeof n?(e="","^"!==n.charAt(0)&&(e+="^"),e+=n,"$"!==n.charAt(n.length-1)&&(e+="$"),t=new RegExp(e)):(e=n.toString(),t=n),i=>{if(Pf(i.value))return null;const r=i.value;return t.test(r)?null:{pattern:{requiredPattern:e,actualValue:r}}}}(t)}static nullValidator(t){return null}static compose(t){return oN(t)}static composeAsync(t){return aN(t)}}function XP(n){return t=>qP(t.value)&&t.value.length>n?{maxlength:{requiredLength:n,actualLength:t.value.length}}:null}function ST(n){return null}function tN(n){return null!=n}function nN(n){const t=(0,s.QGY)(n)?(0,Rn.D)(n):n;return(0,s.CqO)(t),t}function iN(n){let t={};return n.forEach(e=>{t=null!=e?Object.assign(Object.assign({},t),e):t}),0===Object.keys(t).length?null:t}function rN(n,t){return t.map(e=>e(n))}function sN(n){return n.map(t=>function w6(n){return!n.validate}(t)?t:e=>t.validate(e))}function oN(n){if(!n)return null;const t=n.filter(tN);return 0==t.length?null:function(e){return iN(rN(e,t))}}function qx(n){return null!=n?oN(sN(n)):null}function aN(n){if(!n)return null;const t=n.filter(tN);return 0==t.length?null:function(e){return vP(rN(e,t).map(nN)).pipe((0,mt.U)(iN))}}function Yx(n){return null!=n?aN(sN(n)):null}function lN(n,t){return null===n?[t]:Array.isArray(n)?[...n,t]:[n,t]}function cN(n){return n._rawValidators}function uN(n){return n._rawAsyncValidators}function Zx(n){return n?Array.isArray(n)?n:[n]:[]}function MT(n,t){return Array.isArray(n)?n.includes(t):n===t}function dN(n,t){const e=Zx(t);return Zx(n).forEach(r=>{MT(e,r)||e.push(r)}),e}function hN(n,t){return Zx(t).filter(e=>!MT(n,e))}class fN{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=qx(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=Yx(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}class Sd extends fN{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class fo extends fN{get formDirective(){return null}get path(){return null}}class pN{constructor(t){this._cd=t}is(t){var e,i,r;return"submitted"===t?!!(null===(e=this._cd)||void 0===e?void 0:e.submitted):!!(null===(r=null===(i=this._cd)||void 0===i?void 0:i.control)||void 0===r?void 0:r[t])}}let dg=(()=>{class n extends pN{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Sd,2))},n.\u0275dir=s.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,i){2&e&&s.ekj("ng-untouched",i.is("untouched"))("ng-touched",i.is("touched"))("ng-pristine",i.is("pristine"))("ng-dirty",i.is("dirty"))("ng-valid",i.is("valid"))("ng-invalid",i.is("invalid"))("ng-pending",i.is("pending"))},features:[s.qOj]}),n})(),mN=(()=>{class n extends pN{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(fo,10))},n.\u0275dir=s.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(e,i){2&e&&s.ekj("ng-untouched",i.is("untouched"))("ng-touched",i.is("touched"))("ng-pristine",i.is("pristine"))("ng-dirty",i.is("dirty"))("ng-valid",i.is("valid"))("ng-invalid",i.is("invalid"))("ng-pending",i.is("pending"))("ng-submitted",i.is("submitted"))},features:[s.qOj]}),n})();function kT(n,t){return[...t.path,n]}function aC(n,t){Qx(n,t),t.valueAccessor.writeValue(n.value),function M6(n,t){t.valueAccessor.registerOnChange(e=>{n._pendingValue=e,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&_N(n,t)})}(n,t),function k6(n,t){const e=(i,r)=>{t.valueAccessor.writeValue(i),r&&t.viewToModelUpdate(i)};n.registerOnChange(e),t._registerOnDestroy(()=>{n._unregisterOnChange(e)})}(n,t),function x6(n,t){t.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&_N(n,t),"submit"!==n.updateOn&&n.markAsTouched()})}(n,t),function S6(n,t){if(t.valueAccessor.setDisabledState){const e=i=>{t.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(e),t._registerOnDestroy(()=>{n._unregisterOnDisabledChange(e)})}}(n,t)}function RT(n,t,e=!0){const i=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(i),t.valueAccessor.registerOnTouched(i)),PT(n,t),n&&(t._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function OT(n,t){n.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function Qx(n,t){const e=cN(n);null!==t.validator?n.setValidators(lN(e,t.validator)):"function"==typeof e&&n.setValidators([e]);const i=uN(n);null!==t.asyncValidator?n.setAsyncValidators(lN(i,t.asyncValidator)):"function"==typeof i&&n.setAsyncValidators([i]);const r=()=>n.updateValueAndValidity();OT(t._rawValidators,r),OT(t._rawAsyncValidators,r)}function PT(n,t){let e=!1;if(null!==n){if(null!==t.validator){const r=cN(n);if(Array.isArray(r)&&r.length>0){const o=r.filter(u=>u!==t.validator);o.length!==r.length&&(e=!0,n.setValidators(o))}}if(null!==t.asyncValidator){const r=uN(n);if(Array.isArray(r)&&r.length>0){const o=r.filter(u=>u!==t.asyncValidator);o.length!==r.length&&(e=!0,n.setAsyncValidators(o))}}}const i=()=>{};return OT(t._rawValidators,i),OT(t._rawAsyncValidators,i),e}function _N(n,t){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function yN(n,t){Qx(n,t)}function Jx(n,t){if(!n.hasOwnProperty("model"))return!1;const e=n.model;return!!e.isFirstChange()||!Object.is(t,e.currentValue)}function bN(n,t){n._syncPendingControls(),t.forEach(e=>{const i=e.control;"submit"===i.updateOn&&i._pendingChange&&(e.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}function Xx(n,t){if(!t)return null;let e,i,r;return Array.isArray(t),t.forEach(o=>{o.constructor===Td?e=o:function P6(n){return Object.getPrototypeOf(n.constructor)===ug}(o)?i=o:r=o}),r||i||e||null}function ek(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}const lC="VALID",NT="INVALID",Wy="PENDING",cC="DISABLED";function nk(n){return(FT(n)?n.validators:n)||null}function wN(n){return Array.isArray(n)?qx(n):n||null}function ik(n,t){return(FT(t)?t.asyncValidators:n)||null}function CN(n){return Array.isArray(n)?Yx(n):n||null}function FT(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}const rk=n=>n instanceof ok,LT=n=>n instanceof VT,EN=n=>n instanceof IN;function DN(n){return rk(n)?n.value:n.getRawValue()}function AN(n,t){const e=LT(n),i=n.controls;if(!(e?Object.keys(i):i).length)throw new s.vHH(1e3,"");if(!i[t])throw new s.vHH(1001,"")}function TN(n,t){LT(n),n._forEachChild((i,r)=>{if(void 0===t[r])throw new s.vHH(1002,"")})}class sk{constructor(t,e){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=t,this._rawAsyncValidators=e,this._composedValidatorFn=wN(this._rawValidators),this._composedAsyncValidatorFn=CN(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===lC}get invalid(){return this.status===NT}get pending(){return this.status==Wy}get disabled(){return this.status===cC}get enabled(){return this.status!==cC}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._rawValidators=t,this._composedValidatorFn=wN(t)}setAsyncValidators(t){this._rawAsyncValidators=t,this._composedAsyncValidatorFn=CN(t)}addValidators(t){this.setValidators(dN(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(dN(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(hN(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(hN(t,this._rawAsyncValidators))}hasValidator(t){return MT(this._rawValidators,t)}hasAsyncValidator(t){return MT(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=Wy,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=cC,this.errors=null,this._forEachChild(i=>{i.disable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(i=>i(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=lC,this._forEachChild(i=>{i.enable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===lC||this.status===Wy)&&this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?cC:lC}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=Wy,this._hasOwnPendingAsyncValidator=!0;const e=nN(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){return function N6(n,t,e){if(null==t||(Array.isArray(t)||(t=t.split(e)),Array.isArray(t)&&0===t.length))return null;let i=n;return t.forEach(r=>{i=LT(i)?i.controls.hasOwnProperty(r)?i.controls[r]:null:EN(i)&&i.at(r)||null}),i}(this,t,".")}getError(t,e){const i=e?this.get(e):this;return i&&i.errors?i.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new s.vpe,this.statusChanges=new s.vpe}_calculateStatus(){return this._allControlsDisabled()?cC:this.errors?NT:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Wy)?Wy:this._anyControlsHaveStatus(NT)?NT:lC}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_isBoxedValue(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){FT(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class ok extends sk{constructor(t=null,e,i){super(nk(e),ik(i,e)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),FT(e)&&e.initialValueIsDefault&&(this.defaultValue=this._isBoxedValue(t)?t.value:t)}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=this.defaultValue,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){ek(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){ek(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}}class VT extends sk{constructor(t,e,i){super(nk(e),ik(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,i={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,i={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){TN(this,t),Object.keys(t).forEach(i=>{AN(this,i),this.controls[i].setValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(Object.keys(t).forEach(i=>{this.controls[i]&&this.controls[i].patchValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((i,r)=>{i.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,i)=>(t[i]=DN(e),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(e,i)=>!!i._syncPendingControls()||e);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(e=>{const i=this.controls[e];i&&t(i,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const e of Object.keys(this.controls)){const i=this.controls[e];if(this.contains(e)&&t(i))return!0}return!1}_reduceValue(){return this._reduceChildren({},(t,e,i)=>((e.enabled||this.disabled)&&(t[i]=e.value),t))}_reduceChildren(t,e){let i=t;return this._forEachChild((r,o)=>{i=e(i,r,o)}),i}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}}class IN extends sk{constructor(t,e,i){super(nk(e),ik(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(t){return this.controls[t]}push(t,e={}){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}insert(t,e,i={}){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity({emitEvent:i.emitEvent})}removeAt(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),this.updateValueAndValidity({emitEvent:e.emitEvent})}setControl(t,e,i={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){TN(this,t),t.forEach((i,r)=>{AN(this,r),this.at(r).setValue(i,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(t.forEach((i,r)=>{this.at(r)&&this.at(r).patchValue(i,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t=[],e={}){this._forEachChild((i,r)=>{i.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>DN(t))}clear(t={}){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:t.emitEvent}))}_syncPendingControls(){let t=this.controls.reduce((e,i)=>!!i._syncPendingControls()||e,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){this.controls.forEach((e,i)=>{t(e,i)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}}const F6={provide:fo,useExisting:(0,s.Gpc)(()=>BT)},uC=(()=>Promise.resolve(null))();let BT=(()=>{class n extends fo{constructor(e,i){super(),this.submitted=!1,this._directives=new Set,this.ngSubmit=new s.vpe,this.form=new VT({},qx(e),Yx(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){uC.then(()=>{const i=this._findContainer(e.path);e.control=i.registerControl(e.name,e.control),aC(e.control,e),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){uC.then(()=>{const i=this._findContainer(e.path);i&&i.removeControl(e.name),this._directives.delete(e)})}addFormGroup(e){uC.then(()=>{const i=this._findContainer(e.path),r=new VT({});yN(r,e),i.registerControl(e.name,r),r.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){uC.then(()=>{const i=this._findContainer(e.path);i&&i.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,i){uC.then(()=>{this.form.get(e.path).setValue(i)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submitted=!0,bN(this.form,this._directives),this.ngSubmit.emit(e),!1}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Qr,10),s.Y36(Nf,10))},n.\u0275dir=s.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(e,i){1&e&&s.NdJ("submit",function(o){return i.onSubmit(o)})("reset",function(){return i.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[s._Bn([F6]),s.qOj]}),n})();const V6={provide:Sd,useExisting:(0,s.Gpc)(()=>hg)},xN=(()=>Promise.resolve(null))();let hg=(()=>{class n extends Sd{constructor(e,i,r,o,u){super(),this._changeDetectorRef=u,this.control=new ok,this._registered=!1,this.update=new s.vpe,this._parent=e,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=Xx(0,o)}ngOnChanges(e){if(this._checkForErrors(),!this._registered||"name"in e){if(this._registered&&(this._checkName(),this.formDirective)){const i=e.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in e&&this._updateDisabled(e),Jx(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){aC(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(e){xN.then(()=>{var i;this.control.setValue(e,{emitViewToModelChange:!1}),null===(i=this._changeDetectorRef)||void 0===i||i.markForCheck()})}_updateDisabled(e){const i=e.isDisabled.currentValue,r=""===i||i&&"false"!==i;xN.then(()=>{var o;r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable(),null===(o=this._changeDetectorRef)||void 0===o||o.markForCheck()})}_getPath(e){return this._parent?kT(e,this._parent):[e]}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(fo,9),s.Y36(Qr,10),s.Y36(Nf,10),s.Y36(Zo,10),s.Y36(s.sBO,8))},n.\u0275dir=s.lG2({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[s._Bn([V6]),s.qOj,s.TTD]}),n})(),kN=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})(),ON=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({}),n})();const ak=new s.OlP("NgModelWithFormControlWarning"),$6={provide:fo,useExisting:(0,s.Gpc)(()=>dC)};let dC=(()=>{class n extends fo{constructor(e,i){super(),this.validators=e,this.asyncValidators=i,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new s.vpe,this._setValidators(e),this._setAsyncValidators(i)}ngOnChanges(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(PT(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){const i=this.form.get(e.path);return aC(i,e),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),i}getControl(e){return this.form.get(e.path)}removeControl(e){RT(e.control||null,e,!1),ek(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,i){this.form.get(e.path).setValue(i)}onSubmit(e){return this.submitted=!0,bN(this.form,this.directives),this.ngSubmit.emit(e),!1}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_updateDomValue(){this.directives.forEach(e=>{const i=e.control,r=this.form.get(e.path);i!==r&&(RT(i||null,e),rk(r)&&(aC(r,e),e.control=r))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){const i=this.form.get(e.path);yN(i,e),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){const i=this.form.get(e.path);i&&function R6(n,t){return PT(n,t)}(i,e)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Qx(this.form,this),this._oldForm&&PT(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Qr,10),s.Y36(Nf,10))},n.\u0275dir=s.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(e,i){1&e&&s.NdJ("submit",function(o){return i.onSubmit(o)})("reset",function(){return i.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[s._Bn([$6]),s.qOj,s.TTD]}),n})();const Y6={provide:Sd,useExisting:(0,s.Gpc)(()=>uk)};let uk=(()=>{class n extends Sd{constructor(e,i,r,o,u){super(),this._ngModelWarningConfig=u,this._added=!1,this.update=new s.vpe,this._ngModelWarningSent=!1,this._parent=e,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=Xx(0,o)}set isDisabled(e){}ngOnChanges(e){this._added||this._setUpControl(),Jx(e,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}get path(){return kT(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(e){return new(e||n)(s.Y36(fo,13),s.Y36(Qr,10),s.Y36(Nf,10),s.Y36(Zo,10),s.Y36(ak,8))},n.\u0275dir=s.lG2({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[s._Bn([Y6]),s.qOj,s.TTD]}),n})();let fg=(()=>{class n{constructor(){this._validator=ST}ngOnChanges(e){if(this.inputName in e){const i=this.normalizeInput(e[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):ST,this._onChange&&this._onChange()}}validate(e){return this._validator(e)}registerOnValidatorChange(e){this._onChange=e}enabled(e){return null!=e}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n,features:[s.TTD]}),n})();const l8={provide:Qr,useExisting:(0,s.Gpc)(()=>pk),multi:!0};let pk=(()=>{class n extends fg{constructor(){super(...arguments),this.inputName="maxlength",this.normalizeInput=e=>function UN(n){return"number"==typeof n?n:parseInt(n,10)}(e),this.createValidator=e=>XP(e)}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275dir=s.lG2({type:n,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(e,i){2&e&&s.uIk("maxlength",i._enabled?i.maxlength:null)},inputs:{maxlength:"maxlength"},features:[s._Bn([l8]),s.qOj]}),n})(),ZN=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[ON]]}),n})(),mk=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[ZN]}),n})(),WN=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:ak,useValue:e.warnOnNgModelWithFormControl}]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[ZN]}),n})(),d8=(()=>{class n{group(e,i=null){const r=this._reduceControls(e);let h,o=null,u=null;return null!=i&&(function u8(n){return void 0!==n.asyncValidators||void 0!==n.validators||void 0!==n.updateOn}(i)?(o=null!=i.validators?i.validators:null,u=null!=i.asyncValidators?i.asyncValidators:null,h=null!=i.updateOn?i.updateOn:void 0):(o=null!=i.validator?i.validator:null,u=null!=i.asyncValidator?i.asyncValidator:null)),new VT(r,{asyncValidators:u,updateOn:h,validators:o})}control(e,i,r){return new ok(e,i,r)}array(e,i,r){const o=e.map(u=>this._createControl(u));return new IN(o,i,r)}_reduceControls(e){const i={};return Object.keys(e).forEach(r=>{i[r]=this._createControl(e[r])}),i}_createControl(e){return rk(e)||LT(e)||EN(e)?e:Array.isArray(e)?this.control(e[0],e.length>1?e[1]:null,e.length>2?e[2]:null):this.control(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:WN}),n})();const KN=KA({passive:!0});let h8=(()=>{class n{constructor(e,i){this._platform=e,this._ngZone=i,this._monitoredElements=new Map}monitor(e){if(!this._platform.isBrowser)return is.E;const i=wd(e),r=this._monitoredElements.get(i);if(r)return r.subject;const o=new dt.x,u="cdk-text-field-autofilled",h=_=>{"cdk-text-field-autofill-start"!==_.animationName||i.classList.contains(u)?"cdk-text-field-autofill-end"===_.animationName&&i.classList.contains(u)&&(i.classList.remove(u),this._ngZone.run(()=>o.next({target:_.target,isAutofilled:!1}))):(i.classList.add(u),this._ngZone.run(()=>o.next({target:_.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{i.addEventListener("animationstart",h,KN),i.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(i,{subject:o,unlisten:()=>{i.removeEventListener("animationstart",h,KN)}}),o}stopMonitoring(e){const i=wd(e),r=this._monitoredElements.get(i);r&&(r.unlisten(),r.subject.complete(),i.classList.remove("cdk-text-field-autofill-monitored"),i.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(i))}ngOnDestroy(){this._monitoredElements.forEach((e,i)=>this.stopMonitoring(i))}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Yr),s.LFG(s.R0b))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),QN=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({}),n})();const gk=new s.OlP("MAT_INPUT_VALUE_ACCESSOR"),f8=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let p8=0;const m8=YU(class{constructor(n,t,e,i){this._defaultErrorStateMatcher=n,this._parentForm=t,this._parentFormGroup=e,this.ngControl=i}});let Ky=(()=>{class n extends m8{constructor(e,i,r,o,u,h,_,b,T,M){super(h,o,u,r),this._elementRef=e,this._platform=i,this._autofillMonitor=b,this._formField=M,this._uid="mat-input-"+p8++,this.focused=!1,this.stateChanges=new dt.x,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(Y=>VR().has(Y)),this._iOSKeyupListener=Y=>{const fe=Y.target;!fe.value&&0===fe.selectionStart&&0===fe.selectionEnd&&(fe.setSelectionRange(1,1),fe.setSelectionRange(0,0))};const N=this._elementRef.nativeElement,j=N.nodeName.toLowerCase();this._inputValueAccessor=_||N,this._previousNativeValue=this.value,this.id=this.id,i.IOS&&T.runOutsideAngular(()=>{e.nativeElement.addEventListener("keyup",this._iOSKeyupListener)}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===j,this._isTextarea="textarea"===j,this._isInFormField=!!M,this._isNativeSelect&&(this.controlType=N.multiple?"mat-native-select-multiple":"mat-native-select")}get disabled(){return this.ngControl&&null!==this.ngControl.disabled?this.ngControl.disabled:this._disabled}set disabled(e){this._disabled=er(e),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(e){this._id=e||this._uid}get required(){var e,i,r,o;return null!==(o=null!==(e=this._required)&&void 0!==e?e:null===(r=null===(i=this.ngControl)||void 0===i?void 0:i.control)||void 0===r?void 0:r.hasValidator(Id.required))&&void 0!==o&&o}set required(e){this._required=er(e)}get type(){return this._type}set type(e){this._type=e||"text",this._validateType(),!this._isTextarea&&VR().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(e){e!==this.value&&(this._inputValueAccessor.value=e,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(e){this._readonly=er(e)}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(e=>{this.autofilled=e.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._platform.IOS&&this._elementRef.nativeElement.removeEventListener("keyup",this._iOSKeyupListener)}ngDoCheck(){this.ngControl&&this.updateErrorState(),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(e){this._elementRef.nativeElement.focus(e)}_focusChanged(e){e!==this.focused&&(this.focused=e,this.stateChanges.next())}_onInput(){}_dirtyCheckPlaceholder(){var e,i;const r=(null===(i=null===(e=this._formField)||void 0===e?void 0:e._hideControlPlaceholder)||void 0===i?void 0:i.call(e))?null:this.placeholder;if(r!==this._previousPlaceholder){const o=this._elementRef.nativeElement;this._previousPlaceholder=r,r?o.setAttribute("placeholder",r):o.removeAttribute("placeholder")}}_dirtyCheckNativeValue(){const e=this._elementRef.nativeElement.value;this._previousNativeValue!==e&&(this._previousNativeValue=e,this.stateChanges.next())}_validateType(){f8.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let e=this._elementRef.nativeElement.validity;return e&&e.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const e=this._elementRef.nativeElement,i=e.options[0];return this.focused||e.multiple||!this.empty||!!(e.selectedIndex>-1&&i&&i.label)}return this.focused||!this.empty}setDescribedByIds(e){e.length?this._elementRef.nativeElement.setAttribute("aria-describedby",e.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const e=this._elementRef.nativeElement;return this._isNativeSelect&&(e.multiple||e.size>1)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(Yr),s.Y36(Sd,10),s.Y36(BT,8),s.Y36(dC,8),s.Y36(lP),s.Y36(gk,10),s.Y36(h8),s.Y36(s.R0b),s.Y36(Gx,8))},n.\u0275dir=s.lG2({type:n,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-input-element","mat-form-field-autofill-control"],hostVars:12,hostBindings:function(e,i){1&e&&s.NdJ("focus",function(){return i._focusChanged(!0)})("blur",function(){return i._focusChanged(!1)})("input",function(){return i._onInput()}),2&e&&(s.Ikx("disabled",i.disabled)("required",i.required),s.uIk("id",i.id)("data-placeholder",i.placeholder)("name",i.name||null)("readonly",i.readonly&&!i._isNativeSelect||null)("aria-invalid",i.empty&&i.required?null:i.errorState)("aria-required",i.required),s.ekj("mat-input-server",i._isServer)("mat-native-select-inline",i._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],features:[s._Bn([{provide:zx,useExisting:n}]),s.qOj,s.TTD]}),n})(),_k=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[lP],imports:[[QN,zP,Wr],QN,zP]}),n})();function un(n,t,e,i){var u,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,i);else for(var h=n.length-1;h>=0;h--)(u=n[h])&&(o=(r<3?u(o):r>3?u(t,e,o):u(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o}function nn(n,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(n,t)}var _8=function(){var n={base:"https://twemoji.maxcdn.com/v/13.1.1/",ext:".png",size:"72x72",className:"emoji",convert:{fromCodePoint:function qe(st){var et="string"==typeof st?parseInt(st,16):st;return et<65536?h(et):h(55296+((et-=65536)>>10),56320+(1023&et))},toCodePoint:_t},onerror:function(){this.parentNode&&this.parentNode.replaceChild(_(this.alt,!1),this)},parse:function ht(st,et){return(!et||"function"==typeof et)&&(et={callback:et}),("string"==typeof st?Y:j)(st,{callback:et.callback||T,attributes:"function"==typeof et.attributes?et.attributes:Te,base:"string"==typeof et.base?et.base:n.base,ext:et.ext||n.ext,size:et.folder||Qe(et.size||n.size),className:et.className||n.className,onerror:et.onerror||n.onerror})},replace:Ye,test:function St(st){e.lastIndex=0;var et=e.test(st);return e.lastIndex=0,et}},t={"&":"&amp;","<":"&lt;",">":"&gt;","'":"&#39;",'"':"&quot;"},e=/(?:\ud83d\udc68\ud83c\udffb\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc68\ud83c\udffc\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc68\ud83c\udffd\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc68\ud83c\udffe\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc68\ud83c\udfff\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffb\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffb\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc69\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffc\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffc\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc69\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffd\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffd\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc69\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffe\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffe\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc69\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udfff\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udfff\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc69\ud83c[\udffb-\udfff]|\ud83e\uddd1\ud83c\udffb\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83e\uddd1\ud83c[\udffc-\udfff]|\ud83e\uddd1\ud83c\udffc\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83e\uddd1\ud83c[\udffb\udffd-\udfff]|\ud83e\uddd1\ud83c\udffd\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83e\uddd1\ud83c[\udffb\udffc\udffe\udfff]|\ud83e\uddd1\ud83c\udffe\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83e\uddd1\ud83c[\udffb-\udffd\udfff]|\ud83e\uddd1\ud83c\udfff\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83e\uddd1\ud83c[\udffb-\udffe]|\ud83d\udc68\ud83c\udffb\u200d\u2764\ufe0f\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc68\ud83c\udffb\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffc-\udfff]|\ud83d\udc68\ud83c\udffc\u200d\u2764\ufe0f\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc68\ud83c\udffc\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb\udffd-\udfff]|\ud83d\udc68\ud83c\udffd\u200d\u2764\ufe0f\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc68\ud83c\udffd\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb\udffc\udffe\udfff]|\ud83d\udc68\ud83c\udffe\u200d\u2764\ufe0f\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc68\ud83c\udffe\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb-\udffd\udfff]|\ud83d\udc68\ud83c\udfff\u200d\u2764\ufe0f\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc68\ud83c\udfff\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb-\udffe]|\ud83d\udc69\ud83c\udffb\u200d\u2764\ufe0f\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffb\u200d\u2764\ufe0f\u200d\ud83d\udc69\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffb\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffc-\udfff]|\ud83d\udc69\ud83c\udffb\u200d\ud83e\udd1d\u200d\ud83d\udc69\ud83c[\udffc-\udfff]|\ud83d\udc69\ud83c\udffc\u200d\u2764\ufe0f\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffc\u200d\u2764\ufe0f\u200d\ud83d\udc69\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffc\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb\udffd-\udfff]|\ud83d\udc69\ud83c\udffc\u200d\ud83e\udd1d\u200d\ud83d\udc69\ud83c[\udffb\udffd-\udfff]|\ud83d\udc69\ud83c\udffd\u200d\u2764\ufe0f\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffd\u200d\u2764\ufe0f\u200d\ud83d\udc69\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffd\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb\udffc\udffe\udfff]|\ud83d\udc69\ud83c\udffd\u200d\ud83e\udd1d\u200d\ud83d\udc69\ud83c[\udffb\udffc\udffe\udfff]|\ud83d\udc69\ud83c\udffe\u200d\u2764\ufe0f\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffe\u200d\u2764\ufe0f\u200d\ud83d\udc69\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffe\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb-\udffd\udfff]|\ud83d\udc69\ud83c\udffe\u200d\ud83e\udd1d\u200d\ud83d\udc69\ud83c[\udffb-\udffd\udfff]|\ud83d\udc69\ud83c\udfff\u200d\u2764\ufe0f\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udfff\u200d\u2764\ufe0f\u200d\ud83d\udc69\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udfff\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb-\udffe]|\ud83d\udc69\ud83c\udfff\u200d\ud83e\udd1d\u200d\ud83d\udc69\ud83c[\udffb-\udffe]|\ud83e\uddd1\ud83c\udffb\u200d\u2764\ufe0f\u200d\ud83e\uddd1\ud83c[\udffc-\udfff]|\ud83e\uddd1\ud83c\udffb\u200d\ud83e\udd1d\u200d\ud83e\uddd1\ud83c[\udffb-\udfff]|\ud83e\uddd1\ud83c\udffc\u200d\u2764\ufe0f\u200d\ud83e\uddd1\ud83c[\udffb\udffd-\udfff]|\ud83e\uddd1\ud83c\udffc\u200d\ud83e\udd1d\u200d\ud83e\uddd1\ud83c[\udffb-\udfff]|\ud83e\uddd1\ud83c\udffd\u200d\u2764\ufe0f\u200d\ud83e\uddd1\ud83c[\udffb\udffc\udffe\udfff]|\ud83e\uddd1\ud83c\udffd\u200d\ud83e\udd1d\u200d\ud83e\uddd1\ud83c[\udffb-\udfff]|\ud83e\uddd1\ud83c\udffe\u200d\u2764\ufe0f\u200d\ud83e\uddd1\ud83c[\udffb-\udffd\udfff]|\ud83e\uddd1\ud83c\udffe\u200d\ud83e\udd1d\u200d\ud83e\uddd1\ud83c[\udffb-\udfff]|\ud83e\uddd1\ud83c\udfff\u200d\u2764\ufe0f\u200d\ud83e\uddd1\ud83c[\udffb-\udffe]|\ud83e\uddd1\ud83c\udfff\u200d\ud83e\udd1d\u200d\ud83e\uddd1\ud83c[\udffb-\udfff]|\ud83d\udc68\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68|\ud83d\udc69\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d[\udc68\udc69]|\ud83d\udc68\u200d\u2764\ufe0f\u200d\ud83d\udc68|\ud83d\udc69\u200d\u2764\ufe0f\u200d\ud83d[\udc68\udc69]|\ud83e\uddd1\u200d\ud83e\udd1d\u200d\ud83e\uddd1|\ud83d\udc6b\ud83c[\udffb-\udfff]|\ud83d\udc6c\ud83c[\udffb-\udfff]|\ud83d\udc6d\ud83c[\udffb-\udfff]|\ud83d\udc8f\ud83c[\udffb-\udfff]|\ud83d\udc91\ud83c[\udffb-\udfff]|\ud83d[\udc6b-\udc6d\udc8f\udc91])|(?:\ud83d[\udc68\udc69]|\ud83e\uddd1)(?:\ud83c[\udffb-\udfff])?\u200d(?:\u2695\ufe0f|\u2696\ufe0f|\u2708\ufe0f|\ud83c[\udf3e\udf73\udf7c\udf84\udf93\udfa4\udfa8\udfeb\udfed]|\ud83d[\udcbb\udcbc\udd27\udd2c\ude80\ude92]|\ud83e[\uddaf-\uddb3\uddbc\uddbd])|(?:\ud83c[\udfcb\udfcc]|\ud83d[\udd74\udd75]|\u26f9)((?:\ud83c[\udffb-\udfff]|\ufe0f)\u200d[\u2640\u2642]\ufe0f)|(?:\ud83c[\udfc3\udfc4\udfca]|\ud83d[\udc6e\udc70\udc71\udc73\udc77\udc81\udc82\udc86\udc87\ude45-\ude47\ude4b\ude4d\ude4e\udea3\udeb4-\udeb6]|\ud83e[\udd26\udd35\udd37-\udd39\udd3d\udd3e\uddb8\uddb9\uddcd-\uddcf\uddd4\uddd6-\udddd])(?:\ud83c[\udffb-\udfff])?\u200d[\u2640\u2642]\ufe0f|(?:\ud83d\udc68\u200d\ud83d\udc68\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc68\u200d\ud83d\udc68\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc68\u200d\ud83d\udc69\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc68\u200d\ud83d\udc69\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc69\u200d\ud83d\udc69\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc69\u200d\ud83d\udc69\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc68\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc68\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc68\u200d\ud83d\udc68\u200d\ud83d[\udc66\udc67]|\ud83d\udc68\u200d\ud83d\udc69\u200d\ud83d[\udc66\udc67]|\ud83d\udc69\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc69\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc69\u200d\ud83d\udc69\u200d\ud83d[\udc66\udc67]|\ud83c\udff3\ufe0f\u200d\u26a7\ufe0f|\ud83c\udff3\ufe0f\u200d\ud83c\udf08|\ud83d\ude36\u200d\ud83c\udf2b\ufe0f|\u2764\ufe0f\u200d\ud83d\udd25|\u2764\ufe0f\u200d\ud83e\ude79|\ud83c\udff4\u200d\u2620\ufe0f|\ud83d\udc15\u200d\ud83e\uddba|\ud83d\udc3b\u200d\u2744\ufe0f|\ud83d\udc41\u200d\ud83d\udde8|\ud83d\udc68\u200d\ud83d[\udc66\udc67]|\ud83d\udc69\u200d\ud83d[\udc66\udc67]|\ud83d\udc6f\u200d\u2640\ufe0f|\ud83d\udc6f\u200d\u2642\ufe0f|\ud83d\ude2e\u200d\ud83d\udca8|\ud83d\ude35\u200d\ud83d\udcab|\ud83e\udd3c\u200d\u2640\ufe0f|\ud83e\udd3c\u200d\u2642\ufe0f|\ud83e\uddde\u200d\u2640\ufe0f|\ud83e\uddde\u200d\u2642\ufe0f|\ud83e\udddf\u200d\u2640\ufe0f|\ud83e\udddf\u200d\u2642\ufe0f|\ud83d\udc08\u200d\u2b1b)|[#*0-9]\ufe0f?\u20e3|(?:[\xa9\xae\u2122\u265f]\ufe0f)|(?:\ud83c[\udc04\udd70\udd71\udd7e\udd7f\ude02\ude1a\ude2f\ude37\udf21\udf24-\udf2c\udf36\udf7d\udf96\udf97\udf99-\udf9b\udf9e\udf9f\udfcd\udfce\udfd4-\udfdf\udff3\udff5\udff7]|\ud83d[\udc3f\udc41\udcfd\udd49\udd4a\udd6f\udd70\udd73\udd76-\udd79\udd87\udd8a-\udd8d\udda5\udda8\uddb1\uddb2\uddbc\uddc2-\uddc4\uddd1-\uddd3\udddc-\uddde\udde1\udde3\udde8\uddef\uddf3\uddfa\udecb\udecd-\udecf\udee0-\udee5\udee9\udef0\udef3]|[\u203c\u2049\u2139\u2194-\u2199\u21a9\u21aa\u231a\u231b\u2328\u23cf\u23ed-\u23ef\u23f1\u23f2\u23f8-\u23fa\u24c2\u25aa\u25ab\u25b6\u25c0\u25fb-\u25fe\u2600-\u2604\u260e\u2611\u2614\u2615\u2618\u2620\u2622\u2623\u2626\u262a\u262e\u262f\u2638-\u263a\u2640\u2642\u2648-\u2653\u2660\u2663\u2665\u2666\u2668\u267b\u267f\u2692-\u2697\u2699\u269b\u269c\u26a0\u26a1\u26a7\u26aa\u26ab\u26b0\u26b1\u26bd\u26be\u26c4\u26c5\u26c8\u26cf\u26d1\u26d3\u26d4\u26e9\u26ea\u26f0-\u26f5\u26f8\u26fa\u26fd\u2702\u2708\u2709\u270f\u2712\u2714\u2716\u271d\u2721\u2733\u2734\u2744\u2747\u2757\u2763\u2764\u27a1\u2934\u2935\u2b05-\u2b07\u2b1b\u2b1c\u2b50\u2b55\u3030\u303d\u3297\u3299])(?:\ufe0f|(?!\ufe0e))|(?:(?:\ud83c[\udfcb\udfcc]|\ud83d[\udd74\udd75\udd90]|[\u261d\u26f7\u26f9\u270c\u270d])(?:\ufe0f|(?!\ufe0e))|(?:\ud83c[\udf85\udfc2-\udfc4\udfc7\udfca]|\ud83d[\udc42\udc43\udc46-\udc50\udc66-\udc69\udc6e\udc70-\udc78\udc7c\udc81-\udc83\udc85-\udc87\udcaa\udd7a\udd95\udd96\ude45-\ude47\ude4b-\ude4f\udea3\udeb4-\udeb6\udec0\udecc]|\ud83e[\udd0c\udd0f\udd18-\udd1c\udd1e\udd1f\udd26\udd30-\udd39\udd3d\udd3e\udd77\uddb5\uddb6\uddb8\uddb9\uddbb\uddcd-\uddcf\uddd1-\udddd]|[\u270a\u270b]))(?:\ud83c[\udffb-\udfff])?|(?:\ud83c\udff4\udb40\udc67\udb40\udc62\udb40\udc65\udb40\udc6e\udb40\udc67\udb40\udc7f|\ud83c\udff4\udb40\udc67\udb40\udc62\udb40\udc73\udb40\udc63\udb40\udc74\udb40\udc7f|\ud83c\udff4\udb40\udc67\udb40\udc62\udb40\udc77\udb40\udc6c\udb40\udc73\udb40\udc7f|\ud83c\udde6\ud83c[\udde8-\uddec\uddee\uddf1\uddf2\uddf4\uddf6-\uddfa\uddfc\uddfd\uddff]|\ud83c\udde7\ud83c[\udde6\udde7\udde9-\uddef\uddf1-\uddf4\uddf6-\uddf9\uddfb\uddfc\uddfe\uddff]|\ud83c\udde8\ud83c[\udde6\udde8\udde9\uddeb-\uddee\uddf0-\uddf5\uddf7\uddfa-\uddff]|\ud83c\udde9\ud83c[\uddea\uddec\uddef\uddf0\uddf2\uddf4\uddff]|\ud83c\uddea\ud83c[\udde6\udde8\uddea\uddec\udded\uddf7-\uddfa]|\ud83c\uddeb\ud83c[\uddee-\uddf0\uddf2\uddf4\uddf7]|\ud83c\uddec\ud83c[\udde6\udde7\udde9-\uddee\uddf1-\uddf3\uddf5-\uddfa\uddfc\uddfe]|\ud83c\udded\ud83c[\uddf0\uddf2\uddf3\uddf7\uddf9\uddfa]|\ud83c\uddee\ud83c[\udde8-\uddea\uddf1-\uddf4\uddf6-\uddf9]|\ud83c\uddef\ud83c[\uddea\uddf2\uddf4\uddf5]|\ud83c\uddf0\ud83c[\uddea\uddec-\uddee\uddf2\uddf3\uddf5\uddf7\uddfc\uddfe\uddff]|\ud83c\uddf1\ud83c[\udde6-\udde8\uddee\uddf0\uddf7-\uddfb\uddfe]|\ud83c\uddf2\ud83c[\udde6\udde8-\udded\uddf0-\uddff]|\ud83c\uddf3\ud83c[\udde6\udde8\uddea-\uddec\uddee\uddf1\uddf4\uddf5\uddf7\uddfa\uddff]|\ud83c\uddf4\ud83c\uddf2|\ud83c\uddf5\ud83c[\udde6\uddea-\udded\uddf0-\uddf3\uddf7-\uddf9\uddfc\uddfe]|\ud83c\uddf6\ud83c\udde6|\ud83c\uddf7\ud83c[\uddea\uddf4\uddf8\uddfa\uddfc]|\ud83c\uddf8\ud83c[\udde6-\uddea\uddec-\uddf4\uddf7-\uddf9\uddfb\uddfd-\uddff]|\ud83c\uddf9\ud83c[\udde6\udde8\udde9\uddeb-\udded\uddef-\uddf4\uddf7\uddf9\uddfb\uddfc\uddff]|\ud83c\uddfa\ud83c[\udde6\uddec\uddf2\uddf3\uddf8\uddfe\uddff]|\ud83c\uddfb\ud83c[\udde6\udde8\uddea\uddec\uddee\uddf3\uddfa]|\ud83c\uddfc\ud83c[\uddeb\uddf8]|\ud83c\uddfd\ud83c\uddf0|\ud83c\uddfe\ud83c[\uddea\uddf9]|\ud83c\uddff\ud83c[\udde6\uddf2\uddfc]|\ud83c[\udccf\udd8e\udd91-\udd9a\udde6-\uddff\ude01\ude32-\ude36\ude38-\ude3a\ude50\ude51\udf00-\udf20\udf2d-\udf35\udf37-\udf7c\udf7e-\udf84\udf86-\udf93\udfa0-\udfc1\udfc5\udfc6\udfc8\udfc9\udfcf-\udfd3\udfe0-\udff0\udff4\udff8-\udfff]|\ud83d[\udc00-\udc3e\udc40\udc44\udc45\udc51-\udc65\udc6a\udc6f\udc79-\udc7b\udc7d-\udc80\udc84\udc88-\udc8e\udc90\udc92-\udca9\udcab-\udcfc\udcff-\udd3d\udd4b-\udd4e\udd50-\udd67\udda4\uddfb-\ude44\ude48-\ude4a\ude80-\udea2\udea4-\udeb3\udeb7-\udebf\udec1-\udec5\uded0-\uded2\uded5-\uded7\udeeb\udeec\udef4-\udefc\udfe0-\udfeb]|\ud83e[\udd0d\udd0e\udd10-\udd17\udd1d\udd20-\udd25\udd27-\udd2f\udd3a\udd3c\udd3f-\udd45\udd47-\udd76\udd78\udd7a-\uddb4\uddb7\uddba\uddbc-\uddcb\uddd0\uddde-\uddff\ude70-\ude74\ude78-\ude7a\ude80-\ude86\ude90-\udea8\udeb0-\udeb6\udec0-\udec2\uded0-\uded6]|[\u23e9-\u23ec\u23f0\u23f3\u267e\u26ce\u2705\u2728\u274c\u274e\u2753-\u2755\u2795-\u2797\u27b0\u27bf\ue50a])|\ufe0f/g,i=/\uFE0F/g,r=String.fromCharCode(8205),o=/[&<>'"]/g,u=/^(?:iframe|noframes|noscript|script|select|style|textarea)$/,h=String.fromCharCode;return n;function _(st,et){return document.createTextNode(et?st.replace(i,""):st)}function b(st){return st.replace(o,fe)}function T(st,et){return"".concat(et.base,et.size,"/",st,et.ext)}function M(st,et){for(var zt,Bn,_n=st.childNodes,Lt=_n.length;Lt--;)3===(Bn=(zt=_n[Lt]).nodeType)?et.push(zt):1===Bn&&!("ownerSVGElement"in zt)&&!u.test(zt.nodeName.toLowerCase())&&M(zt,et);return et}function N(st){return _t(st.indexOf(r)<0?st.replace(i,""):st)}function j(st,et){for(var zt,Bn,Os,Ps,gg,lt,At,Mt,ln,Pn,gs,Jr,nl,_n=M(st,[]),Lt=_n.length;Lt--;){for(Os=!1,Ps=document.createDocumentFragment(),lt=(gg=_n[Lt]).nodeValue,Mt=0;At=e.exec(lt);){if((ln=At.index)!==Mt&&Ps.appendChild(_(lt.slice(Mt,ln),!0)),Jr=N(gs=At[0]),Mt=ln+gs.length,nl=et.callback(Jr,et),Jr&&nl){for(Bn in(Pn=new Image).onerror=et.onerror,Pn.setAttribute("draggable","false"),zt=et.attributes(gs,Jr))zt.hasOwnProperty(Bn)&&0!==Bn.indexOf("on")&&!Pn.hasAttribute(Bn)&&Pn.setAttribute(Bn,zt[Bn]);Pn.className=et.className,Pn.alt=gs,Pn.src=nl,Os=!0,Ps.appendChild(Pn)}Pn||Ps.appendChild(_(gs,!1)),Pn=null}Os&&(Mt<lt.length&&Ps.appendChild(_(lt.slice(Mt),!0)),gg.parentNode.replaceChild(Ps,gg))}return st}function Y(st,et){return Ye(st,function(_n){var Os,Ps,Lt=_n,zt=N(_n),Bn=et.callback(zt,et);if(zt&&Bn){for(Ps in Lt="<img ".concat('class="',et.className,'" ','draggable="false" ','alt="',_n,'"',' src="',Bn,'"'),Os=et.attributes(_n,zt))Os.hasOwnProperty(Ps)&&0!==Ps.indexOf("on")&&-1===Lt.indexOf(" "+Ps+"=")&&(Lt=Lt.concat(" ",Ps,'="',b(Os[Ps]),'"'));Lt=Lt.concat("/>")}return Lt})}function fe(st){return t[st]}function Te(){return null}function Qe(st){return"number"==typeof st?st+"x"+st:st}function Ye(st,et){return String(st).replace(e,et)}function _t(st,et){for(var _n=[],Lt=0,zt=0,Bn=0;Bn<st.length;)Lt=st.charCodeAt(Bn++),zt?(_n.push((65536+(zt-55296<<10)+(Lt-56320)).toString(16)),zt=0):55296<=Lt&&Lt<=56319?zt=Lt:_n.push(Lt.toString(16));return _n.join(et||"-")}}();const y8=_8;function v8(n,t){if(1&n){const e=s.EpF();s.ynx(0),s.TgZ(1,"emoji-button",1),s.NdJ("selection",function(r){return s.CHM(e),s.oxw().handleCategorySelection(r)}),s.qZA(),s.BQk()}if(2&n){const e=t.$implicit;s.xp6(1),s.Q6J("dataToEmit",e)("emoji",e.icon)}}function b8(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"emoji-button",5),s.NdJ("selection",function(r){return s.CHM(e),s.oxw(2).emojiSelectionEmitter.emit(r)}),s.qZA()}2&n&&s.Q6J("emoji",t.$implicit)}function w8(n,t){if(1&n&&(s.ynx(0),s._UZ(1,"emoji-category",2),s.TgZ(2,"div",3),s.YNc(3,b8,1,1,"emoji-button",4),s.qZA(),s.BQk()),2&n){const e=t.$implicit;s.xp6(1),s.Q6J("category",e),s.xp6(2),s.Q6J("ngForOf",e.emojis)}}const C8=["input"];let eF=(()=>{let n=class{constructor(){this.selectionEmitter=new s.vpe}ngOnChanges(){}};return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["emoji-button"]],inputs:{emoji:"emoji",dataToEmit:"dataToEmit",options:"options",fitzpatrick:"fitzpatrick"},outputs:{selectionEmitter:"selection"},features:[s.TTD],decls:2,vars:3,consts:[[1,"emoji-button",3,"innerHTML","click"]],template:function(e,i){1&e&&(s.TgZ(0,"button",0),s.NdJ("click",function(){return i.selectionEmitter.emit(i.dataToEmit||i.emoji)}),s.ALo(1,"emojiFallback"),s.qZA()),2&e&&s.Q6J("innerHTML",s.lcZ(1,1,i.emoji[0]),s.oJD)},pipes:function(){return[R8]},styles:["[_nghost-%COMP%]{display:inline-block}.emoji-button[_ngcontent-%COMP%]{padding:0;border:none;outline:0;background:0 0;width:34px;height:34px;border-radius:3px;font-size:24px;line-height:1.1;cursor:pointer;transition:.2s}.emoji-button[_ngcontent-%COMP%]:focus, .emoji-button[_ngcontent-%COMP%]:hover{background:#f1f1f1;border-color:#f1f1f1}.emoji-button[_ngcontent-%COMP%]     img{width:20px}"]}),un([(0,s.IIB)("emoji"),nn("design:type",Object)],n.prototype,"emoji",void 0),un([(0,s.IIB)("dataToEmit"),nn("design:type",Object)],n.prototype,"dataToEmit",void 0),un([(0,s.IIB)("options"),nn("design:type",Object)],n.prototype,"options",void 0),un([(0,s.IIB)("fitzpatrick"),nn("design:type",Object)],n.prototype,"fitzpatrick",void 0),un([(0,s.r_U)("selection"),nn("design:type",s.vpe)],n.prototype,"selectionEmitter",void 0),n=un([nn("design:paramtypes",[])],n),n})(),E8=(()=>{let n=class{constructor(){this.categorySelection=new s.vpe}handleCategorySelection(e){this.categorySelection.emit(e)}};return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["emoji-categories"]],inputs:{emojisCategories:"emojisCategories"},outputs:{categorySelection:"categorySelection"},decls:1,vars:1,consts:[[4,"ngFor","ngForOf"],[3,"dataToEmit","emoji","selection"]],template:function(e,i){1&e&&s.YNc(0,v8,2,2,"ng-container",0),2&e&&s.Q6J("ngForOf",i.emojisCategories)},directives:[$n,eF],styles:["[_nghost-%COMP%]{display:flex;flex-wrap:wrap;justify-content:space-between;margin:0 0 10px}"]}),un([(0,s.IIB)("emojisCategories"),nn("design:type",Object)],n.prototype,"emojisCategories",void 0),un([(0,s.r_U)("categorySelection"),nn("design:type",Object)],n.prototype,"categorySelection",void 0),n=un([nn("design:paramtypes",[])],n),n})(),vk=(()=>{let n=class{constructor(e){this._element=e}scrollIntoView(){this._element.nativeElement.scrollIntoView()}};return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq))},n.\u0275cmp=s.Xpm({type:n,selectors:[["emoji-category"]],inputs:{category:"category"},decls:2,vars:1,consts:[[1,"emoji-category"]],template:function(e,i){1&e&&(s.TgZ(0,"p",0),s._uU(1),s.qZA()),2&e&&(s.xp6(1),s.Oqu(i.category.name))},styles:['.emoji-category[_ngcontent-%COMP%]{margin:0;font-size:16px;padding:5px 0 5px 5px;border-bottom:1px solid #f0f0f0;color:#777;font-family:Arial,"Arial Black",Tahoma,"Trebuchet MS",Verdana}']}),un([(0,s.IIB)("category"),nn("design:type",Object)],n.prototype,"category",void 0),n=un([nn("design:paramtypes",[s.SBq])],n),n})();const D8=[{emojis:[["\u{1f600}","grinning"],["\u{1f603}","smiley"],["\u{1f604}","smile"],["\u{1f601}","grin"],["\u{1f606}","laughing"],["\u{1f605}","sweat_smile"],["\u{1f602}","joy"],["\u{1f923}","rofl"],["\u{1f60a}","blush"],["\u{1f607}","innocent"],["\u{1f642}","slightly_smiling_face"],["\u{1f643}","upside_down_face"],["\u{1f609}","wink"],["\u{1f60c}","relieved"],["\u{1f60d}","heart_eyes"],["\u{1f618}","kissing_heart"],["\u{1f617}","kissing"],["\u{1f619}","kissing_smiling_eyes"],["\u{1f61a}","kissing_closed_eyes"],["\u{1f60b}","yum"],["\u{1f61c}","stuck_out_tongue_winking_eye"],["\u{1f61d}","stuck_out_tongue_closed_eyes"],["\u{1f61b}","stuck_out_tongue"],["\u{1f911}","money_mouth_face"],["\u{1f917}","hugs"],["\u{1f913}","nerd_face"],["\u{1f60e}","sunglasses"],["\u{1f921}","clown_face"],["\u{1f920}","cowboy_hat_face"],["\u{1f60f}","smirk"],["\u{1f612}","unamused"],["\u{1f61e}","disappointed"],["\u{1f614}","pensive"],["\u{1f61f}","worried"],["\u{1f615}","confused"],["\u{1f641}","slightly_frowning_face"],["\u2639\ufe0f","frowning_face"],["\u{1f623}","persevere"],["\u{1f616}","confounded"],["\u{1f62b}","tired_face"],["\u{1f629}","weary"],["\u{1f624}","triumph"],["\u{1f620}","angry"],["\u{1f621}","rage"],["\u{1f636}","no_mouth"],["\u{1f610}","neutral_face"],["\u{1f611}","expressionless"],["\u{1f62f}","hushed"],["\u{1f626}","frowning"],["\u{1f627}","anguished"],["\u{1f62e}","open_mouth"],["\u{1f632}","astonished"],["\u{1f635}","dizzy_face"],["\u{1f633}","flushed"],["\u{1f631}","scream"],["\u{1f628}","fearful"],["\u{1f630}","cold_sweat"],["\u{1f622}","cry"],["\u{1f625}","disappointed_relieved"],["\u{1f924}","drooling_face"],["\u{1f62d}","sob"],["\u{1f613}","sweat"],["\u{1f62a}","sleepy"],["\u{1f634}","sleeping"],["\u{1f644}","roll_eyes"],["\u{1f914}","thinking"],["\u{1f925}","lying_face"],["\u{1f62c}","grimacing"],["\u{1f910}","zipper_mouth_face"],["\u{1f922}","nauseated_face"],["\u{1f927}","sneezing_face"],["\u{1f637}","mask"],["\u{1f912}","face_with_thermometer"],["\u{1f915}","face_with_head_bandage"],["\u{1f608}","smiling_imp"],["\u{1f47f}","imp"],["\u{1f479}","japanese_ogre"],["\u{1f47a}","japanese_goblin"],["\u{1f4a9}","hankey"],["\u{1f47b}","ghost"],["\u{1f480}","skull"],["\u2620\ufe0f","skull_and_crossbones"],["\u{1f47d}","alien"],["\u{1f47e}","space_invader"],["\u{1f916}","robot"],["\u{1f383}","jack_o_lantern"],["\u{1f63a}","smiley_cat"],["\u{1f638}","smile_cat"],["\u{1f639}","joy_cat"],["\u{1f63b}","heart_eyes_cat"],["\u{1f63c}","smirk_cat"],["\u{1f63d}","kissing_cat"],["\u{1f640}","scream_cat"],["\u{1f63f}","crying_cat_face"],["\u{1f63e}","pouting_cat"],["\u{1f450}","open_hands"],["\u{1f64c}","raised_hands"],["\u{1f44f}","clap"],["\u{1f64f}","pray"],["\u{1f91d}","handshake"],["\u{1f44d}","+1"],["\u{1f44e}","-1"],["\u{1f44a}","fist_oncoming"],["\u270a","fist_raised"],["\u{1f91b}","fist_left"],["\u{1f91c}","fist_right"],["\u{1f91e}","crossed_fingers"],["\u270c\ufe0f","v"],["\u{1f918}","metal"],["\u{1f44c}","ok_hand"],["\u{1f448}","point_left"],["\u{1f449}","point_right"],["\u{1f446}","point_up_2"],["\u{1f447}","point_down"],["\u261d\ufe0f","point_up"],["\u270b","hand"],["\u{1f91a}","raised_back_of_hand"],["\u{1f590}","raised_hand_with_fingers_splayed"],["\u{1f596}","vulcan_salute"],["\u{1f44b}","wave"],["\u{1f919}","call_me_hand"],["\u{1f4aa}","muscle"],["\u{1f595}","middle_finger"],["\u270d\ufe0f","writing_hand"],["\u{1f933}","selfie"],["\u{1f485}","nail_care"],["\u{1f48d}","ring"],["\u{1f484}","lipstick"],["\u{1f48b}","kiss"],["\u{1f444}","lips"],["\u{1f445}","tongue"],["\u{1f442}","ear"],["\u{1f443}","nose"],["\u{1f463}","footprints"],["\u{1f441}","eye"],["\u{1f440}","eyes"],["\u{1f5e3}","speaking_head"],["\u{1f464}","bust_in_silhouette"],["\u{1f465}","busts_in_silhouette"],["\u{1f476}","baby"],["\u{1f466}","boy"],["\u{1f467}","girl"],["\u{1f468}","man"],["\u{1f469}","woman"],["\u{1f471}\u200d\u2640","blonde_woman"],["\u{1f471}","blonde_man"],["\u{1f474}","older_man"],["\u{1f475}","older_woman"],["\u{1f472}","man_with_gua_pi_mao"],["\u{1f473}\u200d\u2640","woman_with_turban"],["\u{1f473}","man_with_turban"],["\u{1f46e}\u200d\u2640","policewoman"],["\u{1f46e}","policeman"],["\u{1f477}\u200d\u2640","construction_worker_woman"],["\u{1f477}","construction_worker_man"],["\u{1f482}\u200d\u2640","guardswoman"],["\u{1f482}","guardsman"],["\u{1f575}\ufe0f\u200d\u2640\ufe0f","female_detective"],["\u{1f575}","male_detective"],["\u{1f469}\u200d\u2695","woman_health_worker"],["\u{1f468}\u200d\u2695","man_health_worker"],["\u{1f469}\u200d\u{1f33e}","woman_farmer"],["\u{1f468}\u200d\u{1f33e}","man_farmer"],["\u{1f469}\u200d\u{1f373}","woman_cook"],["\u{1f468}\u200d\u{1f373}","man_cook"],["\u{1f469}\u200d\u{1f393}","woman_student"],["\u{1f468}\u200d\u{1f393}","man_student"],["\u{1f469}\u200d\u{1f3a4}","woman_singer"],["\u{1f468}\u200d\u{1f3a4}","man_singer"],["\u{1f469}\u200d\u{1f3eb}","woman_teacher"],["\u{1f468}\u200d\u{1f3eb}","man_teacher"],["\u{1f469}\u200d\u{1f3ed}","woman_factory_worker"],["\u{1f468}\u200d\u{1f3ed}","man_factory_worker"],["\u{1f469}\u200d\u{1f4bb}","woman_technologist"],["\u{1f468}\u200d\u{1f4bb}","man_technologist"],["\u{1f469}\u200d\u{1f4bc}","woman_office_worker"],["\u{1f468}\u200d\u{1f4bc}","man_office_worker"],["\u{1f469}\u200d\u{1f527}","woman_mechanic"],["\u{1f468}\u200d\u{1f527}","man_mechanic"],["\u{1f469}\u200d\u{1f52c}","woman_scientist"],["\u{1f468}\u200d\u{1f52c}","man_scientist"],["\u{1f469}\u200d\u{1f3a8}","woman_artist"],["\u{1f468}\u200d\u{1f3a8}","man_artist"],["\u{1f469}\u200d\u{1f692}","woman_firefighter"],["\u{1f468}\u200d\u{1f692}","man_firefighter"],["\u{1f469}\u200d\u2708","woman_pilot"],["\u{1f468}\u200d\u2708","man_pilot"],["\u{1f469}\u200d\u{1f680}","woman_astronaut"],["\u{1f468}\u200d\u{1f680}","man_astronaut"],["\u{1f469}\u200d\u2696","woman_judge"],["\u{1f468}\u200d\u2696","man_judge"],["\u{1f936}","mrs_claus"],["\u{1f385}","santa"],["\u{1f478}","princess"],["\u{1f934}","prince"],["\u{1f470}","bride_with_veil"],["\u{1f935}","man_in_tuxedo"],["\u{1f47c}","angel"],["\u{1f930}","pregnant_woman"],["\u{1f647}\u200d\u2640","bowing_woman"],["\u{1f647}","bowing_man"],["\u{1f481}","tipping_hand_woman"],["\u{1f481}\u200d\u2642","tipping_hand_man"],["\u{1f645}","no_good_woman"],["\u{1f645}\u200d\u2642","no_good_man"],["\u{1f646}","ok_woman"],["\u{1f646}\u200d\u2642","ok_man"],["\u{1f64b}","raising_hand_woman"],["\u{1f64b}\u200d\u2642","raising_hand_man"],["\u{1f926}\u200d\u2640","woman_facepalming"],["\u{1f926}\u200d\u2642","man_facepalming"],["\u{1f937}\u200d\u2640","woman_shrugging"],["\u{1f937}\u200d\u2642","man_shrugging"],["\u{1f64e}","pouting_woman"],["\u{1f64e}\u200d\u2642","pouting_man"],["\u{1f64d}","frowning_woman"],["\u{1f64d}\u200d\u2642","frowning_man"],["\u{1f487}","haircut_woman"],["\u{1f487}\u200d\u2642","haircut_man"],["\u{1f486}","massage_woman"],["\u{1f486}\u200d\u2642","massage_man"],["\u{1f574}","business_suit_levitating"],["\u{1f483}","dancer"],["\u{1f57a}","man_dancing"],["\u{1f46f}","dancing_women"],["\u{1f46f}\u200d\u2642","dancing_men"],["\u{1f6b6}\u200d\u2640","walking_woman"],["\u{1f6b6}","walking_man"],["\u{1f3c3}\u200d\u2640","running_woman"],["\u{1f3c3}","running_man"],["\u{1f46b}","couple"],["\u{1f46d}","two_women_holding_hands"],["\u{1f46c}","two_men_holding_hands"],["\u{1f491}","couple_with_heart_woman_man"],["\u{1f469}\u200d\u2764\ufe0f\u200d\u{1f469}","couple_with_heart_woman_woman"],["\u{1f468}\u200d\u2764\ufe0f\u200d\u{1f468}","couple_with_heart_man_man"],["\u{1f48f}","couplekiss_man_woman"],["\u{1f469}\u200d\u2764\ufe0f\u200d\u{1f48b}\u200d\u{1f469}","couplekiss_woman_woman"],["\u{1f468}\u200d\u2764\ufe0f\u200d\u{1f48b}\u200d\u{1f468}","couplekiss_man_man"],["\u{1f46a}","family_man_woman_boy"],["\u{1f468}\u200d\u{1f469}\u200d\u{1f467}","family_man_woman_girl"],["\u{1f468}\u200d\u{1f469}\u200d\u{1f467}\u200d\u{1f466}","family_man_woman_girl_boy"],["\u{1f468}\u200d\u{1f469}\u200d\u{1f466}\u200d\u{1f466}","family_man_woman_boy_boy"],["\u{1f468}\u200d\u{1f469}\u200d\u{1f467}\u200d\u{1f467}","family_man_woman_girl_girl"],["\u{1f469}\u200d\u{1f469}\u200d\u{1f466}","family_woman_woman_boy"],["\u{1f469}\u200d\u{1f469}\u200d\u{1f467}","family_woman_woman_girl"],["\u{1f469}\u200d\u{1f469}\u200d\u{1f467}\u200d\u{1f466}","family_woman_woman_girl_boy"],["\u{1f469}\u200d\u{1f469}\u200d\u{1f466}\u200d\u{1f466}","family_woman_woman_boy_boy"],["\u{1f469}\u200d\u{1f469}\u200d\u{1f467}\u200d\u{1f467}","family_woman_woman_girl_girl"],["\u{1f468}\u200d\u{1f468}\u200d\u{1f466}","family_man_man_boy"],["\u{1f468}\u200d\u{1f468}\u200d\u{1f467}","family_man_man_girl"],["\u{1f468}\u200d\u{1f468}\u200d\u{1f467}\u200d\u{1f466}","family_man_man_girl_boy"],["\u{1f468}\u200d\u{1f468}\u200d\u{1f466}\u200d\u{1f466}","family_man_man_boy_boy"],["\u{1f468}\u200d\u{1f468}\u200d\u{1f467}\u200d\u{1f467}","family_man_man_girl_girl"],["\u{1f469}\u200d\u{1f466}","family_woman_boy"],["\u{1f469}\u200d\u{1f467}","family_woman_girl"],["\u{1f469}\u200d\u{1f467}\u200d\u{1f466}","family_woman_girl_boy"],["\u{1f469}\u200d\u{1f466}\u200d\u{1f466}","family_woman_boy_boy"],["\u{1f469}\u200d\u{1f467}\u200d\u{1f467}","family_woman_girl_girl"],["\u{1f468}\u200d\u{1f466}","family_man_boy"],["\u{1f468}\u200d\u{1f467}","family_man_girl"],["\u{1f468}\u200d\u{1f467}\u200d\u{1f466}","family_man_girl_boy"],["\u{1f468}\u200d\u{1f466}\u200d\u{1f466}","family_man_boy_boy"],["\u{1f468}\u200d\u{1f467}\u200d\u{1f467}","family_man_girl_girl"],["\u{1f45a}","womans_clothes"],["\u{1f455}","shirt"],["\u{1f456}","jeans"],["\u{1f454}","necktie"],["\u{1f457}","dress"],["\u{1f459}","bikini"],["\u{1f458}","kimono"],["\u{1f460}","high_heel"],["\u{1f461}","sandal"],["\u{1f462}","boot"],["\u{1f45e}","mans_shoe"],["\u{1f45f}","athletic_shoe"],["\u{1f452}","womans_hat"],["\u{1f3a9}","tophat"],["\u{1f393}","mortar_board"],["\u{1f451}","crown"],["\u26d1","rescue_worker_helmet"],["\u{1f392}","school_satchel"],["\u{1f45d}","pouch"],["\u{1f45b}","purse"],["\u{1f45c}","handbag"],["\u{1f4bc}","briefcase"],["\u{1f453}","eyeglasses"],["\u{1f576}","dark_sunglasses"],["\u{1f302}","closed_umbrella"],["\u2602\ufe0f","open_umbrella"]],name:"People",icon:["\u{1f604}","smile"]},{emojis:[["\u{1f436}","dog"],["\u{1f431}","cat"],["\u{1f42d}","mouse"],["\u{1f439}","hamster"],["\u{1f430}","rabbit"],["\u{1f98a}","fox_face"],["\u{1f43b}","bear"],["\u{1f43c}","panda_face"],["\u{1f428}","koala"],["\u{1f42f}","tiger"],["\u{1f981}","lion"],["\u{1f42e}","cow"],["\u{1f437}","pig"],["\u{1f43d}","pig_nose"],["\u{1f438}","frog"],["\u{1f435}","monkey_face"],["\u{1f648}","see_no_evil"],["\u{1f649}","hear_no_evil"],["\u{1f64a}","speak_no_evil"],["\u{1f412}","monkey"],["\u{1f414}","chicken"],["\u{1f427}","penguin"],["\u{1f426}","bird"],["\u{1f424}","baby_chick"],["\u{1f423}","hatching_chick"],["\u{1f425}","hatched_chick"],["\u{1f986}","duck"],["\u{1f985}","eagle"],["\u{1f989}","owl"],["\u{1f987}","bat"],["\u{1f43a}","wolf"],["\u{1f417}","boar"],["\u{1f434}","horse"],["\u{1f984}","unicorn"],["\u{1f41d}","bee"],["\u{1f41b}","bug"],["\u{1f98b}","butterfly"],["\u{1f40c}","snail"],["\u{1f41a}","shell"],["\u{1f41e}","beetle"],["\u{1f41c}","ant"],["\u{1f577}","spider"],["\u{1f578}","spider_web"],["\u{1f422}","turtle"],["\u{1f40d}","snake"],["\u{1f98e}","lizard"],["\u{1f982}","scorpion"],["\u{1f980}","crab"],["\u{1f991}","squid"],["\u{1f419}","octopus"],["\u{1f990}","shrimp"],["\u{1f420}","tropical_fish"],["\u{1f41f}","fish"],["\u{1f421}","blowfish"],["\u{1f42c}","dolphin"],["\u{1f988}","shark"],["\u{1f433}","whale"],["\u{1f40b}","whale2"],["\u{1f40a}","crocodile"],["\u{1f406}","leopard"],["\u{1f405}","tiger2"],["\u{1f403}","water_buffalo"],["\u{1f402}","ox"],["\u{1f404}","cow2"],["\u{1f98c}","deer"],["\u{1f42a}","dromedary_camel"],["\u{1f42b}","camel"],["\u{1f418}","elephant"],["\u{1f98f}","rhinoceros"],["\u{1f98d}","gorilla"],["\u{1f40e}","racehorse"],["\u{1f416}","pig2"],["\u{1f410}","goat"],["\u{1f40f}","ram"],["\u{1f411}","sheep"],["\u{1f415}","dog2"],["\u{1f429}","poodle"],["\u{1f408}","cat2"],["\u{1f413}","rooster"],["\u{1f983}","turkey"],["\u{1f54a}","dove"],["\u{1f407}","rabbit2"],["\u{1f401}","mouse2"],["\u{1f400}","rat"],["\u{1f43f}","chipmunk"],["\u{1f43e}","feet"],["\u{1f409}","dragon"],["\u{1f432}","dragon_face"],["\u{1f335}","cactus"],["\u{1f384}","christmas_tree"],["\u{1f332}","evergreen_tree"],["\u{1f333}","deciduous_tree"],["\u{1f334}","palm_tree"],["\u{1f331}","seedling"],["\u{1f33f}","herb"],["\u2618\ufe0f","shamrock"],["\u{1f340}","four_leaf_clover"],["\u{1f38d}","bamboo"],["\u{1f38b}","tanabata_tree"],["\u{1f343}","leaves"],["\u{1f342}","fallen_leaf"],["\u{1f341}","maple_leaf"],["\u{1f344}","mushroom"],["\u{1f33e}","ear_of_rice"],["\u{1f490}","bouquet"],["\u{1f337}","tulip"],["\u{1f339}","rose"],["\u{1f940}","wilted_flower"],["\u{1f33b}","sunflower"],["\u{1f33c}","blossom"],["\u{1f338}","cherry_blossom"],["\u{1f33a}","hibiscus"],["\u{1f30e}","earth_americas"],["\u{1f30d}","earth_africa"],["\u{1f30f}","earth_asia"],["\u{1f315}","full_moon"],["\u{1f316}","waning_gibbous_moon"],["\u{1f317}","last_quarter_moon"],["\u{1f318}","waning_crescent_moon"],["\u{1f311}","new_moon"],["\u{1f312}","waxing_crescent_moon"],["\u{1f313}","first_quarter_moon"],["\u{1f314}","moon"],["\u{1f31a}","new_moon_with_face"],["\u{1f31d}","full_moon_with_face"],["\u{1f31e}","sun_with_face"],["\u{1f31b}","first_quarter_moon_with_face"],["\u{1f31c}","last_quarter_moon_with_face"],["\u{1f319}","crescent_moon"],["\u{1f4ab}","dizzy"],["\u2b50\ufe0f","star"],["\u{1f31f}","star2"],["\u2728","sparkles"],["\u26a1\ufe0f","zap"],["\u{1f525}","fire"],["\u{1f4a5}","boom"],["\u2604","comet"],["\u2600\ufe0f","sunny"],["\u{1f324}","sun_behind_small_cloud"],["\u26c5\ufe0f","partly_sunny"],["\u{1f325}","sun_behind_large_cloud"],["\u{1f326}","sun_behind_rain_cloud"],["\u{1f308}","rainbow"],["\u2601\ufe0f","cloud"],["\u{1f327}","cloud_with_rain"],["\u26c8","cloud_with_lightning_and_rain"],["\u{1f329}","cloud_with_lightning"],["\u{1f328}","cloud_with_snow"],["\u2603\ufe0f","snowman_with_snow"],["\u26c4\ufe0f","snowman"],["\u2744\ufe0f","snowflake"],["\u{1f32c}","wind_face"],["\u{1f4a8}","dash"],["\u{1f32a}","tornado"],["\u{1f32b}","fog"],["\u{1f30a}","ocean"],["\u{1f4a7}","droplet"],["\u{1f4a6}","sweat_drops"],["\u2614\ufe0f","umbrella"]],name:"Nature",icon:["\u{1f338}","cherry_blossom"]},{emojis:[["\u{1f34f}","green_apple"],["\u{1f34e}","apple"],["\u{1f350}","pear"],["\u{1f34a}","tangerine"],["\u{1f34b}","lemon"],["\u{1f34c}","banana"],["\u{1f349}","watermelon"],["\u{1f347}","grapes"],["\u{1f353}","strawberry"],["\u{1f348}","melon"],["\u{1f352}","cherries"],["\u{1f351}","peach"],["\u{1f34d}","pineapple"],["\u{1f95d}","kiwi_fruit"],["\u{1f951}","avocado"],["\u{1f345}","tomato"],["\u{1f346}","eggplant"],["\u{1f952}","cucumber"],["\u{1f955}","carrot"],["\u{1f33d}","corn"],["\u{1f336}","hot_pepper"],["\u{1f954}","potato"],["\u{1f360}","sweet_potato"],["\u{1f330}","chestnut"],["\u{1f95c}","peanuts"],["\u{1f36f}","honey_pot"],["\u{1f950}","croissant"],["\u{1f35e}","bread"],["\u{1f956}","baguette_bread"],["\u{1f9c0}","cheese"],["\u{1f95a}","egg"],["\u{1f373}","fried_egg"],["\u{1f953}","bacon"],["\u{1f95e}","pancakes"],["\u{1f364}","fried_shrimp"],["\u{1f357}","poultry_leg"],["\u{1f356}","meat_on_bone"],["\u{1f355}","pizza"],["\u{1f32d}","hotdog"],["\u{1f354}","hamburger"],["\u{1f35f}","fries"],["\u{1f959}","stuffed_flatbread"],["\u{1f32e}","taco"],["\u{1f32f}","burrito"],["\u{1f957}","green_salad"],["\u{1f958}","shallow_pan_of_food"],["\u{1f35d}","spaghetti"],["\u{1f35c}","ramen"],["\u{1f372}","stew"],["\u{1f365}","fish_cake"],["\u{1f363}","sushi"],["\u{1f371}","bento"],["\u{1f35b}","curry"],["\u{1f35a}","rice"],["\u{1f359}","rice_ball"],["\u{1f358}","rice_cracker"],["\u{1f362}","oden"],["\u{1f361}","dango"],["\u{1f367}","shaved_ice"],["\u{1f368}","ice_cream"],["\u{1f366}","icecream"],["\u{1f370}","cake"],["\u{1f382}","birthday"],["\u{1f36e}","custard"],["\u{1f36d}","lollipop"],["\u{1f36c}","candy"],["\u{1f36b}","chocolate_bar"],["\u{1f37f}","popcorn"],["\u{1f369}","doughnut"],["\u{1f36a}","cookie"],["\u{1f95b}","milk_glass"],["\u{1f37c}","baby_bottle"],["\u2615\ufe0f","coffee"],["\u{1f375}","tea"],["\u{1f376}","sake"],["\u{1f37a}","beer"],["\u{1f37b}","beers"],["\u{1f942}","clinking_glasses"],["\u{1f377}","wine_glass"],["\u{1f943}","tumbler_glass"],["\u{1f378}","cocktail"],["\u{1f379}","tropical_drink"],["\u{1f37e}","champagne"],["\u{1f944}","spoon"],["\u{1f374}","fork_and_knife"],["\u{1f37d}","plate_with_cutlery"]],name:"Foods",icon:["\u{1f354}","hamburger"]},{emojis:[["\u26bd\ufe0f","soccer"],["\u{1f3c0}","basketball"],["\u{1f3c8}","football"],["\u26be\ufe0f","baseball"],["\u{1f3be}","tennis"],["\u{1f3d0}","volleyball"],["\u{1f3c9}","rugby_football"],["\u{1f3b1}","8ball"],["\u{1f3d3}","ping_pong"],["\u{1f3f8}","badminton"],["\u{1f945}","goal_net"],["\u{1f3d2}","ice_hockey"],["\u{1f3d1}","field_hockey"],["\u{1f3cf}","cricket"],["\u26f3\ufe0f","golf"],["\u{1f3f9}","bow_and_arrow"],["\u{1f3a3}","fishing_pole_and_fish"],["\u{1f94a}","boxing_glove"],["\u{1f94b}","martial_arts_uniform"],["\u26f8","ice_skate"],["\u{1f3bf}","ski"],["\u26f7","skier"],["\u{1f3c2}","snowboarder"],["\u{1f3cb}\ufe0f\u200d\u2640\ufe0f","weight_lifting_woman"],["\u{1f3cb}","weight_lifting_man"],["\u{1f93a}","person_fencing"],["\u{1f93c}\u200d\u2640","women_wrestling"],["\u{1f93c}\u200d\u2642","men_wrestling"],["\u{1f938}\u200d\u2640","woman_cartwheeling"],["\u{1f938}\u200d\u2642","man_cartwheeling"],["\u26f9\ufe0f\u200d\u2640\ufe0f","basketball_woman"],["\u26f9","basketball_man"],["\u{1f93e}\u200d\u2640","woman_playing_handball"],["\u{1f93e}\u200d\u2642","man_playing_handball"],["\u{1f3cc}\ufe0f\u200d\u2640\ufe0f","golfing_woman"],["\u{1f3cc}","golfing_man"],["\u{1f3c4}\u200d\u2640","surfing_woman"],["\u{1f3c4}","surfing_man"],["\u{1f3ca}\u200d\u2640","swimming_woman"],["\u{1f3ca}","swimming_man"],["\u{1f93d}\u200d\u2640","woman_playing_water_polo"],["\u{1f93d}\u200d\u2642","man_playing_water_polo"],["\u{1f6a3}\u200d\u2640","rowing_woman"],["\u{1f6a3}","rowing_man"],["\u{1f3c7}","horse_racing"],["\u{1f6b4}\u200d\u2640","biking_woman"],["\u{1f6b4}","biking_man"],["\u{1f6b5}\u200d\u2640","mountain_biking_woman"],["\u{1f6b5}","mountain_biking_man"],["\u{1f3bd}","running_shirt_with_sash"],["\u{1f3c5}","medal_sports"],["\u{1f396}","medal_military"],["\u{1f947}","1st_place_medal"],["\u{1f948}","2nd_place_medal"],["\u{1f949}","3rd_place_medal"],["\u{1f3c6}","trophy"],["\u{1f3f5}","rosette"],["\u{1f397}","reminder_ribbon"],["\u{1f3ab}","ticket"],["\u{1f39f}","tickets"],["\u{1f3aa}","circus_tent"],["\u{1f939}\u200d\u2640","woman_juggling"],["\u{1f939}\u200d\u2642","man_juggling"],["\u{1f3ad}","performing_arts"],["\u{1f3a8}","art"],["\u{1f3ac}","clapper"],["\u{1f3a4}","microphone"],["\u{1f3a7}","headphones"],["\u{1f3bc}","musical_score"],["\u{1f3b9}","musical_keyboard"],["\u{1f941}","drum"],["\u{1f3b7}","saxophone"],["\u{1f3ba}","trumpet"],["\u{1f3b8}","guitar"],["\u{1f3bb}","violin"],["\u{1f3b2}","game_die"],["\u{1f3af}","dart"],["\u{1f3b3}","bowling"],["\u{1f3ae}","video_game"],["\u{1f3b0}","slot_machine"]],name:"Activity",icon:["\u26bd\ufe0f","soccer"]},{emojis:[["\u{1f697}","car"],["\u{1f695}","taxi"],["\u{1f699}","blue_car"],["\u{1f68c}","bus"],["\u{1f68e}","trolleybus"],["\u{1f3ce}","racing_car"],["\u{1f693}","police_car"],["\u{1f691}","ambulance"],["\u{1f692}","fire_engine"],["\u{1f690}","minibus"],["\u{1f69a}","truck"],["\u{1f69b}","articulated_lorry"],["\u{1f69c}","tractor"],["\u{1f6f4}","kick_scooter"],["\u{1f6b2}","bike"],["\u{1f6f5}","motor_scooter"],["\u{1f3cd}","motorcycle"],["\u{1f6a8}","rotating_light"],["\u{1f694}","oncoming_police_car"],["\u{1f68d}","oncoming_bus"],["\u{1f698}","oncoming_automobile"],["\u{1f696}","oncoming_taxi"],["\u{1f6a1}","aerial_tramway"],["\u{1f6a0}","mountain_cableway"],["\u{1f69f}","suspension_railway"],["\u{1f683}","railway_car"],["\u{1f68b}","train"],["\u{1f69e}","mountain_railway"],["\u{1f69d}","monorail"],["\u{1f684}","bullettrain_side"],["\u{1f685}","bullettrain_front"],["\u{1f688}","light_rail"],["\u{1f682}","steam_locomotive"],["\u{1f686}","train2"],["\u{1f687}","metro"],["\u{1f68a}","tram"],["\u{1f689}","station"],["\u{1f681}","helicopter"],["\u{1f6e9}","small_airplane"],["\u2708\ufe0f","airplane"],["\u{1f6eb}","flight_departure"],["\u{1f6ec}","flight_arrival"],["\u{1f680}","rocket"],["\u{1f6f0}","artificial_satellite"],["\u{1f4ba}","seat"],["\u{1f6f6}","canoe"],["\u26f5\ufe0f","boat"],["\u{1f6e5}","motor_boat"],["\u{1f6a4}","speedboat"],["\u{1f6f3}","passenger_ship"],["\u26f4","ferry"],["\u{1f6a2}","ship"],["\u2693\ufe0f","anchor"],["\u{1f6a7}","construction"],["\u26fd\ufe0f","fuelpump"],["\u{1f68f}","busstop"],["\u{1f6a6}","vertical_traffic_light"],["\u{1f6a5}","traffic_light"],["\u{1f5fa}","world_map"],["\u{1f5ff}","moyai"],["\u{1f5fd}","statue_of_liberty"],["\u26f2\ufe0f","fountain"],["\u{1f5fc}","tokyo_tower"],["\u{1f3f0}","european_castle"],["\u{1f3ef}","japanese_castle"],["\u{1f3df}","stadium"],["\u{1f3a1}","ferris_wheel"],["\u{1f3a2}","roller_coaster"],["\u{1f3a0}","carousel_horse"],["\u26f1","parasol_on_ground"],["\u{1f3d6}","beach_umbrella"],["\u{1f3dd}","desert_island"],["\u26f0","mountain"],["\u{1f3d4}","mountain_snow"],["\u{1f5fb}","mount_fuji"],["\u{1f30b}","volcano"],["\u{1f3dc}","desert"],["\u{1f3d5}","camping"],["\u26fa\ufe0f","tent"],["\u{1f6e4}","railway_track"],["\u{1f6e3}","motorway"],["\u{1f3d7}","building_construction"],["\u{1f3ed}","factory"],["\u{1f3e0}","house"],["\u{1f3e1}","house_with_garden"],["\u{1f3d8}","houses"],["\u{1f3da}","derelict_house"],["\u{1f3e2}","office"],["\u{1f3ec}","department_store"],["\u{1f3e3}","post_office"],["\u{1f3e4}","european_post_office"],["\u{1f3e5}","hospital"],["\u{1f3e6}","bank"],["\u{1f3e8}","hotel"],["\u{1f3ea}","convenience_store"],["\u{1f3eb}","school"],["\u{1f3e9}","love_hotel"],["\u{1f492}","wedding"],["\u{1f3db}","classical_building"],["\u26ea\ufe0f","church"],["\u{1f54c}","mosque"],["\u{1f54d}","synagogue"],["\u{1f54b}","kaaba"],["\u26e9","shinto_shrine"],["\u{1f5fe}","japan"],["\u{1f391}","rice_scene"],["\u{1f3de}","national_park"],["\u{1f305}","sunrise"],["\u{1f304}","sunrise_over_mountains"],["\u{1f320}","stars"],["\u{1f387}","sparkler"],["\u{1f386}","fireworks"],["\u{1f307}","city_sunrise"],["\u{1f306}","city_sunset"],["\u{1f3d9}","cityscape"],["\u{1f303}","night_with_stars"],["\u{1f30c}","milky_way"],["\u{1f309}","bridge_at_night"],["\u{1f301}","foggy"]],name:"Places",icon:["\u{1f697}","car"]},{emojis:[["\u231a\ufe0f","watch"],["\u{1f4f1}","iphone"],["\u{1f4f2}","calling"],["\u{1f4bb}","computer"],["\u2328\ufe0f","keyboard"],["\u{1f5a5}","desktop_computer"],["\u{1f5a8}","printer"],["\u{1f5b1}","computer_mouse"],["\u{1f5b2}","trackball"],["\u{1f579}","joystick"],["\u{1f5dc}","clamp"],["\u{1f4bd}","minidisc"],["\u{1f4be}","floppy_disk"],["\u{1f4bf}","cd"],["\u{1f4c0}","dvd"],["\u{1f4fc}","vhs"],["\u{1f4f7}","camera"],["\u{1f4f8}","camera_flash"],["\u{1f4f9}","video_camera"],["\u{1f3a5}","movie_camera"],["\u{1f4fd}","film_projector"],["\u{1f39e}","film_strip"],["\u{1f4de}","telephone_receiver"],["\u260e\ufe0f","phone"],["\u{1f4df}","pager"],["\u{1f4e0}","fax"],["\u{1f4fa}","tv"],["\u{1f4fb}","radio"],["\u{1f399}","studio_microphone"],["\u{1f39a}","level_slider"],["\u{1f39b}","control_knobs"],["\u23f1","stopwatch"],["\u23f2","timer_clock"],["\u23f0","alarm_clock"],["\u{1f570}","mantelpiece_clock"],["\u231b\ufe0f","hourglass"],["\u23f3","hourglass_flowing_sand"],["\u{1f4e1}","satellite"],["\u{1f50b}","battery"],["\u{1f50c}","electric_plug"],["\u{1f4a1}","bulb"],["\u{1f526}","flashlight"],["\u{1f56f}","candle"],["\u{1f5d1}","wastebasket"],["\u{1f6e2}","oil_drum"],["\u{1f4b8}","money_with_wings"],["\u{1f4b5}","dollar"],["\u{1f4b4}","yen"],["\u{1f4b6}","euro"],["\u{1f4b7}","pound"],["\u{1f4b0}","moneybag"],["\u{1f4b3}","credit_card"],["\u{1f48e}","gem"],["\u2696\ufe0f","balance_scale"],["\u{1f527}","wrench"],["\u{1f528}","hammer"],["\u2692","hammer_and_pick"],["\u{1f6e0}","hammer_and_wrench"],["\u26cf","pick"],["\u{1f529}","nut_and_bolt"],["\u2699\ufe0f","gear"],["\u26d3","chains"],["\u{1f52b}","gun"],["\u{1f4a3}","bomb"],["\u{1f52a}","hocho"],["\u{1f5e1}","dagger"],["\u2694\ufe0f","crossed_swords"],["\u{1f6e1}","shield"],["\u{1f6ac}","smoking"],["\u26b0\ufe0f","coffin"],["\u26b1\ufe0f","funeral_urn"],["\u{1f3fa}","amphora"],["\u{1f52e}","crystal_ball"],["\u{1f4ff}","prayer_beads"],["\u{1f488}","barber"],["\u2697\ufe0f","alembic"],["\u{1f52d}","telescope"],["\u{1f52c}","microscope"],["\u{1f573}","hole"],["\u{1f48a}","pill"],["\u{1f489}","syringe"],["\u{1f321}","thermometer"],["\u{1f6bd}","toilet"],["\u{1f6b0}","potable_water"],["\u{1f6bf}","shower"],["\u{1f6c1}","bathtub"],["\u{1f6c0}","bath"],["\u{1f6ce}","bellhop_bell"],["\u{1f511}","key"],["\u{1f5dd}","old_key"],["\u{1f6aa}","door"],["\u{1f6cb}","couch_and_lamp"],["\u{1f6cf}","bed"],["\u{1f6cc}","sleeping_bed"],["\u{1f5bc}","framed_picture"],["\u{1f6cd}","shopping"],["\u{1f6d2}","shopping_cart"],["\u{1f381}","gift"],["\u{1f388}","balloon"],["\u{1f38f}","flags"],["\u{1f380}","ribbon"],["\u{1f38a}","confetti_ball"],["\u{1f389}","tada"],["\u{1f38e}","dolls"],["\u{1f3ee}","izakaya_lantern"],["\u{1f390}","wind_chime"],["\u2709\ufe0f","email"],["\u{1f4e9}","envelope_with_arrow"],["\u{1f4e8}","incoming_envelope"],["\u{1f4e7}","e-mail"],["\u{1f48c}","love_letter"],["\u{1f4e5}","inbox_tray"],["\u{1f4e4}","outbox_tray"],["\u{1f4e6}","package"],["\u{1f3f7}","label"],["\u{1f4ea}","mailbox_closed"],["\u{1f4eb}","mailbox"],["\u{1f4ec}","mailbox_with_mail"],["\u{1f4ed}","mailbox_with_no_mail"],["\u{1f4ee}","postbox"],["\u{1f4ef}","postal_horn"],["\u{1f4dc}","scroll"],["\u{1f4c3}","page_with_curl"],["\u{1f4c4}","page_facing_up"],["\u{1f4d1}","bookmark_tabs"],["\u{1f4ca}","bar_chart"],["\u{1f4c8}","chart_with_upwards_trend"],["\u{1f4c9}","chart_with_downwards_trend"],["\u{1f5d2}","spiral_notepad"],["\u{1f5d3}","spiral_calendar"],["\u{1f4c6}","calendar"],["\u{1f4c5}","date"],["\u{1f4c7}","card_index"],["\u{1f5c3}","card_file_box"],["\u{1f5f3}","ballot_box"],["\u{1f5c4}","file_cabinet"],["\u{1f4cb}","clipboard"],["\u{1f4c1}","file_folder"],["\u{1f4c2}","open_file_folder"],["\u{1f5c2}","card_index_dividers"],["\u{1f5de}","newspaper_roll"],["\u{1f4f0}","newspaper"],["\u{1f4d3}","notebook"],["\u{1f4d4}","notebook_with_decorative_cover"],["\u{1f4d2}","ledger"],["\u{1f4d5}","closed_book"],["\u{1f4d7}","green_book"],["\u{1f4d8}","blue_book"],["\u{1f4d9}","orange_book"],["\u{1f4da}","books"],["\u{1f4d6}","book"],["\u{1f516}","bookmark"],["\u{1f517}","link"],["\u{1f4ce}","paperclip"],["\u{1f587}","paperclips"],["\u{1f4d0}","triangular_ruler"],["\u{1f4cf}","straight_ruler"],["\u{1f4cc}","pushpin"],["\u{1f4cd}","round_pushpin"],["\u2702\ufe0f","scissors"],["\u{1f58a}","pen"],["\u{1f58b}","fountain_pen"],["\u2712\ufe0f","black_nib"],["\u{1f58c}","paintbrush"],["\u{1f58d}","crayon"],["\u{1f4dd}","memo"],["\u270f\ufe0f","pencil2"],["\u{1f50d}","mag"],["\u{1f50e}","mag_right"],["\u{1f50f}","lock_with_ink_pen"],["\u{1f510}","closed_lock_with_key"],["\u{1f512}","lock"],["\u{1f513}","unlock"]],name:"Objects",icon:["\u{1f514}","bell"]},{emojis:[["\u2764\ufe0f","heart"],["\u{1f49b}","yellow_heart"],["\u{1f49a}","green_heart"],["\u{1f499}","blue_heart"],["\u{1f49c}","purple_heart"],["\u{1f5a4}","black_heart"],["\u{1f494}","broken_heart"],["\u2763\ufe0f","heavy_heart_exclamation"],["\u{1f495}","two_hearts"],["\u{1f49e}","revolving_hearts"],["\u{1f493}","heartbeat"],["\u{1f497}","heartpulse"],["\u{1f496}","sparkling_heart"],["\u{1f498}","cupid"],["\u{1f49d}","gift_heart"],["\u{1f49f}","heart_decoration"],["\u262e\ufe0f","peace_symbol"],["\u271d\ufe0f","latin_cross"],["\u262a\ufe0f","star_and_crescent"],["\u{1f549}","om"],["\u2638\ufe0f","wheel_of_dharma"],["\u2721\ufe0f","star_of_david"],["\u{1f52f}","six_pointed_star"],["\u{1f54e}","menorah"],["\u262f\ufe0f","yin_yang"],["\u2626\ufe0f","orthodox_cross"],["\u{1f6d0}","place_of_worship"],["\u26ce","ophiuchus"],["\u2648\ufe0f","aries"],["\u2649\ufe0f","taurus"],["\u264a\ufe0f","gemini"],["\u264b\ufe0f","cancer"],["\u264c\ufe0f","leo"],["\u264d\ufe0f","virgo"],["\u264e\ufe0f","libra"],["\u264f\ufe0f","scorpius"],["\u2650\ufe0f","sagittarius"],["\u2651\ufe0f","capricorn"],["\u2652\ufe0f","aquarius"],["\u2653\ufe0f","pisces"],["\u{1f194}","id"],["\u269b\ufe0f","atom_symbol"],["\u{1f251}","accept"],["\u2622\ufe0f","radioactive"],["\u2623\ufe0f","biohazard"],["\u{1f4f4}","mobile_phone_off"],["\u{1f4f3}","vibration_mode"],["\u{1f236}","u6709"],["\u{1f21a}\ufe0f","u7121"],["\u{1f238}","u7533"],["\u{1f23a}","u55b6"],["\u{1f237}\ufe0f","u6708"],["\u2734\ufe0f","eight_pointed_black_star"],["\u{1f19a}","vs"],["\u{1f4ae}","white_flower"],["\u{1f250}","ideograph_advantage"],["\u3299\ufe0f","secret"],["\u3297\ufe0f","congratulations"],["\u{1f234}","u5408"],["\u{1f235}","u6e80"],["\u{1f239}","u5272"],["\u{1f232}","u7981"],["\u{1f170}\ufe0f","a"],["\u{1f171}\ufe0f","b"],["\u{1f18e}","ab"],["\u{1f191}","cl"],["\u{1f17e}\ufe0f","o2"],["\u{1f198}","sos"],["\u274c","x"],["\u2b55\ufe0f","o"],["\u{1f6d1}","stop_sign"],["\u26d4\ufe0f","no_entry"],["\u{1f4db}","name_badge"],["\u{1f6ab}","no_entry_sign"],["\u{1f4af}","100"],["\u{1f4a2}","anger"],["\u2668\ufe0f","hotsprings"],["\u{1f6b7}","no_pedestrians"],["\u{1f6af}","do_not_litter"],["\u{1f6b3}","no_bicycles"],["\u{1f6b1}","non-potable_water"],["\u{1f51e}","underage"],["\u{1f4f5}","no_mobile_phones"],["\u{1f6ad}","no_smoking"],["\u2757\ufe0f","exclamation"],["\u2755","grey_exclamation"],["\u2753","question"],["\u2754","grey_question"],["\u203c\ufe0f","bangbang"],["\u2049\ufe0f","interrobang"],["\u{1f505}","low_brightness"],["\u{1f506}","high_brightness"],["\u303d\ufe0f","part_alternation_mark"],["\u26a0\ufe0f","warning"],["\u{1f6b8}","children_crossing"],["\u{1f531}","trident"],["\u269c\ufe0f","fleur_de_lis"],["\u{1f530}","beginner"],["\u267b\ufe0f","recycle"],["\u2705","white_check_mark"],["\u{1f22f}\ufe0f","u6307"],["\u{1f4b9}","chart"],["\u2747\ufe0f","sparkle"],["\u2733\ufe0f","eight_spoked_asterisk"],["\u274e","negative_squared_cross_mark"],["\u{1f310}","globe_with_meridians"],["\u{1f4a0}","diamond_shape_with_a_dot_inside"],["\u24c2\ufe0f","m"],["\u{1f300}","cyclone"],["\u{1f4a4}","zzz"],["\u{1f3e7}","atm"],["\u{1f6be}","wc"],["\u267f\ufe0f","wheelchair"],["\u{1f17f}\ufe0f","parking"],["\u{1f233}","u7a7a"],["\u{1f202}\ufe0f","sa"],["\u{1f6c2}","passport_control"],["\u{1f6c3}","customs"],["\u{1f6c4}","baggage_claim"],["\u{1f6c5}","left_luggage"],["\u{1f6b9}","mens"],["\u{1f6ba}","womens"],["\u{1f6bc}","baby_symbol"],["\u{1f6bb}","restroom"],["\u{1f6ae}","put_litter_in_its_place"],["\u{1f3a6}","cinema"],["\u{1f4f6}","signal_strength"],["\u{1f201}","koko"],["\u{1f523}","symbols"],["\u2139\ufe0f","information_source"],["\u{1f524}","abc"],["\u{1f521}","abcd"],["\u{1f520}","capital_abcd"],["\u{1f196}","ng"],["\u{1f197}","ok"],["\u{1f199}","up"],["\u{1f192}","cool"],["\u{1f195}","new"],["\u{1f193}","free"],["0\ufe0f\u20e3","zero"],["1\ufe0f\u20e3","one"],["2\ufe0f\u20e3","two"],["3\ufe0f\u20e3","three"],["4\ufe0f\u20e3","four"],["5\ufe0f\u20e3","five"],["6\ufe0f\u20e3","six"],["7\ufe0f\u20e3","seven"],["8\ufe0f\u20e3","eight"],["9\ufe0f\u20e3","nine"],["\u{1f51f}","keycap_ten"],["\u{1f522}","1234"],["#\ufe0f\u20e3","hash"],["*\ufe0f\u20e3","asterisk"],["\u25b6\ufe0f","arrow_forward"],["\u23f8","pause_button"],["\u23ef","play_or_pause_button"],["\u23f9","stop_button"],["\u23fa","record_button"],["\u23ed","next_track_button"],["\u23ee","previous_track_button"],["\u23e9","fast_forward"],["\u23ea","rewind"],["\u23eb","arrow_double_up"],["\u23ec","arrow_double_down"],["\u25c0\ufe0f","arrow_backward"],["\u{1f53c}","arrow_up_small"],["\u{1f53d}","arrow_down_small"],["\u27a1\ufe0f","arrow_right"],["\u2b05\ufe0f","arrow_left"],["\u2b06\ufe0f","arrow_up"],["\u2b07\ufe0f","arrow_down"],["\u2197\ufe0f","arrow_upper_right"],["\u2198\ufe0f","arrow_lower_right"],["\u2199\ufe0f","arrow_lower_left"],["\u2196\ufe0f","arrow_upper_left"],["\u2195\ufe0f","arrow_up_down"],["\u2194\ufe0f","left_right_arrow"],["\u21aa\ufe0f","arrow_right_hook"],["\u21a9\ufe0f","leftwards_arrow_with_hook"],["\u2934\ufe0f","arrow_heading_up"],["\u2935\ufe0f","arrow_heading_down"],["\u{1f500}","twisted_rightwards_arrows"],["\u{1f501}","repeat"],["\u{1f502}","repeat_one"],["\u{1f504}","arrows_counterclockwise"],["\u{1f503}","arrows_clockwise"],["\u{1f3b5}","musical_note"],["\u{1f3b6}","notes"],["\u2795","heavy_plus_sign"],["\u2796","heavy_minus_sign"],["\u2797","heavy_division_sign"],["\u2716\ufe0f","heavy_multiplication_x"],["\u{1f4b2}","heavy_dollar_sign"],["\u{1f4b1}","currency_exchange"],["\u2122\ufe0f","tm"],["\xa9\ufe0f","copyright"],["\xae\ufe0f","registered"],["\u3030\ufe0f","wavy_dash"],["\u27b0","curly_loop"],["\u27bf","loop"],["\u{1f51a}","end"],["\u{1f519}","back"],["\u{1f51b}","on"],["\u{1f51d}","top"],["\u{1f51c}","soon"],["\u2714\ufe0f","heavy_check_mark"],["\u2611\ufe0f","ballot_box_with_check"],["\u{1f518}","radio_button"],["\u26aa\ufe0f","white_circle"],["\u26ab\ufe0f","black_circle"],["\u{1f534}","red_circle"],["\u{1f535}","large_blue_circle"],["\u{1f53a}","small_red_triangle"],["\u{1f53b}","small_red_triangle_down"],["\u{1f538}","small_orange_diamond"],["\u{1f539}","small_blue_diamond"],["\u{1f536}","large_orange_diamond"],["\u{1f537}","large_blue_diamond"],["\u{1f533}","white_square_button"],["\u{1f532}","black_square_button"],["\u25aa\ufe0f","black_small_square"],["\u25ab\ufe0f","white_small_square"],["\u25fe\ufe0f","black_medium_small_square"],["\u25fd\ufe0f","white_medium_small_square"],["\u25fc\ufe0f","black_medium_square"],["\u25fb\ufe0f","white_medium_square"],["\u2b1b\ufe0f","black_large_square"],["\u2b1c\ufe0f","white_large_square"],["\u{1f508}","speaker"],["\u{1f507}","mute"],["\u{1f509}","sound"],["\u{1f50a}","loud_sound"],["\u{1f514}","bell"],["\u{1f515}","no_bell"],["\u{1f4e3}","mega"],["\u{1f4e2}","loudspeaker"],["\u{1f441}\u200d\u{1f5e8}","eye_speech_bubble"],["\u{1f4ac}","speech_balloon"],["\u{1f4ad}","thought_balloon"],["\u{1f5ef}","right_anger_bubble"],["\u2660\ufe0f","spades"],["\u2663\ufe0f","clubs"],["\u2665\ufe0f","hearts"],["\u2666\ufe0f","diamonds"],["\u{1f0cf}","black_joker"],["\u{1f3b4}","flower_playing_cards"],["\u{1f004}\ufe0f","mahjong"],["\u{1f550}","clock1"],["\u{1f551}","clock2"],["\u{1f552}","clock3"],["\u{1f553}","clock4"],["\u{1f554}","clock5"],["\u{1f555}","clock6"],["\u{1f556}","clock7"],["\u{1f557}","clock8"],["\u{1f558}","clock9"],["\u{1f559}","clock10"],["\u{1f55a}","clock11"],["\u{1f55b}","clock12"],["\u{1f55c}","clock130"],["\u{1f55d}","clock230"],["\u{1f55e}","clock330"],["\u{1f55f}","clock430"],["\u{1f560}","clock530"],["\u{1f561}","clock630"],["\u{1f562}","clock730"],["\u{1f563}","clock830"],["\u{1f564}","clock930"],["\u{1f565}","clock1030"],["\u{1f566}","clock1130"],["\u{1f567}","clock1230"]],name:"Symbols",icon:["\u{1f520}","capital_abcd"]}];let jT=(()=>{let n=class{constructor(){this.emojiSelectionEmitter=new s.vpe}selectCategory(e){this.emojiCategoryComponents.forEach(i=>{i.category.name===e.name&&i.scrollIntoView()})}};return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["emoji-list"]],viewQuery:function(e,i){if(1&e&&s.Gf(vk,5),2&e){let r;s.iGM(r=s.CRH())&&(i.emojiCategoryComponents=r)}},inputs:{emojis:"emojis"},outputs:{emojiSelectionEmitter:"emoji-selection"},decls:3,vars:3,consts:[[1,"emoji-list"],[4,"ngFor","ngForOf"],[3,"category"],[1,"emoji-buttons"],[3,"emoji","selection",4,"ngFor","ngForOf"],[3,"emoji","selection"]],template:function(e,i){1&e&&(s.TgZ(0,"div",0),s.YNc(1,w8,4,2,"ng-container",1),s.ALo(2,"notEmptyEmojiCategory"),s.qZA()),2&e&&(s.xp6(1),s.Q6J("ngForOf",s.lcZ(2,1,i.emojis)))},directives:function(){return[$n,vk,eF]},pipes:function(){return[k8]},styles:["[_nghost-%COMP%]{overflow-y:auto}.emoji-list[_ngcontent-%COMP%]{padding:0 10px 10px}.emoji-buttons[_ngcontent-%COMP%]{display:flex;justify-content:center;flex-wrap:wrap;margin:5px 0}"]}),un([(0,s.vR)((0,s.Gpc)(()=>vk)),nn("design:type",s.n_E)],n.prototype,"emojiCategoryComponents",void 0),un([(0,s.IIB)("emojis"),nn("design:type",Object)],n.prototype,"emojis",void 0),un([(0,s.r_U)("emoji-selection"),nn("design:type",Object)],n.prototype,"emojiSelectionEmitter",void 0),n=un([nn("design:paramtypes",[])],n),n})(),A8=(()=>{let n=class{constructor(){this.emojiSelectionEmitter=new s.vpe,this._emojis=D8,this.emojis=this._emojis.slice(),this.emojisCategories=this._emojis.map(e=>Object.assign({},e,{emojis:[]}))}searchHandler(e){let i=this.emojisCategories.map(r=>Object.assign({},r,{emojis:[]}));e=e.replace(/-/g,"").toLowerCase(),Object.keys(this._emojis).forEach(r=>{this._emojis[r].emojis.forEach(u=>{-1!==u[1].indexOf(e)&&i[r].emojis.push(u)})}),this.emojis=i}categorySelectionHandler(e){this.emojiListComponent.selectCategory(e)}};return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["emoji-content"]],viewQuery:function(e,i){if(1&e&&s.Gf(jT,7),2&e){let r;s.iGM(r=s.CRH())&&(i.emojiListComponent=r.first)}},outputs:{emojiSelectionEmitter:"emoji-selection"},decls:3,vars:2,consts:[[3,"emojisCategories","categorySelection","search"],[3,"emojis","emoji-selection"]],template:function(e,i){1&e&&(s.TgZ(0,"emoji-header",0),s.NdJ("categorySelection",function(o){return i.categorySelectionHandler(o)})("search",function(o){return i.searchHandler(o)}),s.qZA(),s.TgZ(1,"emoji-list",1),s.NdJ("emoji-selection",function(o){return i.emojiSelectionEmitter.emit(o)}),s.qZA(),s._UZ(2,"emoji-footer")),2&e&&(s.Q6J("emojisCategories",i.emojisCategories),s.xp6(1),s.Q6J("emojis",i.emojis))},directives:function(){return[I8,jT,T8]},styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;width:100vw;height:314px;border-radius:3px;background:#fff;text-align:left;box-shadow:0 11px 15px -7px rgba(0,0,0,.2),0 24px 38px 3px rgba(0,0,0,.14),0 9px 46px 8px rgba(0,0,0,.12)}@media (min-width:258px){[_nghost-%COMP%]{width:258px}}emoji-list[_ngcontent-%COMP%]{flex-grow:1}"]}),un([(0,s.i9L)((0,s.Gpc)(()=>jT),{static:!0}),nn("design:type",jT)],n.prototype,"emojiListComponent",void 0),un([(0,s.r_U)("emoji-selection"),nn("design:type",Object)],n.prototype,"emojiSelectionEmitter",void 0),n=un([nn("design:paramtypes",[])],n),n})(),T8=(()=>{let n=class{constructor(){}};return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["emoji-footer"]],decls:1,vars:0,consts:[[1,"emoji-footer"]],template:function(e,i){1&e&&s._UZ(0,"footer",0)},styles:[".emoji-footer[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;border-top:1px solid #f9f9f9;border-radius:0 0 3px 3px;padding:10px;background:#fcfcfc}"]}),n=un([nn("design:paramtypes",[])],n),n})(),I8=(()=>{let n=class{constructor(){this.categorySelection=new s.vpe,this.searchEmitter=new s.vpe}};return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["emoji-header"]],inputs:{emojisCategories:"emojisCategories"},outputs:{categorySelection:"categorySelection",searchEmitter:"search"},decls:2,vars:1,consts:[[3,"emojisCategories","categorySelection"],[3,"search"]],template:function(e,i){1&e&&(s.TgZ(0,"emoji-categories",0),s.NdJ("categorySelection",function(o){return i.categorySelection.emit(o)}),s.qZA(),s.TgZ(1,"emoji-search",1),s.NdJ("search",function(o){return i.searchEmitter.emit(o)}),s.qZA()),2&e&&s.Q6J("emojisCategories",i.emojisCategories)},directives:function(){return[E8,S8]},styles:["[_nghost-%COMP%]{display:block;border-bottom:1px solid #f9f9f9;border-radius:3px 3px 0 0;padding:10px;background:#fcfcfc}"]}),un([(0,s.IIB)("emojisCategories"),nn("design:type",Object)],n.prototype,"emojisCategories",void 0),un([(0,s.r_U)("categorySelection"),nn("design:type",Object)],n.prototype,"categorySelection",void 0),un([(0,s.r_U)("search"),nn("design:type",Object)],n.prototype,"searchEmitter",void 0),n=un([nn("design:paramtypes",[])],n),n})(),S8=(()=>{let n=class{constructor(){this.searchEmitter=new s.vpe,this._searchValue=new dt.x,this._destroyed=new dt.x,this._searchValue.pipe(Xa(this._destroyed)).subscribe(e=>{this.searchEmitter.emit(e)})}handleInputChange(e){this._searchValue.next(e)}ngOnDestroy(){this._destroyed.next(!0)}};return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["emoji-search"]],viewQuery:function(e,i){if(1&e&&s.Gf(C8,7),2&e){let r;s.iGM(r=s.CRH())&&(i.input=r.first)}},outputs:{searchEmitter:"search"},decls:2,vars:0,consts:[["type","text","autocomplete","off","aria-label","Search","placeholder","Search",3,"input"],["input",""]],template:function(e,i){1&e&&(s.TgZ(0,"input",0,1),s.NdJ("input",function(o){return i.handleInputChange(o.target.value)}),s.qZA())},styles:["input[_ngcontent-%COMP%]{width:100%;padding:5px 10px;border:1px solid #f0f0f0;outline:0;font-size:14px;font-weight:inherit;box-sizing:border-box}input[_ngcontent-%COMP%]:focus{border-color:#d7d7d7}"]}),un([(0,s.r_U)("search"),nn("design:type",s.vpe)],n.prototype,"searchEmitter",void 0),un([(0,s.i9L)("input",{static:!0}),nn("design:type",s.SBq)],n.prototype,"input",void 0),n=un([nn("design:paramtypes",[])],n),n})();var xs=(()=>(function(n){n[n.top=0]="top",n[n.bottom=1]="bottom",n[n.left=2]="left",n[n.right=3]="right"}(xs||(xs={})),xs))();let M8=(()=>{let n=class{constructor(e,i){this._renderer=e,this._el=i,this.selectionEmitter=new s.vpe,this.pickerCloseEmitter=new s.vpe,this._windowResize=new dt.x,this._destroyed=new dt.x,this._windowResize.pipe(Xa(this._destroyed),Kw(100)).subscribe(r=>{this.setPosition(this._currentTarget,this._currentDirection)})}hide(){this._renderer.setStyle(this._el.nativeElement,"display","none")}show(){this._renderer.setStyle(this._el.nativeElement,"display","block"),this.setPosition(this._currentTarget,this._currentDirection)}setPosition(e,i=xs.bottom){if(!e)return console.error("Emoji-Picker: positioning failed due to missing target element or direction code");this._renderer.setStyle(this._el.nativeElement,"transform",""),this._currentTarget=e,this._currentDirection=i;const r=e.nativeElement.getBoundingClientRect(),o=this._el.nativeElement.getBoundingClientRect();let u=0,h=0;switch(this._currentDirection){case xs.top:case xs.bottom:h=r.left-o.left+(r.width-o.width)/2;break;case xs.left:case xs.right:u=r.top-o.top+(r.height-o.height)/2}switch(this._currentDirection){case xs.top:u=r.top-o.bottom;break;case xs.left:h=r.left-o.right;break;case xs.right:h=r.right-o.left;break;case xs.bottom:u=r.bottom-o.top}o.bottom+u>window.innerHeight&&(u+=window.innerHeight-(o.bottom+u)),o.top+u<0&&(u-=o.top+u),o.right+h>window.innerWidth&&(h+=window.innerWidth-(o.right+h)),o.left+h<0&&(h-=o.left+h),this._renderer.setStyle(this._el.nativeElement,"transform",`translate(${h}px,${u}px)`)}onBackground(e){e===this._lastHostMousedownEvent||e.emojiPickerExempt||this.pickerCloseEmitter.emit(e)}ngOnDestroy(){this._destroyed.next(!0)}};return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.Qsj),s.Y36(s.SBq))},n.\u0275cmp=s.Xpm({type:n,selectors:[["emoji-picker"]],hostBindings:function(e,i){1&e&&s.NdJ("click",function(o){return i.onBackground(o)},!1,s.evT)("click",function(o){return i._lastHostMousedownEvent=o})("resize",function(o){return i._windowResize.next(o)},!1,s.Jf7)},outputs:{selectionEmitter:"emoji-select",pickerCloseEmitter:"picker-close"},decls:1,vars:0,consts:[[3,"emoji-selection"]],template:function(e,i){1&e&&(s.TgZ(0,"emoji-content",0),s.NdJ("emoji-selection",function(o){return i.selectionEmitter.emit(o)}),s.qZA())},directives:[A8],styles:["[_nghost-%COMP%] { position: absolute; z-index: 9999; display: none; }"]}),un([(0,s.r_U)("emoji-select"),nn("design:type",Object)],n.prototype,"selectionEmitter",void 0),un([(0,s.r_U)("picker-close"),nn("design:type",Object)],n.prototype,"pickerCloseEmitter",void 0),n=un([nn("design:paramtypes",[s.Qsj,s.SBq])],n),n})();class bk{constructor(t){Object.assign(this,t)}static fromArray(t){return new bk({char:t[0],label:t[1]})}}let x8=(()=>{let n=class{constructor(e,i,r){this._cfr=e,this._vcr=i,this._el=r,this._directionCode=xs.bottom,this._searchBar=!1,this.emojiPickerIfEmitter=new s.vpe,this.selectEmitter=new s.vpe,this._emojiPickerOpenState=new dt.x,this._destroyed=new dt.x,this._emojiSubs=[],this.initPicker(),this._emojiPickerOpenState.pipe(Xa(this._destroyed),jA()).subscribe(o=>{var u,h,_,b,T,M;o?null===(_=null===(h=null===(u=this._emojiPickerRef)||void 0===u?void 0:u.instance)||void 0===h?void 0:h.show)||void 0===_||_.call(h):null===(M=null===(T=null===(b=this._emojiPickerRef)||void 0===b?void 0:b.instance)||void 0===T?void 0:T.hide)||void 0===M||M.call(T)})}set emojiPickerDirection(e){void 0===xs[e]?(console.error(`Emoji-Picker: direction '${e}' passed as input does not exist in DIRECTIONS table, defaulting to 'bottom'`),this._directionCode=xs.bottom):this._directionCode=xs[e]}set emojiPickerIf(e){this._emojiPickerOpenState.next(e)}initPicker(){this._emojiPickerFactory=this._emojiPickerFactory||this._cfr.resolveComponentFactory(M8),this._emojiPickerRef=this._emojiPickerRef||this._vcr.createComponent(this._emojiPickerFactory),this._emojiPickerRef.instance.setPosition(this._el,this._directionCode),this._emojiSubs.push(this._emojiPickerRef.instance.pickerCloseEmitter.subscribe(e=>this.emojiPickerIfEmitter.emit(!1)),this._emojiPickerRef.instance.selectionEmitter.subscribe(e=>this.selectEmitter.emit(bk.fromArray(e))))}closePicker(){!this._emojiPickerRef||!this._emojiPickerRef.destroy||(this._emojiSubs.forEach(e=>e.unsubscribe()),this._emojiPickerRef.destroy(),this._emojiSubs=[],delete this._emojiPickerRef)}ngOnDestroy(){this._destroyed.next(!0)}};return n.\u0275fac=function(e){return new(e||n)(s.Y36(s._Vd),s.Y36(s.s_b),s.Y36(s.SBq))},n.\u0275dir=s.lG2({type:n,selectors:[["","emojiPickerIf",""]],hostBindings:function(e,i){1&e&&s.NdJ("click",function(o){return o.emojiPickerExempt=!0})},inputs:{emojiPickerDirection:"emojiPickerDirection",emojiPickerIf:"emojiPickerIf"},outputs:{emojiPickerIfEmitter:"emojiPickerIfChange",selectEmitter:"emojiPickerSelect"}}),un([(0,s.IIB)("emojiPickerDirection"),nn("design:type",String),nn("design:paramtypes",[String])],n.prototype,"emojiPickerDirection",null),un([(0,s.IIB)("emojiPickerIf"),nn("design:type",Boolean),nn("design:paramtypes",[Boolean])],n.prototype,"emojiPickerIf",null),un([(0,s.r_U)("emojiPickerIfChange"),nn("design:type",Object)],n.prototype,"emojiPickerIfEmitter",void 0),un([(0,s.r_U)("emojiPickerSelect"),nn("design:type",Object)],n.prototype,"selectEmitter",void 0),n=un([nn("design:paramtypes",[s._Vd,s.s_b,s.SBq])],n),n})(),k8=(()=>{let n=class{transform(e){return e.filter(i=>0!==i.emojis.length)}};return n.\u0275fac=function(e){return new(e||n)},n.\u0275pipe=s.Yjl({name:"notEmptyEmojiCategory",type:n,pure:!0}),n})(),R8=(()=>{let n=class{constructor(e){this.domSanitizer=e}transform(e){return!e||this.supportsEmoji()?e:this.domSanitizer.bypassSecurityTrustHtml(y8.parse(e.trim()))}supportsEmoji(){var e=document.createElement("canvas").getContext("2d");return e.fillText("\u{1f643}",-2,4),e.getImageData(0,0,1,1).data[3]>0}};return n.\u0275fac=function(e){return new(e||n)(s.Y36(Fr,16))},n.\u0275pipe=s.Yjl({name:"emojiFallback",type:n,pure:!0}),n=un([nn("design:paramtypes",[Fr])],n),n})();var tF;let Qy=tF=class{static forRoot(){return{ngModule:tF,providers:[]}}};Qy.\u0275fac=function(t){return new(t||Qy)},Qy.\u0275mod=s.oAB({type:Qy}),Qy.\u0275inj=s.cJS({providers:[],imports:[[wr]]});const O8=["mat-calendar-body",""];function P8(n,t){if(1&n&&(s.TgZ(0,"tr",2)(1,"td",3),s._uU(2),s.qZA()()),2&n){const e=s.oxw();s.xp6(1),s.Udp("padding-top",e._cellPadding)("padding-bottom",e._cellPadding),s.uIk("colspan",e.numCols),s.xp6(1),s.hij(" ",e.label," ")}}function N8(n,t){if(1&n&&(s.TgZ(0,"td",3),s._uU(1),s.qZA()),2&n){const e=s.oxw(2);s.Udp("padding-top",e._cellPadding)("padding-bottom",e._cellPadding),s.uIk("colspan",e._firstRowOffset),s.xp6(1),s.hij(" ",e._firstRowOffset>=e.labelMinRequiredCells?e.label:""," ")}}function F8(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"td",7)(1,"button",8),s.NdJ("click",function(r){const u=s.CHM(e).$implicit;return s.oxw(2)._cellClicked(u,r)}),s.TgZ(2,"div",9),s._uU(3),s.qZA(),s._UZ(4,"div",10),s.qZA()()}if(2&n){const e=t.$implicit,i=t.index,r=s.oxw().index,o=s.oxw();s.Udp("width",o._cellWidth)("padding-top",o._cellPadding)("padding-bottom",o._cellPadding),s.uIk("data-mat-row",r)("data-mat-col",i),s.xp6(1),s.ekj("mat-calendar-body-disabled",!e.enabled)("mat-calendar-body-active",o._isActiveCell(r,i))("mat-calendar-body-range-start",o._isRangeStart(e.compareValue))("mat-calendar-body-range-end",o._isRangeEnd(e.compareValue))("mat-calendar-body-in-range",o._isInRange(e.compareValue))("mat-calendar-body-comparison-bridge-start",o._isComparisonBridgeStart(e.compareValue,r,i))("mat-calendar-body-comparison-bridge-end",o._isComparisonBridgeEnd(e.compareValue,r,i))("mat-calendar-body-comparison-start",o._isComparisonStart(e.compareValue))("mat-calendar-body-comparison-end",o._isComparisonEnd(e.compareValue))("mat-calendar-body-in-comparison-range",o._isInComparisonRange(e.compareValue))("mat-calendar-body-preview-start",o._isPreviewStart(e.compareValue))("mat-calendar-body-preview-end",o._isPreviewEnd(e.compareValue))("mat-calendar-body-in-preview",o._isInPreview(e.compareValue)),s.Q6J("ngClass",e.cssClasses)("tabindex",o._isActiveCell(r,i)?0:-1),s.uIk("aria-label",e.ariaLabel)("aria-disabled",!e.enabled||null)("aria-pressed",o._isSelected(e.compareValue))("aria-current",o.todayValue===e.compareValue?"date":null),s.xp6(1),s.ekj("mat-calendar-body-selected",o._isSelected(e.compareValue))("mat-calendar-body-comparison-identical",o._isComparisonIdentical(e.compareValue))("mat-calendar-body-today",o.todayValue===e.compareValue),s.xp6(1),s.hij(" ",e.displayValue," ")}}function L8(n,t){if(1&n&&(s.TgZ(0,"tr",4),s.YNc(1,N8,2,6,"td",5),s.YNc(2,F8,5,47,"td",6),s.qZA()),2&n){const e=t.$implicit,i=t.index,r=s.oxw();s.xp6(1),s.Q6J("ngIf",0===i&&r._firstRowOffset),s.xp6(1),s.Q6J("ngForOf",e)}}function V8(n,t){if(1&n&&(s.TgZ(0,"th",5)(1,"span",6),s._uU(2),s.qZA(),s.TgZ(3,"span",7),s._uU(4),s.qZA()()),2&n){const e=t.$implicit;s.xp6(2),s.Oqu(e.long),s.xp6(2),s.Oqu(e.narrow)}}const B8=["*"];function U8(n,t){}function j8(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"mat-month-view",5),s.NdJ("activeDateChange",function(r){return s.CHM(e),s.oxw().activeDate=r})("_userSelection",function(r){return s.CHM(e),s.oxw()._dateSelected(r)}),s.qZA()}if(2&n){const e=s.oxw();s.Q6J("activeDate",e.activeDate)("selected",e.selected)("dateFilter",e.dateFilter)("maxDate",e.maxDate)("minDate",e.minDate)("dateClass",e.dateClass)("comparisonStart",e.comparisonStart)("comparisonEnd",e.comparisonEnd)}}function H8(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"mat-year-view",6),s.NdJ("activeDateChange",function(r){return s.CHM(e),s.oxw().activeDate=r})("monthSelected",function(r){return s.CHM(e),s.oxw()._monthSelectedInYearView(r)})("selectedChange",function(r){return s.CHM(e),s.oxw()._goToDateInView(r,"month")}),s.qZA()}if(2&n){const e=s.oxw();s.Q6J("activeDate",e.activeDate)("selected",e.selected)("dateFilter",e.dateFilter)("maxDate",e.maxDate)("minDate",e.minDate)("dateClass",e.dateClass)}}function z8(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"mat-multi-year-view",7),s.NdJ("activeDateChange",function(r){return s.CHM(e),s.oxw().activeDate=r})("yearSelected",function(r){return s.CHM(e),s.oxw()._yearSelectedInMultiYearView(r)})("selectedChange",function(r){return s.CHM(e),s.oxw()._goToDateInView(r,"year")}),s.qZA()}if(2&n){const e=s.oxw();s.Q6J("activeDate",e.activeDate)("selected",e.selected)("dateFilter",e.dateFilter)("maxDate",e.maxDate)("minDate",e.minDate)("dateClass",e.dateClass)}}function $8(n,t){}const G8=["button"];function q8(n,t){1&n&&(s.O4$(),s.TgZ(0,"svg",3),s._UZ(1,"path",4),s.qZA())}const Y8=[[["","matDatepickerToggleIcon",""]]],Z8=["[matDatepickerToggleIcon]"];class wk{constructor(t,e,i,r,o={},u=t,h){this.value=t,this.displayValue=e,this.ariaLabel=i,this.enabled=r,this.cssClasses=o,this.compareValue=u,this.rawValue=h}}let Jy=(()=>{class n{constructor(e,i){this._elementRef=e,this._ngZone=i,this.numCols=7,this.activeCell=0,this.isRange=!1,this.cellAspectRatio=1,this.previewStart=null,this.previewEnd=null,this.selectedValueChange=new s.vpe,this.previewChange=new s.vpe,this._enterHandler=r=>{if(this._skipNextFocus&&"focus"===r.type)this._skipNextFocus=!1;else if(r.target&&this.isRange){const o=this._getCellFromElement(r.target);o&&this._ngZone.run(()=>this.previewChange.emit({value:o.enabled?o:null,event:r}))}},this._leaveHandler=r=>{null!==this.previewEnd&&this.isRange&&r.target&&this._getCellFromElement(r.target)&&this._ngZone.run(()=>this.previewChange.emit({value:null,event:r}))},i.runOutsideAngular(()=>{const r=e.nativeElement;r.addEventListener("mouseenter",this._enterHandler,!0),r.addEventListener("focus",this._enterHandler,!0),r.addEventListener("mouseleave",this._leaveHandler,!0),r.addEventListener("blur",this._leaveHandler,!0)})}_cellClicked(e,i){e.enabled&&this.selectedValueChange.emit({value:e.value,event:i})}_isSelected(e){return this.startValue===e||this.endValue===e}ngOnChanges(e){const i=e.numCols,{rows:r,numCols:o}=this;(e.rows||i)&&(this._firstRowOffset=r&&r.length&&r[0].length?o-r[0].length:0),(e.cellAspectRatio||i||!this._cellPadding)&&(this._cellPadding=50*this.cellAspectRatio/o+"%"),(i||!this._cellWidth)&&(this._cellWidth=100/o+"%")}ngOnDestroy(){const e=this._elementRef.nativeElement;e.removeEventListener("mouseenter",this._enterHandler,!0),e.removeEventListener("focus",this._enterHandler,!0),e.removeEventListener("mouseleave",this._leaveHandler,!0),e.removeEventListener("blur",this._leaveHandler,!0)}_isActiveCell(e,i){let r=e*this.numCols+i;return e&&(r-=this._firstRowOffset),r==this.activeCell}_focusActiveCell(e=!0){this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe((0,ei.q)(1)).subscribe(()=>{setTimeout(()=>{const i=this._elementRef.nativeElement.querySelector(".mat-calendar-body-active");i&&(e||(this._skipNextFocus=!0),i.focus())})})})}_isRangeStart(e){return Ck(e,this.startValue,this.endValue)}_isRangeEnd(e){return Ek(e,this.startValue,this.endValue)}_isInRange(e){return Dk(e,this.startValue,this.endValue,this.isRange)}_isComparisonStart(e){return Ck(e,this.comparisonStart,this.comparisonEnd)}_isComparisonBridgeStart(e,i,r){if(!this._isComparisonStart(e)||this._isRangeStart(e)||!this._isInRange(e))return!1;let o=this.rows[i][r-1];if(!o){const u=this.rows[i-1];o=u&&u[u.length-1]}return o&&!this._isRangeEnd(o.compareValue)}_isComparisonBridgeEnd(e,i,r){if(!this._isComparisonEnd(e)||this._isRangeEnd(e)||!this._isInRange(e))return!1;let o=this.rows[i][r+1];if(!o){const u=this.rows[i+1];o=u&&u[0]}return o&&!this._isRangeStart(o.compareValue)}_isComparisonEnd(e){return Ek(e,this.comparisonStart,this.comparisonEnd)}_isInComparisonRange(e){return Dk(e,this.comparisonStart,this.comparisonEnd,this.isRange)}_isComparisonIdentical(e){return this.comparisonStart===this.comparisonEnd&&e===this.comparisonStart}_isPreviewStart(e){return Ck(e,this.previewStart,this.previewEnd)}_isPreviewEnd(e){return Ek(e,this.previewStart,this.previewEnd)}_isInPreview(e){return Dk(e,this.previewStart,this.previewEnd,this.isRange)}_getCellFromElement(e){let i;if(nF(e)?i=e:nF(e.parentNode)&&(i=e.parentNode),i){const r=i.getAttribute("data-mat-row"),o=i.getAttribute("data-mat-col");if(r&&o)return this.rows[parseInt(r)][parseInt(o)]}return null}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(s.R0b))},n.\u0275cmp=s.Xpm({type:n,selectors:[["","mat-calendar-body",""]],hostAttrs:[1,"mat-calendar-body"],inputs:{label:"label",rows:"rows",todayValue:"todayValue",startValue:"startValue",endValue:"endValue",labelMinRequiredCells:"labelMinRequiredCells",numCols:"numCols",activeCell:"activeCell",isRange:"isRange",cellAspectRatio:"cellAspectRatio",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd",previewStart:"previewStart",previewEnd:"previewEnd"},outputs:{selectedValueChange:"selectedValueChange",previewChange:"previewChange"},exportAs:["matCalendarBody"],features:[s.TTD],attrs:O8,decls:2,vars:2,consts:[["aria-hidden","true",4,"ngIf"],["role","row",4,"ngFor","ngForOf"],["aria-hidden","true"],[1,"mat-calendar-body-label"],["role","row"],["class","mat-calendar-body-label",3,"paddingTop","paddingBottom",4,"ngIf"],["role","gridcell","class","mat-calendar-body-cell-container",3,"width","paddingTop","paddingBottom",4,"ngFor","ngForOf"],["role","gridcell",1,"mat-calendar-body-cell-container"],["type","button",1,"mat-calendar-body-cell",3,"ngClass","tabindex","click"],[1,"mat-calendar-body-cell-content","mat-focus-indicator"],["aria-hidden","true",1,"mat-calendar-body-cell-preview"]],template:function(e,i){1&e&&(s.YNc(0,P8,3,6,"tr",0),s.YNc(1,L8,3,2,"tr",1)),2&e&&(s.Q6J("ngIf",i._firstRowOffset<i.labelMinRequiredCells),s.xp6(1),s.Q6J("ngForOf",i.rows))},directives:[Fn,$n,Vs],styles:['.mat-calendar-body{min-width:224px}.mat-calendar-body-label{height:0;line-height:0;text-align:left;padding-left:4.7142857143%;padding-right:4.7142857143%}.mat-calendar-body-cell-container{position:relative;height:0;line-height:0}.mat-calendar-body-cell{-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;position:absolute;top:0;left:0;width:100%;height:100%;background:none;text-align:center;outline:none;font-family:inherit;margin:0}.mat-calendar-body-cell::-moz-focus-inner{border:0}.mat-calendar-body-cell::before,.mat-calendar-body-cell::after,.mat-calendar-body-cell-preview{content:"";position:absolute;top:5%;left:0;z-index:0;box-sizing:border-box;height:90%;width:100%}.mat-calendar-body-range-start:not(.mat-calendar-body-in-comparison-range)::before,.mat-calendar-body-range-start::after,.mat-calendar-body-comparison-start:not(.mat-calendar-body-comparison-bridge-start)::before,.mat-calendar-body-comparison-start::after,.mat-calendar-body-preview-start .mat-calendar-body-cell-preview{left:5%;width:95%;border-top-left-radius:999px;border-bottom-left-radius:999px}[dir=rtl] .mat-calendar-body-range-start:not(.mat-calendar-body-in-comparison-range)::before,[dir=rtl] .mat-calendar-body-range-start::after,[dir=rtl] .mat-calendar-body-comparison-start:not(.mat-calendar-body-comparison-bridge-start)::before,[dir=rtl] .mat-calendar-body-comparison-start::after,[dir=rtl] .mat-calendar-body-preview-start .mat-calendar-body-cell-preview{left:0;border-radius:0;border-top-right-radius:999px;border-bottom-right-radius:999px}.mat-calendar-body-range-end:not(.mat-calendar-body-in-comparison-range)::before,.mat-calendar-body-range-end::after,.mat-calendar-body-comparison-end:not(.mat-calendar-body-comparison-bridge-end)::before,.mat-calendar-body-comparison-end::after,.mat-calendar-body-preview-end .mat-calendar-body-cell-preview{width:95%;border-top-right-radius:999px;border-bottom-right-radius:999px}[dir=rtl] .mat-calendar-body-range-end:not(.mat-calendar-body-in-comparison-range)::before,[dir=rtl] .mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-end:not(.mat-calendar-body-comparison-bridge-end)::before,[dir=rtl] .mat-calendar-body-comparison-end::after,[dir=rtl] .mat-calendar-body-preview-end .mat-calendar-body-cell-preview{left:5%;border-radius:0;border-top-left-radius:999px;border-bottom-left-radius:999px}[dir=rtl] .mat-calendar-body-comparison-bridge-start.mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-bridge-end.mat-calendar-body-range-start::after{width:95%;border-top-right-radius:999px;border-bottom-right-radius:999px}.mat-calendar-body-comparison-start.mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-start.mat-calendar-body-range-end::after,.mat-calendar-body-comparison-end.mat-calendar-body-range-start::after,[dir=rtl] .mat-calendar-body-comparison-end.mat-calendar-body-range-start::after{width:90%}.mat-calendar-body-in-preview .mat-calendar-body-cell-preview{border-top:dashed 1px;border-bottom:dashed 1px}.mat-calendar-body-preview-start .mat-calendar-body-cell-preview{border-left:dashed 1px}[dir=rtl] .mat-calendar-body-preview-start .mat-calendar-body-cell-preview{border-left:0;border-right:dashed 1px}.mat-calendar-body-preview-end .mat-calendar-body-cell-preview{border-right:dashed 1px}[dir=rtl] .mat-calendar-body-preview-end .mat-calendar-body-cell-preview{border-right:0;border-left:dashed 1px}.mat-calendar-body-disabled{cursor:default}.cdk-high-contrast-active .mat-calendar-body-disabled{opacity:.5}.mat-calendar-body-cell-content{top:5%;left:5%;z-index:1;display:flex;align-items:center;justify-content:center;box-sizing:border-box;width:90%;height:90%;line-height:1;border-width:1px;border-style:solid;border-radius:999px}.mat-calendar-body-cell-content.mat-focus-indicator{position:absolute}.cdk-high-contrast-active .mat-calendar-body-cell-content{border:none}.cdk-high-contrast-active .mat-datepicker-popup:not(:empty),.cdk-high-contrast-active .mat-calendar-body-cell:not(.mat-calendar-body-in-range) .mat-calendar-body-selected{outline:solid 1px}.cdk-high-contrast-active .mat-calendar-body-today{outline:dotted 1px}.cdk-high-contrast-active .cdk-keyboard-focused .mat-calendar-body-active>.mat-calendar-body-cell-content,.cdk-high-contrast-active .cdk-program-focused .mat-calendar-body-active>.mat-calendar-body-cell-content{outline:dotted 2px}.cdk-high-contrast-active .cdk-keyboard-focused .mat-calendar-body-active>.mat-calendar-body-cell-content.mat-calendar-body-selected,.cdk-high-contrast-active .cdk-program-focused .mat-calendar-body-active>.mat-calendar-body-cell-content.mat-calendar-body-selected{outline:solid 3px}.cdk-high-contrast-active .mat-calendar-body-cell::before,.cdk-high-contrast-active .mat-calendar-body-cell::after,.cdk-high-contrast-active .mat-calendar-body-selected{background:none}.cdk-high-contrast-active .mat-calendar-body-in-range::before,.cdk-high-contrast-active .mat-calendar-body-comparison-bridge-start::before,.cdk-high-contrast-active .mat-calendar-body-comparison-bridge-end::before{border-top:solid 1px;border-bottom:solid 1px}.cdk-high-contrast-active .mat-calendar-body-range-start::before{border-left:solid 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-range-start::before{border-left:0;border-right:solid 1px}.cdk-high-contrast-active .mat-calendar-body-range-end::before{border-right:solid 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-range-end::before{border-right:0;border-left:solid 1px}.cdk-high-contrast-active .mat-calendar-body-in-comparison-range::before{border-top:dashed 1px;border-bottom:dashed 1px}.cdk-high-contrast-active .mat-calendar-body-comparison-start::before{border-left:dashed 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-comparison-start::before{border-left:0;border-right:dashed 1px}.cdk-high-contrast-active .mat-calendar-body-comparison-end::before{border-right:dashed 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-comparison-end::before{border-right:0;border-left:dashed 1px}[dir=rtl] .mat-calendar-body-label{text-align:right}\n'],encapsulation:2,changeDetection:0}),n})();function nF(n){return"TD"===n.nodeName}function Ck(n,t,e){return null!==e&&t!==e&&n<e&&n===t}function Ek(n,t,e){return null!==t&&t!==e&&n>=t&&n===e}function Dk(n,t,e,i){return i&&null!==t&&null!==e&&t!==e&&n>=t&&n<=e}class ks{constructor(t,e){this.start=t,this.end=e}}let Ff=(()=>{class n{constructor(e,i){this.selection=e,this._adapter=i,this._selectionChanged=new dt.x,this.selectionChanged=this._selectionChanged,this.selection=e}updateSelection(e,i){const r=this.selection;this.selection=e,this._selectionChanged.next({selection:e,source:i,oldValue:r})}ngOnDestroy(){this._selectionChanged.complete()}_isValidDateInstance(e){return this._adapter.isDateInstance(e)&&this._adapter.isValid(e)}}return n.\u0275fac=function(e){s.$Z()},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),W8=(()=>{class n extends Ff{constructor(e){super(null,e)}add(e){super.updateSelection(e,this)}isValid(){return null!=this.selection&&this._isValidDateInstance(this.selection)}isComplete(){return null!=this.selection}clone(){const e=new n(this._adapter);return e.updateSelection(this.selection,this),e}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Kr))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const iF={provide:Ff,deps:[[new s.FiY,new s.tp0,Ff],Kr],useFactory:function Q8(n,t){return n||new W8(t)}},HT=new s.OlP("MAT_DATE_RANGE_SELECTION_STRATEGY");let rF=(()=>{class n{constructor(e,i,r,o,u){this._changeDetectorRef=e,this._dateFormats=i,this._dateAdapter=r,this._dir=o,this._rangeStrategy=u,this._rerenderSubscription=qn.w0.EMPTY,this.selectedChange=new s.vpe,this._userSelection=new s.vpe,this.activeDateChange=new s.vpe,this._activeDate=this._dateAdapter.today()}get activeDate(){return this._activeDate}set activeDate(e){const i=this._activeDate,r=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(r,this.minDate,this.maxDate),this._hasSameMonthAndYear(i,this._activeDate)||this._init()}get selected(){return this._selected}set selected(e){this._selected=e instanceof ks?e:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e)),this._setRanges(this._selected)}get minDate(){return this._minDate}set minDate(e){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get maxDate(){return this._maxDate}set maxDate(e){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe(ai(null)).subscribe(()=>this._init())}ngOnChanges(e){const i=e.comparisonStart||e.comparisonEnd;i&&!i.firstChange&&this._setRanges(this.selected)}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_dateSelected(e){const i=e.value,r=this._dateAdapter.getYear(this.activeDate),o=this._dateAdapter.getMonth(this.activeDate),u=this._dateAdapter.createDate(r,o,i);let h,_;this._selected instanceof ks?(h=this._getDateInCurrentMonth(this._selected.start),_=this._getDateInCurrentMonth(this._selected.end)):h=_=this._getDateInCurrentMonth(this._selected),(h!==i||_!==i)&&this.selectedChange.emit(u),this._userSelection.emit({value:u,event:e.event}),this._previewStart=this._previewEnd=null,this._changeDetectorRef.markForCheck()}_handleCalendarBodyKeydown(e){const i=this._activeDate,r=this._isRtl();switch(e.keyCode){case 37:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,r?1:-1);break;case 39:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,r?-1:1);break;case 38:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,-7);break;case 40:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,7);break;case 36:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,1-this._dateAdapter.getDate(this._activeDate));break;case 35:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,this._dateAdapter.getNumDaysInMonth(this._activeDate)-this._dateAdapter.getDate(this._activeDate));break;case 33:this.activeDate=e.altKey?this._dateAdapter.addCalendarYears(this._activeDate,-1):this._dateAdapter.addCalendarMonths(this._activeDate,-1);break;case 34:this.activeDate=e.altKey?this._dateAdapter.addCalendarYears(this._activeDate,1):this._dateAdapter.addCalendarMonths(this._activeDate,1);break;case 13:case 32:return this._selectionKeyPressed=!0,void(this._canSelect(this._activeDate)&&e.preventDefault());case 27:return void(null!=this._previewEnd&&!tT(e)&&(this._previewStart=this._previewEnd=null,this.selectedChange.emit(null),this._userSelection.emit({value:null,event:e}),e.preventDefault(),e.stopPropagation()));default:return}this._dateAdapter.compareDate(i,this.activeDate)&&this.activeDateChange.emit(this.activeDate),this._focusActiveCell(),e.preventDefault()}_handleCalendarBodyKeyup(e){(32===e.keyCode||13===e.keyCode)&&(this._selectionKeyPressed&&this._canSelect(this._activeDate)&&this._dateSelected({value:this._dateAdapter.getDate(this._activeDate),event:e}),this._selectionKeyPressed=!1)}_init(){this._setRanges(this.selected),this._todayDate=this._getCellCompareValue(this._dateAdapter.today()),this._monthLabel=this._dateFormats.display.monthLabel?this._dateAdapter.format(this.activeDate,this._dateFormats.display.monthLabel):this._dateAdapter.getMonthNames("short")[this._dateAdapter.getMonth(this.activeDate)].toLocaleUpperCase();let e=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),1);this._firstWeekOffset=(7+this._dateAdapter.getDayOfWeek(e)-this._dateAdapter.getFirstDayOfWeek())%7,this._initWeekdays(),this._createWeekCells(),this._changeDetectorRef.markForCheck()}_focusActiveCell(e){this._matCalendarBody._focusActiveCell(e)}_previewChanged({event:e,value:i}){if(this._rangeStrategy){const o=this._rangeStrategy.createPreview(i?i.rawValue:null,this.selected,e);this._previewStart=this._getCellCompareValue(o.start),this._previewEnd=this._getCellCompareValue(o.end),this._changeDetectorRef.detectChanges()}}_initWeekdays(){const e=this._dateAdapter.getFirstDayOfWeek(),i=this._dateAdapter.getDayOfWeekNames("narrow");let o=this._dateAdapter.getDayOfWeekNames("long").map((u,h)=>({long:u,narrow:i[h]}));this._weekdays=o.slice(e).concat(o.slice(0,e))}_createWeekCells(){const e=this._dateAdapter.getNumDaysInMonth(this.activeDate),i=this._dateAdapter.getDateNames();this._weeks=[[]];for(let r=0,o=this._firstWeekOffset;r<e;r++,o++){7==o&&(this._weeks.push([]),o=0);const u=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),r+1),h=this._shouldEnableDate(u),_=this._dateAdapter.format(u,this._dateFormats.display.dateA11yLabel),b=this.dateClass?this.dateClass(u,"month"):void 0;this._weeks[this._weeks.length-1].push(new wk(r+1,i[r],_,h,b,this._getCellCompareValue(u),u))}}_shouldEnableDate(e){return!!e&&(!this.minDate||this._dateAdapter.compareDate(e,this.minDate)>=0)&&(!this.maxDate||this._dateAdapter.compareDate(e,this.maxDate)<=0)&&(!this.dateFilter||this.dateFilter(e))}_getDateInCurrentMonth(e){return e&&this._hasSameMonthAndYear(e,this.activeDate)?this._dateAdapter.getDate(e):null}_hasSameMonthAndYear(e,i){return!(!e||!i||this._dateAdapter.getMonth(e)!=this._dateAdapter.getMonth(i)||this._dateAdapter.getYear(e)!=this._dateAdapter.getYear(i))}_getCellCompareValue(e){if(e){const i=this._dateAdapter.getYear(e),r=this._dateAdapter.getMonth(e),o=this._dateAdapter.getDate(e);return new Date(i,r,o).getTime()}return null}_isRtl(){return this._dir&&"rtl"===this._dir.value}_setRanges(e){e instanceof ks?(this._rangeStart=this._getCellCompareValue(e.start),this._rangeEnd=this._getCellCompareValue(e.end),this._isRange=!0):(this._rangeStart=this._rangeEnd=this._getCellCompareValue(e),this._isRange=!1),this._comparisonRangeStart=this._getCellCompareValue(this.comparisonStart),this._comparisonRangeEnd=this._getCellCompareValue(this.comparisonEnd)}_canSelect(e){return!this.dateFilter||this.dateFilter(e)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.sBO),s.Y36(og,8),s.Y36(Kr,8),s.Y36(Mf,8),s.Y36(HT,8))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-month-view"]],viewQuery:function(e,i){if(1&e&&s.Gf(Jy,5),2&e){let r;s.iGM(r=s.CRH())&&(i._matCalendarBody=r.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd"},outputs:{selectedChange:"selectedChange",_userSelection:"_userSelection",activeDateChange:"activeDateChange"},exportAs:["matMonthView"],features:[s.TTD],decls:7,vars:13,consts:[["role","grid",1,"mat-calendar-table"],[1,"mat-calendar-table-header"],["scope","col",4,"ngFor","ngForOf"],["aria-hidden","true","colspan","7",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"label","rows","todayValue","startValue","endValue","comparisonStart","comparisonEnd","previewStart","previewEnd","isRange","labelMinRequiredCells","activeCell","selectedValueChange","previewChange","keyup","keydown"],["scope","col"],[1,"cdk-visually-hidden"],["aria-hidden","true"]],template:function(e,i){1&e&&(s.TgZ(0,"table",0)(1,"thead",1)(2,"tr"),s.YNc(3,V8,5,2,"th",2),s.qZA(),s.TgZ(4,"tr"),s._UZ(5,"th",3),s.qZA()(),s.TgZ(6,"tbody",4),s.NdJ("selectedValueChange",function(o){return i._dateSelected(o)})("previewChange",function(o){return i._previewChanged(o)})("keyup",function(o){return i._handleCalendarBodyKeyup(o)})("keydown",function(o){return i._handleCalendarBodyKeydown(o)}),s.qZA()()),2&e&&(s.xp6(3),s.Q6J("ngForOf",i._weekdays),s.xp6(3),s.Q6J("label",i._monthLabel)("rows",i._weeks)("todayValue",i._todayDate)("startValue",i._rangeStart)("endValue",i._rangeEnd)("comparisonStart",i._comparisonRangeStart)("comparisonEnd",i._comparisonRangeEnd)("previewStart",i._previewStart)("previewEnd",i._previewEnd)("isRange",i._isRange)("labelMinRequiredCells",3)("activeCell",i._dateAdapter.getDate(i.activeDate)-1))},directives:[Jy,$n],encapsulation:2,changeDetection:0}),n})(),sF=(()=>{class n{constructor(e,i,r){this._changeDetectorRef=e,this._dateAdapter=i,this._dir=r,this._rerenderSubscription=qn.w0.EMPTY,this.selectedChange=new s.vpe,this.yearSelected=new s.vpe,this.activeDateChange=new s.vpe,this._activeDate=this._dateAdapter.today()}get activeDate(){return this._activeDate}set activeDate(e){let i=this._activeDate;const r=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(r,this.minDate,this.maxDate),oF(this._dateAdapter,i,this._activeDate,this.minDate,this.maxDate)||this._init()}get selected(){return this._selected}set selected(e){this._selected=e instanceof ks?e:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e)),this._setSelectedYear(e)}get minDate(){return this._minDate}set minDate(e){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get maxDate(){return this._maxDate}set maxDate(e){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe(ai(null)).subscribe(()=>this._init())}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_init(){this._todayYear=this._dateAdapter.getYear(this._dateAdapter.today());const i=this._dateAdapter.getYear(this._activeDate)-hC(this._dateAdapter,this.activeDate,this.minDate,this.maxDate);this._years=[];for(let r=0,o=[];r<24;r++)o.push(i+r),4==o.length&&(this._years.push(o.map(u=>this._createCellForYear(u))),o=[]);this._changeDetectorRef.markForCheck()}_yearSelected(e){const i=e.value;this.yearSelected.emit(this._dateAdapter.createDate(i,0,1));let r=this._dateAdapter.getMonth(this.activeDate),o=this._dateAdapter.getNumDaysInMonth(this._dateAdapter.createDate(i,r,1));this.selectedChange.emit(this._dateAdapter.createDate(i,r,Math.min(this._dateAdapter.getDate(this.activeDate),o)))}_handleCalendarBodyKeydown(e){const i=this._activeDate,r=this._isRtl();switch(e.keyCode){case 37:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,r?1:-1);break;case 39:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,r?-1:1);break;case 38:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,-4);break;case 40:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,4);break;case 36:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,-hC(this._dateAdapter,this.activeDate,this.minDate,this.maxDate));break;case 35:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,24-hC(this._dateAdapter,this.activeDate,this.minDate,this.maxDate)-1);break;case 33:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,e.altKey?-240:-24);break;case 34:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,e.altKey?240:24);break;case 13:case 32:this._selectionKeyPressed=!0;break;default:return}this._dateAdapter.compareDate(i,this.activeDate)&&this.activeDateChange.emit(this.activeDate),this._focusActiveCell(),e.preventDefault()}_handleCalendarBodyKeyup(e){(32===e.keyCode||13===e.keyCode)&&(this._selectionKeyPressed&&this._yearSelected({value:this._dateAdapter.getYear(this._activeDate),event:e}),this._selectionKeyPressed=!1)}_getActiveCell(){return hC(this._dateAdapter,this.activeDate,this.minDate,this.maxDate)}_focusActiveCell(){this._matCalendarBody._focusActiveCell()}_createCellForYear(e){const i=this._dateAdapter.createDate(e,0,1),r=this._dateAdapter.getYearName(i),o=this.dateClass?this.dateClass(i,"multi-year"):void 0;return new wk(e,r,r,this._shouldEnableYear(e),o)}_shouldEnableYear(e){if(null==e||this.maxDate&&e>this._dateAdapter.getYear(this.maxDate)||this.minDate&&e<this._dateAdapter.getYear(this.minDate))return!1;if(!this.dateFilter)return!0;for(let r=this._dateAdapter.createDate(e,0,1);this._dateAdapter.getYear(r)==e;r=this._dateAdapter.addCalendarDays(r,1))if(this.dateFilter(r))return!0;return!1}_isRtl(){return this._dir&&"rtl"===this._dir.value}_setSelectedYear(e){if(this._selectedYear=null,e instanceof ks){const i=e.start||e.end;i&&(this._selectedYear=this._dateAdapter.getYear(i))}else e&&(this._selectedYear=this._dateAdapter.getYear(e))}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.sBO),s.Y36(Kr,8),s.Y36(Mf,8))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-multi-year-view"]],viewQuery:function(e,i){if(1&e&&s.Gf(Jy,5),2&e){let r;s.iGM(r=s.CRH())&&(i._matCalendarBody=r.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass"},outputs:{selectedChange:"selectedChange",yearSelected:"yearSelected",activeDateChange:"activeDateChange"},exportAs:["matMultiYearView"],decls:5,vars:7,consts:[["role","grid",1,"mat-calendar-table"],["aria-hidden","true",1,"mat-calendar-table-header"],["colspan","4",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"rows","todayValue","startValue","endValue","numCols","cellAspectRatio","activeCell","selectedValueChange","keyup","keydown"]],template:function(e,i){1&e&&(s.TgZ(0,"table",0)(1,"thead",1)(2,"tr"),s._UZ(3,"th",2),s.qZA()(),s.TgZ(4,"tbody",3),s.NdJ("selectedValueChange",function(o){return i._yearSelected(o)})("keyup",function(o){return i._handleCalendarBodyKeyup(o)})("keydown",function(o){return i._handleCalendarBodyKeydown(o)}),s.qZA()()),2&e&&(s.xp6(4),s.Q6J("rows",i._years)("todayValue",i._todayYear)("startValue",i._selectedYear)("endValue",i._selectedYear)("numCols",4)("cellAspectRatio",4/7)("activeCell",i._getActiveCell()))},directives:[Jy],encapsulation:2,changeDetection:0}),n})();function oF(n,t,e,i,r){const o=n.getYear(t),u=n.getYear(e),h=aF(n,i,r);return Math.floor((o-h)/24)===Math.floor((u-h)/24)}function hC(n,t,e,i){return function tH(n,t){return(n%t+t)%t}(n.getYear(t)-aF(n,e,i),24)}function aF(n,t,e){let i=0;return e?i=n.getYear(e)-24+1:t&&(i=n.getYear(t)),i}let lF=(()=>{class n{constructor(e,i,r,o){this._changeDetectorRef=e,this._dateFormats=i,this._dateAdapter=r,this._dir=o,this._rerenderSubscription=qn.w0.EMPTY,this.selectedChange=new s.vpe,this.monthSelected=new s.vpe,this.activeDateChange=new s.vpe,this._activeDate=this._dateAdapter.today()}get activeDate(){return this._activeDate}set activeDate(e){let i=this._activeDate;const r=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(r,this.minDate,this.maxDate),this._dateAdapter.getYear(i)!==this._dateAdapter.getYear(this._activeDate)&&this._init()}get selected(){return this._selected}set selected(e){this._selected=e instanceof ks?e:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e)),this._setSelectedMonth(e)}get minDate(){return this._minDate}set minDate(e){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get maxDate(){return this._maxDate}set maxDate(e){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe(ai(null)).subscribe(()=>this._init())}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_monthSelected(e){const i=e.value,r=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),i,1);this.monthSelected.emit(r);const o=this._dateAdapter.getNumDaysInMonth(r);this.selectedChange.emit(this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),i,Math.min(this._dateAdapter.getDate(this.activeDate),o)))}_handleCalendarBodyKeydown(e){const i=this._activeDate,r=this._isRtl();switch(e.keyCode){case 37:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,r?1:-1);break;case 39:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,r?-1:1);break;case 38:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,-4);break;case 40:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,4);break;case 36:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,-this._dateAdapter.getMonth(this._activeDate));break;case 35:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,11-this._dateAdapter.getMonth(this._activeDate));break;case 33:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,e.altKey?-10:-1);break;case 34:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,e.altKey?10:1);break;case 13:case 32:this._selectionKeyPressed=!0;break;default:return}this._dateAdapter.compareDate(i,this.activeDate)&&this.activeDateChange.emit(this.activeDate),this._focusActiveCell(),e.preventDefault()}_handleCalendarBodyKeyup(e){(32===e.keyCode||13===e.keyCode)&&(this._selectionKeyPressed&&this._monthSelected({value:this._dateAdapter.getMonth(this._activeDate),event:e}),this._selectionKeyPressed=!1)}_init(){this._setSelectedMonth(this.selected),this._todayMonth=this._getMonthInCurrentYear(this._dateAdapter.today()),this._yearLabel=this._dateAdapter.getYearName(this.activeDate);let e=this._dateAdapter.getMonthNames("short");this._months=[[0,1,2,3],[4,5,6,7],[8,9,10,11]].map(i=>i.map(r=>this._createCellForMonth(r,e[r]))),this._changeDetectorRef.markForCheck()}_focusActiveCell(){this._matCalendarBody._focusActiveCell()}_getMonthInCurrentYear(e){return e&&this._dateAdapter.getYear(e)==this._dateAdapter.getYear(this.activeDate)?this._dateAdapter.getMonth(e):null}_createCellForMonth(e,i){const r=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),e,1),o=this._dateAdapter.format(r,this._dateFormats.display.monthYearA11yLabel),u=this.dateClass?this.dateClass(r,"year"):void 0;return new wk(e,i.toLocaleUpperCase(),o,this._shouldEnableMonth(e),u)}_shouldEnableMonth(e){const i=this._dateAdapter.getYear(this.activeDate);if(null==e||this._isYearAndMonthAfterMaxDate(i,e)||this._isYearAndMonthBeforeMinDate(i,e))return!1;if(!this.dateFilter)return!0;for(let o=this._dateAdapter.createDate(i,e,1);this._dateAdapter.getMonth(o)==e;o=this._dateAdapter.addCalendarDays(o,1))if(this.dateFilter(o))return!0;return!1}_isYearAndMonthAfterMaxDate(e,i){if(this.maxDate){const r=this._dateAdapter.getYear(this.maxDate),o=this._dateAdapter.getMonth(this.maxDate);return e>r||e===r&&i>o}return!1}_isYearAndMonthBeforeMinDate(e,i){if(this.minDate){const r=this._dateAdapter.getYear(this.minDate),o=this._dateAdapter.getMonth(this.minDate);return e<r||e===r&&i<o}return!1}_isRtl(){return this._dir&&"rtl"===this._dir.value}_setSelectedMonth(e){this._selectedMonth=e instanceof ks?this._getMonthInCurrentYear(e.start)||this._getMonthInCurrentYear(e.end):this._getMonthInCurrentYear(e)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.sBO),s.Y36(og,8),s.Y36(Kr,8),s.Y36(Mf,8))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-year-view"]],viewQuery:function(e,i){if(1&e&&s.Gf(Jy,5),2&e){let r;s.iGM(r=s.CRH())&&(i._matCalendarBody=r.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass"},outputs:{selectedChange:"selectedChange",monthSelected:"monthSelected",activeDateChange:"activeDateChange"},exportAs:["matYearView"],decls:5,vars:9,consts:[["role","grid",1,"mat-calendar-table"],["aria-hidden","true",1,"mat-calendar-table-header"],["colspan","4",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"label","rows","todayValue","startValue","endValue","labelMinRequiredCells","numCols","cellAspectRatio","activeCell","selectedValueChange","keyup","keydown"]],template:function(e,i){1&e&&(s.TgZ(0,"table",0)(1,"thead",1)(2,"tr"),s._UZ(3,"th",2),s.qZA()(),s.TgZ(4,"tbody",3),s.NdJ("selectedValueChange",function(o){return i._monthSelected(o)})("keyup",function(o){return i._handleCalendarBodyKeyup(o)})("keydown",function(o){return i._handleCalendarBodyKeydown(o)}),s.qZA()()),2&e&&(s.xp6(4),s.Q6J("label",i._yearLabel)("rows",i._months)("todayValue",i._todayMonth)("startValue",i._selectedMonth)("endValue",i._selectedMonth)("labelMinRequiredCells",2)("numCols",4)("cellAspectRatio",4/7)("activeCell",i._dateAdapter.getMonth(i.activeDate)))},directives:[Jy],encapsulation:2,changeDetection:0}),n})(),fC=(()=>{class n{constructor(){this.changes=new dt.x,this.calendarLabel="Calendar",this.openCalendarLabel="Open calendar",this.closeCalendarLabel="Close calendar",this.prevMonthLabel="Previous month",this.nextMonthLabel="Next month",this.prevYearLabel="Previous year",this.nextYearLabel="Next year",this.prevMultiYearLabel="Previous 24 years",this.nextMultiYearLabel="Next 24 years",this.switchToMonthViewLabel="Choose date",this.switchToMultiYearViewLabel="Choose month and year"}formatYearRange(e,i){return`${e} \u2013 ${i}`}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),nH=0,iH=(()=>{class n{constructor(e,i,r,o,u){this._intl=e,this.calendar=i,this._dateAdapter=r,this._dateFormats=o,this._buttonDescriptionId="mat-calendar-button-"+nH++,this.calendar.stateChanges.subscribe(()=>u.markForCheck())}get periodButtonText(){if("month"==this.calendar.currentView)return this._dateAdapter.format(this.calendar.activeDate,this._dateFormats.display.monthYearLabel).toLocaleUpperCase();if("year"==this.calendar.currentView)return this._dateAdapter.getYearName(this.calendar.activeDate);const i=this._dateAdapter.getYear(this.calendar.activeDate)-hC(this._dateAdapter,this.calendar.activeDate,this.calendar.minDate,this.calendar.maxDate),r=i+24-1,o=this._dateAdapter.getYearName(this._dateAdapter.createDate(i,0,1)),u=this._dateAdapter.getYearName(this._dateAdapter.createDate(r,0,1));return this._intl.formatYearRange(o,u)}get periodButtonLabel(){return"month"==this.calendar.currentView?this._intl.switchToMultiYearViewLabel:this._intl.switchToMonthViewLabel}get prevButtonLabel(){return{month:this._intl.prevMonthLabel,year:this._intl.prevYearLabel,"multi-year":this._intl.prevMultiYearLabel}[this.calendar.currentView]}get nextButtonLabel(){return{month:this._intl.nextMonthLabel,year:this._intl.nextYearLabel,"multi-year":this._intl.nextMultiYearLabel}[this.calendar.currentView]}currentPeriodClicked(){this.calendar.currentView="month"==this.calendar.currentView?"multi-year":"month"}previousClicked(){this.calendar.activeDate="month"==this.calendar.currentView?this._dateAdapter.addCalendarMonths(this.calendar.activeDate,-1):this._dateAdapter.addCalendarYears(this.calendar.activeDate,"year"==this.calendar.currentView?-1:-24)}nextClicked(){this.calendar.activeDate="month"==this.calendar.currentView?this._dateAdapter.addCalendarMonths(this.calendar.activeDate,1):this._dateAdapter.addCalendarYears(this.calendar.activeDate,"year"==this.calendar.currentView?1:24)}previousEnabled(){return!this.calendar.minDate||!this.calendar.minDate||!this._isSameView(this.calendar.activeDate,this.calendar.minDate)}nextEnabled(){return!this.calendar.maxDate||!this._isSameView(this.calendar.activeDate,this.calendar.maxDate)}_isSameView(e,i){return"month"==this.calendar.currentView?this._dateAdapter.getYear(e)==this._dateAdapter.getYear(i)&&this._dateAdapter.getMonth(e)==this._dateAdapter.getMonth(i):"year"==this.calendar.currentView?this._dateAdapter.getYear(e)==this._dateAdapter.getYear(i):oF(this._dateAdapter,e,i,this.calendar.minDate,this.calendar.maxDate)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(fC),s.Y36((0,s.Gpc)(()=>Ik)),s.Y36(Kr,8),s.Y36(og,8),s.Y36(s.sBO))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-calendar-header"]],exportAs:["matCalendarHeader"],ngContentSelectors:B8,decls:11,vars:10,consts:[[1,"mat-calendar-header"],[1,"mat-calendar-controls"],["mat-button","","type","button","aria-live","polite",1,"mat-calendar-period-button",3,"click"],["viewBox","0 0 10 5","focusable","false",1,"mat-calendar-arrow"],["points","0,0 5,5 10,0"],[1,"mat-calendar-spacer"],["mat-icon-button","","type","button",1,"mat-calendar-previous-button",3,"disabled","click"],["mat-icon-button","","type","button",1,"mat-calendar-next-button",3,"disabled","click"]],template:function(e,i){1&e&&(s.F$t(),s.TgZ(0,"div",0)(1,"div",1)(2,"button",2),s.NdJ("click",function(){return i.currentPeriodClicked()}),s.TgZ(3,"span"),s._uU(4),s.qZA(),s.O4$(),s.TgZ(5,"svg",3),s._UZ(6,"polygon",4),s.qZA()(),s.kcU(),s._UZ(7,"div",5),s.Hsn(8),s.TgZ(9,"button",6),s.NdJ("click",function(){return i.previousClicked()}),s.qZA(),s.TgZ(10,"button",7),s.NdJ("click",function(){return i.nextClicked()}),s.qZA()()()),2&e&&(s.xp6(2),s.uIk("aria-label",i.periodButtonLabel)("aria-describedby",i._buttonDescriptionId),s.xp6(1),s.uIk("id",i._buttonDescriptionId),s.xp6(1),s.Oqu(i.periodButtonText),s.xp6(1),s.ekj("mat-calendar-invert","month"!==i.calendar.currentView),s.xp6(4),s.Q6J("disabled",!i.previousEnabled()),s.uIk("aria-label",i.prevButtonLabel),s.xp6(1),s.Q6J("disabled",!i.nextEnabled()),s.uIk("aria-label",i.nextButtonLabel))},directives:[Yo],encapsulation:2,changeDetection:0}),n})(),Ik=(()=>{class n{constructor(e,i,r,o){this._dateAdapter=i,this._dateFormats=r,this._changeDetectorRef=o,this._moveFocusOnNextTick=!1,this.startView="month",this.selectedChange=new s.vpe,this.yearSelected=new s.vpe,this.monthSelected=new s.vpe,this.viewChanged=new s.vpe(!0),this._userSelection=new s.vpe,this.stateChanges=new dt.x,this._intlChanges=e.changes.subscribe(()=>{o.markForCheck(),this.stateChanges.next()})}get startAt(){return this._startAt}set startAt(e){this._startAt=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get selected(){return this._selected}set selected(e){this._selected=e instanceof ks?e:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get minDate(){return this._minDate}set minDate(e){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get maxDate(){return this._maxDate}set maxDate(e){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get activeDate(){return this._clampedActiveDate}set activeDate(e){this._clampedActiveDate=this._dateAdapter.clampDate(e,this.minDate,this.maxDate),this.stateChanges.next(),this._changeDetectorRef.markForCheck()}get currentView(){return this._currentView}set currentView(e){const i=this._currentView!==e?e:null;this._currentView=e,this._moveFocusOnNextTick=!0,this._changeDetectorRef.markForCheck(),i&&this.viewChanged.emit(i)}ngAfterContentInit(){this._calendarHeaderPortal=new Jm(this.headerComponent||iH),this.activeDate=this.startAt||this._dateAdapter.today(),this._currentView=this.startView}ngAfterViewChecked(){this._moveFocusOnNextTick&&(this._moveFocusOnNextTick=!1,this.focusActiveCell())}ngOnDestroy(){this._intlChanges.unsubscribe(),this.stateChanges.complete()}ngOnChanges(e){const i=e.minDate||e.maxDate||e.dateFilter;if(i&&!i.firstChange){const r=this._getCurrentViewComponent();r&&(this._changeDetectorRef.detectChanges(),r._init())}this.stateChanges.next()}focusActiveCell(){this._getCurrentViewComponent()._focusActiveCell(!1)}updateTodaysDate(){this._getCurrentViewComponent()._init()}_dateSelected(e){const i=e.value;(this.selected instanceof ks||i&&!this._dateAdapter.sameDate(i,this.selected))&&this.selectedChange.emit(i),this._userSelection.emit(e)}_yearSelectedInMultiYearView(e){this.yearSelected.emit(e)}_monthSelectedInYearView(e){this.monthSelected.emit(e)}_goToDateInView(e,i){this.activeDate=e,this.currentView=i}_getCurrentViewComponent(){return this.monthView||this.yearView||this.multiYearView}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(fC),s.Y36(Kr,8),s.Y36(og,8),s.Y36(s.sBO))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-calendar"]],viewQuery:function(e,i){if(1&e&&(s.Gf(rF,5),s.Gf(lF,5),s.Gf(sF,5)),2&e){let r;s.iGM(r=s.CRH())&&(i.monthView=r.first),s.iGM(r=s.CRH())&&(i.yearView=r.first),s.iGM(r=s.CRH())&&(i.multiYearView=r.first)}},hostAttrs:[1,"mat-calendar"],inputs:{headerComponent:"headerComponent",startAt:"startAt",startView:"startView",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd"},outputs:{selectedChange:"selectedChange",yearSelected:"yearSelected",monthSelected:"monthSelected",viewChanged:"viewChanged",_userSelection:"_userSelection"},exportAs:["matCalendar"],features:[s._Bn([iF]),s.TTD],decls:5,vars:5,consts:[[3,"cdkPortalOutlet"],["cdkMonitorSubtreeFocus","","tabindex","-1",1,"mat-calendar-content",3,"ngSwitch"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","comparisonStart","comparisonEnd","activeDateChange","_userSelection",4,"ngSwitchCase"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","monthSelected","selectedChange",4,"ngSwitchCase"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","yearSelected","selectedChange",4,"ngSwitchCase"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","comparisonStart","comparisonEnd","activeDateChange","_userSelection"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","monthSelected","selectedChange"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","yearSelected","selectedChange"]],template:function(e,i){1&e&&(s.YNc(0,U8,0,0,"ng-template",0),s.TgZ(1,"div",1),s.YNc(2,j8,1,8,"mat-month-view",2),s.YNc(3,H8,1,6,"mat-year-view",3),s.YNc(4,z8,1,6,"mat-multi-year-view",4),s.qZA()),2&e&&(s.Q6J("cdkPortalOutlet",i._calendarHeaderPortal),s.xp6(1),s.Q6J("ngSwitch",i.currentView),s.xp6(1),s.Q6J("ngSwitchCase","month"),s.xp6(1),s.Q6J("ngSwitchCase","year"),s.xp6(1),s.Q6J("ngSwitchCase","multi-year"))},directives:[rF,lF,sF,By,zB,ir,zi],styles:['.mat-calendar{display:block}.mat-calendar-header{padding:8px 8px 0 8px}.mat-calendar-content{padding:0 8px 8px 8px;outline:none}.mat-calendar-controls{display:flex;margin:5% calc(4.7142857143% - 16px)}.mat-calendar-controls .mat-icon-button:hover .mat-button-focus-overlay{opacity:.04}.mat-calendar-spacer{flex:1 1 auto}.mat-calendar-period-button{min-width:0}.mat-calendar-arrow{display:inline-block;width:10px;height:5px;margin:0 0 0 5px;vertical-align:middle}.mat-calendar-arrow.mat-calendar-invert{transform:rotate(180deg)}[dir=rtl] .mat-calendar-arrow{margin:0 5px 0 0}.cdk-high-contrast-active .mat-calendar-arrow{fill:CanvasText}.mat-calendar-previous-button,.mat-calendar-next-button{position:relative}.mat-calendar-previous-button::after,.mat-calendar-next-button::after{top:0;left:0;right:0;bottom:0;position:absolute;content:"";margin:15.5px;border:0 solid currentColor;border-top-width:2px}[dir=rtl] .mat-calendar-previous-button,[dir=rtl] .mat-calendar-next-button{transform:rotate(180deg)}.mat-calendar-previous-button::after{border-left-width:2px;transform:translateX(2px) rotate(-45deg)}.mat-calendar-next-button::after{border-right-width:2px;transform:translateX(-2px) rotate(45deg)}.mat-calendar-table{border-spacing:0;border-collapse:collapse;width:100%}.mat-calendar-table-header th{text-align:center;padding:0 0 8px 0}.mat-calendar-table-header-divider{position:relative;height:1px}.mat-calendar-table-header-divider::after{content:"";position:absolute;top:0;left:-8px;right:-8px;height:1px}\n'],encapsulation:2,changeDetection:0}),n})();const cF={transformPanel:Qw("transformPanel",[Dd("void => enter-dropdown",Ed("120ms cubic-bezier(0, 0, 0.2, 1)",_O([Zr({opacity:0,transform:"scale(1, 0.8)"}),Zr({opacity:1,transform:"scale(1, 1)"})]))),Dd("void => enter-dialog",Ed("150ms cubic-bezier(0, 0, 0.2, 1)",_O([Zr({opacity:0,transform:"scale(0.7)"}),Zr({transform:"none",opacity:1})]))),Dd("* => void",Ed("100ms linear",Zr({opacity:0})))]),fadeInCalendar:Qw("fadeInCalendar",[eg("void",Zr({opacity:0})),eg("enter",Zr({opacity:1})),Dd("void => *",Ed("120ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)"))])};let rH=0;const uF=new s.OlP("mat-datepicker-scroll-strategy"),dF={provide:uF,deps:[xf],useFactory:function sH(n){return()=>n.scrollStrategies.reposition()}},oH=Gy(class{constructor(n){this._elementRef=n}});let aH=(()=>{class n extends oH{constructor(e,i,r,o,u,h){super(e),this._changeDetectorRef=i,this._globalModel=r,this._dateAdapter=o,this._rangeSelectionStrategy=u,this._subscriptions=new qn.w0,this._animationDone=new dt.x,this._actionsPortal=null,this._closeButtonText=h.closeCalendarLabel}ngOnInit(){this._model=this._actionsPortal?this._globalModel.clone():this._globalModel,this._animationState=this.datepicker.touchUi?"enter-dialog":"enter-dropdown"}ngAfterViewInit(){this._subscriptions.add(this.datepicker.stateChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()})),this._calendar.focusActiveCell()}ngOnDestroy(){this._subscriptions.unsubscribe(),this._animationDone.complete()}_handleUserSelection(e){const i=this._model.selection,r=e.value,o=i instanceof ks;if(o&&this._rangeSelectionStrategy){const u=this._rangeSelectionStrategy.selectionFinished(r,i,e.event);this._model.updateSelection(u,this)}else r&&(o||!this._dateAdapter.sameDate(r,i))&&this._model.add(r);(!this._model||this._model.isComplete())&&!this._actionsPortal&&this.datepicker.close()}_startExitAnimation(){this._animationState="void",this._changeDetectorRef.markForCheck()}_getSelected(){return this._model.selection}_applyPendingSelection(){this._model!==this._globalModel&&this._globalModel.updateSelection(this._model.selection,this)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(s.sBO),s.Y36(Ff),s.Y36(Kr),s.Y36(HT,8),s.Y36(fC))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-datepicker-content"]],viewQuery:function(e,i){if(1&e&&s.Gf(Ik,5),2&e){let r;s.iGM(r=s.CRH())&&(i._calendar=r.first)}},hostAttrs:[1,"mat-datepicker-content"],hostVars:3,hostBindings:function(e,i){1&e&&s.WFA("@transformPanel.done",function(){return i._animationDone.next()}),2&e&&(s.d8E("@transformPanel",i._animationState),s.ekj("mat-datepicker-content-touch",i.datepicker.touchUi))},inputs:{color:"color"},exportAs:["matDatepickerContent"],features:[s.qOj],decls:5,vars:24,consts:[["cdkTrapFocus","","role","dialog",1,"mat-datepicker-content-container"],[3,"id","ngClass","startAt","startView","minDate","maxDate","dateFilter","headerComponent","selected","dateClass","comparisonStart","comparisonEnd","yearSelected","monthSelected","viewChanged","_userSelection"],[3,"cdkPortalOutlet"],["type","button","mat-raised-button","",1,"mat-datepicker-close-button",3,"color","focus","blur","click"]],template:function(e,i){if(1&e&&(s.TgZ(0,"div",0)(1,"mat-calendar",1),s.NdJ("yearSelected",function(o){return i.datepicker._selectYear(o)})("monthSelected",function(o){return i.datepicker._selectMonth(o)})("viewChanged",function(o){return i.datepicker._viewChanged(o)})("_userSelection",function(o){return i._handleUserSelection(o)}),s.qZA(),s.YNc(2,$8,0,0,"ng-template",2),s.TgZ(3,"button",3),s.NdJ("focus",function(){return i._closeButtonFocused=!0})("blur",function(){return i._closeButtonFocused=!1})("click",function(){return i.datepicker.close()}),s._uU(4),s.qZA()()),2&e){let r;s.ekj("mat-datepicker-content-container-with-custom-header",i.datepicker.calendarHeaderComponent)("mat-datepicker-content-container-with-actions",i._actionsPortal),s.uIk("aria-modal",!0)("aria-labelledby",null!==(r=i._dialogLabelId)&&void 0!==r?r:void 0),s.xp6(1),s.Q6J("id",i.datepicker.id)("ngClass",i.datepicker.panelClass)("startAt",i.datepicker.startAt)("startView",i.datepicker.startView)("minDate",i.datepicker._getMinDate())("maxDate",i.datepicker._getMaxDate())("dateFilter",i.datepicker._getDateFilter())("headerComponent",i.datepicker.calendarHeaderComponent)("selected",i._getSelected())("dateClass",i.datepicker.dateClass)("comparisonStart",i.comparisonStart)("comparisonEnd",i.comparisonEnd)("@fadeInCalendar","enter"),s.xp6(1),s.Q6J("cdkPortalOutlet",i._actionsPortal),s.xp6(1),s.ekj("cdk-visually-hidden",!i._closeButtonFocused),s.Q6J("color",i.color||"primary"),s.xp6(1),s.Oqu(i._closeButtonText)}},directives:[Ik,Yo,NB,Vs,By],styles:[".mat-datepicker-content{display:block;border-radius:4px}.mat-datepicker-content .mat-calendar{width:296px;height:354px}.mat-datepicker-content .mat-datepicker-content-container-with-custom-header .mat-calendar{height:auto}.mat-datepicker-content .mat-datepicker-close-button{position:absolute;top:100%;left:0;margin-top:8px}.ng-animating .mat-datepicker-content .mat-datepicker-close-button{display:none}.mat-datepicker-content-container{display:flex;flex-direction:column;justify-content:space-between}.mat-datepicker-content-touch{display:block;max-height:80vh;position:relative;overflow:visible}.mat-datepicker-content-touch .mat-datepicker-content-container{min-height:312px;max-height:788px;min-width:250px;max-width:750px}.mat-datepicker-content-touch .mat-calendar{width:100%;height:auto}@media all and (orientation: landscape){.mat-datepicker-content-touch .mat-datepicker-content-container{width:64vh;height:80vh}}@media all and (orientation: portrait){.mat-datepicker-content-touch .mat-datepicker-content-container{width:80vw;height:100vw}.mat-datepicker-content-touch .mat-datepicker-content-container-with-actions{height:115vw}}\n"],encapsulation:2,data:{animation:[cF.transformPanel,cF.fadeInCalendar]},changeDetection:0}),n})(),hF=(()=>{class n{constructor(e,i,r,o,u,h,_){this._overlay=e,this._ngZone=i,this._viewContainerRef=r,this._dateAdapter=u,this._dir=h,this._model=_,this._inputStateChanges=qn.w0.EMPTY,this.startView="month",this._touchUi=!1,this.xPosition="start",this.yPosition="below",this._restoreFocus=!0,this.yearSelected=new s.vpe,this.monthSelected=new s.vpe,this.viewChanged=new s.vpe(!0),this.openedStream=new s.vpe,this.closedStream=new s.vpe,this._opened=!1,this.id="mat-datepicker-"+rH++,this._focusedElementBeforeOpen=null,this._backdropHarnessClass=`${this.id}-backdrop`,this.stateChanges=new dt.x,this._scrollStrategy=o}get startAt(){return this._startAt||(this.datepickerInput?this.datepickerInput.getStartValue():null)}set startAt(e){this._startAt=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get color(){return this._color||(this.datepickerInput?this.datepickerInput.getThemePalette():void 0)}set color(e){this._color=e}get touchUi(){return this._touchUi}set touchUi(e){this._touchUi=er(e)}get disabled(){return void 0===this._disabled&&this.datepickerInput?this.datepickerInput.disabled:!!this._disabled}set disabled(e){const i=er(e);i!==this._disabled&&(this._disabled=i,this.stateChanges.next(void 0))}get restoreFocus(){return this._restoreFocus}set restoreFocus(e){this._restoreFocus=er(e)}get panelClass(){return this._panelClass}set panelClass(e){this._panelClass=function bV(n,t=/\s+/){const e=[];if(null!=n){const i=Array.isArray(n)?n:`${n}`.split(t);for(const r of i){const o=`${r}`.trim();o&&e.push(o)}}return e}(e)}get opened(){return this._opened}set opened(e){er(e)?this.open():this.close()}_getMinDate(){return this.datepickerInput&&this.datepickerInput.min}_getMaxDate(){return this.datepickerInput&&this.datepickerInput.max}_getDateFilter(){return this.datepickerInput&&this.datepickerInput.dateFilter}ngOnChanges(e){const i=e.xPosition||e.yPosition;if(i&&!i.firstChange&&this._overlayRef){const r=this._overlayRef.getConfig().positionStrategy;r instanceof qR&&(this._setConnectedPositions(r),this.opened&&this._overlayRef.updatePosition())}this.stateChanges.next(void 0)}ngOnDestroy(){this._destroyOverlay(),this.close(),this._inputStateChanges.unsubscribe(),this.stateChanges.complete()}select(e){this._model.add(e)}_selectYear(e){this.yearSelected.emit(e)}_selectMonth(e){this.monthSelected.emit(e)}_viewChanged(e){this.viewChanged.emit(e)}registerInput(e){return this._inputStateChanges.unsubscribe(),this.datepickerInput=e,this._inputStateChanges=e.stateChanges.subscribe(()=>this.stateChanges.next(void 0)),this._model}registerActions(e){this._actionsPortal=e}removeActions(e){e===this._actionsPortal&&(this._actionsPortal=null)}open(){this._opened||this.disabled||(this._focusedElementBeforeOpen=qw(),this._openOverlay(),this._opened=!0,this.openedStream.emit())}close(){if(!this._opened)return;if(this._componentRef){const i=this._componentRef.instance;i._startExitAnimation(),i._animationDone.pipe((0,ei.q)(1)).subscribe(()=>this._destroyOverlay())}const e=()=>{this._opened&&(this._opened=!1,this.closedStream.emit(),this._focusedElementBeforeOpen=null)};this._restoreFocus&&this._focusedElementBeforeOpen&&"function"==typeof this._focusedElementBeforeOpen.focus?(this._focusedElementBeforeOpen.focus(),setTimeout(e)):e()}_applyPendingSelection(){var e,i;null===(i=null===(e=this._componentRef)||void 0===e?void 0:e.instance)||void 0===i||i._applyPendingSelection()}_forwardContentValues(e){e.datepicker=this,e.color=this.color,e._actionsPortal=this._actionsPortal,e._dialogLabelId=this.datepickerInput.getOverlayLabelId()}_openOverlay(){this._destroyOverlay();const e=this.touchUi,i=new Jm(aH,this._viewContainerRef),r=this._overlayRef=this._overlay.create(new XA({positionStrategy:e?this._getDialogStrategy():this._getDropdownStrategy(),hasBackdrop:!0,backdropClass:[e?"cdk-overlay-dark-backdrop":"mat-overlay-transparent-backdrop",this._backdropHarnessClass],direction:this._dir,scrollStrategy:e?this._overlay.scrollStrategies.block():this._scrollStrategy(),panelClass:"mat-datepicker-"+(e?"dialog":"popup")}));this._getCloseStream(r).subscribe(o=>{o&&o.preventDefault(),this.close()}),this._componentRef=r.attach(i),this._forwardContentValues(this._componentRef.instance),e||this._ngZone.onStable.pipe((0,ei.q)(1)).subscribe(()=>r.updatePosition())}_destroyOverlay(){this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=this._componentRef=null)}_getDialogStrategy(){return this._overlay.position().global().centerHorizontally().centerVertically()}_getDropdownStrategy(){const e=this._overlay.position().flexibleConnectedTo(this.datepickerInput.getConnectedOverlayOrigin()).withTransformOriginOn(".mat-datepicker-content").withFlexibleDimensions(!1).withViewportMargin(8).withLockedPosition();return this._setConnectedPositions(e)}_setConnectedPositions(e){const i="end"===this.xPosition?"end":"start",r="start"===i?"end":"start",o="above"===this.yPosition?"bottom":"top",u="top"===o?"bottom":"top";return e.withPositions([{originX:i,originY:u,overlayX:i,overlayY:o},{originX:i,originY:o,overlayX:i,overlayY:u},{originX:r,originY:u,overlayX:r,overlayY:o},{originX:r,originY:o,overlayX:r,overlayY:u}])}_getCloseStream(e){return(0,Ny.T)(e.backdropClick(),e.detachments(),e.keydownEvents().pipe(Ci(i=>27===i.keyCode&&!tT(i)||this.datepickerInput&&tT(i,"altKey")&&38===i.keyCode)))}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(xf),s.Y36(s.R0b),s.Y36(s.s_b),s.Y36(uF),s.Y36(Kr,8),s.Y36(Mf,8),s.Y36(Ff))},n.\u0275dir=s.lG2({type:n,inputs:{calendarHeaderComponent:"calendarHeaderComponent",startAt:"startAt",startView:"startView",color:"color",touchUi:"touchUi",disabled:"disabled",xPosition:"xPosition",yPosition:"yPosition",restoreFocus:"restoreFocus",dateClass:"dateClass",panelClass:"panelClass",opened:"opened"},outputs:{yearSelected:"yearSelected",monthSelected:"monthSelected",viewChanged:"viewChanged",openedStream:"opened",closedStream:"closed"},features:[s.TTD]}),n})(),fF=(()=>{class n extends hF{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-datepicker"]],exportAs:["matDatepicker"],features:[s._Bn([iF,{provide:hF,useExisting:n}]),s.qOj],decls:0,vars:0,template:function(e,i){},encapsulation:2,changeDetection:0}),n})();class zT{constructor(t,e){this.target=t,this.targetElement=e,this.value=this.target.value}}let lH=(()=>{class n{constructor(e,i,r){this._elementRef=e,this._dateAdapter=i,this._dateFormats=r,this.dateChange=new s.vpe,this.dateInput=new s.vpe,this.stateChanges=new dt.x,this._onTouched=()=>{},this._validatorOnChange=()=>{},this._cvaOnChange=()=>{},this._valueChangesSubscription=qn.w0.EMPTY,this._localeSubscription=qn.w0.EMPTY,this._parseValidator=()=>this._lastValueValid?null:{matDatepickerParse:{text:this._elementRef.nativeElement.value}},this._filterValidator=o=>{const u=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(o.value));return!u||this._matchesFilter(u)?null:{matDatepickerFilter:!0}},this._minValidator=o=>{const u=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(o.value)),h=this._getMinDate();return!h||!u||this._dateAdapter.compareDate(h,u)<=0?null:{matDatepickerMin:{min:h,actual:u}}},this._maxValidator=o=>{const u=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(o.value)),h=this._getMaxDate();return!h||!u||this._dateAdapter.compareDate(h,u)>=0?null:{matDatepickerMax:{max:h,actual:u}}},this._lastValueValid=!1,this._localeSubscription=i.localeChanges.subscribe(()=>{this._assignValueProgrammatically(this.value)})}get value(){return this._model?this._getValueFromModel(this._model.selection):this._pendingValue}set value(e){this._assignValueProgrammatically(e)}get disabled(){return!!this._disabled||this._parentDisabled()}set disabled(e){const i=er(e),r=this._elementRef.nativeElement;this._disabled!==i&&(this._disabled=i,this.stateChanges.next(void 0)),i&&this._isInitialized&&r.blur&&r.blur()}_getValidators(){return[this._parseValidator,this._minValidator,this._maxValidator,this._filterValidator]}_registerModel(e){this._model=e,this._valueChangesSubscription.unsubscribe(),this._pendingValue&&this._assignValue(this._pendingValue),this._valueChangesSubscription=this._model.selectionChanged.subscribe(i=>{if(this._shouldHandleChangeEvent(i)){const r=this._getValueFromModel(i.selection);this._lastValueValid=this._isValidValue(r),this._cvaOnChange(r),this._onTouched(),this._formatValue(r),this.dateInput.emit(new zT(this,this._elementRef.nativeElement)),this.dateChange.emit(new zT(this,this._elementRef.nativeElement))}})}ngAfterViewInit(){this._isInitialized=!0}ngOnChanges(e){(function cH(n,t){const e=Object.keys(n);for(let i of e){const{previousValue:r,currentValue:o}=n[i];if(!t.isDateInstance(r)||!t.isDateInstance(o))return!0;if(!t.sameDate(r,o))return!0}return!1})(e,this._dateAdapter)&&this.stateChanges.next(void 0)}ngOnDestroy(){this._valueChangesSubscription.unsubscribe(),this._localeSubscription.unsubscribe(),this.stateChanges.complete()}registerOnValidatorChange(e){this._validatorOnChange=e}validate(e){return this._validator?this._validator(e):null}writeValue(e){this._assignValueProgrammatically(e)}registerOnChange(e){this._cvaOnChange=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e}_onKeydown(e){e.altKey&&40===e.keyCode&&!this._elementRef.nativeElement.readOnly&&(this._openPopup(),e.preventDefault())}_onInput(e){const i=this._lastValueValid;let r=this._dateAdapter.parse(e,this._dateFormats.parse.dateInput);this._lastValueValid=this._isValidValue(r),r=this._dateAdapter.getValidDateOrNull(r);const o=!this._dateAdapter.sameDate(r,this.value);!r||o?this._cvaOnChange(r):(e&&!this.value&&this._cvaOnChange(r),i!==this._lastValueValid&&this._validatorOnChange()),o&&(this._assignValue(r),this.dateInput.emit(new zT(this,this._elementRef.nativeElement)))}_onChange(){this.dateChange.emit(new zT(this,this._elementRef.nativeElement))}_onBlur(){this.value&&this._formatValue(this.value),this._onTouched()}_formatValue(e){this._elementRef.nativeElement.value=e?this._dateAdapter.format(e,this._dateFormats.display.dateInput):""}_assignValue(e){this._model?(this._assignValueToModel(e),this._pendingValue=null):this._pendingValue=e}_isValidValue(e){return!e||this._dateAdapter.isValid(e)}_parentDisabled(){return!1}_assignValueProgrammatically(e){e=this._dateAdapter.deserialize(e),this._lastValueValid=this._isValidValue(e),e=this._dateAdapter.getValidDateOrNull(e),this._assignValue(e),this._formatValue(e)}_matchesFilter(e){const i=this._getDateFilter();return!i||i(e)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(Kr,8),s.Y36(og,8))},n.\u0275dir=s.lG2({type:n,inputs:{value:"value",disabled:"disabled"},outputs:{dateChange:"dateChange",dateInput:"dateInput"},features:[s.TTD]}),n})();const uH={provide:Zo,useExisting:(0,s.Gpc)(()=>$T),multi:!0},dH={provide:Qr,useExisting:(0,s.Gpc)(()=>$T),multi:!0};let $T=(()=>{class n extends lH{constructor(e,i,r,o){super(e,i,r),this._formField=o,this._closedSubscription=qn.w0.EMPTY,this._validator=Id.compose(super._getValidators())}set matDatepicker(e){e&&(this._datepicker=e,this._closedSubscription=e.closedStream.subscribe(()=>this._onTouched()),this._registerModel(e.registerInput(this)))}get min(){return this._min}set min(e){const i=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e));this._dateAdapter.sameDate(i,this._min)||(this._min=i,this._validatorOnChange())}get max(){return this._max}set max(e){const i=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e));this._dateAdapter.sameDate(i,this._max)||(this._max=i,this._validatorOnChange())}get dateFilter(){return this._dateFilter}set dateFilter(e){const i=this._matchesFilter(this.value);this._dateFilter=e,this._matchesFilter(this.value)!==i&&this._validatorOnChange()}getConnectedOverlayOrigin(){return this._formField?this._formField.getConnectedOverlayOrigin():this._elementRef}getOverlayLabelId(){return this._formField?this._formField.getLabelId():this._elementRef.nativeElement.getAttribute("aria-labelledby")}getThemePalette(){return this._formField?this._formField.color:void 0}getStartValue(){return this.value}ngOnDestroy(){super.ngOnDestroy(),this._closedSubscription.unsubscribe()}_openPopup(){this._datepicker&&this._datepicker.open()}_getValueFromModel(e){return e}_assignValueToModel(e){this._model&&this._model.updateSelection(e,this)}_getMinDate(){return this._min}_getMaxDate(){return this._max}_getDateFilter(){return this._dateFilter}_shouldHandleChangeEvent(e){return e.source!==this}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(Kr,8),s.Y36(og,8),s.Y36(Gx,8))},n.\u0275dir=s.lG2({type:n,selectors:[["input","matDatepicker",""]],hostAttrs:[1,"mat-datepicker-input"],hostVars:6,hostBindings:function(e,i){1&e&&s.NdJ("input",function(o){return i._onInput(o.target.value)})("change",function(){return i._onChange()})("blur",function(){return i._onBlur()})("keydown",function(o){return i._onKeydown(o)}),2&e&&(s.Ikx("disabled",i.disabled),s.uIk("aria-haspopup",i._datepicker?"dialog":null)("aria-owns",(null==i._datepicker?null:i._datepicker.opened)&&i._datepicker.id||null)("min",i.min?i._dateAdapter.toIso8601(i.min):null)("max",i.max?i._dateAdapter.toIso8601(i.max):null)("data-mat-calendar",i._datepicker?i._datepicker.id:null))},inputs:{matDatepicker:"matDatepicker",min:"min",max:"max",dateFilter:["matDatepickerFilter","dateFilter"]},exportAs:["matDatepickerInput"],features:[s._Bn([uH,dH,{provide:gk,useExisting:n}]),s.qOj]}),n})(),hH=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n,selectors:[["","matDatepickerToggleIcon",""]]}),n})(),pF=(()=>{class n{constructor(e,i,r){this._intl=e,this._changeDetectorRef=i,this._stateChanges=qn.w0.EMPTY;const o=Number(r);this.tabIndex=o||0===o?o:null}get disabled(){return void 0===this._disabled&&this.datepicker?this.datepicker.disabled:!!this._disabled}set disabled(e){this._disabled=er(e)}ngOnChanges(e){e.datepicker&&this._watchStateChanges()}ngOnDestroy(){this._stateChanges.unsubscribe()}ngAfterContentInit(){this._watchStateChanges()}_open(e){this.datepicker&&!this.disabled&&(this.datepicker.open(),e.stopPropagation())}_watchStateChanges(){const e=this.datepicker?this.datepicker.stateChanges:ot(),i=this.datepicker&&this.datepicker.datepickerInput?this.datepicker.datepickerInput.stateChanges:ot(),r=this.datepicker?(0,Ny.T)(this.datepicker.openedStream,this.datepicker.closedStream):ot();this._stateChanges.unsubscribe(),this._stateChanges=(0,Ny.T)(this._intl.changes,e,i,r).subscribe(()=>this._changeDetectorRef.markForCheck())}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(fC),s.Y36(s.sBO),s.$8M("tabindex"))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-datepicker-toggle"]],contentQueries:function(e,i,r){if(1&e&&s.Suo(r,hH,5),2&e){let o;s.iGM(o=s.CRH())&&(i._customIcon=o.first)}},viewQuery:function(e,i){if(1&e&&s.Gf(G8,5),2&e){let r;s.iGM(r=s.CRH())&&(i._button=r.first)}},hostAttrs:[1,"mat-datepicker-toggle"],hostVars:8,hostBindings:function(e,i){1&e&&s.NdJ("click",function(o){return i._open(o)}),2&e&&(s.uIk("tabindex",null)("data-mat-calendar",i.datepicker?i.datepicker.id:null),s.ekj("mat-datepicker-toggle-active",i.datepicker&&i.datepicker.opened)("mat-accent",i.datepicker&&"accent"===i.datepicker.color)("mat-warn",i.datepicker&&"warn"===i.datepicker.color))},inputs:{datepicker:["for","datepicker"],tabIndex:"tabIndex",ariaLabel:["aria-label","ariaLabel"],disabled:"disabled",disableRipple:"disableRipple"},exportAs:["matDatepickerToggle"],features:[s.TTD],ngContentSelectors:Z8,decls:4,vars:6,consts:[["mat-icon-button","","type","button",3,"disabled","disableRipple"],["button",""],["class","mat-datepicker-toggle-default-icon","viewBox","0 0 24 24","width","24px","height","24px","fill","currentColor","focusable","false",4,"ngIf"],["viewBox","0 0 24 24","width","24px","height","24px","fill","currentColor","focusable","false",1,"mat-datepicker-toggle-default-icon"],["d","M19 3h-1V1h-2v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V8h14v11zM7 10h5v5H7z"]],template:function(e,i){1&e&&(s.F$t(Y8),s.TgZ(0,"button",0,1),s.YNc(2,q8,2,0,"svg",2),s.Hsn(3),s.qZA()),2&e&&(s.Q6J("disabled",i.disabled)("disableRipple",i.disableRipple),s.uIk("aria-haspopup",i.datepicker?"dialog":null)("aria-label",i.ariaLabel||i._intl.openCalendarLabel)("tabindex",i.disabled?-1:i.tabIndex),s.xp6(2),s.Q6J("ngIf",!i._customIcon))},directives:[Yo,Fn],styles:[".mat-form-field-appearance-legacy .mat-form-field-prefix .mat-datepicker-toggle-default-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-datepicker-toggle-default-icon{width:1em}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-datepicker-toggle-default-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-datepicker-toggle-default-icon{display:block;width:1.5em;height:1.5em}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-datepicker-toggle-default-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-datepicker-toggle-default-icon{margin:auto}.cdk-high-contrast-active .mat-datepicker-toggle-default-icon{color:CanvasText}\n"],encapsulation:2,changeDetection:0}),n})(),mF=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[fC,dF],imports:[[wr,nC,QM,$B,Zw,Wr],qM]}),n})();function fH(n,t){}class Sk{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.delayFocusTrap=!0,this.closeOnNavigation=!0}}const pH={dialogContainer:Qw("dialogContainer",[eg("void, exit",Zr({opacity:0,transform:"scale(0.7)"})),eg("enter",Zr({transform:"none"})),Dd("* => enter",mO([Ed("150ms cubic-bezier(0, 0, 0.2, 1)",Zr({transform:"none",opacity:1})),vO("@*",yO(),{optional:!0})])),Dd("* => void, * => exit",mO([Ed("75ms cubic-bezier(0.4, 0.0, 0.2, 1)",Zr({opacity:0})),vO("@*",yO(),{optional:!0})]))])};let mH=(()=>{class n extends JA{constructor(e,i,r,o,u,h,_,b){super(),this._elementRef=e,this._focusTrapFactory=i,this._changeDetectorRef=r,this._config=u,this._interactivityChecker=h,this._ngZone=_,this._focusMonitor=b,this._animationStateChanged=new s.vpe,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this.attachDomPortal=T=>(this._portalOutlet.hasAttached(),this._portalOutlet.attachDomPortal(T)),this._ariaLabelledBy=u.ariaLabelledBy||null,this._document=o}_initializeWithAttachedContent(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=qw())}attachComponentPortal(e){return this._portalOutlet.hasAttached(),this._portalOutlet.attachComponentPortal(e)}attachTemplatePortal(e){return this._portalOutlet.hasAttached(),this._portalOutlet.attachTemplatePortal(e)}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(e,i){this._interactivityChecker.isFocusable(e)||(e.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const r=()=>{e.removeEventListener("blur",r),e.removeEventListener("mousedown",r),e.removeAttribute("tabindex")};e.addEventListener("blur",r),e.addEventListener("mousedown",r)})),e.focus(i)}_focusByCssSelector(e,i){let r=this._elementRef.nativeElement.querySelector(e);r&&this._forceFocus(r,i)}_trapFocus(){const e=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||e.focus();break;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(i=>{i||this._focusDialogContainer()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus)}}_restoreFocus(){const e=this._elementFocusedBeforeDialogWasOpened;if(this._config.restoreFocus&&e&&"function"==typeof e.focus){const i=qw(),r=this._elementRef.nativeElement;(!i||i===this._document.body||i===r||r.contains(i))&&(this._focusMonitor?(this._focusMonitor.focusVia(e,this._closeInteractionType),this._closeInteractionType=null):e.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const e=this._elementRef.nativeElement,i=qw();return e===i||e.contains(i)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(oO),s.Y36(s.sBO),s.Y36(H,8),s.Y36(Sk),s.Y36(iO),s.Y36(s.R0b),s.Y36(iT))},n.\u0275dir=s.lG2({type:n,viewQuery:function(e,i){if(1&e&&s.Gf(By,7),2&e){let r;s.iGM(r=s.CRH())&&(i._portalOutlet=r.first)}},features:[s.qOj]}),n})(),gH=(()=>{class n extends mH{constructor(){super(...arguments),this._state="enter"}_onAnimationDone({toState:e,totalTime:i}){"enter"===e?(this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:i})):"exit"===e&&(this._restoreFocus(),this._animationStateChanged.next({state:"closed",totalTime:i}))}_onAnimationStart({toState:e,totalTime:i}){"enter"===e?this._animationStateChanged.next({state:"opening",totalTime:i}):("exit"===e||"void"===e)&&this._animationStateChanged.next({state:"closing",totalTime:i})}_startExitAnimation(){this._state="exit",this._changeDetectorRef.markForCheck()}_initializeWithAttachedContent(){super._initializeWithAttachedContent(),this._config.delayFocusTrap||this._trapFocus()}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1","aria-modal","true",1,"mat-dialog-container"],hostVars:6,hostBindings:function(e,i){1&e&&s.WFA("@dialogContainer.start",function(o){return i._onAnimationStart(o)})("@dialogContainer.done",function(o){return i._onAnimationDone(o)}),2&e&&(s.Ikx("id",i._id),s.uIk("role",i._config.role)("aria-labelledby",i._config.ariaLabel?null:i._ariaLabelledBy)("aria-label",i._config.ariaLabel)("aria-describedby",i._config.ariaDescribedBy||null),s.d8E("@dialogContainer",i._state))},features:[s.qOj],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(e,i){1&e&&s.YNc(0,fH,0,0,"ng-template",0)},directives:[By],styles:[".mat-dialog-container{display:block;padding:24px;border-radius:4px;box-sizing:border-box;overflow:auto;outline:0;width:100%;height:100%;min-height:inherit;max-height:inherit}.cdk-high-contrast-active .mat-dialog-container{outline:solid 1px}.mat-dialog-content{display:block;margin:0 -24px;padding:0 24px;max-height:65vh;overflow:auto;-webkit-overflow-scrolling:touch}.mat-dialog-title{margin:0 0 20px;display:block}.mat-dialog-actions{padding:8px 0;display:flex;flex-wrap:wrap;min-height:52px;align-items:center;box-sizing:content-box;margin-bottom:-24px}.mat-dialog-actions[align=end]{justify-content:flex-end}.mat-dialog-actions[align=center]{justify-content:center}.mat-dialog-actions .mat-button-base+.mat-button-base,.mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}\n"],encapsulation:2,data:{animation:[pH.dialogContainer]}}),n})(),_H=0;class pC{constructor(t,e,i="mat-dialog-"+_H++){this._overlayRef=t,this._containerInstance=e,this.id=i,this.disableClose=this._containerInstance._config.disableClose,this._afterOpened=new dt.x,this._afterClosed=new dt.x,this._beforeClosed=new dt.x,this._state=0,e._id=i,e._animationStateChanged.pipe(Ci(r=>"opened"===r.state),(0,ei.q)(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),e._animationStateChanged.pipe(Ci(r=>"closed"===r.state),(0,ei.q)(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),t.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._afterClosed.next(this._result),this._afterClosed.complete(),this.componentInstance=null,this._overlayRef.dispose()}),t.keydownEvents().pipe(Ci(r=>27===r.keyCode&&!this.disableClose&&!tT(r))).subscribe(r=>{r.preventDefault(),gF(this,"keyboard")}),t.backdropClick().subscribe(()=>{this.disableClose?this._containerInstance._recaptureFocus():gF(this,"mouse")})}close(t){this._result=t,this._containerInstance._animationStateChanged.pipe(Ci(e=>"closing"===e.state),(0,ei.q)(1)).subscribe(e=>{this._beforeClosed.next(t),this._beforeClosed.complete(),this._overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),e.totalTime+100)}),this._state=1,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._afterClosed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._overlayRef.backdropClick()}keydownEvents(){return this._overlayRef.keydownEvents()}updatePosition(t){let e=this._getPositionStrategy();return t&&(t.left||t.right)?t.left?e.left(t.left):e.right(t.right):e.centerHorizontally(),t&&(t.top||t.bottom)?t.top?e.top(t.top):e.bottom(t.bottom):e.centerVertically(),this._overlayRef.updatePosition(),this}updateSize(t="",e=""){return this._overlayRef.updateSize({width:t,height:e}),this._overlayRef.updatePosition(),this}addPanelClass(t){return this._overlayRef.addPanelClass(t),this}removePanelClass(t){return this._overlayRef.removePanelClass(t),this}getState(){return this._state}_finishDialogClose(){this._state=2,this._overlayRef.dispose()}_getPositionStrategy(){return this._overlayRef.getConfig().positionStrategy}}function gF(n,t,e){return void 0!==n._containerInstance&&(n._containerInstance._closeInteractionType=t),n.close(e)}const _F=new s.OlP("MatDialogData"),yH=new s.OlP("mat-dialog-default-options"),yF=new s.OlP("mat-dialog-scroll-strategy"),bH={provide:yF,deps:[xf],useFactory:function vH(n){return()=>n.scrollStrategies.block()}};let wH=(()=>{class n{constructor(e,i,r,o,u,h,_,b,T,M){this._overlay=e,this._injector=i,this._defaultOptions=r,this._parentDialog=o,this._overlayContainer=u,this._dialogRefConstructor=_,this._dialogContainerType=b,this._dialogDataToken=T,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new dt.x,this._afterOpenedAtThisLevel=new dt.x,this._ariaHiddenElements=new Map,this.afterAllClosed=Ur(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(ai(void 0))),this._scrollStrategy=h}get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const e=this._parentDialog;return e?e._getAfterAllClosed():this._afterAllClosedAtThisLevel}open(e,i){i=function CH(n,t){return Object.assign(Object.assign({},t),n)}(i,this._defaultOptions||new Sk),i.id&&this.getDialogById(i.id);const r=this._createOverlay(i),o=this._attachDialogContainer(r,i),u=this._attachDialogContent(e,o,r,i);return this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(u),u.afterClosed().subscribe(()=>this._removeOpenDialog(u)),this.afterOpened.next(u),o._initializeWithAttachedContent(),u}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(e){return this.openDialogs.find(i=>i.id===e)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_createOverlay(e){const i=this._getOverlayConfig(e);return this._overlay.create(i)}_getOverlayConfig(e){const i=new XA({positionStrategy:this._overlay.position().global(),scrollStrategy:e.scrollStrategy||this._scrollStrategy(),panelClass:e.panelClass,hasBackdrop:e.hasBackdrop,direction:e.direction,minWidth:e.minWidth,minHeight:e.minHeight,maxWidth:e.maxWidth,maxHeight:e.maxHeight,disposeOnNavigation:e.closeOnNavigation});return e.backdropClass&&(i.backdropClass=e.backdropClass),i}_attachDialogContainer(e,i){const o=s.zs3.create({parent:i&&i.viewContainerRef&&i.viewContainerRef.injector||this._injector,providers:[{provide:Sk,useValue:i}]}),u=new Jm(this._dialogContainerType,i.viewContainerRef,o,i.componentFactoryResolver);return e.attach(u).instance}_attachDialogContent(e,i,r,o){const u=new this._dialogRefConstructor(r,i,o.id);if(e instanceof s.Rgc)i.attachTemplatePortal(new ZM(e,null,{$implicit:o.data,dialogRef:u}));else{const h=this._createInjector(o,u,i),_=i.attachComponentPortal(new Jm(e,o.viewContainerRef,h,o.componentFactoryResolver));u.componentInstance=_.instance}return u.updateSize(o.width,o.height).updatePosition(o.position),u}_createInjector(e,i,r){const o=e&&e.viewContainerRef&&e.viewContainerRef.injector,u=[{provide:this._dialogContainerType,useValue:r},{provide:this._dialogDataToken,useValue:e.data},{provide:this._dialogRefConstructor,useValue:i}];return e.direction&&(!o||!o.get(Mf,null,s.XFs.Optional))&&u.push({provide:Mf,useValue:{value:e.direction,change:ot()}}),s.zs3.create({parent:o||this._injector,providers:u})}_removeOpenDialog(e){const i=this.openDialogs.indexOf(e);i>-1&&(this.openDialogs.splice(i,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((r,o)=>{r?o.setAttribute("aria-hidden",r):o.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const e=this._overlayContainer.getContainerElement();if(e.parentElement){const i=e.parentElement.children;for(let r=i.length-1;r>-1;r--){let o=i[r];o!==e&&"SCRIPT"!==o.nodeName&&"STYLE"!==o.nodeName&&!o.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(o,o.getAttribute("aria-hidden")),o.setAttribute("aria-hidden","true"))}}}_closeDialogs(e){let i=e.length;for(;i--;)e[i].close()}}return n.\u0275fac=function(e){s.$Z()},n.\u0275dir=s.lG2({type:n}),n})(),GT=(()=>{class n extends wH{constructor(e,i,r,o,u,h,_,b){super(e,i,o,h,_,u,pC,gH,_F,b)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(xf),s.LFG(s.zs3),s.LFG(we,8),s.LFG(yH,8),s.LFG(yF),s.LFG(n,12),s.LFG(KM),s.LFG(sg,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),EH=0,Mk=(()=>{class n{constructor(e,i,r){this._dialogRef=e,this._elementRef=i,this._dialog=r,this.id="mat-dialog-title-"+EH++}ngOnInit(){this._dialogRef||(this._dialogRef=function DH(n,t){let e=n.nativeElement.parentElement;for(;e&&!e.classList.contains("mat-dialog-container");)e=e.parentElement;return e?t.find(i=>i.id===e.id):null}(this._elementRef,this._dialog.openDialogs)),this._dialogRef&&Promise.resolve().then(()=>{const e=this._dialogRef._containerInstance;e&&!e._ariaLabelledBy&&(e._ariaLabelledBy=this.id)})}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(pC,8),s.Y36(s.SBq),s.Y36(GT))},n.\u0275dir=s.lG2({type:n,selectors:[["","mat-dialog-title",""],["","matDialogTitle",""]],hostAttrs:[1,"mat-dialog-title"],hostVars:1,hostBindings:function(e,i){2&e&&s.Ikx("id",i.id)},inputs:{id:"id"},exportAs:["matDialogTitle"]}),n})(),xk=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n,selectors:[["","mat-dialog-content",""],["mat-dialog-content"],["","matDialogContent",""]],hostAttrs:[1,"mat-dialog-content"]}),n})(),kk=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n,selectors:[["","mat-dialog-actions",""],["mat-dialog-actions"],["","matDialogActions",""]],hostAttrs:[1,"mat-dialog-actions"]}),n})(),vF=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[GT,bH],imports:[[QM,Zw,Wr],Wr]}),n})();function IH(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"td")(1,"button",10),s.NdJ("click",function(){return s.CHM(e),s.oxw(2).change("second",!0)}),s.TgZ(2,"mat-icon"),s._uU(3,"expand_less"),s.qZA()()()}if(2&n){const e=s.oxw(2);s.xp6(1),s.Q6J("disabled",e.disabled||e.disableMinute)}}function SH(n,t){1&n&&s._UZ(0,"td",6)}function MH(n,t){1&n&&s._UZ(0,"td")}function xH(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"tr")(1,"td")(2,"button",10),s.NdJ("click",function(){return s.CHM(e),s.oxw().change("hour",!0)}),s.TgZ(3,"mat-icon"),s._uU(4,"expand_less"),s.qZA()()(),s._UZ(5,"td"),s.TgZ(6,"td")(7,"button",10),s.NdJ("click",function(){return s.CHM(e),s.oxw().change("minute",!0)}),s.TgZ(8,"mat-icon"),s._uU(9,"expand_less"),s.qZA()()(),s._UZ(10,"td"),s.YNc(11,IH,4,1,"td",3),s.YNc(12,SH,1,0,"td",8),s.YNc(13,MH,1,0,"td",3),s.qZA()}if(2&n){const e=s.oxw();s.xp6(2),s.Q6J("disabled",e.disabled),s.xp6(5),s.Q6J("disabled",e.disabled||e.disableMinute),s.xp6(4),s.Q6J("ngIf",e.showSeconds),s.xp6(1),s.Q6J("ngIf",e.enableMeridian),s.xp6(1),s.Q6J("ngIf",e.enableMeridian)}}function kH(n,t){1&n&&(s.TgZ(0,"td",6),s._uU(1,":"),s.qZA())}function RH(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"td")(1,"mat-form-field",4)(2,"input",11),s.NdJ("input",function(r){return s.CHM(e),s.oxw().formatInput(r.target)})("keydown.ArrowUp",function(r){return s.CHM(e),s.oxw().change("second",!0),r.preventDefault()})("keydown.ArrowDown",function(r){return s.CHM(e),s.oxw().change("second",!1),r.preventDefault()})("blur",function(){return s.CHM(e),s.oxw().change("second")}),s.qZA()()()}}function OH(n,t){1&n&&s._UZ(0,"td",6)}function PH(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"td",12)(1,"button",13),s.NdJ("click",function(){return s.CHM(e),s.oxw().toggleMeridian()}),s._uU(2),s.qZA()()}if(2&n){const e=s.oxw();s.xp6(1),s.Q6J("color",e.color)("disabled",e.disabled),s.xp6(1),s.hij(" ",e.meridian," ")}}function NH(n,t){1&n&&s._UZ(0,"td")}function FH(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"td")(1,"button",14),s.NdJ("click",function(){return s.CHM(e),s.oxw(2).change("second",!1)}),s.TgZ(2,"mat-icon"),s._uU(3,"expand_more"),s.qZA()()()}if(2&n){const e=s.oxw(2);s.xp6(1),s.Q6J("disabled",e.disabled||e.disableMinute)}}function LH(n,t){1&n&&s._UZ(0,"td",6)}function VH(n,t){1&n&&s._UZ(0,"td")}function BH(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"tr")(1,"td")(2,"button",14),s.NdJ("click",function(){return s.CHM(e),s.oxw().change("hour",!1)}),s.TgZ(3,"mat-icon"),s._uU(4,"expand_more"),s.qZA()()(),s._UZ(5,"td"),s.TgZ(6,"td")(7,"button",14),s.NdJ("click",function(){return s.CHM(e),s.oxw().change("minute",!1)}),s.TgZ(8,"mat-icon"),s._uU(9,"expand_more"),s.qZA()()(),s.YNc(10,NH,1,0,"td",3),s.YNc(11,FH,4,1,"td",3),s.YNc(12,LH,1,0,"td",8),s.YNc(13,VH,1,0,"td",3),s.qZA()}if(2&n){const e=s.oxw();s.xp6(2),s.Q6J("disabled",e.disabled),s.xp6(5),s.Q6J("disabled",e.disabled||e.disableMinute),s.xp6(3),s.Q6J("ngIf",e.showSeconds),s.xp6(1),s.Q6J("ngIf",e.showSeconds),s.xp6(1),s.Q6J("ngIf",e.enableMeridian),s.xp6(1),s.Q6J("ngIf",e.enableMeridian)}}const bF=new s.OlP("ngx-mat-date-formats");class mC extends Kr{isSameTime(t,e){return null==t||null==e||this.getHour(t)===this.getHour(e)&&this.getMinute(t)===this.getMinute(e)&&this.getSecond(t)===this.getSecond(e)}copyTime(t,e){this.setHour(t,this.getHour(e)),this.setMinute(t,this.getMinute(e)),this.setSecond(t,this.getSecond(e))}compareDateWithTime(t,e,i){let r=super.compareDate(t,e)||this.getHour(t)-this.getHour(e)||this.getMinute(t)-this.getMinute(e);return i&&(r=r||this.getSecond(t)-this.getSecond(e)),r}setTimeByDefaultValues(t,e){if(!Array.isArray(e))throw Error("@Input DefaultTime should be an array");this.setHour(t,e[0]||0),this.setMinute(t,e[1]||0),this.setSecond(t,e[2]||0)}}const zH=new s.OlP("NGX_MAT_DATE_RANGE_SELECTION_STRATEGY");let $H=(()=>{class n{constructor(e){this._dateAdapter=e}selectionFinished(e,i){let{start:r,end:o}=i;return null==r?r=e:null==o&&e&&this._dateAdapter.compareDate(e,r)>=0?o=e:(r=e,o=null),new ks(r,o)}createPreview(e,i){let r=null,o=null;return i.start&&!i.end&&e&&(r=i.start,o=e),new ks(r,o)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(mC))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const xd={minHour:0,maxHour:24,minMinute:0,maxMinute:60,minSecond:0,maxSecond:60,meridian:12},GH=/[^0-9]/g,wF=/^(2[0-3]|[0-1][0-9]|[0-9])$/,qH=/^([0-5][0-9]|[0-9])$/,YH=/^([0-5][0-9]|[0-9])$/;function qT(n){const t=n.toString();return t.length>1?t:`0${t}`}function Ok(n){return Error(`NgxMatDatepicker: No provider found for ${n}. You must import one of the following modules at your application root: NgxMatNativeDateModule, NgxMatMomentModule, or provide a custom implementation.`)}let WH=(()=>{class n{constructor(e,i,r){if(this._dateAdapter=e,this.cd=i,this.formBuilder=r,this.disabled=!1,this.showSpinners=!0,this.stepHour=1,this.stepMinute=1,this.stepSecond=1,this.showSeconds=!1,this.disableMinute=!1,this.enableMeridian=!1,this.color="primary",this.meridian="AM",this._onChange=()=>{},this._onTouched=()=>{},this._destroyed=new dt.x,this.pattern=wF,!this._dateAdapter)throw Ok("NgxMatDateAdapter");this.form=this.formBuilder.group({hour:[{value:null,disabled:this.disabled},[Id.required,Id.pattern(wF)]],minute:[{value:null,disabled:this.disabled},[Id.required,Id.pattern(qH)]],second:[{value:null,disabled:this.disabled},[Id.required,Id.pattern(YH)]]})}get hour(){let e=Number(this.form.controls.hour.value);return isNaN(e)?0:e}get minute(){let e=Number(this.form.controls.minute.value);return isNaN(e)?0:e}get second(){let e=Number(this.form.controls.second.value);return isNaN(e)?0:e}get valid(){return this.form.valid}ngOnInit(){this.form.valueChanges.pipe(Xa(this._destroyed),Kw(400)).subscribe(e=>{this._updateModel()})}ngOnChanges(e){(e.disabled||e.disableMinute)&&this._setDisableStates()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}writeValue(e){null!=e?this._model=e:(this._model=this._dateAdapter.today(),null!=this.defaultTime&&this._dateAdapter.setTimeByDefaultValues(this._model,this.defaultTime)),this._updateHourMinuteSecond()}registerOnChange(e){this._onChange=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this._disabled=e,this.cd.markForCheck()}formatInput(e){e.value=e.value.replace(GH,"")}toggleMeridian(){this.meridian="AM"===this.meridian?"PM":"AM",this.change("hour")}change(e,i){const r=this._getNextValueByProp(e,i);this.form.controls[e].setValue(qT(r),{onlySelf:!1,emitEvent:!1}),this._updateModel()}_updateHourMinuteSecond(){let e=this._dateAdapter.getHour(this._model);const i=this._dateAdapter.getMinute(this._model),r=this._dateAdapter.getSecond(this._model);this.enableMeridian&&(e>=xd.meridian?(e-=xd.meridian,this.meridian="PM"):this.meridian="AM",0===e&&(e=xd.meridian)),this.form.controls.hour.setValue(qT(e)),this.form.controls.minute.setValue(qT(i)),this.form.controls.second.setValue(qT(r))}_updateModel(){let e=this.hour;this.enableMeridian&&("AM"===this.meridian&&e===xd.meridian?e=0:"PM"===this.meridian&&e!==xd.meridian&&(e+=xd.meridian)),this._dateAdapter.setHour(this._model,e),this._dateAdapter.setMinute(this._model,this.minute),this._dateAdapter.setSecond(this._model,this.second),this._onChange(this._model)}_getNextValueByProp(e,i){const r=e[0].toUpperCase()+e.slice(1),o=xd[`min${r}`];let h,u=xd[`max${r}`];return"hour"===e&&this.enableMeridian&&(u=xd.meridian),null==i?(h=this[e]%u,"hour"===e&&this.enableMeridian&&0===h&&(h=u)):(h=i?this[e]+this[`step${r}`]:this[e]-this[`step${r}`],"hour"===e&&this.enableMeridian?(h%=u+1,0===h&&(h=i?1:u)):h%=u,h=i?h>u?h-u+o:h:h<o?h-o+u:h),h}_setDisableStates(){this.disabled?this.form.disable():(this.form.enable(),this.disableMinute&&(this.form.get("minute").disable(),this.showSeconds&&this.form.get("second").disable()))}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(mC,8),s.Y36(s.sBO),s.Y36(d8))},n.\u0275cmp=s.Xpm({type:n,selectors:[["ngx-mat-timepicker"]],hostAttrs:[1,"ngx-mat-timepicker"],inputs:{disabled:"disabled",showSpinners:"showSpinners",stepHour:"stepHour",stepMinute:"stepMinute",stepSecond:"stepSecond",showSeconds:"showSeconds",disableMinute:"disableMinute",enableMeridian:"enableMeridian",defaultTime:"defaultTime",color:"color"},exportAs:["ngxMatTimepicker"],features:[s._Bn([{provide:Zo,useExisting:(0,s.Gpc)(()=>n),multi:!0}]),s.TTD],decls:18,vars:7,consts:[[3,"formGroup"],[1,"ngx-mat-timepicker-table"],[1,"ngx-mat-timepicker-tbody"],[4,"ngIf"],["appearance","legacy"],["type","text","matInput","","maxlength","2","formControlName","hour",3,"input","keydown.ArrowUp","keydown.ArrowDown","blur"],[1,"ngx-mat-timepicker-spacer"],["type","text","matInput","","maxlength","2","formControlName","minute",3,"input","keydown.ArrowUp","keydown.ArrowDown","blur"],["class","ngx-mat-timepicker-spacer",4,"ngIf"],["class","ngx-mat-timepicker-meridian",4,"ngIf"],["type","button","mat-icon-button","","aria-label","expand_less icon",3,"disabled","click"],["type","text","matInput","","maxlength","2","formControlName","second",3,"input","keydown.ArrowUp","keydown.ArrowDown","blur"],[1,"ngx-mat-timepicker-meridian"],["mat-button","","mat-stroked-button","",3,"color","disabled","click"],["type","button","mat-icon-button","","aria-label","expand_more icon",3,"disabled","click"]],template:function(e,i){1&e&&(s.TgZ(0,"form",0)(1,"table",1)(2,"tbody",2),s.YNc(3,xH,14,5,"tr",3),s.TgZ(4,"tr")(5,"td")(6,"mat-form-field",4)(7,"input",5),s.NdJ("input",function(o){return i.formatInput(o.target)})("keydown.ArrowUp",function(o){return i.change("hour",!0),o.preventDefault()})("keydown.ArrowDown",function(o){return i.change("hour",!1),o.preventDefault()})("blur",function(){return i.change("hour")}),s.qZA()()(),s.TgZ(8,"td",6),s._uU(9,":"),s.qZA(),s.TgZ(10,"td")(11,"mat-form-field",4)(12,"input",7),s.NdJ("input",function(o){return i.formatInput(o.target)})("keydown.ArrowUp",function(o){return i.change("minute",!0),o.preventDefault()})("keydown.ArrowDown",function(o){return i.change("minute",!1),o.preventDefault()})("blur",function(){return i.change("minute")}),s.qZA()()(),s.YNc(13,kH,2,0,"td",8),s.YNc(14,RH,3,0,"td",3),s.YNc(15,OH,1,0,"td",8),s.YNc(16,PH,3,3,"td",9),s.qZA(),s.YNc(17,BH,14,6,"tr",3),s.qZA()()()),2&e&&(s.Q6J("formGroup",i.form),s.xp6(3),s.Q6J("ngIf",i.showSpinners),s.xp6(10),s.Q6J("ngIf",i.showSeconds),s.xp6(1),s.Q6J("ngIf",i.showSeconds),s.xp6(1),s.Q6J("ngIf",i.enableMeridian),s.xp6(1),s.Q6J("ngIf",i.enableMeridian),s.xp6(1),s.Q6J("ngIf",i.showSpinners))},directives:[Yo,Yy,cg,kN,mN,dC,Fn,Ky,Td,pk,dg,uk],styles:[".ngx-mat-timepicker{font-size:13px}.ngx-mat-timepicker form{min-width:90px}.ngx-mat-timepicker form .ngx-mat-timepicker-table .ngx-mat-timepicker-tbody tr td{text-align:center}.ngx-mat-timepicker form .ngx-mat-timepicker-table .ngx-mat-timepicker-tbody tr td.ngx-mat-timepicker-spacer{font-weight:bold}.ngx-mat-timepicker form .ngx-mat-timepicker-table .ngx-mat-timepicker-tbody tr td.ngx-mat-timepicker-meridian .mat-button{min-width:64px;line-height:36px;min-width:0;border-radius:50%;width:36px;height:36px;padding:0;flex-shrink:0}.ngx-mat-timepicker form .ngx-mat-timepicker-table .ngx-mat-timepicker-tbody tr td .mat-icon-button{height:24px;width:24px;line-height:24px}.ngx-mat-timepicker form .ngx-mat-timepicker-table .ngx-mat-timepicker-tbody tr td .mat-icon-button .mat-icon{font-size:24px}.ngx-mat-timepicker form .ngx-mat-timepicker-table .ngx-mat-timepicker-tbody tr td .mat-form-field{width:20px;max-width:20px;text-align:center}\n"],encapsulation:2}),n})();Gy(class{constructor(n){this._elementRef=n}});const KH={provide:Zo,useExisting:(0,s.Gpc)(()=>EF),multi:!0},QH={provide:Qr,useExisting:(0,s.Gpc)(()=>EF),multi:!0};class ZT{constructor(t,e){this.target=t,this.targetElement=e,this.value=this.target.value}}let pg,EF=(()=>{class n{constructor(e,i,r,o){if(this._elementRef=e,this._dateAdapter=i,this._dateFormats=r,this._formField=o,this.dateChange=new s.vpe,this.dateInput=new s.vpe,this._valueChange=new s.vpe,this.stateChanges=new s.vpe,this._onTouched=()=>{},this._cvaOnChange=()=>{},this._validatorOnChange=()=>{},this._datepickerSubscription=qn.w0.EMPTY,this._localeSubscription=qn.w0.EMPTY,this._parseValidator=()=>this._lastValueValid?null:{matDatetimePickerParse:{text:this._elementRef.nativeElement.value}},this._minValidator=u=>{const h=this._getValidDateOrNull(this._dateAdapter.deserialize(u.value));return!this.min||!h||this._dateAdapter.compareDateWithTime(this.min,h,this._datepicker.showSeconds)<=0?null:{matDatetimePickerMin:{min:this.min,actual:h}}},this._maxValidator=u=>{const h=this._getValidDateOrNull(this._dateAdapter.deserialize(u.value));return!this.max||!h||this._dateAdapter.compareDateWithTime(this.max,h,this._datepicker.showSeconds)>=0?null:{matDatetimePickerMax:{max:this.max,actual:h}}},this._filterValidator=u=>{const h=this._getValidDateOrNull(this._dateAdapter.deserialize(u.value));return this._dateFilter&&h&&!this._dateFilter(h)?{matDatetimePickerFilter:!0}:null},this._validator=Id.compose([this._parseValidator,this._minValidator,this._maxValidator,this._filterValidator]),this._lastValueValid=!1,!this._dateAdapter)throw Ok("NgxMatDateAdapter");if(!this._dateFormats)throw Ok("NGX_MAT_DATE_FORMATS");this._localeSubscription=i.localeChanges.subscribe(()=>{this.value=this.value})}set ngxMatDatetimePicker(e){!e||(this._datepicker=e,this._datepicker._registerInput(this),this._datepickerSubscription.unsubscribe(),this._datepickerSubscription=this._datepicker._selectedChanged.subscribe(i=>{this.value=i,this._cvaOnChange(i),this._onTouched(),this.dateInput.emit(new ZT(this,this._elementRef.nativeElement)),this.dateChange.emit(new ZT(this,this._elementRef.nativeElement))}))}set ngxMatDatetimePickerFilter(e){this._dateFilter=e,this._validatorOnChange()}get value(){return this._value}set value(e){e=this._dateAdapter.deserialize(e),this._lastValueValid=!e||this._dateAdapter.isValid(e),e=this._getValidDateOrNull(e);const i=this.value;this._value=e,this._formatValue(e),this._dateAdapter.sameDate(i,e)||this._valueChange.emit(e)}get min(){return this._min}set min(e){this._min=this._getValidDateOrNull(this._dateAdapter.deserialize(e)),this._validatorOnChange()}get max(){return this._max}set max(e){this._max=this._getValidDateOrNull(this._dateAdapter.deserialize(e)),this._validatorOnChange()}get disabled(){return!!this._disabled}set disabled(e){const i=null!=e&&"false"!=`${e}`,r=this._elementRef.nativeElement;this._disabled!==i&&(this._disabled=i,this.stateChanges.emit(void 0)),i&&r.blur&&r.blur()}ngOnDestroy(){this._datepickerSubscription.unsubscribe(),this._localeSubscription.unsubscribe(),this._valueChange.complete(),this.stateChanges.complete()}registerOnValidatorChange(e){this._validatorOnChange=e}validate(e){return this._validator?this._validator(e):null}getPopupConnectionElementRef(){return this.getConnectedOverlayOrigin()}getConnectedOverlayOrigin(){return this._formField?this._formField.getConnectedOverlayOrigin():this._elementRef}writeValue(e){this.value=e}registerOnChange(e){this._cvaOnChange=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e}_onKeydown(e){this._datepicker&&e.altKey&&40===e.keyCode&&!this._elementRef.nativeElement.readOnly&&(this._datepicker.open(),e.preventDefault())}_onInput(e){const i=this._lastValueValid;let r=this._dateAdapter.parse(e,this._dateFormats.parse.dateInput);this._lastValueValid=!r||this._dateAdapter.isValid(r),r=this._getValidDateOrNull(r);const o=this._dateAdapter.isSameTime(r,this._value);null!=r&&(!o||!this._dateAdapter.sameDate(r,this._value))||null==r&&null!=this._value?(this._value=r,this._cvaOnChange(r),this._valueChange.emit(r),this.dateInput.emit(new ZT(this,this._elementRef.nativeElement))):i!==this._lastValueValid&&this._validatorOnChange()}_onChange(){this.dateChange.emit(new ZT(this,this._elementRef.nativeElement))}_getThemePalette(){return this._formField?this._formField.color:void 0}_onBlur(){this.value&&this._formatValue(this.value),this._onTouched()}_onFocus(){this._datepicker&&this._datepicker.opened&&this._datepicker.cancel()}_formatValue(e){this._elementRef.nativeElement.value=e?this._dateAdapter.format(e,this._dateFormats.display.dateInput):""}_getValidDateOrNull(e){return this._dateAdapter.isDateInstance(e)&&this._dateAdapter.isValid(e)?e:null}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(mC,8),s.Y36(bF,8),s.Y36(cg,8))},n.\u0275dir=s.lG2({type:n,selectors:[["input","ngxMatDatetimePicker",""]],hostVars:5,hostBindings:function(e,i){1&e&&s.NdJ("input",function(o){return i._onInput(o.target.value)})("change",function(){return i._onChange()})("blur",function(){return i._onBlur()})("focus",function(){return i._onFocus()})("keydown",function(o){return i._onKeydown(o)}),2&e&&(s.Ikx("disabled",i.disabled),s.uIk("aria-haspopup",i._datepicker?"dialog":null)("aria-owns",(null==i._datepicker?null:i._datepicker.opened)&&i._datepicker.id||null)("min",i.min?i._dateAdapter.toIso8601(i.min):null)("max",i.max?i._dateAdapter.toIso8601(i.max):null))},inputs:{ngxMatDatetimePicker:"ngxMatDatetimePicker",ngxMatDatetimePickerFilter:"ngxMatDatetimePickerFilter",value:"value",min:"min",max:"max",disabled:"disabled"},outputs:{dateChange:"dateChange",dateInput:"dateInput"},exportAs:["ngxMatDatetimePickerInput"],features:[s._Bn([KH,QH,{provide:gk,useExisting:n}])]}),n})(),DF=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[wr,_k,WN,mk,Hx,nC]]}),n})(),JH=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[dF,{provide:zH,useClass:$H}],imports:[[wr,mF,vF,Zw,mk,Hx,nC,_k,DF]]}),n})();try{pg="undefined"!=typeof Intl}catch(n){pg=!1}const XH={long:["January","February","March","April","May","June","July","August","September","October","November","December"],short:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],narrow:["J","F","M","A","M","J","J","A","S","O","N","D"]},e4=WT(31,n=>String(n+1)),t4={long:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],short:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],narrow:["S","M","T","W","T","F","S"]},n4=/^\d{4}-\d{2}-\d{2}(?:T\d{2}:\d{2}:\d{2}(?:\.\d+)?(?:Z|(?:(?:\+|-)\d{2}:\d{2}))?)?$/;function WT(n,t){const e=Array(n);for(let i=0;i<n;i++)e[i]=t(i);return e}let r4=(()=>{class n extends mC{constructor(e,i){super(),this.useUtcForDisplay=!0,super.setLocale(e),this.useUtcForDisplay=!i.TRIDENT,this._clampDate=i.TRIDENT||i.EDGE}getYear(e){return e.getFullYear()}getMonth(e){return e.getMonth()}getDate(e){return e.getDate()}getDayOfWeek(e){return e.getDay()}getMonthNames(e){if(pg){const i=new Intl.DateTimeFormat(this.locale,{month:e,timeZone:"utc"});return WT(12,r=>this._stripDirectionalityCharacters(this._format(i,new Date(2017,r,1))))}return XH[e]}getDateNames(){if(pg){const e=new Intl.DateTimeFormat(this.locale,{day:"numeric",timeZone:"utc"});return WT(31,i=>this._stripDirectionalityCharacters(this._format(e,new Date(2017,0,i+1))))}return e4}getDayOfWeekNames(e){if(pg){const i=new Intl.DateTimeFormat(this.locale,{weekday:e,timeZone:"utc"});return WT(7,r=>this._stripDirectionalityCharacters(this._format(i,new Date(2017,0,r+1))))}return t4[e]}getYearName(e){if(pg){const i=new Intl.DateTimeFormat(this.locale,{year:"numeric",timeZone:"utc"});return this._stripDirectionalityCharacters(this._format(i,e))}return String(this.getYear(e))}getFirstDayOfWeek(){return 0}getNumDaysInMonth(e){return this.getDate(this._createDateWithOverflow(this.getYear(e),this.getMonth(e)+1,0))}clone(e){return new Date(e.getTime())}createDate(e,i,r){if(i<0||i>11)throw Error(`Invalid month index "${i}". Month index has to be between 0 and 11.`);if(r<1)throw Error(`Invalid date "${r}". Date has to be greater than 0.`);let o=this._createDateWithOverflow(e,i,r);if(o.getMonth()!=i)throw Error(`Invalid date "${r}" for month with index "${i}".`);return o}today(){return new Date}parse(e){return"number"==typeof e?new Date(e):e?new Date(Date.parse(e)):null}format(e,i){if(!this.isValid(e))throw Error("NativeDateAdapter: Cannot format invalid date.");if(pg){this._clampDate&&(e.getFullYear()<1||e.getFullYear()>9999)&&(e=this.clone(e)).setFullYear(Math.max(1,Math.min(9999,e.getFullYear()))),i=Object.assign(Object.assign({},i),{timeZone:"utc"});const r=new Intl.DateTimeFormat(this.locale,i);return this._stripDirectionalityCharacters(this._format(r,e))}return this._stripDirectionalityCharacters(e.toDateString())}addCalendarYears(e,i){return this.addCalendarMonths(e,12*i)}addCalendarMonths(e,i){let r=this._createDateWithOverflow(this.getYear(e),this.getMonth(e)+i,this.getDate(e));return this.getMonth(r)!=((this.getMonth(e)+i)%12+12)%12&&(r=this._createDateWithOverflow(this.getYear(r),this.getMonth(r),0)),r}addCalendarDays(e,i){return this._createDateWithOverflow(this.getYear(e),this.getMonth(e),this.getDate(e)+i)}toIso8601(e){return[e.getUTCFullYear(),this._2digit(e.getUTCMonth()+1),this._2digit(e.getUTCDate())].join("-")}deserialize(e){if("string"==typeof e){if(!e)return null;if(n4.test(e)){let i=new Date(e);if(this.isValid(i))return i}}return super.deserialize(e)}isDateInstance(e){return e instanceof Date}isValid(e){return!isNaN(e.getTime())}invalid(){return new Date(NaN)}getHour(e){return e.getHours()}getMinute(e){return e.getMinutes()}getSecond(e){return e.getSeconds()}setHour(e,i){e.setHours(i)}setMinute(e,i){e.setMinutes(i)}setSecond(e,i){e.setSeconds(i)}_createDateWithOverflow(e,i,r){const o=new Date(e,i,r);return e>=0&&e<100&&o.setFullYear(this.getYear(o)-1900),o}_2digit(e){return("00"+e).slice(-2)}_stripDirectionalityCharacters(e){return e.replace(/[\u200e\u200f]/g,"")}_format(e,i){const r=new Date;return r.setUTCFullYear(i.getFullYear(),i.getMonth(),i.getDate()),r.setUTCHours(i.getHours(),i.getMinutes(),i.getSeconds(),i.getMilliseconds()),e.format(r)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(aP,8),s.LFG(Yr))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const AF={year:"numeric",month:"numeric",day:"numeric",hour12:!1,hour:"2-digit",minute:"2-digit",second:"2-digit"},s4={parse:{dateInput:AF},display:{dateInput:AF,monthYearLabel:{year:"numeric",month:"short"},dateA11yLabel:{year:"numeric",month:"long",day:"numeric"},monthYearA11yLabel:{year:"numeric",month:"long"}}};let o4=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[{provide:mC,useClass:r4}],imports:[[jV]]}),n})(),a4=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[{provide:bF,useValue:s4}],imports:[[o4]]}),n})();function l4(n,t){if(1&n&&(s.TgZ(0,"mat-hint"),s._uU(1),s.qZA()),2&n){const e=s.oxw();s.xp6(1),s.Oqu(e.error)}}function c4(n,t){if(1&n&&(s.TgZ(0,"mat-hint"),s._uU(1),s.qZA()),2&n){const e=s.oxw();s.xp6(1),s.Oqu(e.error)}}function u4(n,t){if(1&n&&(s.TgZ(0,"mat-hint"),s._uU(1),s.qZA()),2&n){const e=s.oxw();s.xp6(1),s.Oqu(e.error)}}function d4(n,t){if(1&n&&(s.TgZ(0,"mat-hint"),s._uU(1),s.qZA()),2&n){const e=s.oxw();s.xp6(1),s.Oqu(e.error)}}function h4(n,t){if(1&n&&(s.TgZ(0,"mat-hint"),s._uU(1),s.qZA()),2&n){const e=s.oxw();s.xp6(1),s.Oqu(e.error)}}function f4(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"button",20),s.NdJ("click",function(){return s.CHM(e),s.oxw().city=""}),s.TgZ(1,"mat-icon"),s._uU(2,"close"),s.qZA()()}}function p4(n,t){if(1&n&&(s.TgZ(0,"mat-hint"),s._uU(1),s.qZA()),2&n){const e=s.oxw();s.xp6(1),s.Oqu(e.error)}}function m4(n,t){if(1&n&&(s.TgZ(0,"mat-hint"),s._uU(1),s.qZA()),2&n){const e=s.oxw();s.xp6(1),s.Oqu(e.error)}}let g4=(()=>{class n{constructor(e,i,r,o,u,h){this.authService=e,this.sets=i,this.userService=r,this.eventService=o,this.router=u,this._snackBar=h,this.toggled=!1,this.emoji="\u{1f304}",this.error="";let _=new Date;_.setDate(_.getDate()+14),this.minDate=new Date,this.maxDate=_,this.time=new Date,this.time.setHours(19),this.time.setMinutes(0),this.when=new Date,this.when.setDate(this.when.getDate()+1);let b=localStorage.getItem("city");b?this.city=b:e.uid&&this.userService.getUserData(e.uid).then(T=>{T&&(this.city=T.city)})}ngOnInit(){}setEmoji(e){this.emoji=e.char,this.toggled=!1}inError(e){return this.error.toLowerCase().includes(e)}create(){if(this.checkForm())if(this.authService.uid){let e=new Date(this.when.getFullYear(),this.when.getMonth(),this.when.getDate(),this.time.getHours(),this.time.getMinutes()),i=new XL(this.name,this.description,this.emoji,this.offers,e,this.city);this.requirements&&(i.requirements=this.requirements),this.where&&(i.where=this.where),this.eventService.addEvent(this.authService.uid,i).then(r=>{this._snackBar.open("Pomy\u015blnie stworzono wydarzenie!","OK"),this.router.navigate(["/event/",r])}).catch(r=>this._snackBar.open("B\u0142\u0105d podczas tworzenia :(","OK"))}else alert("Cannot authenticate you... try again.")}checkForm(){return this.error="",void 0===this.name?(this.error="Nazwa jest wymagana",!1):this.name.length>30?(this.error="Nazwa jest za d\u0142uga",!1):this.name.length<10?(this.error="Nazwa jest za kr\xf3tka",!1):void 0===this.description?(this.error="Opis jest wymagany",!1):this.description.length>200?(this.error="Opis jest za d\u0142ugi",!1):this.description.length<20?(this.error="Opis jest za kr\xf3tki",!1):void 0===this.offers?(this.error="Ofery s\u0105 wymagane",!1):this.offers.length>100?(this.error="Pole ofert jest za d\u0142ugie",!1):this.offers.length<5?(this.error="Pole ofert jest za kr\xf3tkie",!1):this.requirements&&this.requirements.length>100?(this.error="Pole wymaga\u0144 jest za d\u0142ugie",!1):this.requirements&&this.requirements.length<5?(this.error="Pole wymaga\u0144 jest za kr\xf3tkie",!1):this.where&&this.where.length>30?(this.error="Miejsce jest za d\u0142ugie",!1):this.where&&this.where.length<3?(this.error="Miejsce jest za kr\xf3tkie",!1):void 0===this.city?(this.error="Miasto wymagane",!1):this.city.length>15?(this.error="Miasto co\u015b za d\u0142ugie lel",!1):!(this.city.length<4&&(this.error="Miasto co\u015b za kr\xf3tkie lel",1))}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(qm),s.Y36(yV),s.Y36(Ly),s.Y36(UM),s.Y36(Ei),s.Y36(iC))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-event-form"]],decls:58,vars:25,consts:[["title","Nowe wydarzenie"],["id","box"],["id","f-"],["id","name","appearance","fill"],["matInput","","placeholder","Np. piwerko, plansz\xf3wki, turniej...",3,"ngModel","ngModelChange"],[4,"ngIf"],["id","emoji","mat-button","",3,"emojiPickerIf","emojiPickerDirection","click","emojiPickerIfChange","emojiPickerSelect"],["id","desc","appearance","fill"],["matInput","",3,"ngModel","ngModelChange"],["id","opcjonalnie","align","end"],["appearance","fill"],["matInput","","placeholder","Np. Darmowe piwo, gra w uno, wyj\u015bcie do baru...",3,"ngModel","ngModelChange"],["matSuffix","","mat-icon-button","","aria-label","Clear",3,"click",4,"ngIf"],["id","f-2"],["appearance","fill","id","date"],["matInput","",3,"min","max","matDatepicker","ngModel","ngModelChange"],["matSuffix","",3,"for"],["picker",""],[3,"ngModel","stepMinute","ngModelChange"],["mat-button","","color","accent",3,"click"],["matSuffix","","mat-icon-button","","aria-label","Clear",3,"click"]],template:function(e,i){if(1&e&&(s._UZ(0,"app-up-bar",0),s.TgZ(1,"div",1)(2,"div",2)(3,"mat-form-field",3)(4,"mat-label"),s._uU(5,"Nazwa"),s.qZA(),s.TgZ(6,"input",4),s.NdJ("ngModelChange",function(o){return i.name=o}),s.qZA(),s.YNc(7,l4,2,1,"mat-hint",5),s.qZA(),s.TgZ(8,"button",6),s.NdJ("click",function(){return i.toggled=!i.toggled})("emojiPickerIfChange",function(o){return i.toggled=o})("emojiPickerSelect",function(o){return i.setEmoji(o)}),s._uU(9),s.qZA()(),s.TgZ(10,"mat-form-field",7)(11,"mat-label"),s._uU(12,"Opis"),s.qZA(),s.TgZ(13,"textarea",8),s.NdJ("ngModelChange",function(o){return i.description=o}),s.qZA(),s.YNc(14,c4,2,1,"mat-hint",5),s.TgZ(15,"mat-hint",9),s._uU(16),s.qZA()(),s.TgZ(17,"h4"),s._UZ(18,"br"),s.qZA(),s.TgZ(19,"mat-form-field",10)(20,"mat-label"),s._uU(21,"Oferty"),s.qZA(),s.TgZ(22,"input",11),s.NdJ("ngModelChange",function(o){return i.offers=o}),s.qZA(),s.YNc(23,u4,2,1,"mat-hint",5),s.qZA(),s.TgZ(24,"mat-form-field",10)(25,"mat-label"),s._uU(26,"Wymagania*"),s.qZA(),s.TgZ(27,"input",8),s.NdJ("ngModelChange",function(o){return i.requirements=o}),s.qZA(),s.YNc(28,d4,2,1,"mat-hint",5),s.TgZ(29,"mat-hint",9),s._uU(30,"*opcjonalnie"),s.qZA()(),s.TgZ(31,"h4"),s._UZ(32,"br"),s.qZA(),s.TgZ(33,"mat-form-field",10)(34,"mat-label"),s._uU(35,"Miasto"),s.qZA(),s.TgZ(36,"input",8),s.NdJ("ngModelChange",function(o){return i.city=o}),s.qZA(),s.YNc(37,h4,2,1,"mat-hint",5),s.YNc(38,f4,3,0,"button",12),s.qZA(),s.TgZ(39,"mat-form-field",10)(40,"mat-label"),s._uU(41,"Dok\u0142adane miejsce*"),s.qZA(),s.TgZ(42,"input",8),s.NdJ("ngModelChange",function(o){return i.where=o}),s.qZA(),s.YNc(43,p4,2,1,"mat-hint",5),s.TgZ(44,"mat-hint",9),s._uU(45,"*opcjonalnie"),s.qZA()(),s.TgZ(46,"div",13)(47,"mat-form-field",14)(48,"mat-label"),s._uU(49,"Data"),s.qZA(),s.TgZ(50,"input",15),s.NdJ("ngModelChange",function(o){return i.when=o}),s.qZA(),s.YNc(51,m4,2,1,"mat-hint",5),s._UZ(52,"mat-datepicker-toggle",16)(53,"mat-datepicker",null,17),s.qZA(),s.TgZ(55,"ngx-mat-timepicker",18),s.NdJ("ngModelChange",function(o){return i.time=o}),s.qZA()(),s.TgZ(56,"button",19),s.NdJ("click",function(){return i.create()}),s._uU(57,"Stw\xf3rz"),s.qZA()()),2&e){const r=s.MAs(54);s.xp6(6),s.Q6J("ngModel",i.name),s.xp6(1),s.Q6J("ngIf",i.inError("nazwa")),s.xp6(1),s.Q6J("emojiPickerIf",i.toggled)("emojiPickerDirection","bottom"),s.xp6(1),s.Oqu(i.emoji),s.xp6(4),s.Q6J("ngModel",i.description),s.xp6(1),s.Q6J("ngIf",i.inError("opis")),s.xp6(2),s.hij("",null==i.description?null:i.description.length,"/200"),s.xp6(6),s.Q6J("ngModel",i.offers),s.xp6(1),s.Q6J("ngIf",i.inError("ofert")),s.xp6(4),s.Q6J("ngModel",i.requirements),s.xp6(1),s.Q6J("ngIf",i.inError("wymaga\u0144")),s.xp6(8),s.Q6J("ngModel",i.city),s.xp6(1),s.Q6J("ngIf",i.inError("miasto")),s.xp6(1),s.Q6J("ngIf",i.city),s.xp6(4),s.Q6J("ngModel",i.where),s.xp6(1),s.Q6J("ngIf",i.inError("miejsce")),s.xp6(7),s.Q6J("min",i.minDate)("max",i.maxDate)("matDatepicker",r)("ngModel",i.when),s.xp6(1),s.Q6J("ngIf",i.inError("data")),s.xp6(1),s.Q6J("for",r),s.xp6(3),s.Q6J("ngModel",i.time)("stepMinute",10)}},directives:[Zy,cg,lg,Ky,Td,dg,hg,Fn,oC,Yo,x8,$x,Yy,$T,pF,fF,WH],styles:["#box[_ngcontent-%COMP%]{margin-top:40px;min-width:150px;max-width:500px;padding:20px;color:#fff;display:flex;flex-direction:column}#name[_ngcontent-%COMP%]{width:250px}#desc[_ngcontent-%COMP%]{width:300px}#f-[_ngcontent-%COMP%]{display:flex}#f-2[_ngcontent-%COMP%]{margin-top:-10px;display:flex;align-items:center;margin-bottom:20px}#f-2[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:first-child{margin-right:10px}#emoji[_ngcontent-%COMP%]{height:55px;font-size:20px}#date[_ngcontent-%COMP%]{width:-moz-fit-content;width:fit-content}mat-hint[_ngcontent-%COMP%]{color:#ff3737}#opcjonalnie[_ngcontent-%COMP%]{color:#f0f8ff}"]}),n})();var po=R(655);function _4(n,t){if(1&n&&(s.TgZ(0,"mat-hint"),s._uU(1),s.qZA()),2&n){const e=s.oxw();s.xp6(1),s.Oqu(e.error)}}let y4=(()=>{class n{constructor(e){this.dialogRef=e,this.error=""}inError(e){return this.error.toLowerCase().includes(e)}onNoClick(){this.dialogRef.close()}done(){this.checkForm2()&&this.dialogRef.close(this.name)}checkForm2(){return this.error="",void 0===this.name?(this.error="Imi\u0119 jest wymagane",!1):this.name.length>15?(this.error="Imi\u0119 jest za d\u0142ugie",!1):!(this.name.length<3&&(this.error="Imi\u0119 jest za kr\xf3tkie",1))}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(pC))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-event-name-dialog"]],decls:13,vars:2,consts:[["mat-dialog-title",""],["mat-dialog-content",""],["appearance","fill"],["matInput","","type","text","placeholder","",3,"ngModel","ngModelChange"],[4,"ngIf"],["mat-dialog-actions",""],["mat-button","","color","accent",3,"click"],["mat-button","","color","warn",3,"click"]],template:function(e,i){1&e&&(s.TgZ(0,"h1",0),s._uU(1,"Wprowad\u017a imi\u0119"),s.qZA(),s.TgZ(2,"div",1)(3,"mat-form-field",2)(4,"mat-label"),s._uU(5,"Imi\u0119"),s.qZA(),s.TgZ(6,"input",3),s.NdJ("ngModelChange",function(o){return i.name=o}),s.qZA(),s.YNc(7,_4,2,1,"mat-hint",4),s.qZA()(),s.TgZ(8,"div",5)(9,"button",6),s.NdJ("click",function(){return i.done()}),s._uU(10,"GOTOWE"),s.qZA(),s.TgZ(11,"button",7),s.NdJ("click",function(){return i.onNoClick()}),s._uU(12,"ANULUJ"),s.qZA()()),2&e&&(s.xp6(6),s.Q6J("ngModel",i.name),s.xp6(1),s.Q6J("ngIf",i.inError("imi\u0119")))},directives:[Mk,xk,cg,lg,Ky,Td,dg,hg,Fn,oC,kk,Yo],styles:[""]}),n})();function TF(n,t){return t?e=>uc(t.pipe((0,ei.q)(1),function v4(){return(0,fi.e)((n,t)=>{n.subscribe((0,On.x)(t,jR.Z))})}()),e.pipe(TF(n))):(0,Ln.z)((e,i)=>n(e,i).pipe((0,ei.q)(1),function b4(n){return(0,mt.U)(()=>n)}(e)))}var IF=R(3259);const C4=["qrcElement"];var Xy=(()=>(function(n){n.URL="url",n.IMG="img",n.CANVAS="canvas"}(Xy||(Xy={})),Xy))(),gC=(()=>(function(n){n.LOW="L",n.MEDIUM="M",n.QUARTILE="Q",n.HIGH="H"}(gC||(gC={})),gC))();const Gc={elementType:Xy.URL,cssClass:"qrcode",value:"https://www.techiediaries.com",version:"",errorCorrectionLevel:gC.MEDIUM,margin:4,scale:4,width:10,colorDark:"#000",colorLight:"#FFF"};let E4=(()=>{let n=class{constructor(e){this.renderer=e,this.elementType=Gc.elementType,this.cssClass=Gc.cssClass,this.value=Gc.value,this.version=Gc.version,this.errorCorrectionLevel=Gc.errorCorrectionLevel,this.margin=Gc.margin,this.scale=Gc.scale,this.width=Gc.width,this.colorDark=Gc.colorDark,this.colorLight=Gc.colorLight}ngOnChanges(){this.createQRCode()}createQRCode(){if(!this.value)return;let e;this.elementType===Xy.CANVAS?(e=this.renderer.createElement("canvas"),this.toCanvas(e).then(()=>{this.renderElement(e)}).catch(i=>{this.removeElementChildren(),console.error(i)})):(e=this.renderer.createElement("img"),this.toDataURL().then(i=>{e.setAttribute("src",i),this.alt&&e.setAttribute("alt",this.alt),this.renderElement(e)}).catch(i=>{this.removeElementChildren(),console.error(i)}))}toDataURL(){return IF.toDataURL(this.value,{version:this.version,errorCorrectionLevel:this.errorCorrectionLevel,margin:this.margin,scale:this.scale,width:this.width,color:{dark:this.colorDark,light:this.colorLight}})}toCanvas(e){return IF.toCanvas(e,this.value,{version:this.version,errorCorrectionLevel:this.errorCorrectionLevel,margin:this.margin,scale:this.scale,width:this.width,color:{dark:this.colorDark,light:this.colorLight}})}renderElement(e){this.removeElementChildren(),this.renderer.appendChild(this.qrcElement.nativeElement,e)}removeElementChildren(){for(const e of this.qrcElement.nativeElement.childNodes)this.renderer.removeChild(this.qrcElement.nativeElement,e)}};return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.Qsj))},n.\u0275cmp=s.Xpm({type:n,selectors:[["ngx-qrcode"]],viewQuery:function(e,i){if(1&e&&s.Gf(C4,5),2&e){let r;s.iGM(r=s.CRH())&&(i.qrcElement=r.first)}},inputs:{elementType:"elementType",cssClass:"cssClass",value:"value",version:"version",errorCorrectionLevel:"errorCorrectionLevel",margin:"margin",scale:"scale",width:"width",colorDark:"colorDark",colorLight:"colorLight",alt:"alt"},features:[s.TTD],decls:2,vars:2,consts:[["qrcElement",""]],template:function(e,i){1&e&&s._UZ(0,"div",null,0),2&e&&s.Tol(i.cssClass)},encapsulation:2,changeDetection:0}),(0,po.gn)([(0,s.IIB)()],n.prototype,"elementType",void 0),(0,po.gn)([(0,s.IIB)()],n.prototype,"cssClass",void 0),(0,po.gn)([(0,s.IIB)()],n.prototype,"alt",void 0),(0,po.gn)([(0,s.IIB)()],n.prototype,"value",void 0),(0,po.gn)([(0,s.IIB)()],n.prototype,"version",void 0),(0,po.gn)([(0,s.IIB)()],n.prototype,"errorCorrectionLevel",void 0),(0,po.gn)([(0,s.IIB)()],n.prototype,"margin",void 0),(0,po.gn)([(0,s.IIB)()],n.prototype,"scale",void 0),(0,po.gn)([(0,s.IIB)()],n.prototype,"width",void 0),(0,po.gn)([(0,s.IIB)()],n.prototype,"colorDark",void 0),(0,po.gn)([(0,s.IIB)()],n.prototype,"colorLight",void 0),(0,po.gn)([(0,s.i9L)("qrcElement")],n.prototype,"qrcElement",void 0),n})(),D4=(()=>{let n=class{};return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({}),n})(),A4=(()=>{class n{constructor(e){this.dialogRef=e,this.elementType=Xy.URL,this.correctionLevel=gC.HIGH,this.value=window.location.href}close(){this.dialogRef.close()}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(pC))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-qr-dialog"]],decls:8,vars:3,consts:[["id","box"],["mat-dialog-title",""],["mat-dialog-content",""],[3,"elementType","errorCorrectionLevel","value"],["mat-dialog-actions",""],["mat-button","","color","accent",3,"click"]],template:function(e,i){1&e&&(s.TgZ(0,"div",0)(1,"h1",1),s._uU(2,"QR CODE"),s.qZA(),s.TgZ(3,"div",2),s._UZ(4,"ngx-qrcode",3),s.qZA(),s.TgZ(5,"div",4)(6,"button",5),s.NdJ("click",function(){return i.close()}),s._uU(7,"ZAMKNIJ"),s.qZA()()()),2&e&&(s.xp6(4),s.Q6J("elementType",i.elementType)("errorCorrectionLevel",i.correctionLevel)("value",i.value))},directives:[Mk,xk,E4,kk,Yo],styles:["#box[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:max-content;vertical-align:middle;align-items:center;text-align:center}"]}),n})();function T4(n,t){if(1&n&&(s.O4$(),s._UZ(0,"circle",4)),2&n){const e=s.oxw(),i=s.MAs(1);s.Udp("animation-name","mat-progress-spinner-stroke-rotate-"+e._spinnerAnimationLabel)("stroke-dashoffset",e._getStrokeDashOffset(),"px")("stroke-dasharray",e._getStrokeCircumference(),"px")("stroke-width",e._getCircleStrokeWidth(),"%")("transform-origin",e._getCircleTransformOrigin(i)),s.uIk("r",e._getCircleRadius())}}function I4(n,t){if(1&n&&(s.O4$(),s._UZ(0,"circle",4)),2&n){const e=s.oxw(),i=s.MAs(1);s.Udp("stroke-dashoffset",e._getStrokeDashOffset(),"px")("stroke-dasharray",e._getStrokeCircumference(),"px")("stroke-width",e._getCircleStrokeWidth(),"%")("transform-origin",e._getCircleTransformOrigin(i)),s.uIk("r",e._getCircleRadius())}}const M4=Gy(class{constructor(n){this._elementRef=n}},"primary"),x4=new s.OlP("mat-progress-spinner-default-options",{providedIn:"root",factory:function k4(){return{diameter:100}}});class qc extends M4{constructor(t,e,i,r,o,u,h,_){super(t),this._document=i,this._diameter=100,this._value=0,this._resizeSubscription=qn.w0.EMPTY,this.mode="determinate";const b=qc._diameters;this._spinnerAnimationLabel=this._getSpinnerAnimationLabel(),b.has(i.head)||b.set(i.head,new Set([100])),this._noopAnimations="NoopAnimations"===r&&!!o&&!o._forceAnimations,"mat-spinner"===t.nativeElement.nodeName.toLowerCase()&&(this.mode="indeterminate"),o&&(o.diameter&&(this.diameter=o.diameter),o.strokeWidth&&(this.strokeWidth=o.strokeWidth)),e.isBrowser&&e.SAFARI&&h&&u&&_&&(this._resizeSubscription=h.change(150).subscribe(()=>{"indeterminate"===this.mode&&_.run(()=>u.markForCheck())}))}get diameter(){return this._diameter}set diameter(t){this._diameter=GA(t),this._spinnerAnimationLabel=this._getSpinnerAnimationLabel(),this._styleRoot&&this._attachStyleNode()}get strokeWidth(){return this._strokeWidth||this.diameter/10}set strokeWidth(t){this._strokeWidth=GA(t)}get value(){return"determinate"===this.mode?this._value:0}set value(t){this._value=Math.max(0,Math.min(100,GA(t)))}ngOnInit(){const t=this._elementRef.nativeElement;this._styleRoot=BR(t)||this._document.head,this._attachStyleNode(),t.classList.add("mat-progress-spinner-indeterminate-animation")}ngOnDestroy(){this._resizeSubscription.unsubscribe()}_getCircleRadius(){return(this.diameter-10)/2}_getViewBox(){const t=2*this._getCircleRadius()+this.strokeWidth;return`0 0 ${t} ${t}`}_getStrokeCircumference(){return 2*Math.PI*this._getCircleRadius()}_getStrokeDashOffset(){return"determinate"===this.mode?this._getStrokeCircumference()*(100-this._value)/100:null}_getCircleStrokeWidth(){return this.strokeWidth/this.diameter*100}_getCircleTransformOrigin(t){var e;const i=50*(null!==(e=t.currentScale)&&void 0!==e?e:1);return`${i}% ${i}%`}_attachStyleNode(){const t=this._styleRoot,e=this._diameter,i=qc._diameters;let r=i.get(t);if(!r||!r.has(e)){const o=this._document.createElement("style");o.setAttribute("mat-spinner-animation",this._spinnerAnimationLabel),o.textContent=this._getAnimationText(),t.appendChild(o),r||(r=new Set,i.set(t,r)),r.add(e)}}_getAnimationText(){const t=this._getStrokeCircumference();return"\n @keyframes mat-progress-spinner-stroke-rotate-DIAMETER {\n    0%      { stroke-dashoffset: START_VALUE;  transform: rotate(0); }\n    12.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(0); }\n    12.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(72.5deg); }\n    25%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(72.5deg); }\n\n    25.0001%   { stroke-dashoffset: START_VALUE;  transform: rotate(270deg); }\n    37.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(270deg); }\n    37.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(161.5deg); }\n    50%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(161.5deg); }\n\n    50.0001%  { stroke-dashoffset: START_VALUE;  transform: rotate(180deg); }\n    62.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(180deg); }\n    62.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(251.5deg); }\n    75%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(251.5deg); }\n\n    75.0001%  { stroke-dashoffset: START_VALUE;  transform: rotate(90deg); }\n    87.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(90deg); }\n    87.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(341.5deg); }\n    100%    { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(341.5deg); }\n  }\n".replace(/START_VALUE/g,""+.95*t).replace(/END_VALUE/g,""+.2*t).replace(/DIAMETER/g,`${this._spinnerAnimationLabel}`)}_getSpinnerAnimationLabel(){return this.diameter.toString().replace(".","_")}}qc._diameters=new WeakMap,qc.\u0275fac=function(t){return new(t||qc)(s.Y36(s.SBq),s.Y36(Yr),s.Y36(H,8),s.Y36(sg,8),s.Y36(x4),s.Y36(s.sBO),s.Y36(GM),s.Y36(s.R0b))},qc.\u0275cmp=s.Xpm({type:qc,selectors:[["mat-progress-spinner"],["mat-spinner"]],hostAttrs:["role","progressbar","tabindex","-1",1,"mat-progress-spinner","mat-spinner"],hostVars:10,hostBindings:function(t,e){2&t&&(s.uIk("aria-valuemin","determinate"===e.mode?0:null)("aria-valuemax","determinate"===e.mode?100:null)("aria-valuenow","determinate"===e.mode?e.value:null)("mode",e.mode),s.Udp("width",e.diameter,"px")("height",e.diameter,"px"),s.ekj("_mat-animation-noopable",e._noopAnimations))},inputs:{color:"color",diameter:"diameter",strokeWidth:"strokeWidth",mode:"mode",value:"value"},exportAs:["matProgressSpinner"],features:[s.qOj],decls:4,vars:8,consts:[["preserveAspectRatio","xMidYMid meet","focusable","false","aria-hidden","true",3,"ngSwitch"],["svg",""],["cx","50%","cy","50%",3,"animation-name","stroke-dashoffset","stroke-dasharray","stroke-width","transform-origin",4,"ngSwitchCase"],["cx","50%","cy","50%",3,"stroke-dashoffset","stroke-dasharray","stroke-width","transform-origin",4,"ngSwitchCase"],["cx","50%","cy","50%"]],template:function(t,e){1&t&&(s.O4$(),s.TgZ(0,"svg",0,1),s.YNc(2,T4,1,11,"circle",2),s.YNc(3,I4,1,9,"circle",3),s.qZA()),2&t&&(s.Udp("width",e.diameter,"px")("height",e.diameter,"px"),s.Q6J("ngSwitch","indeterminate"===e.mode),s.uIk("viewBox",e._getViewBox()),s.xp6(2),s.Q6J("ngSwitchCase",!0),s.xp6(1),s.Q6J("ngSwitchCase",!1))},directives:[ir,zi],styles:[".mat-progress-spinner{display:block;position:relative;overflow:hidden}.mat-progress-spinner svg{position:absolute;transform:rotate(-90deg);top:0;left:0;transform-origin:center;overflow:visible}.mat-progress-spinner circle{fill:transparent;transition:stroke-dashoffset 225ms linear}._mat-animation-noopable.mat-progress-spinner circle{transition:none;animation:none}.cdk-high-contrast-active .mat-progress-spinner circle{stroke:CanvasText}.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] svg{animation:mat-progress-spinner-linear-rotate 2000ms linear infinite}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] svg{transition:none;animation:none}.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] circle{transition-property:stroke;animation-duration:4000ms;animation-timing-function:cubic-bezier(0.35, 0, 0.25, 1);animation-iteration-count:infinite}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] circle{transition:none;animation:none}@keyframes mat-progress-spinner-linear-rotate{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes mat-progress-spinner-stroke-rotate-100{0%{stroke-dashoffset:268.606171575px;transform:rotate(0)}12.5%{stroke-dashoffset:56.5486677px;transform:rotate(0)}12.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(72.5deg)}25%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(72.5deg)}25.0001%{stroke-dashoffset:268.606171575px;transform:rotate(270deg)}37.5%{stroke-dashoffset:56.5486677px;transform:rotate(270deg)}37.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(161.5deg)}50%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(161.5deg)}50.0001%{stroke-dashoffset:268.606171575px;transform:rotate(180deg)}62.5%{stroke-dashoffset:56.5486677px;transform:rotate(180deg)}62.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(251.5deg)}75%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(251.5deg)}75.0001%{stroke-dashoffset:268.606171575px;transform:rotate(90deg)}87.5%{stroke-dashoffset:56.5486677px;transform:rotate(90deg)}87.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(341.5deg)}100%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(341.5deg)}}\n"],encapsulation:2,changeDetection:0});let O4=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[Wr,wr],Wr]}),n})(),P4=(()=>{class n{constructor(){this.load=!0}ngOnChanges(e){e.load&&this.change(e.load.currentValue)}change(e){return(0,be.Z)(function*(){yield new Promise(i=>setTimeout(i,3e3)),e?(document.querySelector("#it").style.opacity="1",document.querySelector("#it2").style.opacity="1",document.querySelector("#main").style.backgroundColor="rgba(100, 47, 150)"):(document.querySelector("#it").style.opacity="0",document.querySelector("#it2").style.opacity="0",document.querySelector("#main").style.backgroundColor="rgba(100, 47, 150,0)")})()}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-loading"]],inputs:{load:"load"},features:[s.TTD],decls:12,vars:1,consts:[["id","main"],["main",""],["id","it",1,"quote"],["it",""],["id","it2","mode","indeterminate",3,"diameter"]],template:function(e,i){1&e&&(s.TgZ(0,"div",0,1)(2,"div",2,3)(4,"b"),s._uU(5,"Otwarty na nowe znajomo\u015bci?"),s._UZ(6,"br"),s._uU(7,"Bez plan\xf3w na weekend?"),s._UZ(8,"br"),s._uU(9,"PlaceYo!"),s.qZA()(),s._UZ(10,"mat-progress-spinner",4,3),s.qZA()),2&e&&(s.xp6(10),s.Q6J("diameter",70))},directives:[qc],styles:["#main[_ngcontent-%COMP%]{position:fixed;background-color:#642f96;width:100%;height:100%;z-index:1001;display:flex;justify-content:center;align-items:center;flex-direction:column;transition:background-color 1s}#it[_ngcontent-%COMP%], #it2[_ngcontent-%COMP%]{opacity:1;transition:opacity .5s}.mat-spinner[_ngcontent-%COMP%]  circle{stroke:gold}"]}),n})();function N4(n,t){if(1&n&&(s.TgZ(0,"div",4)(1,"div",9),s._uU(2,"\u2702\ufe0f Wymagania \u2702\ufe0f"),s.qZA(),s.TgZ(3,"div",10)(4,"div")(5,"b"),s._uU(6),s.qZA()()()()),2&n){const e=s.oxw();s.xp6(6),s.Oqu(null==e.event?null:e.event.requirements)}}function F4(n,t){if(1&n&&(s.TgZ(0,"b"),s._uU(1),s.qZA()),2&n){const e=s.oxw();s.xp6(1),s.Oqu(null==e.event?null:e.event.where)}}function L4(n,t){1&n&&(s.TgZ(0,"b"),s._uU(1,"Dok\u0142adnie tu!"),s.qZA())}const SF=function(n){return{"text-shadow":n}};function V4(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",22),s.NdJ("click",function(){const o=s.CHM(e).$implicit;return s.oxw().linkTo(o)}),s.TgZ(1,"div",23),s._uU(2),s.qZA(),s.TgZ(3,"div",24),s._uU(4),s.qZA()()}if(2&n){const e=t.$implicit,i=s.oxw();let r,o,u;s.xp6(1),s.Q6J("ngStyle",s.VKq(3,SF,"Ty"==(null==(r=i.MIeventUsers.get(e))?null:r.name)?"white 0px 0px 5px":"none")),s.xp6(1),s.Oqu(null==(o=i.MIeventUsers.get(e))?null:o.emoji),s.xp6(2),s.Oqu(null==(u=i.MIeventUsers.get(e))?null:u.name)}}function B4(n,t){if(1&n&&(s.TgZ(0,"div",25)(1,"div",23),s._uU(2),s.qZA(),s.TgZ(3,"div"),s._uU(4),s.qZA()()),2&n){const e=t.$implicit,i=s.oxw();s.xp6(1),s.Q6J("ngStyle",s.VKq(3,SF,"Ty"==e?"white 0px 0px 5px":"none")),s.xp6(1),s.Oqu(i.getPartiEmoji()),s.xp6(2),s.Oqu(e)}}function U4(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"button",28),s.NdJ("click",function(){return s.CHM(e),s.oxw(2).setCanceled()}),s._uU(1,"Anuluj"),s.qZA()}}function j4(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",12)(1,"div",9),s._uU(2,"A TY?"),s.qZA(),s.TgZ(3,"div",10)(4,"div",26)(5,"button",27),s.NdJ("click",function(){return s.CHM(e),s.oxw().setInterested()}),s._uU(6,"\u2b50\ufe0fZainteresowany\u2b50\ufe0f"),s.qZA(),s.TgZ(7,"button",27),s.NdJ("click",function(){return s.CHM(e),s.oxw().setMaybe()}),s._uU(8,"\u26a1\ufe0fMo\u017ce\u26a1\ufe0f"),s.qZA(),s.YNc(9,U4,2,0,"button",20),s.qZA()()()}if(2&n){const e=s.oxw();s.xp6(5),s.Q6J("disabled","i"==e.currStatus),s.xp6(2),s.Q6J("disabled","m"==e.currStatus),s.xp6(2),s.Q6J("ngIf","i"==e.currStatus||"m"==e.currStatus)}}function H4(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"button",28),s.NdJ("click",function(){return s.CHM(e),s.oxw().qrEvent()}),s._uU(1,"WYGENERUJ QR CODE"),s.qZA()}}function z4(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"button",29),s.NdJ("click",function(){return s.CHM(e),s.oxw().deleteEvent()}),s._uU(1,"USU\u0143 WYDARZENIE"),s.qZA()}}let $4=(()=>{class n{constructor(e,i,r,o,u,h,_){this.eventService=e,this.route=i,this.router=r,this.userService=o,this.authService=u,this._snackBar=h,this.dialog=_,this.loading=!0,this.MIeventUsers=new Map,this.currStatus="s",this.timeLeft="",this.whereClicked=!1,this.tempName=""}ngOnInit(){var e=this;this.route.params.subscribe(function(){var i=(0,be.Z)(function*(r){var o,u;e.loading=!0;let h=r.id;if(!h)return void e.router.navigate(["/page-not-found"]);let _=yield e.eventService.getEvent(h);if(!_)return void e.router.navigate(["/page-not-found"]);e.event=_,e.eventID=h,localStorage.setItem("city",_.city),e.setClock(_.when.toDate()),e.eventService.onLoad(e.eventID,e.authService.uid),e.MIeventUsers=new Map;let b=yield e.eventService.getUsersStatus(e.eventID);try{for(var M,T=(0,po.KL)(b);!(M=yield T.next()).done;){const N=M.value;if("i"==N.status||"m"==N.status||"o"==N.status){let j=yield e.userService.getUserData(N.uid);e.authService.uid!=N.uid?e.MIeventUsers.set(N.uid,{name:j?j.nickname:"o.O",emoji:e.getPartiEmoji(N.status,null==j?void 0:j.sex)}):(e.userSex=null==j?void 0:j.sex,e.MIeventUsers.set(N.uid,{name:"Ty",emoji:e.getPartiEmoji(N.status,null==j?void 0:j.sex)}))}}}catch(N){o={error:N}}finally{try{M&&!M.done&&(u=T.return)&&(yield u.call(T))}finally{if(o)throw o.error}}e.loading=!1});return function(r){return i.apply(this,arguments)}}()),this.route.params.pipe(function w4(n,t=Uw.z){const e=NR(n,t);return TF(()=>e)}(1e3)).pipe((0,mt.U)(i=>i.id)).pipe(Sn(i=>i&&this.authService.uid?this.eventService.subStatus(i,this.authService.uid):is.E)).subscribe(i=>{this.currStatus!=i&&(this.currStatus=i)})}getPartiEmoji(e,i){switch(e){case"i":return"f"==i?"\u{1f64b}\u{1f3fb}\u200d\u2640\ufe0f":"\u{1f64b}\u{1f3fb}\u200d\u2642\ufe0f";case"m":return"f"==i?"\u{1f937}\u{1f3fb}\u200d\u2640\ufe0f":"\u{1f937}\u{1f3fb}\u200d\u2642\ufe0f";case"o":return"f"==i?"\u{1f478}\u{1f3fb}":"\u{1f934}\u{1f3fb}";default:return"\u{1f937}\u{1f3fb}"}}get getEUKeys(){return Array.from(this.MIeventUsers.keys())}setClock(e){let i=0,r=0,o=setInterval(()=>{i=e.getTime()-(new Date).getTime(),i>0?(r=Math.floor(i/864e5),this.timeLeft=0!=r?r.toString()+":":"",this.timeLeft+=Math.floor(i%864e5/36e5).toString()+":",Math.floor(i%36e5/6e4)>9?this.timeLeft+=Math.floor(i%36e5/6e4)+":":this.timeLeft+="0"+Math.floor(i%36e5/6e4)+":",Math.floor(i%6e4/1e3)>9?this.timeLeft+=Math.floor(i%6e4/1e3):this.timeLeft+="0"+Math.floor(i%6e4/1e3)):(this.timeLeft="0:0:00:00",clearInterval(o))},1e3)}get getTitle(){var e;return"Hello, "+(null===(e=this.event)||void 0===e?void 0:e.city)+"!"}get getName(){var e;return null===(e=this.event)||void 0===e?void 0:e.name.toUpperCase()}get getWhen(){var e;let i=null===(e=this.event)||void 0===e?void 0:e.when;return i?i.toDate().getFullYear()==(new Date).getFullYear()&&i.toDate().getMonth()==(new Date).getMonth()&&i.toDate().getDate()==(new Date).getDate()?"Dzi\u015b "+this.toHourString(i):i.toDate().getFullYear()==(new Date).getFullYear()&&i.toDate().getMonth()==(new Date).getMonth()&&i.toDate().getDate()==(new Date).getDate()+1?"Jutro "+this.toHourString(i):this.dateToString(i):""}dateToString(e){return e?e.toDate().getDate()+"."+this.convert(e.toDate().getMonth()+1)+" "+this.convert(e.toDate().getHours())+":"+this.convert(e.toDate().getMinutes()):""}toHourString(e){return e?this.convert(e.toDate().getHours())+":"+this.convert(e.toDate().getMinutes()):""}convert(e){return e>9?e:"0"+e}setInterested(){let e=this.authService.uid;e?(this.updateParticipants("m",e),this.eventID?this.eventService.changeStatus(this.eventID,e,"i"):this._snackBar.open("Co\u015b posz\u0142o nie tak :(","OK")):this._snackBar.open("Tylko dla zalogowanych","OK")}setMaybe(){let e=this.authService.uid;e?this.eventID?(this.updateParticipants("m",e),this.eventService.changeStatus(this.eventID,e,"m")):this._snackBar.open("Co\u015b posz\u0142o nie tak :(","OK"):this.eventID?this.dialog.open(y4).afterClosed().subscribe(r=>{r&&(this.tempName=r,this.eventID?(this.updateParticipants("m"),this.eventService.addMaybeNoName(this.eventID,this.tempName),this.currStatus="m"):this._snackBar.open("Co\u015b posz\u0142o nie tak :(","OK"))}):this._snackBar.open("Co\u015b posz\u0142o nie tak :(","OK")}setCanceled(){let e=this.authService.uid;this.eventID&&e?(this.updateParticipants("c",e),this.eventService.changeStatus(this.eventID,e,"c")):this.eventID&&""!=this.tempName?(this.updateParticipants("c"),this.eventService.removeMaybeNoName(this.eventID,this.tempName),this.currStatus="c"):this._snackBar.open("Co\u015b posz\u0142o nie tak :(","OK")}updateParticipants(e,i){var r,o,u,h,_,b;if(i)("i"==e||"m"==e)&&this.MIeventUsers.set(i,{name:"Ty",emoji:this.getPartiEmoji(e,this.userSex)}),this.MIeventUsers.get(i)&&("c"==e||"s"==e)&&this.MIeventUsers.delete(i);else if("m"==e)null===(o=null===(r=this.event)||void 0===r?void 0:r.maybeNoNames)||void 0===o||o.push("Ty");else{let T=null===(h=null===(u=this.event)||void 0===u?void 0:u.maybeNoNames)||void 0===h?void 0:h.indexOf("Ty",0);T&&T>-1&&(null===(b=null===(_=this.event)||void 0===_?void 0:_.maybeNoNames)||void 0===b||b.splice(T,1))}}get getLastView(){var e,i;return this.dateToString(null===(i=null===(e=this.event)||void 0===e?void 0:e.viewDates)||void 0===i?void 0:i[this.event.viewDates.length-1])}linkTo(e){this.router.navigate(["/user/"+e])}deleteEvent(){this.eventID&&this.eventService.deleteEvent(this.eventID).then(e=>this.router.navigate(["/user/"+this.authService.uid]))}qrEvent(){this.dialog.open(A4)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(UM),s.Y36(Vo),s.Y36(Ei),s.Y36(Ly),s.Y36(qm),s.Y36(iC),s.Y36(GT))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-event"]],decls:56,vars:24,consts:[[3,"title"],[3,"load"],["id","box"],["id","clock"],["id","center",1,"b_html"],["id","emo",1,"b_head"],["id","main",1,"b_body"],["id","title"],["id","description"],[1,"b_head"],[1,"b_body"],["class","b_html","id","center",4,"ngIf"],[1,"b_html"],[3,"click"],[4,"ngIf"],["id","parti",1,"b_body"],["id","part",3,"click",4,"ngFor","ngForOf"],["id","part",4,"ngFor","ngForOf"],["id","more",1,"noselect"],["class","b_html",4,"ngIf"],["mat-raised-button","",3,"click",4,"ngIf"],["mat-raised-button","","color","warn",3,"click",4,"ngIf"],["id","part",3,"click"],[1,"noselect",3,"ngStyle"],[1,"underline"],["id","part"],["id","buttons"],["mat-raised-button","",3,"disabled","click"],["mat-raised-button","",3,"click"],["mat-raised-button","","color","warn",3,"click"]],template:function(e,i){1&e&&(s._UZ(0,"app-up-bar",0)(1,"app-loading",1),s.TgZ(2,"div",2)(3,"div",3)(4,"b"),s._uU(5),s.qZA()(),s.TgZ(6,"div",4)(7,"div",5),s._uU(8),s.qZA(),s.TgZ(9,"div",6)(10,"div",7)(11,"b"),s._uU(12),s.qZA()(),s.TgZ(13,"div",8),s._uU(14),s.qZA()()(),s.TgZ(15,"div",4)(16,"div",9),s._uU(17,"\u{1f381} Co oferuje organizator? \u{1f381}"),s.qZA(),s.TgZ(18,"div",10)(19,"div")(20,"b"),s._uU(21),s.qZA()()()(),s.YNc(22,N4,7,1,"div",11),s.TgZ(23,"div",12)(24,"div",9),s._uU(25,"\u{1f4cd} Informacje \u{1f4cd}"),s.qZA(),s.TgZ(26,"div",10)(27,"div"),s._uU(28,"Kiedy? "),s.TgZ(29,"b"),s._uU(30),s.qZA()(),s.TgZ(31,"div",13),s.NdJ("click",function(){return null!=i.event&&i.event.where?i.whereClicked=!i.whereClicked:null}),s._uU(32,"Gdzie? "),s.YNc(33,F4,2,1,"b",14),s.YNc(34,L4,2,0,"b",14),s.qZA()()(),s.TgZ(35,"div",12)(36,"div",9),s._uU(37,"\u{1f46f}\u200d\u2640\ufe0f Uczestnicy \u{1f46f}\u200d\u2640\ufe0f"),s.qZA(),s.TgZ(38,"div",15),s.YNc(39,V4,5,5,"div",16),s.YNc(40,B4,5,5,"div",17),s.qZA(),s.TgZ(41,"div",18)(42,"div"),s._uU(43),s.qZA(),s.TgZ(44,"div"),s._uU(45),s.qZA(),s.TgZ(46,"div"),s._uU(47),s.qZA()()(),s.YNc(48,j4,10,3,"div",19),s.TgZ(49,"div"),s._uU(50),s.qZA(),s.YNc(51,H4,2,0,"button",20),s.YNc(52,z4,2,0,"button",21),s.qZA(),s.TgZ(53,"footer")(54,"div"),s._uU(55,"PlaceYo! | v1.0 | non-profit organization | by xDominix "),s.qZA()()),2&e&&(s.Q6J("title",i.getTitle),s.xp6(1),s.Q6J("load",i.loading),s.xp6(4),s.Oqu(i.timeLeft),s.xp6(3),s.xDo("",null==i.event?null:i.event.emoji,"",null==i.event?null:i.event.emoji,"",null==i.event?null:i.event.emoji,"",null==i.event?null:i.event.emoji,"",null==i.event?null:i.event.emoji,""),s.xp6(4),s.Oqu(i.getName),s.xp6(2),s.Oqu(null==i.event?null:i.event.description),s.xp6(7),s.Oqu(null==i.event?null:i.event.offers),s.xp6(1),s.Q6J("ngIf",(null==i.event?null:i.event.requirements)&&""!=(null==i.event?null:i.event.requirements)),s.xp6(8),s.Oqu(i.getWhen),s.xp6(3),s.Q6J("ngIf",i.whereClicked),s.xp6(1),s.Q6J("ngIf",!i.whereClicked),s.xp6(5),s.Q6J("ngForOf",i.getEUKeys),s.xp6(1),s.Q6J("ngForOf",null==i.event?null:i.event.maybeNoNames),s.xp6(3),s.hij("",i.getPartiEmoji("o")," organizator"),s.xp6(2),s.hij("",i.getPartiEmoji("i")," zainteresowany"),s.xp6(2),s.hij("",i.getPartiEmoji("m")," mo\u017ce"),s.xp6(1),s.Q6J("ngIf",!i.loading&&"o"!=i.currStatus),s.xp6(2),s.hij("wy\u015bwietlenia: ",null==i.event||null==i.event.viewDates?null:i.event.viewDates.length,""),s.xp6(1),s.Q6J("ngIf","o"==i.currStatus),s.xp6(1),s.Q6J("ngIf","o"==i.currStatus))},directives:[Zy,P4,Fn,$n,Pd,Yo],styles:["#box[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;padding:20px;color:gold}#description[_ngcontent-%COMP%]{font-size:15px;text-align:justify}#emo[_ngcontent-%COMP%]{font-size:20px}#parti[_ngcontent-%COMP%]{min-width:100px;padding-bottom:60px;display:flex;justify-content:center;flex-wrap:wrap}#part[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:60px;align-items:center;margin:10px}#more[_ngcontent-%COMP%]{margin-right:auto;opacity:.5;margin-top:-50px}#part[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:first-child{height:30px;font-size:60px}#part[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:last-child{text-shadow:black 0px 0px 4px}.underline[_ngcontent-%COMP%]{text-decoration:underline}#main[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{padding:10px}#you[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]:hover{background-color:#ffd900b4}#title[_ngcontent-%COMP%]{color:#642f96;text-align:center;margin-bottom:10px;font-size:25px;background-color:gold;border:rgba(255,217,0,.171) 2px solid;border-radius:20px;line-height:normal}.b_html[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;color:gold;margin:10px;width:-moz-fit-content;width:fit-content;padding:20px}.b_head[_ngcontent-%COMP%]{padding-left:15px;padding-right:15px;width:-moz-fit-content;width:fit-content;border:3px solid gold;border-radius:20px;background-color:#683a9c;z-index:10}.b_body[_ngcontent-%COMP%]{box-shadow:#0000003f 0 0 20px;margin:-15px;padding:25px 25px 15px;border:3px solid gold;border-radius:20px;transition:background-color ease-in-out .5s}.b_footer[_ngcontent-%COMP%]{margin-top:-10px}footer[_ngcontent-%COMP%]{text-align:center;width:100%;background-color:#666}mat-progress-spinner[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}#clock[_ngcontent-%COMP%]{margin-top:30px;margin-bottom:20px;font-size:50px}#buttons[_ngcontent-%COMP%]{display:flex;justify-content:center;flex-wrap:wrap}#buttons[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{margin:5px}"]}),n})();function G4(n,t){if(1&n&&(s.TgZ(0,"mat-hint"),s._uU(1),s.qZA()),2&n){const e=s.oxw();s.xp6(1),s.Oqu(e.error)}}function q4(n,t){if(1&n&&(s.TgZ(0,"mat-hint"),s._uU(1),s.qZA()),2&n){const e=s.oxw();s.xp6(1),s.Oqu(e.error)}}let Y4=(()=>{class n{constructor(e,i,r){this.authService=e,this.router=i,this._snackBar=r,this.hide=!0,this.error=""}inError(e){return this.error.toLowerCase().includes(e)}login(){this.checkForm1()&&this.authService.login(this.email,this.password).then(e=>{this._snackBar.open("Pomy\u015blnie zalogowano!","OK",{duration:3e3}),this.router.navigate(["/user/"+(null==e?void 0:e.uid)])}).catch(e=>{this._snackBar.open("Niepoprawny login lub has\u0142o :(","OK")})}checkForm1(){return this.error="",void 0===this.email?(this.error="Email jest wymagany",!1):this.validateEmail(this.email)?this.email.length<5?(this.error="Email za kr\xf3tki",!1):this.email.length>40?(this.error="Email za d\u0142ugi",!1):void 0===this.password?(this.error="Has\u0142o jest wymagane",!1):this.password.length>20?(this.error="Has\u0142o jest za d\u0142ugie",!1):!(this.password.length<5&&(this.error="Has\u0142o jest za kr\xf3tkie",1)):(this.error="Niepoprawny email",!1)}validateEmail(e){return String(e).toLowerCase().match(/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(qm),s.Y36(Ei),s.Y36(iC))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-login-form"]],decls:19,vars:8,consts:[["title","Logowanie"],["id","box"],["appearance","fill"],["matInput","","type","email",3,"ngModel","ngModelChange"],[4,"ngIf"],["matInput","",3,"type","ngModel","ngModelChange"],["mat-icon-button","","matSuffix","",3,"click"],["mat-raised-button","","color","accent",3,"click"],["routerLink","/user/signin"]],template:function(e,i){1&e&&(s._UZ(0,"app-up-bar",0),s.TgZ(1,"div",1)(2,"mat-form-field",2)(3,"mat-label"),s._uU(4,"Email"),s.qZA(),s.TgZ(5,"input",3),s.NdJ("ngModelChange",function(o){return i.email=o}),s.qZA(),s.YNc(6,G4,2,1,"mat-hint",4),s.qZA(),s.TgZ(7,"mat-form-field",2)(8,"mat-label"),s._uU(9,"Has\u0142o"),s.qZA(),s.TgZ(10,"input",5),s.NdJ("ngModelChange",function(o){return i.password=o}),s.qZA(),s.YNc(11,q4,2,1,"mat-hint",4),s.TgZ(12,"button",6),s.NdJ("click",function(){return i.hide=!i.hide}),s.TgZ(13,"mat-icon"),s._uU(14),s.qZA()()(),s.TgZ(15,"button",7),s.NdJ("click",function(){return i.login()}),s._uU(16,"Zaloguj"),s.qZA(),s.TgZ(17,"a",8),s._uU(18,"Nie masz jeszcze konta?"),s.qZA()()),2&e&&(s.xp6(5),s.Q6J("ngModel",i.email),s.xp6(1),s.Q6J("ngIf",i.inError("email")),s.xp6(4),s.Q6J("type",i.hide?"password":"text")("ngModel",i.password),s.xp6(1),s.Q6J("ngIf",i.inError("has\u0142o")),s.xp6(1),s.uIk("aria-label","Hide password")("aria-pressed",i.hide),s.xp6(2),s.Oqu(i.hide?"visibility_off":"visibility"))},directives:[Zy,cg,lg,Ky,Td,dg,hg,Fn,oC,Yo,$x,Yy,yp],styles:["#box[_ngcontent-%COMP%]{margin-top:40px;min-width:150px;max-width:500px;padding:20px;color:#fff;display:flex;flex-direction:column}a[_ngcontent-%COMP%]{color:#fff6;margin-top:10px}"]}),n})(),Z4=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-page-not-found"]],decls:3,vars:0,consts:[["title","ERROR//ERROR"]],template:function(e,i){1&e&&(s._UZ(0,"app-up-bar",0),s.TgZ(1,"div"),s._uU(2,"PAGE NOT FOUND :("),s.qZA())},directives:[Zy],styles:[""]}),n})();class W4{constructor(t,e,i,r,o,u,h){this.createDate=yn.fromDate(new Date),this.name=t,this.nickname=e,this.about=i,this.sex=r,this.city=o,this.birthdate=yn.fromDate(u),this.socialLink=h,this.role="u"}convert(){return Object.assign(Object.assign({name:this.name,nickname:this.nickname,createDate:new Date,about:this.about,sex:this.sex,city:this.city,birthdate:this.birthdate},this.socialLink?{socialLink:this.socialLink}:{}),{role:this.role})}}class K4{constructor(t=!1,e,i=!0){this._multiple=t,this._emitChanges=i,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new dt.x,e&&e.length&&(t?e.forEach(r=>this._markSelected(r)):this._markSelected(e[0]),this._selectedToEmit.length=0)}get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}select(...t){this._verifyValueAssignment(t),t.forEach(e=>this._markSelected(e)),this._emitChangeEvent()}deselect(...t){this._verifyValueAssignment(t),t.forEach(e=>this._unmarkSelected(e)),this._emitChangeEvent()}toggle(t){this.isSelected(t)?this.deselect(t):this.select(t)}clear(){this._unmarkAll(),this._emitChangeEvent()}isSelected(t){return this._selection.has(t)}isEmpty(){return 0===this._selection.size}hasValue(){return!this.isEmpty()}sort(t){this._multiple&&this.selected&&this._selected.sort(t)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(t){this.isSelected(t)||(this._multiple||this._unmarkAll(),this._selection.add(t),this._emitChanges&&this._selectedToEmit.push(t))}_unmarkSelected(t){this.isSelected(t)&&(this._selection.delete(t),this._emitChanges&&this._deselectedToEmit.push(t))}_unmarkAll(){this.isEmpty()||this._selection.forEach(t=>this._unmarkSelected(t))}_verifyValueAssignment(t){}}const Q4=["button"],J4=["*"],MF=new s.OlP("MAT_BUTTON_TOGGLE_DEFAULT_OPTIONS"),xF=new s.OlP("MatButtonToggleGroup"),X4={provide:Zo,useExisting:(0,s.Gpc)(()=>OF),multi:!0};let kF=0;class RF{constructor(t,e){this.source=t,this.value=e}}let OF=(()=>{class n{constructor(e,i){this._changeDetector=e,this._vertical=!1,this._multiple=!1,this._disabled=!1,this._controlValueAccessorChangeFn=()=>{},this._onTouched=()=>{},this._name="mat-button-toggle-group-"+kF++,this.valueChange=new s.vpe,this.change=new s.vpe,this.appearance=i&&i.appearance?i.appearance:"standard"}get name(){return this._name}set name(e){this._name=e,this._buttonToggles&&this._buttonToggles.forEach(i=>{i.name=this._name,i._markForCheck()})}get vertical(){return this._vertical}set vertical(e){this._vertical=er(e)}get value(){const e=this._selectionModel?this._selectionModel.selected:[];return this.multiple?e.map(i=>i.value):e[0]?e[0].value:void 0}set value(e){this._setSelectionByValue(e),this.valueChange.emit(this.value)}get selected(){const e=this._selectionModel?this._selectionModel.selected:[];return this.multiple?e:e[0]||null}get multiple(){return this._multiple}set multiple(e){this._multiple=er(e)}get disabled(){return this._disabled}set disabled(e){this._disabled=er(e),this._buttonToggles&&this._buttonToggles.forEach(i=>i._markForCheck())}ngOnInit(){this._selectionModel=new K4(this.multiple,void 0,!1)}ngAfterContentInit(){this._selectionModel.select(...this._buttonToggles.filter(e=>e.checked))}writeValue(e){this.value=e,this._changeDetector.markForCheck()}registerOnChange(e){this._controlValueAccessorChangeFn=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e}_emitChangeEvent(){const e=this.selected,i=Array.isArray(e)?e[e.length-1]:e,r=new RF(i,this.value);this._controlValueAccessorChangeFn(r.value),this.change.emit(r)}_syncButtonToggle(e,i,r=!1,o=!1){!this.multiple&&this.selected&&!e.checked&&(this.selected.checked=!1),this._selectionModel?i?this._selectionModel.select(e):this._selectionModel.deselect(e):o=!0,o?Promise.resolve().then(()=>this._updateModelValue(r)):this._updateModelValue(r)}_isSelected(e){return this._selectionModel&&this._selectionModel.isSelected(e)}_isPrechecked(e){return void 0!==this._rawValue&&(this.multiple&&Array.isArray(this._rawValue)?this._rawValue.some(i=>null!=e.value&&i===e.value):e.value===this._rawValue)}_setSelectionByValue(e){this._rawValue=e,this._buttonToggles&&(this.multiple&&e?(Array.isArray(e),this._clearSelection(),e.forEach(i=>this._selectValue(i))):(this._clearSelection(),this._selectValue(e)))}_clearSelection(){this._selectionModel.clear(),this._buttonToggles.forEach(e=>e.checked=!1)}_selectValue(e){const i=this._buttonToggles.find(r=>null!=r.value&&r.value===e);i&&(i.checked=!0,this._selectionModel.select(i))}_updateModelValue(e){e&&this._emitChangeEvent(),this.valueChange.emit(this.value)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.sBO),s.Y36(MF,8))},n.\u0275dir=s.lG2({type:n,selectors:[["mat-button-toggle-group"]],contentQueries:function(e,i,r){if(1&e&&s.Suo(r,PF,5),2&e){let o;s.iGM(o=s.CRH())&&(i._buttonToggles=o)}},hostAttrs:["role","group",1,"mat-button-toggle-group"],hostVars:5,hostBindings:function(e,i){2&e&&(s.uIk("aria-disabled",i.disabled),s.ekj("mat-button-toggle-vertical",i.vertical)("mat-button-toggle-group-appearance-standard","standard"===i.appearance))},inputs:{appearance:"appearance",name:"name",vertical:"vertical",value:"value",multiple:"multiple",disabled:"disabled"},outputs:{valueChange:"valueChange",change:"change"},exportAs:["matButtonToggleGroup"],features:[s._Bn([X4,{provide:xF,useExisting:n}])]}),n})();const ez=oP(class{});let PF=(()=>{class n extends ez{constructor(e,i,r,o,u,h){super(),this._changeDetectorRef=i,this._elementRef=r,this._focusMonitor=o,this._isSingleSelector=!1,this._checked=!1,this.ariaLabelledby=null,this._disabled=!1,this.change=new s.vpe;const _=Number(u);this.tabIndex=_||0===_?_:null,this.buttonToggleGroup=e,this.appearance=h&&h.appearance?h.appearance:"standard"}get buttonId(){return`${this.id}-button`}get appearance(){return this.buttonToggleGroup?this.buttonToggleGroup.appearance:this._appearance}set appearance(e){this._appearance=e}get checked(){return this.buttonToggleGroup?this.buttonToggleGroup._isSelected(this):this._checked}set checked(e){const i=er(e);i!==this._checked&&(this._checked=i,this.buttonToggleGroup&&this.buttonToggleGroup._syncButtonToggle(this,this._checked),this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled||this.buttonToggleGroup&&this.buttonToggleGroup.disabled}set disabled(e){this._disabled=er(e)}ngOnInit(){const e=this.buttonToggleGroup;this._isSingleSelector=e&&!e.multiple,this.id=this.id||"mat-button-toggle-"+kF++,this._isSingleSelector&&(this.name=e.name),e&&(e._isPrechecked(this)?this.checked=!0:e._isSelected(this)!==this._checked&&e._syncButtonToggle(this,this._checked))}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){const e=this.buttonToggleGroup;this._focusMonitor.stopMonitoring(this._elementRef),e&&e._isSelected(this)&&e._syncButtonToggle(this,!1,!1,!0)}focus(e){this._buttonElement.nativeElement.focus(e)}_onButtonClick(){const e=!!this._isSingleSelector||!this._checked;e!==this._checked&&(this._checked=e,this.buttonToggleGroup&&(this.buttonToggleGroup._syncButtonToggle(this,this._checked,!0),this.buttonToggleGroup._onTouched())),this.change.emit(new RF(this,this.value))}_markForCheck(){this._changeDetectorRef.markForCheck()}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(xF,8),s.Y36(s.sBO),s.Y36(s.SBq),s.Y36(iT),s.$8M("tabindex"),s.Y36(MF,8))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-button-toggle"]],viewQuery:function(e,i){if(1&e&&s.Gf(Q4,5),2&e){let r;s.iGM(r=s.CRH())&&(i._buttonElement=r.first)}},hostAttrs:["role","presentation",1,"mat-button-toggle"],hostVars:12,hostBindings:function(e,i){1&e&&s.NdJ("focus",function(){return i.focus()}),2&e&&(s.uIk("aria-label",null)("aria-labelledby",null)("id",i.id)("name",null),s.ekj("mat-button-toggle-standalone",!i.buttonToggleGroup)("mat-button-toggle-checked",i.checked)("mat-button-toggle-disabled",i.disabled)("mat-button-toggle-appearance-standard","standard"===i.appearance))},inputs:{disableRipple:"disableRipple",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],id:"id",name:"name",value:"value",tabIndex:"tabIndex",appearance:"appearance",checked:"checked",disabled:"disabled"},outputs:{change:"change"},exportAs:["matButtonToggle"],features:[s.qOj],ngContentSelectors:J4,decls:6,vars:9,consts:[["type","button",1,"mat-button-toggle-button","mat-focus-indicator",3,"id","disabled","click"],["button",""],[1,"mat-button-toggle-label-content"],[1,"mat-button-toggle-focus-overlay"],["matRipple","",1,"mat-button-toggle-ripple",3,"matRippleTrigger","matRippleDisabled"]],template:function(e,i){if(1&e&&(s.F$t(),s.TgZ(0,"button",0,1),s.NdJ("click",function(){return i._onButtonClick()}),s.TgZ(2,"span",2),s.Hsn(3),s.qZA()(),s._UZ(4,"span",3)(5,"span",4)),2&e){const r=s.MAs(1);s.Q6J("id",i.buttonId)("disabled",i.disabled||null),s.uIk("tabindex",i.disabled?-1:i.tabIndex)("aria-pressed",i.checked)("name",i.name||null)("aria-label",i.ariaLabel)("aria-labelledby",i.ariaLabelledby),s.xp6(5),s.Q6J("matRippleTrigger",r)("matRippleDisabled",i.disableRipple||i.disabled)}},directives:[Ox],styles:[".mat-button-toggle-standalone,.mat-button-toggle-group{position:relative;display:inline-flex;flex-direction:row;white-space:nowrap;overflow:hidden;border-radius:2px;-webkit-tap-highlight-color:transparent;transform:translateZ(0)}.cdk-high-contrast-active .mat-button-toggle-standalone,.cdk-high-contrast-active .mat-button-toggle-group{outline:solid 1px}.mat-button-toggle-standalone.mat-button-toggle-appearance-standard,.mat-button-toggle-group-appearance-standard{border-radius:4px}.cdk-high-contrast-active .mat-button-toggle-standalone.mat-button-toggle-appearance-standard,.cdk-high-contrast-active .mat-button-toggle-group-appearance-standard{outline:0}.mat-button-toggle-vertical{flex-direction:column}.mat-button-toggle-vertical .mat-button-toggle-label-content{display:block}.mat-button-toggle{white-space:nowrap;position:relative}.mat-button-toggle .mat-icon svg{vertical-align:top}.mat-button-toggle.cdk-keyboard-focused .mat-button-toggle-focus-overlay{opacity:1}.cdk-high-contrast-active .mat-button-toggle.cdk-keyboard-focused .mat-button-toggle-focus-overlay{opacity:.5}.mat-button-toggle-appearance-standard:not(.mat-button-toggle-disabled):hover .mat-button-toggle-focus-overlay{opacity:.04}.mat-button-toggle-appearance-standard.cdk-keyboard-focused:not(.mat-button-toggle-disabled) .mat-button-toggle-focus-overlay{opacity:.12}.cdk-high-contrast-active .mat-button-toggle-appearance-standard.cdk-keyboard-focused:not(.mat-button-toggle-disabled) .mat-button-toggle-focus-overlay{opacity:.5}@media(hover: none){.mat-button-toggle-appearance-standard:not(.mat-button-toggle-disabled):hover .mat-button-toggle-focus-overlay{display:none}}.mat-button-toggle-label-content{-webkit-user-select:none;user-select:none;display:inline-block;line-height:36px;padding:0 16px;position:relative}.mat-button-toggle-appearance-standard .mat-button-toggle-label-content{padding:0 12px}.mat-button-toggle-label-content>*{vertical-align:middle}.mat-button-toggle-focus-overlay{border-radius:inherit;pointer-events:none;opacity:0;top:0;left:0;right:0;bottom:0;position:absolute}.mat-button-toggle-checked .cdk-high-contrast-active .mat-button-toggle-focus-overlay{border-bottom:solid 36px;opacity:.5;height:0}.cdk-high-contrast-active .mat-button-toggle-checked.mat-button-toggle-appearance-standard .mat-button-toggle-focus-overlay{border-bottom:solid 500px}.mat-button-toggle .mat-button-toggle-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-button-toggle-button{border:0;background:none;color:inherit;padding:0;margin:0;font:inherit;outline:none;width:100%;cursor:pointer}.mat-button-toggle-disabled .mat-button-toggle-button{cursor:default}.mat-button-toggle-button::-moz-focus-inner{border:0}\n"],encapsulation:2,changeDetection:0}),n})(),tz=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[Wr,hP],Wr]}),n})();function nz(n,t){if(1&n&&(s.TgZ(0,"mat-hint"),s._uU(1),s.qZA()),2&n){const e=s.oxw(2);s.xp6(1),s.Oqu(e.error)}}function iz(n,t){if(1&n&&(s.TgZ(0,"mat-hint"),s._uU(1),s.qZA()),2&n){const e=s.oxw(2);s.xp6(1),s.Oqu(e.error)}}function rz(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",3)(1,"mat-form-field",4)(2,"mat-label"),s._uU(3,"Email"),s.qZA(),s.TgZ(4,"input",5),s.NdJ("ngModelChange",function(r){return s.CHM(e),s.oxw().email=r}),s.qZA(),s.YNc(5,nz,2,1,"mat-hint",6),s.qZA(),s.TgZ(6,"mat-form-field",4)(7,"mat-label"),s._uU(8,"Has\u0142o"),s.qZA(),s.TgZ(9,"input",7),s.NdJ("ngModelChange",function(r){return s.CHM(e),s.oxw().password=r}),s.qZA(),s.YNc(10,iz,2,1,"mat-hint",6),s.TgZ(11,"button",8),s.NdJ("click",function(){s.CHM(e);const r=s.oxw();return r.hide=!r.hide}),s.TgZ(12,"mat-icon"),s._uU(13),s.qZA()()(),s.TgZ(14,"button",9),s.NdJ("click",function(){return s.CHM(e),s.oxw().next()}),s._uU(15,"Dalej"),s.qZA(),s.TgZ(16,"a",10),s._uU(17,"Masz ju\u017c konto?"),s.qZA()()}if(2&n){const e=s.oxw();s.xp6(4),s.Q6J("ngModel",e.email),s.xp6(1),s.Q6J("ngIf",e.inError("email")),s.xp6(4),s.Q6J("type",e.hide?"password":"text")("ngModel",e.password),s.xp6(1),s.Q6J("ngIf",e.inError("has\u0142o")),s.xp6(1),s.uIk("aria-label","Hide password")("aria-pressed",e.hide),s.xp6(2),s.Oqu(e.hide?"visibility_off":"visibility")}}function sz(n,t){if(1&n&&(s.TgZ(0,"mat-hint"),s._uU(1),s.qZA()),2&n){const e=s.oxw(2);s.xp6(1),s.Oqu(e.error)}}function oz(n,t){if(1&n&&(s.TgZ(0,"mat-hint"),s._uU(1),s.qZA()),2&n){const e=s.oxw(2);s.xp6(1),s.Oqu(e.error)}}function az(n,t){if(1&n&&(s.TgZ(0,"mat-hint"),s._uU(1),s.qZA()),2&n){const e=s.oxw(2);s.xp6(1),s.Oqu(e.error)}}function lz(n,t){if(1&n&&(s.TgZ(0,"mat-hint"),s._uU(1),s.qZA()),2&n){const e=s.oxw(2);s.xp6(1),s.Oqu(e.error)}}function cz(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"button",28),s.NdJ("click",function(){return s.CHM(e),s.oxw(2).city=""}),s.TgZ(1,"mat-icon"),s._uU(2,"close"),s.qZA()()}}function uz(n,t){if(1&n&&(s.TgZ(0,"mat-hint"),s._uU(1),s.qZA()),2&n){const e=s.oxw(2);s.xp6(1),s.Oqu(e.error)}}function dz(n,t){if(1&n&&(s.TgZ(0,"mat-hint"),s._uU(1),s.qZA()),2&n){const e=s.oxw(2);s.xp6(1),s.Oqu(e.error)}}function hz(n,t){if(1&n&&(s.TgZ(0,"mat-hint"),s._uU(1),s.qZA()),2&n){const e=s.oxw(2);s.xp6(1),s.Oqu(e.error)}}function fz(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",3)(1,"div",11)(2,"mat-form-field",12)(3,"mat-label"),s._uU(4,"Imi\u0119"),s.qZA(),s.TgZ(5,"input",13),s.NdJ("ngModelChange",function(r){return s.CHM(e),s.oxw().name=r}),s.qZA(),s.YNc(6,sz,2,1,"mat-hint",6),s.qZA(),s.TgZ(7,"mat-form-field",4)(8,"mat-label"),s._uU(9,"Pseudonim"),s.qZA(),s.TgZ(10,"span",14),s._uU(11,"# \xa0"),s.qZA(),s.TgZ(12,"input",13),s.NdJ("ngModelChange",function(r){return s.CHM(e),s.oxw().nickname=r}),s.qZA(),s.YNc(13,oz,2,1,"mat-hint",6),s.qZA()(),s.TgZ(14,"mat-form-field",4)(15,"mat-label"),s._uU(16,"O tobie"),s.qZA(),s.TgZ(17,"textarea",15),s.NdJ("ngModelChange",function(r){return s.CHM(e),s.oxw().about=r}),s.qZA(),s.YNc(18,az,2,1,"mat-hint",6),s.TgZ(19,"mat-hint",16),s._uU(20),s.qZA()(),s.TgZ(21,"h4"),s._uU(22,"_____"),s.qZA(),s.TgZ(23,"mat-button-toggle-group",17),s.NdJ("ngModelChange",function(r){return s.CHM(e),s.oxw().sex=r}),s.TgZ(24,"mat-button-toggle",18),s._uU(25,"\u{1f466}\u{1f3fd}"),s.qZA(),s.TgZ(26,"mat-button-toggle",19),s._uU(27,"\u{1f469}\u{1f3fd}"),s.qZA(),s.TgZ(28,"mat-button-toggle",20),s._uU(29,"\u{1f92b}"),s.qZA(),s.TgZ(30,"mat-button-toggle",21),s._uU(31,"non-binary"),s.qZA(),s.YNc(32,lz,2,1,"mat-hint",6),s.qZA(),s.TgZ(33,"mat-form-field",4)(34,"mat-label"),s._uU(35,"Miasto zamieszkania"),s.qZA(),s.TgZ(36,"input",15),s.NdJ("ngModelChange",function(r){return s.CHM(e),s.oxw().city=r}),s.qZA(),s.YNc(37,cz,3,0,"button",22),s.YNc(38,uz,2,1,"mat-hint",6),s.qZA(),s.TgZ(39,"mat-form-field",4)(40,"mat-label"),s._uU(41,"Data urodzenia"),s.qZA(),s.TgZ(42,"input",23),s.NdJ("ngModelChange",function(r){return s.CHM(e),s.oxw().birthdate=r}),s.qZA(),s._UZ(43,"mat-datepicker-toggle",24)(44,"mat-datepicker",25,26),s.YNc(46,dz,2,1,"mat-hint",6),s.qZA(),s.TgZ(47,"h4"),s._uU(48,"_____"),s.qZA(),s.TgZ(49,"mat-form-field",4)(50,"mat-label"),s._uU(51,"Social link*"),s.qZA(),s.TgZ(52,"input",27),s.NdJ("ngModelChange",function(r){return s.CHM(e),s.oxw().socialLink=r}),s.qZA(),s.TgZ(53,"mat-hint",16),s._uU(54,"*opcjonalnie"),s.qZA(),s.YNc(55,hz,2,1,"mat-hint",6),s.qZA(),s.TgZ(56,"button",9),s.NdJ("click",function(){return s.CHM(e),s.oxw().create()}),s._uU(57,"Zarejestruj"),s.qZA()()}if(2&n){const e=s.MAs(45),i=s.oxw();s.xp6(5),s.Q6J("ngModel",i.name),s.xp6(1),s.Q6J("ngIf",i.inError("imi\u0119")),s.xp6(6),s.Q6J("ngModel",i.nickname),s.xp6(1),s.Q6J("ngIf",i.inError("pseudonim")),s.xp6(4),s.Q6J("ngModel",i.about),s.xp6(1),s.Q6J("ngIf",i.inError("opis")),s.xp6(2),s.hij("",i.about.length,"/100"),s.xp6(3),s.Q6J("ngModel",i.sex),s.xp6(9),s.Q6J("ngIf",i.inError("p\u0142e\u0107")),s.xp6(4),s.Q6J("ngModel",i.city),s.xp6(1),s.Q6J("ngIf",i.city),s.xp6(1),s.Q6J("ngIf",i.inError("miasto")),s.xp6(4),s.Q6J("matDatepicker",e)("ngModel",i.birthdate),s.xp6(1),s.Q6J("for",e),s.xp6(3),s.Q6J("ngIf",i.inError("data")),s.xp6(6),s.Q6J("ngModel",i.socialLink),s.xp6(3),s.Q6J("ngIf",i.inError("link"))}}let pz=(()=>{class n{constructor(e,i,r,o){this.userService=e,this.authService=i,this.router=r,this._snackBar=o,this.hide=!0,this.signin=!1,this.about="",this.error="";let u=localStorage.getItem("city");u&&(this.city=u)}next(){this.checkForm1()&&this.authService.isUserExists(this.email).then(e=>{e?this._snackBar.open("To konto ju\u017c istenieje...","OK"):this.signin=!0})}checkForm1(){return this.error="",void 0===this.email?(this.error="Email jest wymagany",!1):this.validateEmail(this.email)?this.email.length<5?(this.error="Email za kr\xf3tki",!1):this.email.length>40?(this.error="Email za d\u0142ugi",!1):void 0===this.password?(this.error="Has\u0142o jest wymagane",!1):this.password.length>20?(this.error="Has\u0142o jest za d\u0142ugie",!1):!(this.password.length<5&&(this.error="Has\u0142o jest za kr\xf3tkie",1)):(this.error="Niepoprawny email",!1)}validateEmail(e){return String(e).toLowerCase().match(/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/)}inError(e){return this.error.toLowerCase().includes(e)}create(){this.checkForm2()&&this.authService.register(this.email,this.password).then(e=>{if(null==e?void 0:e.uid){let i=new W4(this.name,this.nickname,this.about,this.sex,this.city,this.birthdate,this.socialLink);this.userService.addUser(e.uid,i).then(r=>{this._snackBar.open("Pomy\u015blnie zarejestrowano!","OK",{duration:3e3}),this.router.navigate(["/user/"+e.uid])}).catch(r=>alert(r.message))}else this._snackBar.open("Co\u015b posz\u0142o nie tak (register/404)",":(")}).catch(e=>alert(e))}checkForm2(){if(this.error="",void 0===this.name)return this.error="Imi\u0119 jest wymagane",!1;if(this.name.length>15)return this.error="Imi\u0119 jest za d\u0142ugie",!1;if(this.name.length<3)return this.error="Imi\u0119 jest za kr\xf3tkie",!1;if(void 0===this.nickname)return this.error="Pseudonim jest wymagany",!1;if(this.nickname.length>15)return this.error="Pseudonim jest za d\u0142ugi",!1;if(this.nickname.length<3)return this.error="Pseudonim jest za kr\xf3tki",!1;if(void 0===this.about)return this.error="Opis jest wymagany",!1;if(this.about.length>100)return this.error="Opis jest za d\u0142ugi",!1;if(this.about.length<10)return this.error="Opis jest za kr\xf3tki",!1;if(void 0===this.sex)return this.error="P\u0142e\u0107 jest wymagana",!1;if(void 0===this.city)return this.error="Miasto wymagane",!1;if(this.city.length>15)return this.error="Miasto co\u015b za d\u0142ugie lel",!1;if(this.city.length<4)return this.error="Miasto co\u015b za kr\xf3tkie lel",!1;if(void 0===this.birthdate)return this.error="Data urodzenia jest wymagana",!1;let e=new Date;return e.setFullYear(e.getFullYear()-10),this.birthdate>e?(this.error="Data - za m\u0142ody jestes byczku",!1):this.socialLink&&!this.socialLink.includes(".")?(this.error="Link powinnien zawiera\u0107 kropk\u0119",!1):this.socialLink&&this.socialLink.length<5?(this.error="Link za kr\xf3tki",!1):!(this.socialLink&&this.socialLink.length>40&&(this.error="Link za d\u0142ugi",1))}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Ly),s.Y36(qm),s.Y36(Ei),s.Y36(iC))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-signin-form"]],decls:10,vars:2,consts:[["title","Rejestracja"],["id","q",1,"quote"],["id","box",4,"ngIf"],["id","box"],["appearance","fill"],["type","email","matInput","",3,"ngModel","ngModelChange"],[4,"ngIf"],["matInput","",3,"type","ngModel","ngModelChange"],["mat-icon-button","","matSuffix","",3,"click"],["mat-raised-button","","color","accent",3,"click"],["routerLink","/user/login"],["id","f-"],["appearance","fill","id","name"],["matInput","","type","text","placeholder","",3,"ngModel","ngModelChange"],["matPrefix",""],["matInput","","type","text",3,"ngModel","ngModelChange"],["id","opcjonalnie","align","end"],["name","fontStyle","aria-label","Font Style",3,"ngModel","ngModelChange"],["id","sex","value","m"],["id","sex","value","f"],["id","sex","value","r"],["value","n"],["matSuffix","","mat-icon-button","","aria-label","Clear",3,"click",4,"ngIf"],["matInput","",3,"matDatepicker","ngModel","ngModelChange"],["matSuffix","",3,"for"],["startView","multi-year","panelClass","example-month-picker"],["dp",""],["matInput","","type","url",3,"ngModel","ngModelChange"],["matSuffix","","mat-icon-button","","aria-label","Clear",3,"click"]],template:function(e,i){1&e&&(s._UZ(0,"app-up-bar",0),s.TgZ(1,"div",1),s._uU(2,"Chcesz bra\u0107 udzia\u0142 w wydarzeniach?"),s._UZ(3,"br"),s._uU(4," Chcesz tworzy\u0107 w\u0142asne?"),s._UZ(5,"br"),s.TgZ(6,"b"),s._uU(7," Zarejestuj si\u0119!"),s.qZA()(),s.YNc(8,rz,18,8,"div",2),s.YNc(9,fz,58,18,"div",2)),2&e&&(s.xp6(8),s.Q6J("ngIf",!i.signin),s.xp6(1),s.Q6J("ngIf",i.signin))},directives:[Zy,Fn,cg,lg,Ky,Td,dg,hg,oC,Yo,$x,Yy,yp,BP,OF,PF,$T,pF,fF],styles:["#q[_ngcontent-%COMP%]{margin-top:20px}#box[_ngcontent-%COMP%]{margin-top:10px;min-width:150px;max-width:500px;padding:20px;color:#fff;display:flex;flex-direction:column}#f-[_ngcontent-%COMP%]{display:flex;margin-bottom:10px}#f-[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{width:150px}#name[_ngcontent-%COMP%]{max-width:150px;margin-right:20px}.mat-button-toggle-checked[_ngcontent-%COMP%]{border:2px solid black}.mat-button-toggle-group[_ngcontent-%COMP%]{margin-bottom:20px;width:-moz-fit-content;width:fit-content}.mat-button-toggle[_ngcontent-%COMP%]{background-color:#ffffff21}#sex[_ngcontent-%COMP%]{font-size:20px}mat-hint[_ngcontent-%COMP%]{color:#ff3737}#opcjonalnie[_ngcontent-%COMP%]{color:#f0f8ff}a[_ngcontent-%COMP%]{color:#fff6;margin-top:10px}"]}),n})();function mz(n,t){if(1&n&&(s.TgZ(0,"mat-hint"),s._uU(1),s.qZA()),2&n){const e=s.oxw();s.xp6(1),s.Oqu(e.error)}}function gz(n,t){if(1&n&&(s.TgZ(0,"mat-hint"),s._uU(1),s.qZA()),2&n){const e=s.oxw();s.xp6(1),s.Oqu(e.error)}}function _z(n,t){if(1&n&&(s.TgZ(0,"mat-hint"),s._uU(1),s.qZA()),2&n){const e=s.oxw();s.xp6(1),s.Oqu(e.error)}}let yz=(()=>{class n{constructor(e,i,r){this.dialogRef=e,this.data=i,this.userService=r,this.error=""}inError(e){return this.error.toLowerCase().includes(e)}onNoClick(){this.dialogRef.close()}update(){this.checkForm2()&&(this.data.uid?this.userService.update(this.data.nickname,this.data.about,this.data.socialLink).then(e=>this.onNoClick()):this.onNoClick())}checkForm2(){return this.error="",void 0===this.data.nickname?(this.error="Pseudonim jest wymagany",!1):this.data.nickname.length>15?(this.error="Pseudonim jest za d\u0142ugi",!1):this.data.nickname.length<3?(this.error="Pseudonim jest za kr\xf3tki",!1):void 0===this.data.about?(this.error="Opis jest wymagany",!1):this.data.about.length>100?(this.error="Opis jest za d\u0142ugi",!1):this.data.about.length<10?(this.error="Opis jest za kr\xf3tki",!1):this.data.socialLink&&!this.data.socialLink.includes(".")?(this.error="Link powinnien zawiera\u0107 kropk\u0119",!1):this.data.socialLink&&this.data.socialLink.length<5?(this.error="Link za kr\xf3tki",!1):!(this.data.socialLink&&this.data.socialLink.length>40&&(this.error="Link za d\u0142ugi",1))}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(pC),s.Y36(_F),s.Y36(Ly))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-edit-dialog"]],decls:29,vars:7,consts:[["mat-dialog-title",""],["mat-dialog-content",""],["appearance","fill"],["matPrefix",""],["matInput","","type","text","placeholder","",3,"ngModel","ngModelChange"],[4,"ngIf"],["matInput","","type","text",3,"ngModel","ngModelChange"],["id","opcjonalnie","align","end"],["matInput","","type","url",3,"ngModel","ngModelChange"],["mat-dialog-actions",""],["mat-button","","color","accent",3,"click"],["mat-button","","color","warn",3,"click"]],template:function(e,i){1&e&&(s.TgZ(0,"h1",0),s._uU(1,"Edytowanie profilu"),s.qZA(),s.TgZ(2,"div",1)(3,"mat-form-field",2)(4,"mat-label"),s._uU(5,"Pseudonim"),s.qZA(),s.TgZ(6,"span",3),s._uU(7,"# \xa0"),s.qZA(),s.TgZ(8,"input",4),s.NdJ("ngModelChange",function(o){return i.data.nickname=o}),s.qZA(),s.YNc(9,mz,2,1,"mat-hint",5),s.qZA(),s.TgZ(10,"mat-form-field",2)(11,"mat-label"),s._uU(12,"O tobie"),s.qZA(),s.TgZ(13,"textarea",6),s.NdJ("ngModelChange",function(o){return i.data.about=o}),s.qZA(),s.YNc(14,gz,2,1,"mat-hint",5),s.TgZ(15,"mat-hint",7),s._uU(16),s.qZA()(),s.TgZ(17,"mat-form-field",2)(18,"mat-label"),s._uU(19,"Social link*"),s.qZA(),s.TgZ(20,"input",8),s.NdJ("ngModelChange",function(o){return i.data.socialLink=o}),s.qZA(),s.TgZ(21,"mat-hint",7),s._uU(22,"*opcjonalnie"),s.qZA(),s.YNc(23,_z,2,1,"mat-hint",5),s.qZA()(),s.TgZ(24,"div",9)(25,"button",10),s.NdJ("click",function(){return i.update()}),s._uU(26,"UAKTUALNIJ"),s.qZA(),s.TgZ(27,"button",11),s.NdJ("click",function(){return i.onNoClick()}),s._uU(28,"ANULUJ"),s.qZA()()),2&e&&(s.xp6(8),s.Q6J("ngModel",i.data.nickname),s.xp6(1),s.Q6J("ngIf",i.inError("pseudonim")),s.xp6(4),s.Q6J("ngModel",i.data.about),s.xp6(1),s.Q6J("ngIf",i.inError("opis")),s.xp6(2),s.hij("",i.data.about.length,"/100"),s.xp6(4),s.Q6J("ngModel",i.data.socialLink),s.xp6(3),s.Q6J("ngIf",i.inError("link")))},directives:[Mk,xk,cg,lg,BP,Ky,Td,dg,hg,Fn,oC,kk,Yo],styles:[""]}),n})();function vz(n,t){1&n&&s._UZ(0,"app-up-bar",13)}function bz(n,t){1&n&&s._UZ(0,"app-up-bar",14)}function wz(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"button",15),s.NdJ("click",function(){return s.CHM(e),s.oxw().addFriend()}),s.TgZ(1,"mat-icon"),s._uU(2,"person_add"),s.qZA()()}}function Cz(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"button",15),s.NdJ("click",function(){return s.CHM(e),s.oxw().openDialog()}),s.TgZ(1,"mat-icon"),s._uU(2,"edit"),s.qZA()()}}function Ez(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"button",16),s.NdJ("click",function(){return s.CHM(e),s.oxw().logout()}),s.TgZ(1,"mat-icon"),s._uU(2,"exit_to_app"),s.qZA()()}}function Dz(n,t){if(1&n&&(s.TgZ(0,"button",19),s._uU(1),s.qZA()),2&n){const e=t.$implicit,i=s.oxw(2);s.Q6J("routerLink","/event/"+e[0]),s.xp6(1),s.AsE("",e[2]," ",i.convertEventName(e[1]),"")}}function Az(n,t){if(1&n&&(s.TgZ(0,"div",17),s._uU(1,"Nadchodz\u0105ce przegl\u0105dane wydarzenia: "),s.YNc(2,Dz,2,3,"button",18),s.qZA()),2&n){const e=s.oxw();s.xp6(2),s.Q6J("ngForOf",e.upcomingEvents)}}function Tz(n,t){if(1&n&&(s.TgZ(0,"button",19),s._uU(1),s.qZA()),2&n){const e=t.$implicit,i=s.oxw(2);s.Q6J("routerLink","/event/"+e[0]),s.xp6(1),s.AsE("",e[2]," ",i.convertEventName(e[1]),"")}}function Iz(n,t){if(1&n&&(s.TgZ(0,"div",17),s._uU(1,"Stworzone wydarzenia: "),s.YNc(2,Tz,2,3,"button",18),s.qZA()),2&n){const e=s.oxw();s.xp6(2),s.Q6J("ngForOf",e.userEvents)}}function Sz(n,t){if(1&n&&(s.TgZ(0,"button",19),s._uU(1),s.qZA()),2&n){const e=t.$implicit,i=s.oxw(2);s.Q6J("routerLink","/event/"+e[0]),s.xp6(1),s.AsE("",e[2]," ",i.convertEventName(e[1]),"")}}function Mz(n,t){if(1&n&&(s.TgZ(0,"div",17),s._uU(1,"Twoje przesz\u0142e wydarzenia: "),s.YNc(2,Sz,2,3,"button",18),s.qZA()),2&n){const e=s.oxw();s.xp6(2),s.Q6J("ngForOf",e.pastUserEvents)}}function xz(n,t){1&n&&(s.TgZ(0,"button",20),s._uU(1,"Stw\xf3rz wydarzenie"),s.qZA())}function kz(n,t){1&n&&s._UZ(0,"mat-progress-spinner",21)}const Rz=[{path:"",redirectTo:"user/signin",pathMatch:"full"},{path:"event/form",component:g4},{path:"event/:id",component:$4},{path:"user/login",component:Y4},{path:"user/signin",component:pz},{path:"user/:id",component:(()=>{class n{constructor(e,i,r,o,u,h,_){this.route=e,this.userService=i,this.router=r,this.authService=o,this._snackBar=u,this.dialog=h,this.eventService=_,this.loading=!1,this.isYourAccount=!1,this.isLogin=!1,this.upcomingEvents=[],this.pastUserEvents=[],this.userEvents=[]}ngOnInit(){this.route.params.pipe((0,mt.U)(e=>e.id)).pipe(Sn(e=>e?this.authService.subUid():(this.router.navigate(["/page-not-found"]),is.E))).subscribe(e=>this.loadAuth(e)),this.route.params.pipe((0,mt.U)(e=>e.id)).pipe(Sn(e=>e?this.userService.subUserData(e):is.E)).subscribe(e=>{this.loadUser(e)})}loadUser(e){e?(this.user=e,0==this.loading&&(this.loading=!0,this.setEvents().then(i=>this.loading=!1))):this.router.navigate(["/page-not-found"])}loadAuth(e){let i=this.route.snapshot.paramMap.get("id");this.isLogin=!!e,this.isYourAccount=!(!e||e!=i)}setEvents(){var e=this;return(0,be.Z)(function*(){var i,r,o,u,h,_,b,T;if(e.pastUserEvents=[],e.userEvents=[],e.upcomingEvents=[],console.log("Setting events"),null===(h=e.user)||void 0===h?void 0:h.createdEventsID)try{for(var N,M=(0,po.KL)(null===(_=e.user)||void 0===_?void 0:_.createdEventsID);!(N=yield M.next()).done;){const fe=N.value;let Te=yield e.eventService.getEventBasics(fe);Te&&(Te.when.toDate()<new Date?e.isYourAccount&&e.pastUserEvents.push([fe,Te.name,Te.emoji]):e.userEvents.push([fe,Te.name,Te.emoji]))}}catch(fe){i={error:fe}}finally{try{N&&!N.done&&(r=M.return)&&(yield r.call(M))}finally{if(i)throw i.error}}if(e.isYourAccount&&(null===(b=e.user)||void 0===b?void 0:b.eventsID))try{for(var Y,j=(0,po.KL)(null===(T=e.user)||void 0===T?void 0:T.eventsID);!(Y=yield j.next()).done;){const fe=Y.value;let Te=yield e.eventService.getEventBasics(fe);Te&&Te.when.toDate()>new Date&&e.upcomingEvents.push([fe,Te.name,Te.emoji])}}catch(fe){o={error:fe}}finally{try{Y&&!Y.done&&(u=j.return)&&(yield u.call(j))}finally{if(o)throw o.error}}})()}convertEventName(e){return e.length>=20?e.slice(0,15)+"...":e}calculateAge(e){if(e){let i=Math.abs(Date.now()-e.toDate().getTime());return Math.floor(i/864e5/365.25)}return 0}logout(){this.authService.logout().then(e=>this._snackBar.open("Pomy\u015blnie wylogowano","OK"))}addFriend(){this._snackBar.open("Wkr\xf3tce... ","\u{1f92b}")}sexToEmoji(e){if(!e)return"";switch(e){case"m":return"\u{1f466}\u{1f3fd}";case"f":return"\u{1f469}\u{1f3fd}";case"r":return"\u{1f92b}";case"n":return"\u274c"}}openDialog(){var e,i,r;this.dialog.open(yz,{data:{uid:this.authService.uid,nickname:null===(e=this.user)||void 0===e?void 0:e.nickname,about:null===(i=this.user)||void 0===i?void 0:i.about,socialLink:null===(r=this.user)||void 0===r?void 0:r.socialLink}})}get getLink(){var e,i;return null===(i=null===(e=this.user)||void 0===e?void 0:e.socialLink)||void 0===i?void 0:i.split(".",2)[1]}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Vo),s.Y36(Ly),s.Y36(Ei),s.Y36(qm),s.Y36(iC),s.Y36(GT),s.Y36(UM))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-user"]],decls:22,vars:17,consts:[["title","Twoje konto",4,"ngIf"],["title","U\u017cytkownik",4,"ngIf"],["id","upleft"],["mat-mini-fab","","color","accent",3,"click",4,"ngIf"],["mat-mini-fab","","color","warn",3,"click",4,"ngIf"],["id","box"],["id","name"],["id","toright"],[3,"href"],["id","eventlinks",4,"ngIf"],["id","newevent"],["mat-raised-button","","color","accent","routerLink","/event/form",4,"ngIf"],["color","accent","mode","indeterminate",4,"ngIf"],["title","Twoje konto"],["title","U\u017cytkownik"],["mat-mini-fab","","color","accent",3,"click"],["mat-mini-fab","","color","warn",3,"click"],["id","eventlinks"],["id","eventlink","mat-raised-button","",3,"routerLink",4,"ngFor","ngForOf"],["id","eventlink","mat-raised-button","",3,"routerLink"],["mat-raised-button","","color","accent","routerLink","/event/form"],["color","accent","mode","indeterminate"]],template:function(e,i){1&e&&(s.YNc(0,vz,1,0,"app-up-bar",0),s.YNc(1,bz,1,0,"app-up-bar",1),s.TgZ(2,"div",2),s.YNc(3,wz,3,0,"button",3),s.YNc(4,Cz,3,0,"button",3),s.YNc(5,Ez,3,0,"button",4),s.qZA(),s.TgZ(6,"div",5)(7,"div",6)(8,"b"),s._uU(9),s.qZA()(),s.TgZ(10,"div",7),s._uU(11),s.qZA(),s.TgZ(12,"div"),s._uU(13),s.qZA(),s.TgZ(14,"a",8),s._uU(15),s.qZA()(),s.YNc(16,Az,3,1,"div",9),s.YNc(17,Iz,3,1,"div",9),s.YNc(18,Mz,3,1,"div",9),s.TgZ(19,"div",10),s.YNc(20,xz,2,0,"button",11),s.qZA(),s.YNc(21,kz,1,0,"mat-progress-spinner",12)),2&e&&(s.Q6J("ngIf",i.isYourAccount),s.xp6(1),s.Q6J("ngIf",!i.isYourAccount),s.xp6(2),s.Q6J("ngIf",i.isLogin&&!i.isYourAccount),s.xp6(1),s.Q6J("ngIf",i.isYourAccount&&i.isLogin),s.xp6(1),s.Q6J("ngIf",i.isYourAccount&&i.isLogin),s.xp6(4),s.Oqu(null==i.user?null:i.user.nickname),s.xp6(2),s.lnq("",null==i.user?null:i.user.name," ",i.calculateAge(null==i.user?null:i.user.birthdate)," ",i.sexToEmoji(null==i.user?null:i.user.sex),""),s.xp6(2),s.Oqu(null==i.user?null:i.user.about),s.xp6(1),s.Q6J("href",null==i.user?null:i.user.socialLink,s.LSH),s.xp6(1),s.Oqu(i.getLink),s.xp6(1),s.Q6J("ngIf",0!=i.upcomingEvents.length),s.xp6(1),s.Q6J("ngIf",0!=i.userEvents.length),s.xp6(1),s.Q6J("ngIf",0!=i.pastUserEvents.length),s.xp6(2),s.Q6J("ngIf",i.isYourAccount),s.xp6(1),s.Q6J("ngIf",i.loading))},directives:[Fn,Zy,Yo,Yy,$n,$g,qc],styles:["#box[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;background-color:#f2fff0a6;padding:20px}#name[_ngcontent-%COMP%]{color:gold;font-size:7vmax;margin-bottom:2vmax;margin-top:-20px;text-shadow:rgb(0,0,0) 5px -5px}#upleft[_ngcontent-%COMP%]{height:60px;display:flex}#upleft[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:first-child{margin-left:auto}#upleft[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{margin-top:10px;margin-bottom:10px;margin-right:10px}#toright[_ngcontent-%COMP%]{width:100%;text-align:end}mat-progress-spinner[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}#eventlinks[_ngcontent-%COMP%]{margin:10px 0;background-color:#f2fff0a6;padding:10px}#eventlink[_ngcontent-%COMP%]{margin:10px}#newevent[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;padding:20px}"]}),n})()},{path:"**",component:Z4}];let Oz=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[vp.forRoot(Rz)],vp]}),n})(),Pz=(()=>{class n{constructor(){this.title="placeyoapp"}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-root"]],decls:1,vars:0,template:function(e,i){1&e&&s._UZ(0,"router-outlet")},directives:[Pu],styles:[""]}),n})();const NF="firebasestorage.googleapis.com",FF="storageBucket";class Vi extends Pt.ZR{constructor(t,e){super(Nk(t),`Firebase Storage: ${e} (${Nk(t)})`),this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Vi.prototype)}_codeEquals(t){return Nk(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}function Nk(n){return"storage/"+n}function Fk(){return new Vi("unknown","An unknown error occurred, please check the error payload for server response.")}function LF(){return new Vi("canceled","User canceled the upload/download.")}function VF(){return new Vi("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function ev(n){return new Vi("invalid-argument",n)}function BF(){return new Vi("app-deleted","The Firebase app was deleted.")}function UF(n){return new Vi("invalid-root-operation","The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function _C(n,t){return new Vi("invalid-format","String does not match format '"+n+"': "+t)}function yC(n){throw new Vi("internal-error","Internal error: "+n)}class Rs{constructor(t,e){this.bucket=t,this.path_=e}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,e){let i;try{i=Rs.makeFromUrl(t,e)}catch(r){return new Rs(t,"")}if(""===i.path)return i;throw function $z(n){return new Vi("invalid-default-bucket","Invalid default bucket '"+n+"'.")}(t)}static makeFromUrl(t,e){let i=null;const r="([A-Za-z0-9.\\-_]+)",h=new RegExp("^gs://"+r+"(/(.*))?$","i");function b(Ye){Ye.path_=decodeURIComponent(Ye.path)}const M=e.replace(/[.]/g,"\\."),ht=[{regex:h,indices:{bucket:1,path:3},postModify:function o(Ye){"/"===Ye.path.charAt(Ye.path.length-1)&&(Ye.path_=Ye.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${M}/v[A-Za-z0-9_]+/b/${r}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:b},{regex:new RegExp(`^https?://${e===NF?"(?:storage.googleapis.com|storage.cloud.google.com)":e}/${r}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:b}];for(let Ye=0;Ye<ht.length;Ye++){const St=ht[Ye],_t=St.regex.exec(t);if(_t){let et=_t[St.indices.path];et||(et=""),i=new Rs(_t[St.indices.bucket],et),St.postModify(i);break}}if(null==i)throw function zz(n){return new Vi("invalid-url","Invalid URL '"+n+"'.")}(t);return i}}class Zz{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}}function KT(n){return"string"==typeof n||n instanceof String}function jF(n){return Lk()&&n instanceof Blob}function Lk(){return"undefined"!=typeof Blob}function Vk(n,t,e,i){if(i<t)throw ev(`Invalid value for '${n}'. Expected ${t} or greater.`);if(i>e)throw ev(`Invalid value for '${n}'. Expected ${e} or less.`)}function kd(n,t,e){let i=t;return null==e&&(i=`https://${t}`),`${e}://${i}/v0${n}`}function HF(n){const t=encodeURIComponent;let e="?";for(const i in n)n.hasOwnProperty(i)&&(e=e+(t(i)+"=")+t(n[i])+"&");return e=e.slice(0,-1),e}var Vf=(()=>(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"}(Vf||(Vf={})),Vf))();class e${constructor(t,e,i,r,o,u,h,_,b,T,M){this.url_=t,this.method_=e,this.headers_=i,this.body_=r,this.successCodes_=o,this.additionalRetryCodes_=u,this.callback_=h,this.errorCallback_=_,this.timeout_=b,this.progressCallback_=T,this.connectionFactory_=M,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((N,j)=>{this.resolve_=N,this.reject_=j,this.start_()})}start_(){const e=(i,r)=>{const o=this.resolve_,u=this.reject_,h=r.connection;if(r.wasSuccessCode)try{const _=this.callback_(h,h.getResponse());!function Qz(n){return void 0!==n}(_)?o():o(_)}catch(_){u(_)}else if(null!==h){const _=Fk();_.serverResponse=h.getErrorText(),u(this.errorCallback_?this.errorCallback_(h,_):_)}else u(r.canceled?this.appDelete_?BF():LF():function Hz(){return new Vi("retry-limit-exceeded","Max retry time for operation exceeded, please try again.")}())};this.canceled_?e(0,new QT(!1,null,!0)):this.backoffId_=function Wz(n,t,e){let i=1,r=null,o=null,u=!1,h=0;function _(){return 2===h}let b=!1;function T(...Te){b||(b=!0,t.apply(null,Te))}function M(Te){r=setTimeout(()=>{r=null,n(j,_())},Te)}function N(){o&&clearTimeout(o)}function j(Te,...Qe){if(b)return void N();if(Te)return N(),void T.call(null,Te,...Qe);if(_()||u)return N(),void T.call(null,Te,...Qe);let ht;i<64&&(i*=2),1===h?(h=2,ht=0):ht=1e3*(i+Math.random()),M(ht)}let Y=!1;function fe(Te){Y||(Y=!0,N(),!b&&(null!==r?(Te||(h=2),clearTimeout(r),M(0)):Te||(h=1)))}return M(0),o=setTimeout(()=>{u=!0,fe(!0)},e),fe}((i,r)=>{if(r)return void i(!1,new QT(!1,null,!0));const o=this.connectionFactory_();this.pendingConnection_=o;const u=h=>{null!==this.progressCallback_&&this.progressCallback_(h.loaded,h.lengthComputable?h.total:-1)};null!==this.progressCallback_&&o.addUploadProgressListener(u),o.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&o.removeUploadProgressListener(u),this.pendingConnection_=null;const h=o.getErrorCode()===Vf.NO_ERROR,_=o.getStatus();if(!h||this.isRetryStatusCode_(_)){const T=o.getErrorCode()===Vf.ABORT;return void i(!1,new QT(!1,null,T))}const b=-1!==this.successCodes_.indexOf(_);i(!0,new QT(b,o))})},e,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,null!==this.backoffId_&&function Kz(n){n(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}isRetryStatusCode_(t){const e=t>=500&&t<600,r=-1!==[408,429].indexOf(t),o=-1!==this.additionalRetryCodes_.indexOf(t);return e||r||o}}class QT{constructor(t,e,i){this.wasSuccessCode=t,this.connection=e,this.canceled=!!i}}function a$(...n){const t=function o$(){return"undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}();if(void 0!==t){const e=new t;for(let i=0;i<n.length;i++)e.append(n[i]);return e.getBlob()}if(Lk())return new Blob(n);throw new Vi("unsupported-environment","This browser doesn't seem to support creating Blobs")}const Sa={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Bk{constructor(t,e){this.data=t,this.contentType=e||null}}function Uk(n,t){switch(n){case Sa.RAW:return new Bk(zF(t));case Sa.BASE64:case Sa.BASE64URL:return new Bk($F(n,t));case Sa.DATA_URL:return new Bk(function d$(n){const t=new GF(n);return t.base64?$F(Sa.BASE64,t.rest):function u$(n){let t;try{t=decodeURIComponent(n)}catch(e){throw _C(Sa.DATA_URL,"Malformed data URL.")}return zF(t)}(t.rest)}(t),function h$(n){return new GF(n).contentType}(t))}throw Fk()}function zF(n){const t=[];for(let e=0;e<n.length;e++){let i=n.charCodeAt(e);i<=127?t.push(i):i<=2047?t.push(192|i>>6,128|63&i):55296==(64512&i)?e<n.length-1&&56320==(64512&n.charCodeAt(e+1))?(i=65536|(1023&i)<<10|1023&n.charCodeAt(++e),t.push(240|i>>18,128|i>>12&63,128|i>>6&63,128|63&i)):t.push(239,191,189):56320==(64512&i)?t.push(239,191,189):t.push(224|i>>12,128|i>>6&63,128|63&i)}return new Uint8Array(t)}function $F(n,t){switch(n){case Sa.BASE64:{const r=-1!==t.indexOf("-"),o=-1!==t.indexOf("_");if(r||o)throw _C(n,"Invalid character '"+(r?"-":"_")+"' found: is it base64url encoded?");break}case Sa.BASE64URL:{const r=-1!==t.indexOf("+"),o=-1!==t.indexOf("/");if(r||o)throw _C(n,"Invalid character '"+(r?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let e;try{e=function c$(n){return atob(n)}(t)}catch(r){throw _C(n,"Invalid character found")}const i=new Uint8Array(e.length);for(let r=0;r<e.length;r++)i[r]=e.charCodeAt(r);return i}class GF{constructor(t){this.base64=!1,this.contentType=null;const e=t.match(/^data:([^,]+)?,/);if(null===e)throw _C(Sa.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const i=e[1]||null;null!=i&&(this.base64=function f$(n,t){return n.length>=t.length&&n.substring(n.length-t.length)===t}(i,";base64"),this.contentType=this.base64?i.substring(0,i.length-7):i),this.rest=t.substring(t.indexOf(",")+1)}}class Yc{constructor(t,e){let i=0,r="";jF(t)?(this.data_=t,i=t.size,r=t.type):t instanceof ArrayBuffer?(e?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),i=this.data_.length):t instanceof Uint8Array&&(e?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),i=t.length),this.size_=i,this.type_=r}size(){return this.size_}type(){return this.type_}slice(t,e){if(jF(this.data_)){const r=function l$(n,t,e){return n.webkitSlice?n.webkitSlice(t,e):n.mozSlice?n.mozSlice(t,e):n.slice?n.slice(t,e):null}(this.data_,t,e);return null===r?null:new Yc(r)}{const i=new Uint8Array(this.data_.buffer,t,e-t);return new Yc(i,!0)}}static getBlob(...t){if(Lk()){const e=t.map(i=>i instanceof Yc?i.data_:i);return new Yc(a$.apply(null,e))}{const e=t.map(u=>KT(u)?Uk(Sa.RAW,u).data:u.data_);let i=0;e.forEach(u=>{i+=u.byteLength});const r=new Uint8Array(i);let o=0;return e.forEach(u=>{for(let h=0;h<u.length;h++)r[o++]=u[h]}),new Yc(r,!0)}}uploadData(){return this.data_}}function jk(n){let t;try{t=JSON.parse(n)}catch(e){return null}return function Xz(n){return"object"==typeof n&&!Array.isArray(n)}(t)?t:null}function qF(n){const t=n.lastIndexOf("/",n.length-2);return-1===t?n:n.slice(t+1)}function g$(n,t){return t}class mo{constructor(t,e,i,r){this.server=t,this.local=e||t,this.writable=!!i,this.xform=r||g$}}let JT=null;function vC(){if(JT)return JT;const n=[];n.push(new mo("bucket")),n.push(new mo("generation")),n.push(new mo("metageneration")),n.push(new mo("name","fullPath",!0));const e=new mo("name");e.xform=function t(o,u){return function _$(n){return!KT(n)||n.length<2?n:qF(n)}(u)},n.push(e);const r=new mo("size");return r.xform=function i(o,u){return void 0!==u?Number(u):u},n.push(r),n.push(new mo("timeCreated")),n.push(new mo("updated")),n.push(new mo("md5Hash",null,!0)),n.push(new mo("cacheControl",null,!0)),n.push(new mo("contentDisposition",null,!0)),n.push(new mo("contentEncoding",null,!0)),n.push(new mo("contentLanguage",null,!0)),n.push(new mo("contentType",null,!0)),n.push(new mo("metadata","customMetadata",!0)),JT=n,JT}function YF(n,t,e){const i=jk(t);return null===i?null:function v$(n,t,e){const i={type:"file"},r=e.length;for(let o=0;o<r;o++){const u=e[o];i[u.local]=u.xform(i,t[u.server])}return function y$(n,t){Object.defineProperty(n,"ref",{get:function e(){const o=new Rs(n.bucket,n.fullPath);return t._makeStorageReference(o)}})}(i,n),i}(n,i,e)}function Hk(n,t){const e={},i=t.length;for(let r=0;r<i;r++){const o=t[r];o.writable&&(e[o.server]=n[o.local])}return JSON.stringify(e)}const ZF="prefixes";class Zc{constructor(t,e,i,r){this.url=t,this.method=e,this.handler=i,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function Wc(n){if(!n)throw Fk()}function XT(n,t){return function e(i,r){const o=YF(n,r,t);return Wc(null!==o),o}}function tv(n){return function t(e,i){let r;return r=401===e.getStatus()?e.getErrorText().includes("Firebase App Check token is invalid")?function Uz(){return new Vi("unauthorized-app","This app does not have permission to access Firebase Storage on this project.")}():function Bz(){return new Vi("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===e.getStatus()?function Vz(n){return new Vi("quota-exceeded","Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(n.bucket):403===e.getStatus()?function jz(n){return new Vi("unauthorized","User does not have permission to access '"+n+"'.")}(n.path):i,r.serverResponse=i.serverResponse,r}}function bC(n){const t=tv(n);return function e(i,r){let o=t(i,r);return 404===i.getStatus()&&(o=function Lz(n){return new Vi("object-not-found","Object '"+n+"' does not exist.")}(n.path)),o.serverResponse=r.serverResponse,o}}function KF(n,t,e){const r=kd(t.fullServerUrl(),n.host,n._protocol),u=n.maxOperationRetryTime,h=new Zc(r,"GET",XT(n,e),u);return h.errorHandler=bC(t),h}function A$(n,t,e,i,r){const o={};o.prefix=t.isRoot?"":t.path+"/",e&&e.length>0&&(o.delimiter=e),i&&(o.pageToken=i),r&&(o.maxResults=r);const h=kd(t.bucketOnlyServerUrl(),n.host,n._protocol),b=n.maxOperationRetryTime,T=new Zc(h,"GET",function E$(n,t){return function e(i,r){const o=function C$(n,t,e){const i=jk(e);return null===i?null:function w$(n,t,e){const i={prefixes:[],items:[],nextPageToken:e.nextPageToken};if(e[ZF])for(const r of e[ZF]){const o=r.replace(/\/$/,""),u=n._makeStorageReference(new Rs(t,o));i.prefixes.push(u)}if(e.items)for(const r of e.items){const o=n._makeStorageReference(new Rs(t,r.name));i.items.push(o)}return i}(n,t,i)}(n,t,r);return Wc(null!==o),o}}(n,t.bucket),b);return T.urlParams=o,T.errorHandler=tv(t),T}function JF(n,t,e){const i=Object.assign({},e);return i.fullPath=n.path,i.size=t.size(),i.contentType||(i.contentType=function M$(n,t){return n&&n.contentType||t&&t.type()||"application/octet-stream"}(null,t)),i}class eI{constructor(t,e,i,r){this.current=t,this.total=e,this.finalized=!!i,this.metadata=r||null}}function zk(n,t){let e=null;try{e=n.getResponseHeader("X-Goog-Upload-Status")}catch(r){Wc(!1)}return Wc(!!e&&-1!==(t||["active"]).indexOf(e)),e}const O$={STATE_CHANGED:"state_changed"},go={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function $k(n){switch(n){case"running":case"pausing":case"canceling":return go.RUNNING;case"paused":return go.PAUSED;case"success":return go.SUCCESS;case"canceled":return go.CANCELED;default:return go.ERROR}}class P${constructor(t,e,i){if(function Jz(n){return"function"==typeof n}(t)||null!=e||null!=i)this.next=t,this.error=null!=e?e:void 0,this.complete=null!=i?i:void 0;else{const o=t;this.next=o.next,this.error=o.error,this.complete=o.complete}}}function nv(n){return(...t)=>{Promise.resolve().then(()=>n(...t))}}class F$ extends class N${constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Vf.NO_ERROR,this.sendPromise_=new Promise(t=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Vf.ABORT,t()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Vf.NETWORK_ERROR,t()}),this.xhr_.addEventListener("load",()=>{t()})})}send(t,e,i,r){if(this.sent_)throw yC("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(e,t,!0),void 0!==r)for(const o in r)r.hasOwnProperty(o)&&this.xhr_.setRequestHeader(o,r[o].toString());return void 0!==i?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw yC("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw yC("cannot .getStatus() before sending");try{return this.xhr_.status}catch(t){return-1}}getResponse(){if(!this.sent_)throw yC("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw yC("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(t){return this.xhr_.getResponseHeader(t)}addUploadProgressListener(t){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",t)}removeUploadProgressListener(t){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",t)}}{initXhr(){this.xhr_.responseType="text"}}function jl(){return new F$}class nL{constructor(t,e,i=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=t,this._blob=e,this._metadata=i,this._mappings=vC(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=r=>{this._request=void 0,this._chunkMultiplier=1,r._codeEquals("canceled")?(this._needToFetchStatus=!0,this.completeTransitions_()):(this._error=r,this._transition("error"))},this._metadataErrorHandler=r=>{this._request=void 0,r._codeEquals("canceled")?this.completeTransitions_():(this._error=r,this._transition("error"))},this._promise=new Promise((r,o)=>{this._resolve=r,this._reject=o,this._start()}),this._promise.then(null,()=>{})}_makeProgressCallback(){const t=this._transferred;return e=>this._updateProgress(t+e)}_shouldDoResumable(t){return t.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())}_resolveToken(t){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([e,i])=>{switch(this._state){case"running":t(e,i);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((t,e)=>{const i=function x$(n,t,e,i,r){const o=t.bucketOnlyServerUrl(),u=JF(t,i,r),h={name:u.fullPath},_=kd(o,n.host,n._protocol),T={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${i.size()}`,"X-Goog-Upload-Header-Content-Type":u.contentType,"Content-Type":"application/json; charset=utf-8"},M=Hk(u,e),Y=new Zc(_,"POST",function j(fe){let Te;zk(fe);try{Te=fe.getResponseHeader("X-Goog-Upload-URL")}catch(Qe){Wc(!1)}return Wc(KT(Te)),Te},n.maxUploadRetryTime);return Y.urlParams=h,Y.headers=T,Y.body=M,Y.errorHandler=tv(t),Y}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),r=this._ref.storage._makeRequest(i,jl,t,e);this._request=r,r.getPromise().then(o=>{this._request=void 0,this._uploadUrl=o,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const t=this._uploadUrl;this._resolveToken((e,i)=>{const r=function k$(n,t,e,i){const _=new Zc(e,"POST",function o(b){const T=zk(b,["active","final"]);let M=null;try{M=b.getResponseHeader("X-Goog-Upload-Size-Received")}catch(j){Wc(!1)}M||Wc(!1);const N=Number(M);return Wc(!isNaN(N)),new eI(N,i.size(),"final"===T)},n.maxUploadRetryTime);return _.headers={"X-Goog-Upload-Command":"query"},_.errorHandler=tv(t),_}(this._ref.storage,this._ref._location,t,this._blob),o=this._ref.storage._makeRequest(r,jl,e,i);this._request=o,o.getPromise().then(u=>{u=u,this._request=void 0,this._updateProgress(u.current),this._needToFetchStatus=!1,u.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const t=262144*this._chunkMultiplier,e=new eI(this._transferred,this._blob.size()),i=this._uploadUrl;this._resolveToken((r,o)=>{let u;try{u=function R$(n,t,e,i,r,o,u,h){const _=new eI(0,0);if(u?(_.current=u.current,_.total=u.total):(_.current=0,_.total=i.size()),i.size()!==_.total)throw function qz(){return new Vi("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.")}();const b=_.total-_.current;let T=b;r>0&&(T=Math.min(T,r));const M=_.current,Y={"X-Goog-Upload-Command":T===b?"upload, finalize":"upload","X-Goog-Upload-Offset":`${_.current}`},fe=i.slice(M,M+T);if(null===fe)throw VF();const ht=new Zc(e,"POST",function Te(Ye,St){const _t=zk(Ye,["active","final"]),st=_.current+T,et=i.size();let _n;return _n="final"===_t?XT(t,o)(Ye,St):null,new eI(st,et,"final"===_t,_n)},t.maxUploadRetryTime);return ht.headers=Y,ht.body=fe.uploadData(),ht.progressCallback=h||null,ht.errorHandler=tv(n),ht}(this._ref._location,this._ref.storage,i,this._blob,t,this._mappings,e,this._makeProgressCallback())}catch(_){return this._error=_,void this._transition("error")}const h=this._ref.storage._makeRequest(u,jl,r,o);this._request=h,h.getPromise().then(_=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(_.current),_.finalized?(this._metadata=_.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((t,e)=>{const i=KF(this._ref.storage,this._ref._location,this._mappings),r=this._ref.storage._makeRequest(i,jl,t,e);this._request=r,r.getPromise().then(o=>{this._request=void 0,this._metadata=o,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((t,e)=>{const i=function XF(n,t,e,i,r){const o=t.bucketOnlyServerUrl(),u={"X-Goog-Upload-Protocol":"multipart"},_=function h(){let ht="";for(let Ye=0;Ye<2;Ye++)ht+=Math.random().toString().slice(2);return ht}();u["Content-Type"]="multipart/related; boundary="+_;const b=JF(t,i,r),T=Hk(b,e),j=Yc.getBlob("--"+_+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+T+"\r\n--"+_+"\r\nContent-Type: "+b.contentType+"\r\n\r\n",i,"\r\n--"+_+"--");if(null===j)throw VF();const Y={name:b.fullPath},fe=kd(o,n.host,n._protocol),Qe=n.maxUploadRetryTime,qe=new Zc(fe,"POST",XT(n,e),Qe);return qe.urlParams=Y,qe.headers=u,qe.body=j.uploadData(),qe.errorHandler=tv(t),qe}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),r=this._ref.storage._makeRequest(i,jl,t,e);this._request=r,r.getPromise().then(o=>{this._request=void 0,this._metadata=o,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(t){const e=this._transferred;this._transferred=t,this._transferred!==e&&this._notifyObservers()}_transition(t){if(this._state!==t)switch(t){case"canceling":case"pausing":this._state=t,void 0!==this._request&&this._request.cancel();break;case"running":const e="paused"===this._state;this._state=t,e&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=t,this._notifyObservers();break;case"canceled":this._error=LF(),this._state=t,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const t=$k(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:t,metadata:this._metadata,task:this,ref:this._ref}}on(t,e,i,r){const o=new P$(e||void 0,i||void 0,r||void 0);return this._addObserver(o),()=>{this._removeObserver(o)}}then(t,e){return this._promise.then(t,e)}catch(t){return this.then(null,t)}_addObserver(t){this._observers.push(t),this._notifyObserver(t)}_removeObserver(t){const e=this._observers.indexOf(t);-1!==e&&this._observers.splice(e,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(e=>{this._notifyObserver(e)})}_finishPromise(){if(void 0!==this._resolve){let t=!0;switch($k(this._state)){case go.SUCCESS:nv(this._resolve.bind(null,this.snapshot))();break;case go.CANCELED:case go.ERROR:nv(this._reject.bind(null,this._error))();break;default:t=!1}t&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(t){switch($k(this._state)){case go.RUNNING:case go.PAUSED:t.next&&nv(t.next.bind(t,this.snapshot))();break;case go.SUCCESS:t.complete&&nv(t.complete.bind(t))();break;default:t.error&&nv(t.error.bind(t,this._error))()}}resume(){const t="paused"===this._state||"pausing"===this._state;return t&&this._transition("running"),t}pause(){const t="running"===this._state;return t&&this._transition("pausing"),t}cancel(){const t="running"===this._state||"pausing"===this._state;return t&&this._transition("canceling"),t}}class mg{constructor(t,e){this._service=t,this._location=e instanceof Rs?e:Rs.makeFromUrl(e,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,e){return new mg(t,e)}get root(){const t=new Rs(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return qF(this._location.path)}get storage(){return this._service}get parent(){const t=function p$(n){if(0===n.length)return null;const t=n.lastIndexOf("/");return-1===t?"":n.slice(0,t)}(this._location.path);if(null===t)return null;const e=new Rs(this._location.bucket,t);return new mg(this._service,e)}_throwIfRoot(t){if(""===this._location.path)throw UF(t)}}function rL(n,t,e){return Gk.apply(this,arguments)}function Gk(){return Gk=(0,be.Z)(function*(n,t,e){const r=yield sL(n,{pageToken:e});t.prefixes.push(...r.prefixes),t.items.push(...r.items),null!=r.nextPageToken&&(yield rL(n,t,r.nextPageToken))}),Gk.apply(this,arguments)}function sL(n,t){null!=t&&"number"==typeof t.maxResults&&Vk("options.maxResults",1,1e3,t.maxResults);const e=t||{},i=A$(n.storage,n._location,"/",e.pageToken,e.maxResults);return n.storage.makeRequestWithTokens(i,jl)}function Z$(n){n._throwIfRoot("getDownloadURL");const t=function T$(n,t,e){const r=kd(t.fullServerUrl(),n.host,n._protocol),u=n.maxOperationRetryTime,h=new Zc(r,"GET",function D$(n,t){return function e(i,r){const o=YF(n,r,t);return Wc(null!==o),function b$(n,t,e,i){const r=jk(t);if(null===r||!KT(r.downloadTokens))return null;const o=r.downloadTokens;if(0===o.length)return null;const u=encodeURIComponent;return o.split(",").map(b=>{const M=n.fullPath;return kd("/b/"+u(n.bucket)+"/o/"+u(M),e,i)+HF({alt:"media",token:b})})[0]}(o,r,n.host,n._protocol)}}(n,e),u);return h.errorHandler=bC(t),h}(n.storage,n._location,vC());return n.storage.makeRequestWithTokens(t,jl).then(e=>{if(null===e)throw function Yz(){return new Vi("no-download-url","The given file does not have any download URLs.")}();return e})}function oL(n,t){const e=function m$(n,t){const e=t.split("/").filter(i=>i.length>0).join("/");return 0===n.length?e:n+"/"+e}(n._location.path,t),i=new Rs(n._location.bucket,e);return new mg(n.storage,i)}function aL(n,t){if(n instanceof qk){const e=n;if(null==e._bucket)throw function Gz(){return new Vi("no-default-bucket","No default bucket found. Did you set the '"+FF+"' property when initializing the app?")}();const i=new mg(e,e._bucket);return null!=t?aL(i,t):i}return void 0!==t?oL(n,t):n}function J$(n,t){if(t&&function K$(n){return/^[A-Za-z]+:\/\//.test(n)}(t)){if(n instanceof qk)return function Q$(n,t){return new mg(n,t)}(n,t);throw ev("To use ref(service, url), the first argument must be a Storage instance.")}return aL(n,t)}function lL(n,t){const e=null==t?void 0:t[FF];return null==e?null:Rs.makeFromBucketSpec(e,n)}class qk{constructor(t,e,i,r,o){this.app=t,this._authProvider=e,this._appCheckProvider=i,this._url=r,this._firebaseVersion=o,this._bucket=null,this._host=NF,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=r?Rs.makeFromBucketSpec(r,this._host):lL(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._bucket=null!=this._url?Rs.makeFromBucketSpec(this._url,t):lL(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){Vk("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){Vk("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}_getAuthToken(){var t=this;return(0,be.Z)(function*(){if(t._overrideAuthToken)return t._overrideAuthToken;const e=t._authProvider.getImmediate({optional:!0});if(e){const i=yield e.getToken();if(null!==i)return i.accessToken}return null})()}_getAppCheckToken(){var t=this;return(0,be.Z)(function*(){const e=t._appCheckProvider.getImmediate({optional:!0});return e?(yield e.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new mg(this,t)}_makeRequest(t,e,i,r){if(this._deleted)return new Zz(BF());{const o=function s$(n,t,e,i,r,o){const u=HF(n.urlParams),h=n.url+u,_=Object.assign({},n.headers);return function i$(n,t){t&&(n["X-Firebase-GMPID"]=t)}(_,t),function t$(n,t){null!==t&&t.length>0&&(n.Authorization="Firebase "+t)}(_,e),function n$(n,t){n["X-Firebase-Storage-Version"]="webjs/"+(null!=t?t:"AppManager")}(_,o),function r$(n,t){null!==t&&(n["X-Firebase-AppCheck"]=t)}(_,i),new e$(h,n.method,_,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,r)}(t,this._appId,i,r,e,this._firebaseVersion);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}makeRequestWithTokens(t,e){var i=this;return(0,be.Z)(function*(){const[r,o]=yield Promise.all([i._getAuthToken(),i._getAppCheckToken()]);return i._makeRequest(t,e,r,o).getPromise()})()}}const cL="@firebase/storage";function hL(n,t){return J$(n=(0,Pt.m9)(n),t)}function cG(n,{instanceIdentifier:t}){const e=n.getProvider("app").getImmediate(),i=n.getProvider("auth-internal"),r=n.getProvider("app-check-internal");return new qk(e,i,r,t,Uo.SDK_VERSION)}!function uG(){(0,Uo._registerComponent)(new Dh.wA("storage",cG,"PUBLIC").setMultipleInstances(!0)),(0,Uo.registerVersion)(cL,"0.9.4",""),(0,Uo.registerVersion)(cL,"0.9.4","esm2017")}();class tI{constructor(t,e,i){this._delegate=t,this.task=e,this.ref=i}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class fL{constructor(t,e){this._delegate=t,this._ref=e,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new tI(this._delegate.snapshot,this,this._ref)}then(t,e){return this._delegate.then(i=>{if(t)return t(new tI(i,this,this._ref))},e)}on(t,e,i,r){let o;return e&&(o="function"==typeof e?u=>e(new tI(u,this,this._ref)):{next:e.next?u=>e.next(new tI(u,this,this._ref)):void 0,complete:e.complete||void 0,error:e.error||void 0}),this._delegate.on(t,o,i||void 0,r||void 0)}}class pL{constructor(t,e){this._delegate=t,this._service=e}get prefixes(){return this._delegate.prefixes.map(t=>new Rd(t,this._service))}get items(){return this._delegate.items.map(t=>new Rd(t,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class Rd{constructor(t,e){this._delegate=t,this.storage=e}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(t){const e=function aG(n,t){return oL(n,t)}(this._delegate,t);return new Rd(e,this.storage)}get root(){return new Rd(this._delegate.root,this.storage)}get parent(){const t=this._delegate.parent;return null==t?null:new Rd(t,this.storage)}put(t,e){return this._throwIfRoot("put"),new fL(function eG(n,t,e){return function z$(n,t,e){return n._throwIfRoot("uploadBytesResumable"),new nL(n,new Yc(t),e)}(n=(0,Pt.m9)(n),t,e)}(this._delegate,t,e),this)}putString(t,e=Sa.RAW,i){this._throwIfRoot("putString");const r=Uk(e,t),o=Object.assign({},i);return null==o.contentType&&null!=r.contentType&&(o.contentType=r.contentType),new fL(new nL(this._delegate,new Yc(r.data,!0),o),this)}listAll(){return function rG(n){return function G$(n){const t={prefixes:[],items:[]};return rL(n,t).then(()=>t)}(n=(0,Pt.m9)(n))}(this._delegate).then(t=>new pL(t,this.storage))}list(t){return function iG(n,t){return sL(n=(0,Pt.m9)(n),t)}(this._delegate,t||void 0).then(e=>new pL(e,this.storage))}getMetadata(){return function tG(n){return function q$(n){n._throwIfRoot("getMetadata");const t=KF(n.storage,n._location,vC());return n.storage.makeRequestWithTokens(t,jl)}(n=(0,Pt.m9)(n))}(this._delegate)}updateMetadata(t){return function nG(n,t){return function Y$(n,t){n._throwIfRoot("updateMetadata");const e=function I$(n,t,e,i){const o=kd(t.fullServerUrl(),n.host,n._protocol),h=Hk(e,i),b=n.maxOperationRetryTime,T=new Zc(o,"PATCH",XT(n,i),b);return T.headers={"Content-Type":"application/json; charset=utf-8"},T.body=h,T.errorHandler=bC(t),T}(n.storage,n._location,t,vC());return n.storage.makeRequestWithTokens(e,jl)}(n=(0,Pt.m9)(n),t)}(this._delegate,t)}getDownloadURL(){return function sG(n){return Z$(n=(0,Pt.m9)(n))}(this._delegate)}delete(){return this._throwIfRoot("delete"),function oG(n){return function W$(n){n._throwIfRoot("deleteObject");const t=function S$(n,t){const i=kd(t.fullServerUrl(),n.host,n._protocol),h=new Zc(i,"DELETE",function u(_,b){},n.maxOperationRetryTime);return h.successCodes=[200,204],h.errorHandler=bC(t),h}(n.storage,n._location);return n.storage.makeRequestWithTokens(t,jl)}(n=(0,Pt.m9)(n))}(this._delegate)}_throwIfRoot(t){if(""===this._delegate._location.path)throw UF(t)}}class mL{constructor(t,e){this.app=t,this._delegate=e}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(t){if(gL(t))throw ev("ref() expected a child path but got a URL, use refFromURL instead.");return new Rd(hL(this._delegate,t),this)}refFromURL(t){if(!gL(t))throw ev("refFromURL() expected a full URL but got a child path, use ref() instead.");try{Rs.makeFromUrl(t,this._delegate.host)}catch(e){throw ev("refFromUrl() expected a valid full URL but got an invalid one.")}return new Rd(hL(this._delegate,t),this)}setMaxUploadRetryTime(t){this._delegate.maxUploadRetryTime=t}setMaxOperationRetryTime(t){this._delegate.maxOperationRetryTime=t}useEmulator(t,e,i={}){!function lG(n,t,e,i={}){!function X$(n,t,e,i={}){n.host=`${t}:${e}`,n._protocol="http";const{mockUserToken:r}=i;r&&(n._overrideAuthToken="string"==typeof r?r:(0,Pt.Sg)(r,n.app.options.projectId))}(n,t,e,i)}(this._delegate,t,e,i)}}function gL(n){return/^[A-Za-z]+:\/\//.test(n)}function pG(n,{instanceIdentifier:t}){const e=n.getProvider("app-compat").getImmediate(),i=n.getProvider("storage").getImmediate({identifier:t});return new mL(e,i)}function _L(n){const t=function gG(n){return new Xn.y(t=>{const e=u=>t.next(u);e(n.snapshot);const o=n.on("state_changed",e);return n.then(u=>{e(u),t.complete()},u=>{e(n.snapshot),(u=>{t.error(u)})(u)}),function(){o()}}).pipe(Kw(0))}(n);return{task:n,then:n.then.bind(n),catch:n.catch.bind(n),pause:n.pause.bind(n),cancel:n.cancel.bind(n),resume:n.resume.bind(n),snapshotChanges:()=>t,percentageChanges:()=>t.pipe((0,mt.U)(e=>e.bytesTransferred/e.totalBytes*100))}}function nI(n){return{getDownloadURL:()=>ot(void 0).pipe(yi.fc,Sn(()=>n.getDownloadURL()),yi.iC),getMetadata:()=>ot(void 0).pipe(yi.fc,Sn(()=>n.getMetadata()),yi.iC),delete:()=>(0,Rn.D)(n.delete()),child:t=>nI(n.child(t)),updateMetadata:t=>(0,Rn.D)(n.updateMetadata(t)),put:(t,e)=>_L(n.put(t,e)),putString:(t,e,i)=>_L(n.putString(t,e,i)),list:t=>(0,Rn.D)(n.list(t)),listAll:()=>(0,Rn.D)(n.listAll())}}!function mG(n){const t={TaskState:go,TaskEvent:O$,StringFormat:Sa,Storage:mL,Reference:Rd};n.INTERNAL.registerComponent(new Dh.wA("storage-compat",pG,"PUBLIC").setServiceProps(t).setMultipleInstances(!0)),n.registerVersion("@firebase/storage-compat","0.1.12")}(mR.Z);const _G=new s.OlP("angularfire2.storageBucket"),yG=new s.OlP("angularfire2.storage.maxUploadRetryTime"),vG=new s.OlP("angularfire2.storage.maxOperationRetryTime"),bG=new s.OlP("angularfire2.storage.use-emulator");let wG=(()=>{class n{constructor(e,i,r,o,u,h,_,b,T,M){const N=(0,lo.on)(e,u,i);this.storage=(0,lo.cc)(`${N.name}.storage.${r}`,"AngularFireStorage",N.name,()=>{const j=u.runOutsideAngular(()=>N.storage(r||void 0)),Y=T;return Y&&j.useEmulator(...Y),_&&j.setMaxUploadRetryTime(_),b&&j.setMaxOperationRetryTime(b),j},[_,b])}ref(e){return nI(this.storage.ref(e))}refFromURL(e){return nI(this.storage.refFromURL(e))}upload(e,i,r){return nI(this.storage.ref(e)).put(i,r)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(lo.Dh),s.LFG(lo.xv,8),s.LFG(_G,8),s.LFG(s.Lbi),s.LFG(s.R0b),s.LFG(yi.HU),s.LFG(yG,8),s.LFG(vG,8),s.LFG(bG,8),s.LFG(BA,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),CG=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({}),n})(),EG=(()=>{class n{constructor(){RM.Z.registerVersion("angularfire",yi.q4.full,"gcs-compat")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[wG],imports:[CG]}),n})();const yL_firebaseConfig={apiKey:"AIzaSyCTsuaQgfHZwU8tstsWlqtepsPVhoNxQEk",authDomain:"placeyo.firebaseapp.com",projectId:"placeyo",storageBucket:"placeyo.appspot.com",messagingSenderId:"871397304285",appId:"1:871397304285:web:181e94b359c6ca53633834",measurementId:"G-XRF89SPGNF"};let DG=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n,bootstrap:[Pz]}),n.\u0275inj=s.cJS({providers:[],imports:[[Pa,Oz,zU,Qy.forRoot(),Fj,mk,_k,nC,mF,XU,tz,Hx,O4,_P,vF,lo.hO.initializeApp(yL_firebaseConfig),_V,X2,EG,JH,a4,DF,D4]]}),n})();(0,s.G48)(),ou().bootstrapModule(DG).catch(n=>console.error(n))},4901:He=>{"use strict";var $={single_source_shortest_paths:function(R,s,F){var S={},B={};B[s]=0;var z,H,Q,ie,G,J,V=$.PriorityQueue.make();for(V.push(s,0);!V.empty();)for(Q in ie=(z=V.pop()).cost,G=R[H=z.value]||{})G.hasOwnProperty(Q)&&(J=ie+G[Q],(void 0===B[Q]||B[Q]>J)&&(B[Q]=J,V.push(Q,J),S[Q]=H));if(void 0!==F&&void 0===B[F]){var ke=["Could not find a path from ",s," to ",F,"."].join("");throw new Error(ke)}return S},extract_shortest_path_from_predecessor_list:function(R,s){for(var F=[],S=s;S;)F.push(S),S=R[S];return F.reverse(),F},find_path:function(R,s,F){var S=$.single_source_shortest_paths(R,s,F);return $.extract_shortest_path_from_predecessor_list(S,F)},PriorityQueue:{make:function(R){var S,s=$.PriorityQueue,F={};for(S in R=R||{},s)s.hasOwnProperty(S)&&(F[S]=s[S]);return F.queue=[],F.sorter=R.sorter||s.default_sorter,F},default_sorter:function(R,s){return R.cost-s.cost},push:function(R,s){this.queue.push({value:R,cost:s}),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return 0===this.queue.length}}};He.exports=$},8419:He=>{"use strict";He.exports=function(R){for(var s=[],F=R.length,S=0;S<F;S++){var B=R.charCodeAt(S);if(B>=55296&&B<=56319&&F>S+1){var V=R.charCodeAt(S+1);V>=56320&&V<=57343&&(B=1024*(B-55296)+V-56320+65536,S+=1)}B<128?s.push(B):B<2048?(s.push(B>>6|192),s.push(63&B|128)):B<55296||B>=57344&&B<65536?(s.push(B>>12|224),s.push(B>>6&63|128),s.push(63&B|128)):B>=65536&&B<=1114111?(s.push(B>>18|240),s.push(B>>12&63|128),s.push(B>>6&63|128),s.push(63&B|128)):s.push(239,191,189)}return new Uint8Array(s).buffer}},5867:(He,$,R)=>{"use strict";R.d($,{C6:()=>s.getApps,Mq:()=>s.getApp});var s=R(9681);(0,s.registerVersion)("firebase","9.6.10","app")},127:(He,$,R)=>{"use strict";R.d($,{Z:()=>s.Z});var s=R(3942);s.Z.registerVersion("firebase","9.6.10","app-compat")},4087:(He,$,R)=>{"use strict";R.r($);var s=R(5861),F=R(3942),S=R(2090),B=R(9681),V=R(655),z=R(1877),H=R(4859);const ke=function Me(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},Ve=function _e(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},de=new S.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Le=new z.Yd("@firebase/auth");function Oe(y,...p){Le.logLevel<=z.in.ERROR&&Le.error(`Auth (${B.SDK_VERSION}): ${y}`,...p)}function Ie(y,...p){throw Se(y,...p)}function we(y,...p){return Se(y,...p)}function he(y,p,g){const w=Object.assign(Object.assign({},Ve()),{[p]:g});return new S.LL("auth","Firebase",w).create(p,{appName:y.name})}function Re(y,p,g){if(!(p instanceof g))throw g.name!==p.constructor.name&&Ie(y,"argument-error"),he(y,"argument-error",`Type of ${p.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Se(y,...p){if("string"!=typeof y){const g=p[0],w=[...p.slice(1)];return w[0]&&(w[0].appName=y.name),y._errorFactory.create(g,...w)}return de.create(y,...p)}function ne(y,p,...g){if(!y)throw Se(p,...g)}function te(y){const p="INTERNAL ASSERTION FAILED: "+y;throw Oe(p),new Error(p)}function se(y,p){y||te(p)}const ae=new Map;function le(y){se(y instanceof Function,"Expected a class definition");let p=ae.get(y);return p?(se(p instanceof y,"Instance stored in cache mismatched with class"),p):(p=new y,ae.set(y,p),p)}function Et(){var y;return"undefined"!=typeof self&&(null===(y=self.location)||void 0===y?void 0:y.href)||""}function rn(){return"http:"===Nn()||"https:"===Nn()}function Nn(){var y;return"undefined"!=typeof self&&(null===(y=self.location)||void 0===y?void 0:y.protocol)||null}class sn{constructor(p,g){this.shortDelay=p,this.longDelay=g,se(g>p,"Short delay should be less than long delay!"),this.isMobile=(0,S.uI)()||(0,S.b$)()}get(){return function pt(){return!("undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(rn()||(0,S.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function dn(y,p){se(y.emulator,"Emulator should always be set here");const{url:g}=y.emulator;return p?`${g}${p.startsWith("/")?p.slice(1):p}`:g}class Bi{static initialize(p,g,w){this.fetchImpl=p,g&&(this.headersImpl=g),w&&(this.responseImpl=w)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void te("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void te("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void te("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const hn={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},_r=new sn(3e4,6e4);function tn(y,p){return y.tenantId&&!p.tenantId?Object.assign(Object.assign({},p),{tenantId:y.tenantId}):p}function Nt(y,p,g,w){return Cn.apply(this,arguments)}function Cn(){return(Cn=(0,s.Z)(function*(y,p,g,w,x={}){return ii(y,x,(0,s.Z)(function*(){let L={},oe={};w&&("GET"===p?oe=w:L={body:JSON.stringify(w)});const ve=(0,S.xO)(Object.assign({key:y.config.apiKey},oe)).slice(1),We=yield y._getAdditionalHeaders();return We["Content-Type"]="application/json",y.languageCode&&(We["X-Firebase-Locale"]=y.languageCode),Bi.fetch()(nr(y,y.config.apiHost,g,ve),Object.assign({method:p,headers:We,referrerPolicy:"no-referrer"},L))}))})).apply(this,arguments)}function ii(y,p,g){return kr.apply(this,arguments)}function kr(){return(kr=(0,s.Z)(function*(y,p,g){y._canInitEmulator=!1;const w=Object.assign(Object.assign({},hn),p);try{const x=new Ns(y),L=yield Promise.race([g(),x.promise]);x.clearNetworkTimeout();const oe=yield L.json();if("needConfirmation"in oe)throw Fs(y,"account-exists-with-different-credential",oe);if(L.ok&&!("errorMessage"in oe))return oe;{const ve=L.ok?oe.errorMessage:oe.error.message,[We,rt]=ve.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===We)throw Fs(y,"credential-already-in-use",oe);if("EMAIL_EXISTS"===We)throw Fs(y,"email-already-in-use",oe);const It=w[We]||We.toLowerCase().replace(/[_\s]+/g,"-");if(rt)throw he(y,It,rt);Ie(y,It)}}catch(x){if(x instanceof S.ZR)throw x;Ie(y,"network-request-failed")}})).apply(this,arguments)}function tr(y,p,g,w){return _s.apply(this,arguments)}function _s(){return(_s=(0,s.Z)(function*(y,p,g,w,x={}){const L=yield Nt(y,p,g,w,x);return"mfaPendingCredential"in L&&Ie(y,"multi-factor-auth-required",{_serverResponse:L}),L})).apply(this,arguments)}function nr(y,p,g,w){const x=`${p}${g}?${w}`;return y.config.emulator?dn(y.config,x):`${y.config.apiScheme}://${x}`}class Ns{constructor(p){this.auth=p,this.timer=null,this.promise=new Promise((g,w)=>{this.timer=setTimeout(()=>w(we(this.auth,"network-request-failed")),_r.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Fs(y,p,g){const w={appName:y.name};g.email&&(w.email=g.email),g.phoneNumber&&(w.phoneNumber=g.phoneNumber);const x=we(y,p,w);return x.customData._tokenResponse=g,x}function yr(){return(yr=(0,s.Z)(function*(y,p){return Nt(y,"POST","/v1/accounts:delete",p)})).apply(this,arguments)}function vi(y,p){return di.apply(this,arguments)}function di(){return(di=(0,s.Z)(function*(y,p){return Nt(y,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function Rr(y,p){return Wo.apply(this,arguments)}function Wo(){return(Wo=(0,s.Z)(function*(y,p){return Nt(y,"POST","/v1/accounts:lookup",p)})).apply(this,arguments)}function xn(y){if(y)try{const p=new Date(Number(y));if(!isNaN(p.getTime()))return p.toUTCString()}catch(p){}}function il(){return(il=(0,s.Z)(function*(y,p=!1){const g=(0,S.m9)(y),w=yield g.getIdToken(p),x=ft(w);ne(x&&x.exp&&x.auth_time&&x.iat,g.auth,"internal-error");const L="object"==typeof x.firebase?x.firebase:void 0,oe=null==L?void 0:L.sign_in_provider;return{claims:x,token:w,authTime:xn(Xt(x.auth_time)),issuedAtTime:xn(Xt(x.iat)),expirationTime:xn(Xt(x.exp)),signInProvider:oe||null,signInSecondFactor:(null==L?void 0:L.sign_in_second_factor)||null}})).apply(this,arguments)}function Xt(y){return 1e3*Number(y)}function ft(y){const[p,g,w]=y.split(".");if(void 0===p||void 0===g||void 0===w)return Oe("JWT malformed, contained fewer than 3 sections"),null;try{const x=(0,S.tV)(g);return x?JSON.parse(x):(Oe("Failed to decode base64 JWT payload"),null)}catch(x){return Oe("Caught error parsing JWT payload as JSON",x),null}}function Si(y,p){return ys.apply(this,arguments)}function ys(){return(ys=(0,s.Z)(function*(y,p,g=!1){if(g)return p;try{return yield p}catch(w){throw w instanceof S.ZR&&Qt(w)&&y.auth.currentUser===y&&(yield y.auth.signOut()),w}})).apply(this,arguments)}function Qt({code:y}){return"auth/user-disabled"===y||"auth/user-token-expired"===y}class Ko{constructor(p){this.user=p,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(p){var g;if(p){const w=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),w}{this.errorBackoff=3e4;const x=(null!==(g=this.user.stsTokenManager.expirationTime)&&void 0!==g?g:0)-Date.now()-3e5;return Math.max(0,x)}}schedule(p=!1){var g=this;if(!this.isRunning)return;const w=this.getInterval(p);this.timerId=setTimeout((0,s.Z)(function*(){yield g.iteration()}),w)}iteration(){var p=this;return(0,s.Z)(function*(){try{yield p.user.getIdToken(!0)}catch(g){return void("auth/network-request-failed"===g.code&&p.schedule(!0))}p.schedule()})()}}class Ui{constructor(p,g){this.createdAt=p,this.lastLoginAt=g,this._initializeTime()}_initializeTime(){this.lastSignInTime=xn(this.lastLoginAt),this.creationTime=xn(this.createdAt)}_copy(p){this.createdAt=p.createdAt,this.lastLoginAt=p.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Mi(y){return bt.apply(this,arguments)}function bt(){return(bt=(0,s.Z)(function*(y){var p;const g=y.auth,w=yield y.getIdToken(),x=yield Si(y,Rr(g,{idToken:w}));ne(null==x?void 0:x.users.length,g,"internal-error");const L=x.users[0];y._notifyReloadListener(L);const oe=(null===(p=L.providerUserInfo)||void 0===p?void 0:p.length)?Fe(L.providerUserInfo):[],ve=tt(y.providerData,oe),It=!!y.isAnonymous&&!(y.email&&L.passwordHash||(null==ve?void 0:ve.length)),gt={uid:L.localId,displayName:L.displayName||null,photoURL:L.photoUrl||null,email:L.email||null,emailVerified:L.emailVerified||!1,phoneNumber:L.phoneNumber||null,tenantId:L.tenantId||null,providerData:ve,metadata:new Ui(L.createdAt,L.lastLoginAt),isAnonymous:It};Object.assign(y,gt)})).apply(this,arguments)}function Wt(){return(Wt=(0,s.Z)(function*(y){const p=(0,S.m9)(y);yield Mi(p),yield p.auth._persistUserIfCurrent(p),p.auth._notifyListenersIfCurrent(p)})).apply(this,arguments)}function tt(y,p){return[...y.filter(w=>!p.some(x=>x.providerId===w.providerId)),...p]}function Fe(y){return y.map(p=>{var{providerId:g}=p,w=(0,V._T)(p,["providerId"]);return{providerId:g,uid:w.rawId||"",displayName:w.displayName||null,email:w.email||null,phoneNumber:w.phoneNumber||null,photoURL:w.photoUrl||null}})}function wt(){return(wt=(0,s.Z)(function*(y,p){const g=yield ii(y,{},(0,s.Z)(function*(){const w=(0,S.xO)({grant_type:"refresh_token",refresh_token:p}).slice(1),{tokenApiHost:x,apiKey:L}=y.config,oe=nr(y,x,"/v1/token",`key=${L}`),ve=yield y._getAdditionalHeaders();return ve["Content-Type"]="application/x-www-form-urlencoded",Bi.fetch()(oe,{method:"POST",headers:ve,body:w})}));return{accessToken:g.access_token,expiresIn:g.expires_in,refreshToken:g.refresh_token}})).apply(this,arguments)}class Kt{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(p){ne(p.idToken,"internal-error"),ne(void 0!==p.idToken,"internal-error"),ne(void 0!==p.refreshToken,"internal-error");const g="expiresIn"in p&&void 0!==p.expiresIn?Number(p.expiresIn):function kt(y){const p=ft(y);return ne(p,"internal-error"),ne(void 0!==p.exp,"internal-error"),ne(void 0!==p.iat,"internal-error"),Number(p.exp)-Number(p.iat)}(p.idToken);this.updateTokensAndExpiration(p.idToken,p.refreshToken,g)}getToken(p,g=!1){var w=this;return(0,s.Z)(function*(){return ne(!w.accessToken||w.refreshToken,p,"user-token-expired"),g||!w.accessToken||w.isExpired?w.refreshToken?(yield w.refresh(p,w.refreshToken),w.accessToken):null:w.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(p,g){var w=this;return(0,s.Z)(function*(){const{accessToken:x,refreshToken:L,expiresIn:oe}=yield function it(y,p){return wt.apply(this,arguments)}(p,g);w.updateTokensAndExpiration(x,L,Number(oe))})()}updateTokensAndExpiration(p,g,w){this.refreshToken=g||null,this.accessToken=p||null,this.expirationTime=Date.now()+1e3*w}static fromJSON(p,g){const{refreshToken:w,accessToken:x,expirationTime:L}=g,oe=new Kt;return w&&(ne("string"==typeof w,"internal-error",{appName:p}),oe.refreshToken=w),x&&(ne("string"==typeof x,"internal-error",{appName:p}),oe.accessToken=x),L&&(ne("number"==typeof L,"internal-error",{appName:p}),oe.expirationTime=L),oe}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(p){this.accessToken=p.accessToken,this.refreshToken=p.refreshToken,this.expirationTime=p.expirationTime}_clone(){return Object.assign(new Kt,this.toJSON())}_performRefresh(){return te("not implemented")}}function Yt(y,p){ne("string"==typeof y||void 0===y,"internal-error",{appName:p})}class ee{constructor(p){var{uid:g,auth:w,stsTokenManager:x}=p,L=(0,V._T)(p,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Ko(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=g,this.auth=w,this.stsTokenManager=x,this.accessToken=x.accessToken,this.displayName=L.displayName||null,this.email=L.email||null,this.emailVerified=L.emailVerified||!1,this.phoneNumber=L.phoneNumber||null,this.photoURL=L.photoURL||null,this.isAnonymous=L.isAnonymous||!1,this.tenantId=L.tenantId||null,this.providerData=L.providerData?[...L.providerData]:[],this.metadata=new Ui(L.createdAt||void 0,L.lastLoginAt||void 0)}getIdToken(p){var g=this;return(0,s.Z)(function*(){const w=yield Si(g,g.stsTokenManager.getToken(g.auth,p));return ne(w,g.auth,"internal-error"),g.accessToken!==w&&(g.accessToken=w,yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)),w})()}getIdTokenResult(p){return function yo(y){return il.apply(this,arguments)}(this,p)}reload(){return function ji(y){return Wt.apply(this,arguments)}(this)}_assign(p){this!==p&&(ne(this.uid===p.uid,this.auth,"internal-error"),this.displayName=p.displayName,this.photoURL=p.photoURL,this.email=p.email,this.emailVerified=p.emailVerified,this.phoneNumber=p.phoneNumber,this.isAnonymous=p.isAnonymous,this.tenantId=p.tenantId,this.providerData=p.providerData.map(g=>Object.assign({},g)),this.metadata._copy(p.metadata),this.stsTokenManager._assign(p.stsTokenManager))}_clone(p){return new ee(Object.assign(Object.assign({},this),{auth:p,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(p){ne(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=p,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(p){this.reloadListener?this.reloadListener(p):this.reloadUserInfo=p}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(p,g=!1){var w=this;return(0,s.Z)(function*(){let x=!1;p.idToken&&p.idToken!==w.stsTokenManager.accessToken&&(w.stsTokenManager.updateFromServerResponse(p),x=!0),g&&(yield Mi(w)),yield w.auth._persistUserIfCurrent(w),x&&w.auth._notifyListenersIfCurrent(w)})()}delete(){var p=this;return(0,s.Z)(function*(){const g=yield p.getIdToken();return yield Si(p,function vt(y,p){return yr.apply(this,arguments)}(p.auth,{idToken:g})),p.stsTokenManager.clearRefreshToken(),p.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(p=>Object.assign({},p)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(p,g){var w,x,L,oe,ve,We,rt,It;const gt=null!==(w=g.displayName)&&void 0!==w?w:void 0,Wn=null!==(x=g.email)&&void 0!==x?x:void 0,As=null!==(L=g.phoneNumber)&&void 0!==L?L:void 0,ju=null!==(oe=g.photoURL)&&void 0!==oe?oe:void 0,yc=null!==(ve=g.tenantId)&&void 0!==ve?ve:void 0,vc=null!==(We=g._redirectEventId)&&void 0!==We?We:void 0,mp=null!==(rt=g.createdAt)&&void 0!==rt?rt:void 0,xv=null!==(It=g.lastLoginAt)&&void 0!==It?It:void 0,{uid:za,emailVerified:vh,isAnonymous:bh,providerData:gp,stsTokenManager:wh}=g;ne(za&&wh,p,"internal-error");const Ei=Kt.fromJSON(this.name,wh);ne("string"==typeof za,p,"internal-error"),Yt(gt,p.name),Yt(Wn,p.name),ne("boolean"==typeof vh,p,"internal-error"),ne("boolean"==typeof bh,p,"internal-error"),Yt(As,p.name),Yt(ju,p.name),Yt(yc,p.name),Yt(vc,p.name),Yt(mp,p.name),Yt(xv,p.name);const _p=new ee({uid:za,auth:p,email:Wn,emailVerified:vh,displayName:gt,isAnonymous:bh,photoURL:ju,phoneNumber:As,tenantId:yc,stsTokenManager:Ei,createdAt:mp,lastLoginAt:xv});return gp&&Array.isArray(gp)&&(_p.providerData=gp.map(zg=>Object.assign({},zg))),vc&&(_p._redirectEventId=vc),_p}static _fromIdTokenResponse(p,g,w=!1){return(0,s.Z)(function*(){const x=new Kt;x.updateFromServerResponse(g);const L=new ee({uid:g.localId,auth:p,stsTokenManager:x,isAnonymous:w});return yield Mi(L),L})()}}const re=(()=>{class y{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,s.Z)(function*(){return!0})()}_set(g,w){var x=this;return(0,s.Z)(function*(){x.storage[g]=w})()}_get(g){var w=this;return(0,s.Z)(function*(){const x=w.storage[g];return void 0===x?null:x})()}_remove(g){var w=this;return(0,s.Z)(function*(){delete w.storage[g]})()}_addListener(g,w){}_removeListener(g,w){}}return y.type="NONE",y})();function De(y,p,g){return`firebase:${y}:${p}:${g}`}class pe{constructor(p,g,w){this.persistence=p,this.auth=g,this.userKey=w;const{config:x,name:L}=this.auth;this.fullUserKey=De(this.userKey,x.apiKey,L),this.fullPersistenceKey=De("persistence",x.apiKey,L),this.boundEventHandler=g._onStorageEvent.bind(g),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(p){return this.persistence._set(this.fullUserKey,p.toJSON())}getCurrentUser(){var p=this;return(0,s.Z)(function*(){const g=yield p.persistence._get(p.fullUserKey);return g?ee._fromJSON(p.auth,g):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(p){var g=this;return(0,s.Z)(function*(){if(g.persistence===p)return;const w=yield g.getCurrentUser();return yield g.removeCurrentUser(),g.persistence=p,w?g.setCurrentUser(w):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(p,g,w="authUser"){return(0,s.Z)(function*(){if(!g.length)return new pe(le(re),p,w);const x=(yield Promise.all(g.map(function(){var rt=(0,s.Z)(function*(It){if(yield It._isAvailable())return It});return function(It){return rt.apply(this,arguments)}}()))).filter(rt=>rt);let L=x[0]||le(re);const oe=De(w,p.config.apiKey,p.name);let ve=null;for(const rt of g)try{const It=yield rt._get(oe);if(It){const gt=ee._fromJSON(p,It);rt!==L&&(ve=gt),L=rt;break}}catch(It){}const We=x.filter(rt=>rt._shouldAllowMigration);return L._shouldAllowMigration&&We.length?(L=We[0],ve&&(yield L._set(oe,ve.toJSON())),yield Promise.all(g.map(function(){var rt=(0,s.Z)(function*(It){if(It!==L)try{yield It._remove(oe)}catch(gt){}});return function(It){return rt.apply(this,arguments)}}())),new pe(L,p,w)):new pe(L,p,w)})()}}function Ze(y){const p=y.toLowerCase();if(p.includes("opera/")||p.includes("opr/")||p.includes("opios/"))return"Opera";if(en(p))return"IEMobile";if(p.includes("msie")||p.includes("trident/"))return"IE";if(p.includes("edge/"))return"Edge";if(Tt(p))return"Firefox";if(p.includes("silk/"))return"Silk";if($t(p))return"Blackberry";if(En(p))return"Webos";if(on(p))return"Safari";if((p.includes("chrome/")||Hi(p))&&!p.includes("edge/"))return"Chrome";if(zn(p))return"Android";{const w=y.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==w?void 0:w.length))return w[1]}return"Other"}function Tt(y=(0,S.z$)()){return/firefox\//i.test(y)}function on(y=(0,S.z$)()){const p=y.toLowerCase();return p.includes("safari/")&&!p.includes("chrome/")&&!p.includes("crios/")&&!p.includes("android")}function Hi(y=(0,S.z$)()){return/crios\//i.test(y)}function en(y=(0,S.z$)()){return/iemobile/i.test(y)}function zn(y=(0,S.z$)()){return/android/i.test(y)}function $t(y=(0,S.z$)()){return/blackberry/i.test(y)}function En(y=(0,S.z$)()){return/webos/i.test(y)}function wi(y=(0,S.z$)()){return/iphone|ipad|ipod/i.test(y)}function Ls(y=(0,S.z$)()){return wi(y)||zn(y)||En(y)||$t(y)||/windows phone/i.test(y)||en(y)}function sl(y,p=[]){let g;switch(y){case"Browser":g=Ze((0,S.z$)());break;case"Worker":g=`${Ze((0,S.z$)())}-${y}`;break;default:g=y}const w=p.length?p.join(","):"FirebaseCore-web";return`${g}/JsCore/${B.SDK_VERSION}/${w}`}class Or{constructor(p,g,w){this.app=p,this.heartbeatServiceProvider=g,this.config=w,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Gt(this),this.idTokenSubscription=new Gt(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=de,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=p.name,this.clientVersion=w.sdkClientVersion}_initializeWithPersistence(p,g){var w=this;return g&&(this._popupRedirectResolver=le(g)),this._initializationPromise=this.queue((0,s.Z)(function*(){var x,L;if(!w._deleted&&(w.persistenceManager=yield pe.create(w,p),!w._deleted)){if(null===(x=w._popupRedirectResolver)||void 0===x?void 0:x._shouldInitProactively)try{yield w._popupRedirectResolver._initialize(w)}catch(oe){}yield w.initializeCurrentUser(g),w.lastNotifiedUid=(null===(L=w.currentUser)||void 0===L?void 0:L.uid)||null,!w._deleted&&(w._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var p=this;return(0,s.Z)(function*(){if(p._deleted)return;const g=yield p.assertedPersistence.getCurrentUser();if(p.currentUser||g){if(p.currentUser&&g&&p.currentUser.uid===g.uid)return p._currentUser._assign(g),void(yield p.currentUser.getIdToken());yield p._updateCurrentUser(g)}})()}initializeCurrentUser(p){var g=this;return(0,s.Z)(function*(){var w;let x=yield g.assertedPersistence.getCurrentUser();if(p&&g.config.authDomain){yield g.getOrInitRedirectPersistenceManager();const L=null===(w=g.redirectUser)||void 0===w?void 0:w._redirectEventId,oe=null==x?void 0:x._redirectEventId,ve=yield g.tryRedirectSignIn(p);(!L||L===oe)&&(null==ve?void 0:ve.user)&&(x=ve.user)}return x?x._redirectEventId?(ne(g._popupRedirectResolver,g,"argument-error"),yield g.getOrInitRedirectPersistenceManager(),g.redirectUser&&g.redirectUser._redirectEventId===x._redirectEventId?g.directlySetCurrentUser(x):g.reloadAndSetCurrentUserOrClear(x)):g.reloadAndSetCurrentUserOrClear(x):g.directlySetCurrentUser(null)})()}tryRedirectSignIn(p){var g=this;return(0,s.Z)(function*(){let w=null;try{w=yield g._popupRedirectResolver._completeRedirectFn(g,p,!0)}catch(x){yield g._setRedirectUser(null)}return w})()}reloadAndSetCurrentUserOrClear(p){var g=this;return(0,s.Z)(function*(){try{yield Mi(p)}catch(w){if("auth/network-request-failed"!==w.code)return g.directlySetCurrentUser(null)}return g.directlySetCurrentUser(p)})()}useDeviceLanguage(){this.languageCode=function yt(){if("undefined"==typeof navigator)return null;const y=navigator;return y.languages&&y.languages[0]||y.language||null}()}_delete(){var p=this;return(0,s.Z)(function*(){p._deleted=!0})()}updateCurrentUser(p){var g=this;return(0,s.Z)(function*(){const w=p?(0,S.m9)(p):null;return w&&ne(w.auth.config.apiKey===g.config.apiKey,g,"invalid-user-token"),g._updateCurrentUser(w&&w._clone(g))})()}_updateCurrentUser(p){var g=this;return(0,s.Z)(function*(){if(!g._deleted)return p&&ne(g.tenantId===p.tenantId,g,"tenant-id-mismatch"),g.queue((0,s.Z)(function*(){yield g.directlySetCurrentUser(p),g.notifyAuthListeners()}))})()}signOut(){var p=this;return(0,s.Z)(function*(){return(p.redirectPersistenceManager||p._popupRedirectResolver)&&(yield p._setRedirectUser(null)),p._updateCurrentUser(null)})()}setPersistence(p){var g=this;return this.queue((0,s.Z)(function*(){yield g.assertedPersistence.setPersistence(le(p))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(p){this._errorFactory=new S.LL("auth","Firebase",p())}onAuthStateChanged(p,g,w){return this.registerStateListener(this.authStateSubscription,p,g,w)}onIdTokenChanged(p,g,w){return this.registerStateListener(this.idTokenSubscription,p,g,w)}toJSON(){var p;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(p=this._currentUser)||void 0===p?void 0:p.toJSON()}}_setRedirectUser(p,g){var w=this;return(0,s.Z)(function*(){const x=yield w.getOrInitRedirectPersistenceManager(g);return null===p?x.removeCurrentUser():x.setCurrentUser(p)})()}getOrInitRedirectPersistenceManager(p){var g=this;return(0,s.Z)(function*(){if(!g.redirectPersistenceManager){const w=p&&le(p)||g._popupRedirectResolver;ne(w,g,"argument-error"),g.redirectPersistenceManager=yield pe.create(g,[le(w._redirectPersistence)],"redirectUser"),g.redirectUser=yield g.redirectPersistenceManager.getCurrentUser()}return g.redirectPersistenceManager})()}_redirectUserForId(p){var g=this;return(0,s.Z)(function*(){var w,x;return g._isInitialized&&(yield g.queue((0,s.Z)(function*(){}))),(null===(w=g._currentUser)||void 0===w?void 0:w._redirectEventId)===p?g._currentUser:(null===(x=g.redirectUser)||void 0===x?void 0:x._redirectEventId)===p?g.redirectUser:null})()}_persistUserIfCurrent(p){var g=this;return(0,s.Z)(function*(){if(p===g.currentUser)return g.queue((0,s.Z)(function*(){return g.directlySetCurrentUser(p)}))})()}_notifyListenersIfCurrent(p){p===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var p,g;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const w=null!==(g=null===(p=this.currentUser)||void 0===p?void 0:p.uid)&&void 0!==g?g:null;this.lastNotifiedUid!==w&&(this.lastNotifiedUid=w,this.authStateSubscription.next(this.currentUser))}registerStateListener(p,g,w,x){if(this._deleted)return()=>{};const L="function"==typeof g?g:g.next.bind(g),oe=this._isInitialized?Promise.resolve():this._initializationPromise;return ne(oe,this,"internal-error"),oe.then(()=>L(this.currentUser)),"function"==typeof g?p.addObserver(g,w,x):p.addObserver(g)}directlySetCurrentUser(p){var g=this;return(0,s.Z)(function*(){g.currentUser&&g.currentUser!==p&&(g._currentUser._stopProactiveRefresh(),p&&g.isProactiveRefreshEnabled&&p._startProactiveRefresh()),g.currentUser=p,p?yield g.assertedPersistence.setCurrentUser(p):yield g.assertedPersistence.removeCurrentUser()})()}queue(p){return this.operations=this.operations.then(p,p),this.operations}get assertedPersistence(){return ne(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(p){!p||this.frameworks.includes(p)||(this.frameworks.push(p),this.frameworks.sort(),this.clientVersion=sl(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var p=this;return(0,s.Z)(function*(){var g;const w={"X-Client-Version":p.clientVersion};p.app.options.appId&&(w["X-Firebase-gmpid"]=p.app.options.appId);const x=yield null===(g=p.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===g?void 0:g.getHeartbeatsHeader();return x&&(w["X-Firebase-Client"]=x),w})()}}function ze(y){return(0,S.m9)(y)}class Gt{constructor(p){this.auth=p,this.observer=null,this.addObserver=(0,S.ne)(g=>this.observer=g)}get next(){return ne(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function xi(y){const p=y.indexOf(":");return p<0?"":y.substr(0,p+1)}function ri(y){if(!y)return null;const p=Number(y);return isNaN(p)?null:p}class vn{constructor(p,g){this.providerId=p,this.signInMethod=g}toJSON(){return te("not implemented")}_getIdTokenResponse(p){return te("not implemented")}_linkToIdToken(p,g){return te("not implemented")}_getReauthenticationResolver(p){return te("not implemented")}}function Kn(y,p){return bo.apply(this,arguments)}function bo(){return(bo=(0,s.Z)(function*(y,p){return Nt(y,"POST","/v1/accounts:resetPassword",tn(y,p))})).apply(this,arguments)}function Bt(y,p){return Jo.apply(this,arguments)}function Jo(){return(Jo=(0,s.Z)(function*(y,p){return Nt(y,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function Vs(y,p){return ol.apply(this,arguments)}function ol(){return(ol=(0,s.Z)(function*(y,p){return Nt(y,"POST","/v1/accounts:update",tn(y,p))})).apply(this,arguments)}function $n(){return($n=(0,s.Z)(function*(y,p){return tr(y,"POST","/v1/accounts:signInWithPassword",tn(y,p))})).apply(this,arguments)}function Bs(y,p){return Us.apply(this,arguments)}function Us(){return(Us=(0,s.Z)(function*(y,p){return Nt(y,"POST","/v1/accounts:sendOobCode",tn(y,p))})).apply(this,arguments)}function Fn(y,p){return bn.apply(this,arguments)}function bn(){return(bn=(0,s.Z)(function*(y,p){return Bs(y,p)})).apply(this,arguments)}function zl(y,p){return $l.apply(this,arguments)}function $l(){return($l=(0,s.Z)(function*(y,p){return Bs(y,p)})).apply(this,arguments)}function ir(y,p){return zi.apply(this,arguments)}function zi(){return(zi=(0,s.Z)(function*(y,p){return Bs(y,p)})).apply(this,arguments)}function Od(y,p){return Co.apply(this,arguments)}function Co(){return(Co=(0,s.Z)(function*(y,p){return Bs(y,p)})).apply(this,arguments)}function vr(){return(vr=(0,s.Z)(function*(y,p){return tr(y,"POST","/v1/accounts:signInWithEmailLink",tn(y,p))})).apply(this,arguments)}function Nd(){return(Nd=(0,s.Z)(function*(y,p){return tr(y,"POST","/v1/accounts:signInWithEmailLink",tn(y,p))})).apply(this,arguments)}class ql extends vn{constructor(p,g,w,x=null){super("password",w),this._email=p,this._password=g,this._tenantId=x}static _fromEmailAndPassword(p,g){return new ql(p,g,"password")}static _fromEmailAndCode(p,g,w=null){return new ql(p,g,"emailLink",w)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(p){const g="string"==typeof p?JSON.parse(p):p;if((null==g?void 0:g.email)&&(null==g?void 0:g.password)){if("password"===g.signInMethod)return this._fromEmailAndPassword(g.email,g.password);if("emailLink"===g.signInMethod)return this._fromEmailAndCode(g.email,g.password,g.tenantId)}return null}_getIdTokenResponse(p){var g=this;return(0,s.Z)(function*(){switch(g.signInMethod){case"password":return function wo(y,p){return $n.apply(this,arguments)}(p,{returnSecureToken:!0,email:g._email,password:g._password});case"emailLink":return function Gl(y,p){return vr.apply(this,arguments)}(p,{email:g._email,oobCode:g._password});default:Ie(p,"internal-error")}})()}_linkToIdToken(p,g){var w=this;return(0,s.Z)(function*(){switch(w.signInMethod){case"password":return Bt(p,{idToken:g,returnSecureToken:!0,email:w._email,password:w._password});case"emailLink":return function Pd(y,p){return Nd.apply(this,arguments)}(p,{idToken:g,email:w._email,oobCode:w._password});default:Ie(p,"internal-error")}})()}_getReauthenticationResolver(p){return this._getIdTokenResponse(p)}}function si(y,p){return Fd.apply(this,arguments)}function Fd(){return(Fd=(0,s.Z)(function*(y,p){return tr(y,"POST","/v1/accounts:signInWithIdp",tn(y,p))})).apply(this,arguments)}class js extends vn{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(p){const g=new js(p.providerId,p.signInMethod);return p.idToken||p.accessToken?(p.idToken&&(g.idToken=p.idToken),p.accessToken&&(g.accessToken=p.accessToken),p.nonce&&!p.pendingToken&&(g.nonce=p.nonce),p.pendingToken&&(g.pendingToken=p.pendingToken)):p.oauthToken&&p.oauthTokenSecret?(g.accessToken=p.oauthToken,g.secret=p.oauthTokenSecret):Ie("argument-error"),g}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(p){const g="string"==typeof p?JSON.parse(p):p,{providerId:w,signInMethod:x}=g,L=(0,V._T)(g,["providerId","signInMethod"]);if(!w||!x)return null;const oe=new js(w,x);return oe.idToken=L.idToken||void 0,oe.accessToken=L.accessToken||void 0,oe.secret=L.secret,oe.nonce=L.nonce,oe.pendingToken=L.pendingToken||null,oe}_getIdTokenResponse(p){return si(p,this.buildRequest())}_linkToIdToken(p,g){const w=this.buildRequest();return w.idToken=g,si(p,w)}_getReauthenticationResolver(p){const g=this.buildRequest();return g.autoCreate=!1,si(p,g)}buildRequest(){const p={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)p.pendingToken=this.pendingToken;else{const g={};this.idToken&&(g.id_token=this.idToken),this.accessToken&&(g.access_token=this.accessToken),this.secret&&(g.oauth_token_secret=this.secret),g.providerId=this.providerId,this.nonce&&!this.pendingToken&&(g.nonce=this.nonce),p.postBody=(0,S.xO)(g)}return p}}function bg(y,p){return Ld.apply(this,arguments)}function Ld(){return(Ld=(0,s.Z)(function*(y,p){return Nt(y,"POST","/v1/accounts:sendVerificationCode",tn(y,p))})).apply(this,arguments)}function Eo(){return(Eo=(0,s.Z)(function*(y,p){return tr(y,"POST","/v1/accounts:signInWithPhoneNumber",tn(y,p))})).apply(this,arguments)}function Vd(){return(Vd=(0,s.Z)(function*(y,p){const g=yield tr(y,"POST","/v1/accounts:signInWithPhoneNumber",tn(y,p));if(g.temporaryProof)throw Fs(y,"account-exists-with-different-credential",g);return g})).apply(this,arguments)}const Cg={USER_NOT_FOUND:"user-not-found"};function Bd(){return(Bd=(0,s.Z)(function*(y,p){return tr(y,"POST","/v1/accounts:signInWithPhoneNumber",tn(y,Object.assign(Object.assign({},p),{operation:"REAUTH"})),Cg)})).apply(this,arguments)}class Ma extends vn{constructor(p){super("phone","phone"),this.params=p}static _fromVerification(p,g){return new Ma({verificationId:p,verificationCode:g})}static _fromTokenResponse(p,g){return new Ma({phoneNumber:p,temporaryProof:g})}_getIdTokenResponse(p){return function Kc(y,p){return Eo.apply(this,arguments)}(p,this._makeVerificationRequest())}_linkToIdToken(p,g){return function wg(y,p){return Vd.apply(this,arguments)}(p,Object.assign({idToken:g},this._makeVerificationRequest()))}_getReauthenticationResolver(p){return function Eg(y,p){return Bd.apply(this,arguments)}(p,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:p,phoneNumber:g,verificationId:w,verificationCode:x}=this.params;return p&&g?{temporaryProof:p,phoneNumber:g}:{sessionInfo:w,code:x}}toJSON(){const p={providerId:this.providerId};return this.params.phoneNumber&&(p.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(p.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(p.verificationCode=this.params.verificationCode),this.params.verificationId&&(p.verificationId=this.params.verificationId),p}static fromJSON(p){"string"==typeof p&&(p=JSON.parse(p));const{verificationId:g,verificationCode:w,phoneNumber:x,temporaryProof:L}=p;return w||g||x||L?new Ma({verificationId:g,verificationCode:w,phoneNumber:x,temporaryProof:L}):null}}class Xo{constructor(p){var g,w,x,L,oe,ve;const We=(0,S.zd)((0,S.pd)(p)),rt=null!==(g=We.apiKey)&&void 0!==g?g:null,It=null!==(w=We.oobCode)&&void 0!==w?w:null,gt=function iv(y){switch(y){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(x=We.mode)&&void 0!==x?x:null);ne(rt&&It&&gt,"argument-error"),this.apiKey=rt,this.operation=gt,this.code=It,this.continueUrl=null!==(L=We.continueUrl)&&void 0!==L?L:null,this.languageCode=null!==(oe=We.languageCode)&&void 0!==oe?oe:null,this.tenantId=null!==(ve=We.tenantId)&&void 0!==ve?ve:null}static parseLink(p){const g=function Yl(y){const p=(0,S.zd)((0,S.pd)(y)).link,g=p?(0,S.zd)((0,S.pd)(p)).deep_link_id:null,w=(0,S.zd)((0,S.pd)(y)).deep_link_id;return(w?(0,S.zd)((0,S.pd)(w)).link:null)||w||g||p||y}(p);try{return new Xo(g)}catch(w){return null}}}let Qc=(()=>{class y{constructor(){this.providerId=y.PROVIDER_ID}static credential(g,w){return ql._fromEmailAndPassword(g,w)}static credentialWithLink(g,w){const x=Xo.parseLink(w);return ne(x,"argument-error"),ql._fromEmailAndCode(g,x.code,x.tenantId)}}return y.PROVIDER_ID="password",y.EMAIL_PASSWORD_SIGN_IN_METHOD="password",y.EMAIL_LINK_SIGN_IN_METHOD="emailLink",y})();class Do{constructor(p){this.providerId=p,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(p){this.defaultLanguageCode=p}setCustomParameters(p){return this.customParameters=p,this}getCustomParameters(){return this.customParameters}}class br extends Do{constructor(){super(...arguments),this.scopes=[]}addScope(p){return this.scopes.includes(p)||this.scopes.push(p),this}getScopes(){return[...this.scopes]}}class xa extends br{static credentialFromJSON(p){const g="string"==typeof p?JSON.parse(p):p;return ne("providerId"in g&&"signInMethod"in g,"argument-error"),js._fromParams(g)}credential(p){return this._credential(Object.assign(Object.assign({},p),{nonce:p.rawNonce}))}_credential(p){return ne(p.idToken||p.accessToken,"argument-error"),js._fromParams(Object.assign(Object.assign({},p),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(p){return xa.oauthCredentialFromTaggedObject(p)}static credentialFromError(p){return xa.oauthCredentialFromTaggedObject(p.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthIdToken:g,oauthAccessToken:w,oauthTokenSecret:x,pendingToken:L,nonce:oe,providerId:ve}=p;if(!w&&!x&&!g&&!L||!ve)return null;try{return new xa(ve)._credential({idToken:g,accessToken:w,nonce:oe,pendingToken:L})}catch(We){return null}}}let ea=(()=>{class y extends br{constructor(){super("facebook.com")}static credential(g){return js._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.FACEBOOK_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return y.credential(g.oauthAccessToken)}catch(w){return null}}}return y.FACEBOOK_SIGN_IN_METHOD="facebook.com",y.PROVIDER_ID="facebook.com",y})(),al=(()=>{class y extends br{constructor(){super("google.com"),this.addScope("profile")}static credential(g,w){return js._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.GOOGLE_SIGN_IN_METHOD,idToken:g,accessToken:w})}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:w,oauthAccessToken:x}=g;if(!w&&!x)return null;try{return y.credential(w,x)}catch(L){return null}}}return y.GOOGLE_SIGN_IN_METHOD="google.com",y.PROVIDER_ID="google.com",y})(),Ud=(()=>{class y extends br{constructor(){super("github.com")}static credential(g){return js._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.GITHUB_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return y.credential(g.oauthAccessToken)}catch(w){return null}}}return y.GITHUB_SIGN_IN_METHOD="github.com",y.PROVIDER_ID="github.com",y})();class wr extends vn{constructor(p,g){super(p,p),this.pendingToken=g}_getIdTokenResponse(p){return si(p,this.buildRequest())}_linkToIdToken(p,g){const w=this.buildRequest();return w.idToken=g,si(p,w)}_getReauthenticationResolver(p){const g=this.buildRequest();return g.autoCreate=!1,si(p,g)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(p){const g="string"==typeof p?JSON.parse(p):p,{providerId:w,signInMethod:x,pendingToken:L}=g;return w&&x&&L&&w===x?new wr(w,L):null}static _create(p,g){return new wr(p,g)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Pr extends Do{constructor(p){ne(p.startsWith("saml."),"argument-error"),super(p)}static credentialFromResult(p){return Pr.samlCredentialFromTaggedObject(p)}static credentialFromError(p){return Pr.samlCredentialFromTaggedObject(p.customData||{})}static credentialFromJSON(p){const g=wr.fromJSON(p);return ne(g,"argument-error"),g}static samlCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{pendingToken:g,providerId:w}=p;if(!g||!w)return null;try{return wr._create(w,g)}catch(x){return null}}}let Zl=(()=>{class y extends br{constructor(){super("twitter.com")}static credential(g,w){return js._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.TWITTER_SIGN_IN_METHOD,oauthToken:g,oauthTokenSecret:w})}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthAccessToken:w,oauthTokenSecret:x}=g;if(!w||!x)return null;try{return y.credential(w,x)}catch(L){return null}}}return y.TWITTER_SIGN_IN_METHOD="twitter.com",y.PROVIDER_ID="twitter.com",y})();function Wl(y,p){return rr.apply(this,arguments)}function rr(){return(rr=(0,s.Z)(function*(y,p){return tr(y,"POST","/v1/accounts:signUp",tn(y,p))})).apply(this,arguments)}class ki{constructor(p){this.user=p.user,this.providerId=p.providerId,this._tokenResponse=p._tokenResponse,this.operationType=p.operationType}static _fromIdTokenResponse(p,g,w,x=!1){return(0,s.Z)(function*(){const L=yield ee._fromIdTokenResponse(p,w,x),oe=jf(w);return new ki({user:L,providerId:oe,_tokenResponse:w,operationType:g})})()}static _forOperation(p,g,w){return(0,s.Z)(function*(){yield p._updateTokensIfNecessary(w,!0);const x=jf(w);return new ki({user:p,providerId:x,_tokenResponse:w,operationType:g})})()}}function jf(y){return y.providerId?y.providerId:"phoneNumber"in y?"phone":null}function jd(){return(jd=(0,s.Z)(function*(y){var p;const g=ze(y);if(yield g._initializationPromise,null===(p=g.currentUser)||void 0===p?void 0:p.isAnonymous)return new ki({user:g.currentUser,providerId:null,operationType:"signIn"});const w=yield Wl(g,{returnSecureToken:!0}),x=yield ki._fromIdTokenResponse(g,"signIn",w,!0);return yield g._updateCurrentUser(x.user),x})).apply(this,arguments)}class Ql extends S.ZR{constructor(p,g,w,x){var L;super(g.code,g.message),this.operationType=w,this.user=x,Object.setPrototypeOf(this,Ql.prototype),this.customData={appName:p.name,tenantId:null!==(L=p.tenantId)&&void 0!==L?L:void 0,_serverResponse:g.customData._serverResponse,operationType:w}}static _fromErrorAndOperation(p,g,w,x){return new Ql(p,g,w,x)}}function Jl(y,p,g,w){return("reauthenticate"===p?g._getReauthenticationResolver(y):g._getIdTokenResponse(y)).catch(L=>{throw"auth/multi-factor-auth-required"===L.code?Ql._fromErrorAndOperation(y,L,p,w):L})}function Hs(y){return new Set(y.map(({providerId:p})=>p).filter(p=>!!p))}function Jc(){return(Jc=(0,s.Z)(function*(y,p){const g=(0,S.m9)(y);yield To(!0,g,p);const{providerUserInfo:w}=yield vi(g.auth,{idToken:yield g.getIdToken(),deleteProvider:[p]}),x=Hs(w||[]);return g.providerData=g.providerData.filter(L=>x.has(L.providerId)),x.has("phone")||(g.phoneNumber=null),yield g.auth._persistUserIfCurrent(g),g})).apply(this,arguments)}function An(y,p){return ka.apply(this,arguments)}function ka(){return(ka=(0,s.Z)(function*(y,p,g=!1){const w=yield Si(y,p._linkToIdToken(y.auth,yield y.getIdToken()),g);return ki._forOperation(y,"link",w)})).apply(this,arguments)}function To(y,p,g){return wn.apply(this,arguments)}function wn(){return(wn=(0,s.Z)(function*(y,p,g){yield Mi(p);const x=!1===y?"provider-already-linked":"no-such-provider";ne(Hs(p.providerData).has(g)===y,p.auth,x)})).apply(this,arguments)}function Hd(y,p){return ta.apply(this,arguments)}function ta(){return(ta=(0,s.Z)(function*(y,p,g=!1){const{auth:w}=y,x="reauthenticate";try{const L=yield Si(y,Jl(w,x,p,y),g);ne(L.idToken,w,"internal-error");const oe=ft(L.idToken);ne(oe,w,"internal-error");const{sub:ve}=oe;return ne(y.uid===ve,w,"user-mismatch"),ki._forOperation(y,x,L)}catch(L){throw"auth/user-not-found"===(null==L?void 0:L.code)&&Ie(w,"user-mismatch"),L}})).apply(this,arguments)}function na(y,p){return $i.apply(this,arguments)}function $i(){return($i=(0,s.Z)(function*(y,p,g=!1){const w="signIn",x=yield Jl(y,w,p),L=yield ki._fromIdTokenResponse(y,w,x);return g||(yield y._updateCurrentUser(L.user)),L})).apply(this,arguments)}function Qn(y,p){return cl.apply(this,arguments)}function cl(){return(cl=(0,s.Z)(function*(y,p){return na(ze(y),p)})).apply(this,arguments)}function Xr(y,p){return Gi.apply(this,arguments)}function Gi(){return(Gi=(0,s.Z)(function*(y,p){const g=(0,S.m9)(y);return yield To(!1,g,p.providerId),An(g,p)})).apply(this,arguments)}function Io(y,p){return zs.apply(this,arguments)}function zs(){return(zs=(0,s.Z)(function*(y,p){return Hd((0,S.m9)(y),p)})).apply(this,arguments)}function Xl(y,p){return Cr.apply(this,arguments)}function Cr(){return(Cr=(0,s.Z)(function*(y,p){return tr(y,"POST","/v1/accounts:signInWithCustomToken",tn(y,p))})).apply(this,arguments)}function Mo(){return(Mo=(0,s.Z)(function*(y,p){const g=ze(y),w=yield Xl(g,{token:p,returnSecureToken:!0}),x=yield ki._fromIdTokenResponse(g,"signIn",w);return yield g._updateCurrentUser(x.user),x})).apply(this,arguments)}class Ct{constructor(p,g){this.factorId=p,this.uid=g.mfaEnrollmentId,this.enrollmentTime=new Date(g.enrolledAt).toUTCString(),this.displayName=g.displayName}static _fromServerResponse(p,g){return"phoneInfo"in g?ec._fromServerResponse(p,g):Ie(p,"internal-error")}}class ec extends Ct{constructor(p){super("phone",p),this.phoneNumber=p.phoneInfo}static _fromServerResponse(p,g){return new ec(g)}}function ul(y,p,g){var w;ne((null===(w=g.url)||void 0===w?void 0:w.length)>0,y,"invalid-continue-uri"),ne(void 0===g.dynamicLinkDomain||g.dynamicLinkDomain.length>0,y,"invalid-dynamic-link-domain"),p.continueUrl=g.url,p.dynamicLinkDomain=g.dynamicLinkDomain,p.canHandleCodeInApp=g.handleCodeInApp,g.iOS&&(ne(g.iOS.bundleId.length>0,y,"missing-ios-bundle-id"),p.iOSBundleId=g.iOS.bundleId),g.android&&(ne(g.android.packageName.length>0,y,"missing-android-pkg-name"),p.androidInstallApp=g.android.installApp,p.androidMinimumVersionCode=g.android.minimumVersion,p.androidPackageName=g.android.packageName)}function nc(){return(nc=(0,s.Z)(function*(y,p,g){const w=(0,S.m9)(y),x={requestType:"PASSWORD_RESET",email:p};g&&ul(w,x,g),yield zl(w,x)})).apply(this,arguments)}function Xc(){return(Xc=(0,s.Z)(function*(y,p,g){yield Kn((0,S.m9)(y),{oobCode:p,newPassword:g})})).apply(this,arguments)}function Pe(){return(Pe=(0,s.Z)(function*(y,p){yield Vs((0,S.m9)(y),{oobCode:p})})).apply(this,arguments)}function Zt(y,p){return tu.apply(this,arguments)}function tu(){return(tu=(0,s.Z)(function*(y,p){const g=(0,S.m9)(y),w=yield Kn(g,{oobCode:p}),x=w.requestType;switch(ne(x,g,"internal-error"),x){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":ne(w.newEmail,g,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":ne(w.mfaInfo,g,"internal-error");default:ne(w.email,g,"internal-error")}let L=null;return w.mfaInfo&&(L=Ct._fromServerResponse(ze(g),w.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===w.requestType?w.newEmail:w.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===w.requestType?w.email:w.newEmail)||null,multiFactorInfo:L},operation:x}})).apply(this,arguments)}function Ra(){return(Ra=(0,s.Z)(function*(y,p){const{data:g}=yield Zt((0,S.m9)(y),p);return g.email})).apply(this,arguments)}function Er(){return(Er=(0,s.Z)(function*(y,p,g){const w=ze(y),x=yield Wl(w,{returnSecureToken:!0,email:p,password:g}),L=yield ki._fromIdTokenResponse(w,"signIn",x);return yield w._updateCurrentUser(L.user),L})).apply(this,arguments)}function zd(){return(zd=(0,s.Z)(function*(y,p,g){const w=(0,S.m9)(y),x={requestType:"EMAIL_SIGNIN",email:p};ne(g.handleCodeInApp,w,"argument-error"),g&&ul(w,x,g),yield ir(w,x)})).apply(this,arguments)}function xo(){return(xo=(0,s.Z)(function*(y,p,g){const w=(0,S.m9)(y),x=Qc.credentialWithLink(p,g||Et());return ne(x._tenantId===(w.tenantId||null),w,"tenant-id-mismatch"),Qn(w,x)})).apply(this,arguments)}function Ri(y,p){return Nr.apply(this,arguments)}function Nr(){return(Nr=(0,s.Z)(function*(y,p){return Nt(y,"POST","/v1/accounts:createAuthUri",tn(y,p))})).apply(this,arguments)}function ko(){return(ko=(0,s.Z)(function*(y,p){const w={identifier:p,continueUri:rn()?Et():"http://localhost"},{signinMethods:x}=yield Ri((0,S.m9)(y),w);return x||[]})).apply(this,arguments)}function su(){return(su=(0,s.Z)(function*(y,p){const g=(0,S.m9)(y),x={requestType:"VERIFY_EMAIL",idToken:yield y.getIdToken()};p&&ul(g.auth,x,p);const{email:L}=yield Fn(g.auth,x);L!==y.email&&(yield y.reload())})).apply(this,arguments)}function ac(){return(ac=(0,s.Z)(function*(y,p,g){const w=(0,S.m9)(y),L={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield y.getIdToken(),newEmail:p};g&&ul(w.auth,L,g);const{email:oe}=yield Od(w.auth,L);oe!==y.email&&(yield y.reload())})).apply(this,arguments)}function ou(y,p){return dl.apply(this,arguments)}function dl(){return(dl=(0,s.Z)(function*(y,p){return Nt(y,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function au(){return(au=(0,s.Z)(function*(y,{displayName:p,photoURL:g}){if(void 0===p&&void 0===g)return;const w=(0,S.m9)(y),L={idToken:yield w.getIdToken(),displayName:p,photoUrl:g,returnSecureToken:!0},oe=yield Si(w,ou(w.auth,L));w.displayName=oe.displayName||null,w.photoURL=oe.photoUrl||null;const ve=w.providerData.find(({providerId:We})=>"password"===We);ve&&(ve.displayName=w.displayName,ve.photoURL=w.photoURL),yield w._updateTokensIfNecessary(oe)})).apply(this,arguments)}function cu(y,p,g){return ia.apply(this,arguments)}function ia(){return(ia=(0,s.Z)(function*(y,p,g){const{auth:w}=y,L={idToken:yield y.getIdToken(),returnSecureToken:!0};p&&(L.email=p),g&&(L.password=g);const oe=yield Si(y,Bt(w,L));yield y._updateTokensIfNecessary(oe,!0)})).apply(this,arguments)}class ra{constructor(p,g,w={}){this.isNewUser=p,this.providerId=g,this.profile=w}}class qd extends ra{constructor(p,g,w,x){super(p,g,w),this.username=x}}class Yd extends ra{constructor(p,g){super(p,"facebook.com",g)}}class sa extends qd{constructor(p,g){super(p,"github.com",g,"string"==typeof(null==g?void 0:g.login)?null==g?void 0:g.login:null)}}class Ro extends ra{constructor(p,g){super(p,"google.com",g)}}class uu extends qd{constructor(p,g,w){super(p,"twitter.com",g,w)}}function qi(y){const{user:p,_tokenResponse:g}=y;return p.isAnonymous&&!g?{providerId:null,isNewUser:!1,profile:null}:function Gd(y){var p,g;if(!y)return null;const{providerId:w}=y,x=y.rawUserInfo?JSON.parse(y.rawUserInfo):{},L=y.isNewUser||"identitytoolkit#SignupNewUserResponse"===y.kind;if(!w&&(null==y?void 0:y.idToken)){const oe=null===(g=null===(p=ft(y.idToken))||void 0===p?void 0:p.firebase)||void 0===g?void 0:g.sign_in_provider;if(oe)return new ra(L,"anonymous"!==oe&&"custom"!==oe?oe:null)}if(!w)return null;switch(w){case"facebook.com":return new Yd(L,x);case"github.com":return new sa(L,x);case"google.com":return new Ro(L,x);case"twitter.com":return new uu(L,x,y.screenName||null);case"custom":case"anonymous":return new ra(L,null);default:return new ra(L,w,x)}}(g)}class $s{constructor(p,g){this.type=p,this.credential=g}static _fromIdtoken(p){return new $s("enroll",p)}static _fromMfaPendingCredential(p){return new $s("signin",p)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(p){var g,w;if(null==p?void 0:p.multiFactorSession){if(null===(g=p.multiFactorSession)||void 0===g?void 0:g.pendingCredential)return $s._fromMfaPendingCredential(p.multiFactorSession.pendingCredential);if(null===(w=p.multiFactorSession)||void 0===w?void 0:w.idToken)return $s._fromIdtoken(p.multiFactorSession.idToken)}return null}}class hl{constructor(p,g,w){this.session=p,this.hints=g,this.signInResolver=w}static _fromError(p,g){const w=ze(p),x=g.customData._serverResponse,L=(x.mfaInfo||[]).map(ve=>Ct._fromServerResponse(w,ve));ne(x.mfaPendingCredential,w,"internal-error");const oe=$s._fromMfaPendingCredential(x.mfaPendingCredential);return new hl(oe,L,function(){var ve=(0,s.Z)(function*(We){const rt=yield We._process(w,oe);delete x.mfaInfo,delete x.mfaPendingCredential;const It=Object.assign(Object.assign({},x),{idToken:rt.idToken,refreshToken:rt.refreshToken});switch(g.operationType){case"signIn":const gt=yield ki._fromIdTokenResponse(w,g.operationType,It);return yield w._updateCurrentUser(gt.user),gt;case"reauthenticate":return ne(g.user,w,"internal-error"),ki._forOperation(g.user,g.operationType,It);default:Ie(w,"internal-error")}});return function(We){return ve.apply(this,arguments)}}())}resolveSignIn(p){var g=this;return(0,s.Z)(function*(){return g.signInResolver(p)})()}}function oi(y,p){return Nt(y,"POST","/v2/accounts/mfaEnrollment:start",tn(y,p))}class Gs{constructor(p){this.user=p,this.enrolledFactors=[],p._onReload(g=>{g.mfaInfo&&(this.enrolledFactors=g.mfaInfo.map(w=>Ct._fromServerResponse(p.auth,w)))})}static _fromUser(p){return new Gs(p)}getSession(){var p=this;return(0,s.Z)(function*(){return $s._fromIdtoken(yield p.user.getIdToken())})()}enroll(p,g){var w=this;return(0,s.Z)(function*(){const x=p,L=yield w.getSession(),oe=yield Si(w.user,x._process(w.user.auth,L,g));return yield w.user._updateTokensIfNecessary(oe),w.user.reload()})()}unenroll(p){var g=this;return(0,s.Z)(function*(){const w="string"==typeof p?p:p.uid,x=yield g.user.getIdToken(),L=yield Si(g.user,function Ag(y,p){return Nt(y,"POST","/v2/accounts/mfaEnrollment:withdraw",tn(y,p))}(g.user.auth,{idToken:x,mfaEnrollmentId:w}));g.enrolledFactors=g.enrolledFactors.filter(({uid:oe})=>oe!==w),yield g.user._updateTokensIfNecessary(L);try{yield g.user.reload()}catch(oe){if("auth/user-token-expired"!==oe.code)throw oe}})()}}const Na=new WeakMap,fu="__sak";class Fr{constructor(p,g){this.storageRetriever=p,this.type=g}_isAvailable(){try{return this.storage?(this.storage.setItem(fu,"1"),this.storage.removeItem(fu),Promise.resolve(!0)):Promise.resolve(!1)}catch(p){return Promise.resolve(!1)}}_set(p,g){return this.storage.setItem(p,JSON.stringify(g)),Promise.resolve()}_get(p){const g=this.storage.getItem(p);return Promise.resolve(g?JSON.parse(g):null)}_remove(p){return this.storage.removeItem(p),Promise.resolve()}get storage(){return this.storageRetriever()}}const Jn=(()=>{class y extends Fr{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(g,w)=>this.onStorageEvent(g,w),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function pu(){const y=(0,S.z$)();return on(y)||wi(y)}()&&function hi(){try{return!(!window||window===window.top)}catch(y){return!1}}(),this.fallbackToPolling=Ls(),this._shouldAllowMigration=!0}forAllChangedKeys(g){for(const w of Object.keys(this.listeners)){const x=this.storage.getItem(w),L=this.localCache[w];x!==L&&g(w,L,x)}}onStorageEvent(g,w=!1){if(!g.key)return void this.forAllChangedKeys((ve,We,rt)=>{this.notifyListeners(ve,rt)});const x=g.key;if(w?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const ve=this.storage.getItem(x);if(g.newValue!==ve)null!==g.newValue?this.storage.setItem(x,g.newValue):this.storage.removeItem(x);else if(this.localCache[x]===g.newValue&&!w)return}const L=()=>{const ve=this.storage.getItem(x);!w&&this.localCache[x]===ve||this.notifyListeners(x,ve)},oe=this.storage.getItem(x);!function rl(){return(0,S.w1)()&&10===document.documentMode}()||oe===g.newValue||g.newValue===g.oldValue?L():setTimeout(L,10)}notifyListeners(g,w){this.localCache[g]=w;const x=this.listeners[g];if(x)for(const L of Array.from(x))L(w&&JSON.parse(w))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((g,w,x)=>{this.onStorageEvent(new StorageEvent("storage",{key:g,oldValue:w,newValue:x}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(g,w){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[g]||(this.listeners[g]=new Set,this.localCache[g]=this.storage.getItem(g)),this.listeners[g].add(w)}_removeListener(g,w){this.listeners[g]&&(this.listeners[g].delete(w),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(g,w){var x=()=>super._set,L=this;return(0,s.Z)(function*(){yield x().call(L,g,w),L.localCache[g]=JSON.stringify(w)})()}_get(g){var w=()=>super._get,x=this;return(0,s.Z)(function*(){const L=yield w().call(x,g);return x.localCache[g]=JSON.stringify(L),L})()}_remove(g){var w=()=>super._remove,x=this;return(0,s.Z)(function*(){yield w().call(x,g),delete x.localCache[g]})()}}return y.type="LOCAL",y})(),dt=(()=>{class y extends Fr{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(g,w){}_removeListener(g,w){}}return y.type="SESSION",y})();let Xn=(()=>{class y{constructor(g){this.eventTarget=g,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(g){const w=this.receivers.find(L=>L.isListeningto(g));if(w)return w;const x=new y(g);return this.receivers.push(x),x}isListeningto(g){return this.eventTarget===g}handleEvent(g){var w=this;return(0,s.Z)(function*(){const x=g,{eventId:L,eventType:oe,data:ve}=x.data,We=w.handlersMap[oe];if(!(null==We?void 0:We.size))return;x.ports[0].postMessage({status:"ack",eventId:L,eventType:oe});const rt=Array.from(We).map(function(){var gt=(0,s.Z)(function*(Wn){return Wn(x.origin,ve)});return function(Wn){return gt.apply(this,arguments)}}()),It=yield function sr(y){return Promise.all(y.map(function(){var p=(0,s.Z)(function*(g){try{return{fulfilled:!0,value:yield g}}catch(w){return{fulfilled:!1,reason:w}}});return function(g){return p.apply(this,arguments)}}()))}(rt);x.ports[0].postMessage({status:"done",eventId:L,eventType:oe,response:It})})()}_subscribe(g,w){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[g]||(this.handlersMap[g]=new Set),this.handlersMap[g].add(w)}_unsubscribe(g,w){this.handlersMap[g]&&w&&this.handlersMap[g].delete(w),(!w||0===this.handlersMap[g].size)&&delete this.handlersMap[g],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return y.receivers=[],y})();function Fa(y="",p=10){let g="";for(let w=0;w<p;w++)g+=Math.floor(10*Math.random());return y+g}class Jd{constructor(p){this.target=p,this.handlers=new Set}removeMessageHandler(p){p.messageChannel&&(p.messageChannel.port1.removeEventListener("message",p.onMessage),p.messageChannel.port1.close()),this.handlers.delete(p)}_send(p,g,w=50){var x=this;return(0,s.Z)(function*(){const L="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!L)throw new Error("connection_unavailable");let oe,ve;return new Promise((We,rt)=>{const It=Fa("",20);L.port1.start();const gt=setTimeout(()=>{rt(new Error("unsupported_event"))},w);ve={messageChannel:L,onMessage(Wn){const As=Wn;if(As.data.eventId===It)switch(As.data.status){case"ack":clearTimeout(gt),oe=setTimeout(()=>{rt(new Error("timeout"))},3e3);break;case"done":clearTimeout(oe),We(As.data.response);break;default:clearTimeout(gt),clearTimeout(oe),rt(new Error("invalid_response"))}}},x.handlers.add(ve),L.port1.addEventListener("message",ve.onMessage),x.target.postMessage({eventType:p,eventId:It,data:g},[L.port2])}).finally(()=>{ve&&x.removeMessageHandler(ve)})})()}}function Tn(){return window}function ts(){return void 0!==Tn().WorkerGlobalScope&&"function"==typeof Tn().importScripts}function Lr(){return(Lr=(0,s.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(y){return null}})).apply(this,arguments)}const mu="firebaseLocalStorageDb",oa="firebaseLocalStorage",On="fbase_key";class qs{constructor(p){this.request=p}toPromise(){return new Promise((p,g)=>{this.request.addEventListener("success",()=>{p(this.request.result)}),this.request.addEventListener("error",()=>{g(this.request.error)})})}}function aa(y,p){return y.transaction([oa],p?"readwrite":"readonly").objectStore(oa)}function Po(){const y=indexedDB.open(mu,1);return new Promise((p,g)=>{y.addEventListener("error",()=>{g(y.error)}),y.addEventListener("upgradeneeded",()=>{const w=y.result;try{w.createObjectStore(oa,{keyPath:On})}catch(x){g(x)}}),y.addEventListener("success",(0,s.Z)(function*(){const w=y.result;w.objectStoreNames.contains(oa)?p(w):(w.close(),yield function Vr(){const y=indexedDB.deleteDatabase(mu);return new qs(y).toPromise()}(),p(yield Po()))}))})}function Br(y,p,g){return ns.apply(this,arguments)}function ns(){return(ns=(0,s.Z)(function*(y,p,g){const w=aa(y,!0).put({[On]:p,value:g});return new qs(w).toPromise()})).apply(this,arguments)}function No(){return(No=(0,s.Z)(function*(y,p){const g=aa(y,!1).get(p),w=yield new qs(g).toPromise();return void 0===w?null:w.value})).apply(this,arguments)}function bs(y,p){const g=aa(y,!0).delete(p);return new qs(g).toPromise()}const Ur=(()=>{class y{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var g=this;return(0,s.Z)(function*(){return g.db||(g.db=yield Po()),g.db})()}_withRetries(g){var w=this;return(0,s.Z)(function*(){let x=0;for(;;)try{const L=yield w._openDb();return yield g(L)}catch(L){if(x++>3)throw L;w.db&&(w.db.close(),w.db=void 0)}})()}initializeServiceWorkerMessaging(){var g=this;return(0,s.Z)(function*(){return ts()?g.initializeReceiver():g.initializeSender()})()}initializeReceiver(){var g=this;return(0,s.Z)(function*(){g.receiver=Xn._getInstance(function Xd(){return ts()?self:null}()),g.receiver._subscribe("keyChanged",function(){var w=(0,s.Z)(function*(x,L){return{keyProcessed:(yield g._poll()).includes(L.key)}});return function(x,L){return w.apply(this,arguments)}}()),g.receiver._subscribe("ping",function(){var w=(0,s.Z)(function*(x,L){return["keyChanged"]});return function(x,L){return w.apply(this,arguments)}}())})()}initializeSender(){var g=this;return(0,s.Z)(function*(){var w,x;if(g.activeServiceWorker=yield function cc(){return Lr.apply(this,arguments)}(),!g.activeServiceWorker)return;g.sender=new Jd(g.activeServiceWorker);const L=yield g.sender._send("ping",{},800);!L||(null===(w=L[0])||void 0===w?void 0:w.fulfilled)&&(null===(x=L[0])||void 0===x?void 0:x.value.includes("keyChanged"))&&(g.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(g){var w=this;return(0,s.Z)(function*(){if(w.sender&&w.activeServiceWorker&&function mt(){var y;return(null===(y=null==navigator?void 0:navigator.serviceWorker)||void 0===y?void 0:y.controller)||null}()===w.activeServiceWorker)try{yield w.sender._send("keyChanged",{key:g},w.serviceWorkerReceiverAvailable?800:50)}catch(x){}})()}_isAvailable(){return(0,s.Z)(function*(){try{if(!indexedDB)return!1;const g=yield Po();return yield Br(g,fu,"1"),yield bs(g,fu),!0}catch(g){}return!1})()}_withPendingWrite(g){var w=this;return(0,s.Z)(function*(){w.pendingWrites++;try{yield g()}finally{w.pendingWrites--}})()}_set(g,w){var x=this;return(0,s.Z)(function*(){return x._withPendingWrite((0,s.Z)(function*(){return yield x._withRetries(L=>Br(L,g,w)),x.localCache[g]=w,x.notifyServiceWorker(g)}))})()}_get(g){var w=this;return(0,s.Z)(function*(){const x=yield w._withRetries(L=>function _u(y,p){return No.apply(this,arguments)}(L,g));return w.localCache[g]=x,x})()}_remove(g){var w=this;return(0,s.Z)(function*(){return w._withPendingWrite((0,s.Z)(function*(){return yield w._withRetries(x=>bs(x,g)),delete w.localCache[g],w.notifyServiceWorker(g)}))})()}_poll(){var g=this;return(0,s.Z)(function*(){const w=yield g._withRetries(oe=>{const ve=aa(oe,!1).getAll();return new qs(ve).toPromise()});if(!w)return[];if(0!==g.pendingWrites)return[];const x=[],L=new Set;for(const{fbase_key:oe,value:ve}of w)L.add(oe),JSON.stringify(g.localCache[oe])!==JSON.stringify(ve)&&(g.notifyListeners(oe,ve),x.push(oe));for(const oe of Object.keys(g.localCache))g.localCache[oe]&&!L.has(oe)&&(g.notifyListeners(oe,null),x.push(oe));return x})()}notifyListeners(g,w){this.localCache[g]=w;const x=this.listeners[g];if(x)for(const L of Array.from(x))L(w)}startPolling(){var g=this;this.stopPolling(),this.pollTimer=setInterval((0,s.Z)(function*(){return g._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(g,w){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[g]||(this.listeners[g]=new Set,this._get(g)),this.listeners[g].add(w)}_removeListener(g,w){this.listeners[g]&&(this.listeners[g].delete(w),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return y.type="LOCAL",y})();function is(y,p){return Nt(y,"POST","/v2/accounts/mfaSignIn:start",tn(y,p))}function rs(){return(rs=(0,s.Z)(function*(y){return(yield Nt(y,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Sn(y){return new Promise((p,g)=>{const w=document.createElement("script");w.setAttribute("src",y),w.onload=p,w.onerror=x=>{const L=we("internal-error");L.customData=x,g(L)},w.type="text/javascript",w.charset="UTF-8",function eh(){var y,p;return null!==(p=null===(y=document.getElementsByTagName("head"))||void 0===y?void 0:y[0])&&void 0!==p?p:document}().appendChild(w)})}function ei(y){return`__${y}${Math.floor(1e6*Math.random())}`}const Yi=1e12;class Ci{constructor(p){this.auth=p,this.counter=Yi,this._widgets=new Map}render(p,g){const w=this.counter;return this._widgets.set(w,new ss(p,this.auth.name,g||{})),this.counter++,w}reset(p){var g;const w=p||Yi;null===(g=this._widgets.get(w))||void 0===g||g.delete(),this._widgets.delete(w)}getResponse(p){var g;return(null===(g=this._widgets.get(p||Yi))||void 0===g?void 0:g.getResponse())||""}execute(p){var g=this;return(0,s.Z)(function*(){var w;return null===(w=g._widgets.get(p||Yi))||void 0===w||w.execute(),""})()}}class ss{constructor(p,g,w){this.params=w,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const x="string"==typeof p?document.getElementById(p):p;ne(x,"argument-error",{appName:g}),this.container=x,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Ln(y){const p=[],g="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let w=0;w<y;w++)p.push(g.charAt(Math.floor(Math.random()*g.length)));return p.join("")}(50);const{callback:p,"expired-callback":g}=this.params;if(p)try{p(this.responseToken)}catch(w){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,g)try{g()}catch(w){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Dr=ei("rcb"),th=new sn(3e4,6e4);class Ig{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!Tn().grecaptcha}load(p,g=""){return ne(function zf(y){return y.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(y)}(g),p,"argument-error"),this.shouldResolveImmediately(g)?Promise.resolve(Tn().grecaptcha):new Promise((w,x)=>{const L=Tn().setTimeout(()=>{x(we(p,"network-request-failed"))},th.get());Tn()[Dr]=()=>{Tn().clearTimeout(L),delete Tn()[Dr];const ve=Tn().grecaptcha;if(!ve)return void x(we(p,"internal-error"));const We=ve.render;ve.render=(rt,It)=>{const gt=We(rt,It);return this.counter++,gt},this.hostLanguage=g,w(ve)},Sn(`https://www.google.com/recaptcha/api.js??${(0,S.xO)({onload:Dr,render:"explicit",hl:g})}`).catch(()=>{clearTimeout(L),x(we(p,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(p){return!!Tn().grecaptcha&&(p===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class nh{load(p){return(0,s.Z)(function*(){return new Ci(p)})()}clearedOneInstance(){}}const Fo="recaptcha",Oi={theme:"light",type:"image"};class ih{constructor(p,g=Object.assign({},Oi),w){this.parameters=g,this.type=Fo,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=ze(w),this.isInvisible="invisible"===this.parameters.size,ne("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const x="string"==typeof p?document.getElementById(p):p;ne(x,this.auth,"argument-error"),this.container=x,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new nh:new Ig,this.validateStartingState()}verify(){var p=this;return(0,s.Z)(function*(){p.assertNotDestroyed();const g=yield p.render(),w=p.getAssertedRecaptcha();return w.getResponse(g)||new Promise(L=>{const oe=ve=>{!ve||(p.tokenChangeListeners.delete(oe),L(ve))};p.tokenChangeListeners.add(oe),p.isInvisible&&w.execute(g)})})()}render(){try{this.assertNotDestroyed()}catch(p){return Promise.reject(p)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(p=>{throw this.renderPromise=null,p})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(p=>{this.container.removeChild(p)})}validateStartingState(){ne(!this.parameters.sitekey,this.auth,"argument-error"),ne(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),ne("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(p){return g=>{if(this.tokenChangeListeners.forEach(w=>w(g)),"function"==typeof p)p(g);else if("string"==typeof p){const w=Tn()[p];"function"==typeof w&&w(g)}}}assertNotDestroyed(){ne(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var p=this;return(0,s.Z)(function*(){if(yield p.init(),!p.widgetId){let g=p.container;if(!p.isInvisible){const w=document.createElement("div");g.appendChild(w),g=w}p.widgetId=p.getAssertedRecaptcha().render(g,p.parameters)}return p.widgetId})()}init(){var p=this;return(0,s.Z)(function*(){ne(rn()&&!ts(),p.auth,"internal-error"),yield function Zs(){let y=null;return new Promise(p=>{"complete"!==document.readyState?(y=()=>p(),window.addEventListener("load",y)):p()}).catch(p=>{throw y&&window.removeEventListener("load",y),p})}(),p.recaptcha=yield p._recaptchaLoader.load(p.auth,p.auth.languageCode||void 0);const g=yield function fi(y){return rs.apply(this,arguments)}(p.auth);ne(g,p.auth,"internal-error"),p.parameters.sitekey=g})()}getAssertedRecaptcha(){return ne(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Ws{constructor(p,g){this.verificationId=p,this.onConfirmation=g}confirm(p){const g=Ma._fromVerification(this.verificationId,p);return this.onConfirmation(g)}}function Un(){return(Un=(0,s.Z)(function*(y,p,g){const w=ze(y),x=yield Pi(w,p,(0,S.m9)(g));return new Ws(x,L=>Qn(w,L))})).apply(this,arguments)}function Va(){return(Va=(0,s.Z)(function*(y,p,g){const w=(0,S.m9)(y);yield To(!1,w,"phone");const x=yield Pi(w.auth,p,(0,S.m9)(g));return new Ws(x,L=>Xr(w,L))})).apply(this,arguments)}function bu(){return(bu=(0,s.Z)(function*(y,p,g){const w=(0,S.m9)(y),x=yield Pi(w.auth,p,(0,S.m9)(g));return new Ws(x,L=>Io(w,L))})).apply(this,arguments)}function Pi(y,p,g){return jr.apply(this,arguments)}function jr(){return(jr=(0,s.Z)(function*(y,p,g){var w;const x=yield g.verify();try{let L;if(ne("string"==typeof x,y,"argument-error"),ne(g.type===Fo,y,"argument-error"),L="string"==typeof p?{phoneNumber:p}:p,"session"in L){const oe=L.session;if("phoneNumber"in L)return ne("enroll"===oe.type,y,"internal-error"),(yield oi(y,{idToken:oe.credential,phoneEnrollmentInfo:{phoneNumber:L.phoneNumber,recaptchaToken:x}})).phoneSessionInfo.sessionInfo;{ne("signin"===oe.type,y,"internal-error");const ve=(null===(w=L.multiFactorHint)||void 0===w?void 0:w.uid)||L.multiFactorUid;return ne(ve,y,"missing-multi-factor-info"),(yield is(y,{mfaPendingCredential:oe.credential,mfaEnrollmentId:ve,phoneSignInInfo:{recaptchaToken:x}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:oe}=yield bg(y,{phoneNumber:L.phoneNumber,recaptchaToken:x});return oe}}finally{g._reset()}})).apply(this,arguments)}function Ks(){return(Ks=(0,s.Z)(function*(y,p){yield An((0,S.m9)(y),p)})).apply(this,arguments)}let os=(()=>{class y{constructor(g){this.providerId=y.PROVIDER_ID,this.auth=ze(g)}verifyPhoneNumber(g,w){return Pi(this.auth,g,(0,S.m9)(w))}static credential(g,w){return Ma._fromVerification(g,w)}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{phoneNumber:w,temporaryProof:x}=g;return w&&x?Ma._fromTokenResponse(w,x):null}}return y.PROVIDER_ID="phone",y.PHONE_SIGN_IN_METHOD="phone",y})();function ws(y,p){return p?le(p):(ne(y._popupRedirectResolver,y,"argument-error"),y._popupRedirectResolver)}class fl extends vn{constructor(p){super("custom","custom"),this.params=p}_getIdTokenResponse(p){return si(p,this._buildIdpRequest())}_linkToIdToken(p,g){return si(p,this._buildIdpRequest(g))}_getReauthenticationResolver(p){return si(p,this._buildIdpRequest())}_buildIdpRequest(p){const g={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return p&&(g.idToken=p),g}}function Cu(y){return na(y.auth,new fl(y),y.bypassAuthState)}function Eu(y){const{auth:p,user:g}=y;return ne(g,p,"internal-error"),Hd(g,new fl(y),y.bypassAuthState)}function qt(y){return Du.apply(this,arguments)}function Du(){return(Du=(0,s.Z)(function*(y){const{auth:p,user:g}=y;return ne(g,p,"internal-error"),An(g,new fl(y),y.bypassAuthState)})).apply(this,arguments)}class pi{constructor(p,g,w,x,L=!1){this.auth=p,this.resolver=w,this.user=x,this.bypassAuthState=L,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(g)?g:[g]}execute(){var p=this;return new Promise(function(){var g=(0,s.Z)(function*(w,x){p.pendingPromise={resolve:w,reject:x};try{p.eventManager=yield p.resolver._initialize(p.auth),yield p.onExecution(),p.eventManager.registerConsumer(p)}catch(L){p.reject(L)}});return function(w,x){return g.apply(this,arguments)}}())}onAuthEvent(p){var g=this;return(0,s.Z)(function*(){const{urlResponse:w,sessionId:x,postBody:L,tenantId:oe,error:ve,type:We}=p;if(ve)return void g.reject(ve);const rt={auth:g.auth,requestUri:w,sessionId:x,tenantId:oe||void 0,postBody:L||void 0,user:g.user,bypassAuthState:g.bypassAuthState};try{g.resolve(yield g.getIdpTask(We)(rt))}catch(It){g.reject(It)}})()}onError(p){this.reject(p)}getIdpTask(p){switch(p){case"signInViaPopup":case"signInViaRedirect":return Cu;case"linkViaPopup":case"linkViaRedirect":return qt;case"reauthViaPopup":case"reauthViaRedirect":return Eu;default:Ie(this.auth,"internal-error")}}resolve(p){se(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(p),this.unregisterAndCleanUp()}reject(p){se(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(p),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Au=new sn(2e3,1e4);function rh(){return(rh=(0,s.Z)(function*(y,p,g){const w=ze(y);Re(y,p,Do);const x=ws(w,g);return new Es(w,"signInViaPopup",p,x).executeNotNull()})).apply(this,arguments)}function hc(){return(hc=(0,s.Z)(function*(y,p,g){const w=(0,S.m9)(y);Re(w.auth,p,Do);const x=ws(w.auth,g);return new Es(w.auth,"reauthViaPopup",p,x,w).executeNotNull()})).apply(this,arguments)}function fc(){return(fc=(0,s.Z)(function*(y,p,g){const w=(0,S.m9)(y);Re(w.auth,p,Do);const x=ws(w.auth,g);return new Es(w.auth,"linkViaPopup",p,x,w).executeNotNull()})).apply(this,arguments)}let Es=(()=>{class y extends pi{constructor(g,w,x,L,oe){super(g,w,L,oe),this.provider=x,this.authWindow=null,this.pollId=null,y.currentPopupAction&&y.currentPopupAction.cancel(),y.currentPopupAction=this}executeNotNull(){var g=this;return(0,s.Z)(function*(){const w=yield g.execute();return ne(w,g.auth,"internal-error"),w})()}onExecution(){var g=this;return(0,s.Z)(function*(){se(1===g.filter.length,"Popup operations only handle one event");const w=Fa();g.authWindow=yield g.resolver._openPopup(g.auth,g.provider,g.filter[0],w),g.authWindow.associatedEvent=w,g.resolver._originValidation(g.auth).catch(x=>{g.reject(x)}),g.resolver._isIframeWebStorageSupported(g.auth,x=>{x||g.reject(we(g.auth,"web-storage-unsupported"))}),g.pollUserCancellation()})()}get eventId(){var g;return(null===(g=this.authWindow)||void 0===g?void 0:g.associatedEvent)||null}cancel(){this.reject(we(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,y.currentPopupAction=null}pollUserCancellation(){const g=()=>{var w,x;this.pollId=(null===(x=null===(w=this.authWindow)||void 0===w?void 0:w.window)||void 0===x?void 0:x.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(we(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(g,Au.get())};g()}}return y.currentPopupAction=null,y})();const Ds=new Map;class li extends pi{constructor(p,g,w=!1){super(p,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],g,void 0,w),this.eventId=null}execute(){var p=()=>super.execute,g=this;return(0,s.Z)(function*(){let w=Ds.get(g.auth._key());if(!w){try{const L=(yield function Hr(y,p){return Tu.apply(this,arguments)}(g.resolver,g.auth))?yield p().call(g):null;w=()=>Promise.resolve(L)}catch(x){w=()=>Promise.reject(x)}Ds.set(g.auth._key(),w)}return g.bypassAuthState||Ds.set(g.auth._key(),()=>Promise.resolve(null)),w()})()}onAuthEvent(p){var g=()=>super.onAuthEvent,w=this;return(0,s.Z)(function*(){if("signInViaRedirect"===p.type)return g().call(w,p);if("unknown"!==p.type){if(p.eventId){const x=yield w.auth._redirectUserForId(p.eventId);if(x)return w.user=x,g().call(w,p);w.resolve(null)}}else w.resolve(null)})()}onExecution(){return(0,s.Z)(function*(){})()}cleanUp(){}}function Tu(){return(Tu=(0,s.Z)(function*(y,p){const g=I(p),w=D(y);if(!(yield w._isAvailable()))return!1;const x="true"===(yield w._get(g));return yield w._remove(g),x})).apply(this,arguments)}function ca(y,p){return Ba.apply(this,arguments)}function Ba(){return(Ba=(0,s.Z)(function*(y,p){return D(y)._set(I(p),"true")})).apply(this,arguments)}function D(y){return le(y._redirectPersistence)}function I(y){return De("pendingRedirect",y.config.apiKey,y.name)}function ce(){return(ce=(0,s.Z)(function*(y,p,g){const w=ze(y);Re(y,p,Do);const x=ws(w,g);return yield ca(x,w),x._openRedirect(w,p,"signInViaRedirect")})).apply(this,arguments)}function Ue(){return(Ue=(0,s.Z)(function*(y,p,g){const w=(0,S.m9)(y);Re(w.auth,p,Do);const x=ws(w.auth,g);yield ca(x,w.auth);const L=yield ua(w);return x._openRedirect(w.auth,p,"reauthViaRedirect",L)})).apply(this,arguments)}function Ut(){return(Ut=(0,s.Z)(function*(y,p,g){const w=(0,S.m9)(y);Re(w.auth,p,Do);const x=ws(w.auth,g);yield To(!1,w,p.providerId),yield ca(x,w.auth);const L=yield ua(w);return x._openRedirect(w.auth,p,"linkViaRedirect",L)})).apply(this,arguments)}function ci(){return(ci=(0,s.Z)(function*(y,p){return yield ze(y)._initializationPromise,Zn(y,p,!1)})).apply(this,arguments)}function Zn(y,p){return Ua.apply(this,arguments)}function Ua(){return(Ua=(0,s.Z)(function*(y,p,g=!1){const w=ze(y),x=ws(w,p),oe=yield new li(w,x,g).execute();return oe&&!g&&(delete oe.user._redirectEventId,yield w._persistUserIfCurrent(oe.user),yield w._setRedirectUser(null,p)),oe})).apply(this,arguments)}function ua(y){return or.apply(this,arguments)}function or(){return(or=(0,s.Z)(function*(y){const p=Fa(`${y.uid}:::`);return y._redirectEventId=p,yield y.auth._setRedirectUser(y),yield y.auth._persistUserIfCurrent(y),p})).apply(this,arguments)}class as{constructor(p){this.auth=p,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(p){this.consumers.add(p),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,p)&&(this.sendToConsumer(this.queuedRedirectEvent,p),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(p){this.consumers.delete(p)}onEvent(p){if(this.hasEventBeenHandled(p))return!1;let g=!1;return this.consumers.forEach(w=>{this.isEventForConsumer(p,w)&&(g=!0,this.sendToConsumer(p,w),this.saveEventToCache(p))}),this.hasHandledPotentialRedirect||!function Iu(y){switch(y.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return oh(y);default:return!1}}(p)||(this.hasHandledPotentialRedirect=!0,g||(this.queuedRedirectEvent=p,g=!0)),g}sendToConsumer(p,g){var w;if(p.error&&!oh(p)){const x=(null===(w=p.error.code)||void 0===w?void 0:w.split("auth/")[1])||"internal-error";g.onError(we(this.auth,x))}else g.onAuthEvent(p)}isEventForConsumer(p,g){const w=null===g.eventId||!!p.eventId&&p.eventId===g.eventId;return g.filter.includes(p.type)&&w}hasEventBeenHandled(p){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(da(p))}saveEventToCache(p){this.cachedEventUids.add(da(p)),this.lastProcessedEventTime=Date.now()}}function da(y){return[y.type,y.eventId,y.sessionId,y.tenantId].filter(p=>p).join("-")}function oh({type:y,error:p}){return"unknown"===y&&"auth/no-auth-event"===(null==p?void 0:p.code)}function Su(y){return pl.apply(this,arguments)}function pl(){return(pl=(0,s.Z)(function*(y,p={}){return Nt(y,"GET","/v1/projects",p)})).apply(this,arguments)}const Mg=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,ov=/^https?/;function Qs(){return(Qs=(0,s.Z)(function*(y){if(y.config.emulator)return;const{authorizedDomains:p}=yield Su(y);for(const g of p)try{if(Mu(g))return}catch(w){}Ie(y,"unauthorized-domain")})).apply(this,arguments)}function Mu(y){const p=Et(),{protocol:g,hostname:w}=new URL(p);if(y.startsWith("chrome-extension://")){const oe=new URL(y);return""===oe.hostname&&""===w?"chrome-extension:"===g&&y.replace("chrome-extension://","")===p.replace("chrome-extension://",""):"chrome-extension:"===g&&oe.hostname===w}if(!ov.test(g))return!1;if(Mg.test(y))return w===y;const x=y.replace(/\./g,"\\.");return new RegExp("^(.+\\."+x+"|"+x+")$","i").test(w)}const lv=new sn(3e4,6e4);function cv(){const y=Tn().___jsl;if(null==y?void 0:y.H)for(const p of Object.keys(y.H))if(y.H[p].r=y.H[p].r||[],y.H[p].L=y.H[p].L||[],y.H[p].r=[...y.H[p].L],y.CP)for(let g=0;g<y.CP.length;g++)y.CP[g]=null}let ah=null;function uv(y){return ah=ah||function xg(y){return new Promise((p,g)=>{var w,x,L;function oe(){cv(),gapi.load("gapi.iframes",{callback:()=>{p(gapi.iframes.getContext())},ontimeout:()=>{cv(),g(we(y,"network-request-failed"))},timeout:lv.get()})}if(null===(x=null===(w=Tn().gapi)||void 0===w?void 0:w.iframes)||void 0===x?void 0:x.Iframe)p(gapi.iframes.getContext());else{if(!(null===(L=Tn().gapi)||void 0===L?void 0:L.load)){const ve=ei("iframefcb");return Tn()[ve]=()=>{gapi.load?oe():g(we(y,"network-request-failed"))},Sn(`https://apis.google.com/js/api.js?onload=${ve}`).catch(We=>g(We))}oe()}}).catch(p=>{throw ah=null,p})}(y),ah}const $f=new sn(5e3,15e3),fa={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},lh=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function ml(y){const p=y.config;ne(p.authDomain,y,"auth-domain-config-required");const g=p.emulator?dn(p,"emulator/auth/iframe"):`https://${y.config.authDomain}/__/auth/iframe`,w={apiKey:p.apiKey,appName:y.name,v:B.SDK_VERSION},x=lh.get(y.config.apiHost);x&&(w.eid=x);const L=y._getFrameworks();return L.length&&(w.fw=L.join(",")),`${g}?${(0,S.xO)(w).slice(1)}`}function Vo(){return Vo=(0,s.Z)(function*(y){const p=yield uv(y),g=Tn().gapi;return ne(g,y,"internal-error"),p.open({where:document.body,url:ml(y),messageHandlersFilter:g.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:fa,dontclear:!0},w=>new Promise(function(){var x=(0,s.Z)(function*(L,oe){yield w.restyle({setHideOnLeave:!1});const ve=we(y,"network-request-failed"),We=Tn().setTimeout(()=>{oe(ve)},$f.get());function rt(){Tn().clearTimeout(We),L(w)}w.ping(rt).then(rt,()=>{oe(ve)})});return function(L,oe){return x.apply(this,arguments)}}()))}),Vo.apply(this,arguments)}const hv={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class dh{constructor(p){this.window=p,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(p){}}}function Zf(y,p,g,w,x,L){ne(y.config.authDomain,y,"auth-domain-config-required"),ne(y.config.apiKey,y,"invalid-api-key");const oe={apiKey:y.config.apiKey,appName:y.name,authType:g,redirectUrl:w,v:B.SDK_VERSION,eventId:x};if(p instanceof Do){p.setDefaultLanguage(y.languageCode),oe.providerId=p.providerId||"",(0,S.xb)(p.getCustomParameters())||(oe.customParameters=JSON.stringify(p.getCustomParameters()));for(const[We,rt]of Object.entries(L||{}))oe[We]=rt}if(p instanceof br){const We=p.getScopes().filter(rt=>""!==rt);We.length>0&&(oe.scopes=We.join(","))}y.tenantId&&(oe.tid=y.tenantId);const ve=oe;for(const We of Object.keys(ve))void 0===ve[We]&&delete ve[We];return`${function pv({config:y}){return y.emulator?dn(y,"emulator/auth/handler"):`https://${y.authDomain}/__/auth/handler`}(y)}?${(0,S.xO)(ve).slice(1)}`}const Js="webStorageSupport";class hh extends class Wf{constructor(p){this.factorId=p}_process(p,g,w){switch(g.type){case"enroll":return this._finalizeEnroll(p,g.credential,w);case"signin":return this._finalizeSignIn(p,g.credential);default:return te("unexpected MultiFactorSessionType")}}}{constructor(p){super("phone"),this.credential=p}static _fromCredential(p){return new hh(p)}_finalizeEnroll(p,g,w){return function Wd(y,p){return Nt(y,"POST","/v2/accounts/mfaEnrollment:finalize",tn(y,p))}(p,{idToken:g,displayName:w,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(p,g){return function qn(y,p){return Nt(y,"POST","/v2/accounts/mfaSignIn:finalize",tn(y,p))}(p,{mfaPendingCredential:g,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let kg=(()=>{class y{constructor(){}static assertion(g){return hh._fromCredential(g)}}return y.FACTOR_ID="phone",y})();var Rg="@firebase/auth",fh="0.19.11";class Og{constructor(p){this.auth=p,this.internalListeners=new Map}getUid(){var p;return this.assertAuthConfigured(),(null===(p=this.auth.currentUser)||void 0===p?void 0:p.uid)||null}getToken(p){var g=this;return(0,s.Z)(function*(){return g.assertAuthConfigured(),yield g.auth._initializationPromise,g.auth.currentUser?{accessToken:yield g.auth.currentUser.getIdToken(p)}:null})()}addAuthTokenListener(p){if(this.assertAuthConfigured(),this.internalListeners.has(p))return;const g=this.auth.onIdTokenChanged(w=>{var x;p((null===(x=w)||void 0===x?void 0:x.stsTokenManager.accessToken)||null)});this.internalListeners.set(p,g),this.updateProactiveRefresh()}removeAuthTokenListener(p){this.assertAuthConfigured();const g=this.internalListeners.get(p);!g||(this.internalListeners.delete(p),g(),this.updateProactiveRefresh())}assertAuthConfigured(){ne(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Bo(){return window}function _l(){return(_l=(0,s.Z)(function*(y,p,g){var w;const{BuildInfo:x}=Bo();se(p.sessionId,"AuthEvent did not contain a session ID");const L=yield yl(p.sessionId),oe={};return wi()?oe.ibi=x.packageName:zn()?oe.apn=x.packageName:Ie(y,"operation-not-supported-in-this-environment"),x.displayName&&(oe.appDisplayName=x.displayName),oe.sessionId=L,Zf(y,g,p.type,void 0,null!==(w=p.eventId)&&void 0!==w?w:void 0,oe)})).apply(this,arguments)}function ls(){return(ls=(0,s.Z)(function*(y){const{BuildInfo:p}=Bo(),g={};wi()?g.iosBundleId=p.packageName:zn()?g.androidPackageName=p.packageName:Ie(y,"operation-not-supported-in-this-environment"),yield Su(y,g)})).apply(this,arguments)}function ph(){return(ph=(0,s.Z)(function*(y,p,g){const{cordova:w}=Bo();let x=()=>{};try{yield new Promise((L,oe)=>{let ve=null;function We(){var gt;L();const Wn=null===(gt=w.plugins.browsertab)||void 0===gt?void 0:gt.close;"function"==typeof Wn&&Wn(),"function"==typeof(null==g?void 0:g.close)&&g.close()}function rt(){ve||(ve=window.setTimeout(()=>{oe(we(y,"redirect-cancelled-by-user"))},2e3))}function It(){"visible"===(null==document?void 0:document.visibilityState)&&rt()}p.addPassiveListener(We),document.addEventListener("resume",rt,!1),zn()&&document.addEventListener("visibilitychange",It,!1),x=()=>{p.removePassiveListener(We),document.removeEventListener("resume",rt,!1),document.removeEventListener("visibilitychange",It,!1),ve&&window.clearTimeout(ve)}})}finally{x()}})).apply(this,arguments)}function yl(y){return Ng.apply(this,arguments)}function Ng(){return(Ng=(0,s.Z)(function*(y){const p=gc(y),g=yield crypto.subtle.digest("SHA-256",p);return Array.from(new Uint8Array(g)).map(x=>x.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function gc(y){if(se(/[0-9a-zA-Z]+/.test(y),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(y);const p=new ArrayBuffer(y.length),g=new Uint8Array(p);for(let w=0;w<y.length;w++)g[w]=y.charCodeAt(w);return g}!function gv(y){(0,B._registerComponent)(new H.wA("auth",(p,{options:g})=>{const w=p.getProvider("app").getImmediate(),x=p.getProvider("heartbeat"),{apiKey:L,authDomain:oe}=w.options;return((ve,We)=>{ne(L&&!L.includes(":"),"invalid-api-key",{appName:ve.name}),ne(!(null==oe?void 0:oe.includes(":")),"argument-error",{appName:ve.name});const rt={apiKey:L,authDomain:oe,clientPlatform:y,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:sl(y)},It=new Or(ve,We,rt);return function ye(y,p){const g=(null==p?void 0:p.persistence)||[],w=(Array.isArray(g)?g:[g]).map(le);(null==p?void 0:p.errorMap)&&y._updateErrorMap(p.errorMap),y._initializeWithPersistence(w,null==p?void 0:p.popupRedirectResolver)}(It,g),It})(w,x)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((p,g,w)=>{p.getProvider("auth-internal").initialize()})),(0,B._registerComponent)(new H.wA("auth-internal",p=>{const g=ze(p.getProvider("auth").getImmediate());return new Og(g)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,B.registerVersion)(Rg,fh,function mv(y){switch(y){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(y)),(0,B.registerVersion)(Rg,fh,"esm2017")}("Browser");class Xf extends as{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(p=>{this.resolveInialized=p})}addPassiveListener(p){this.passiveListeners.add(p)}removePassiveListener(p){this.passiveListeners.delete(p)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(p){return this.resolveInialized(),this.passiveListeners.forEach(g=>g(p)),super.onEvent(p)}initialized(){var p=this;return(0,s.Z)(function*(){yield p.initPromise})()}}function Ru(y){return ja.apply(this,arguments)}function ja(){return(ja=(0,s.Z)(function*(y){const p=yield Pu()._get(tp(y));return p&&(yield Pu()._remove(tp(y))),p})).apply(this,arguments)}function Ou(){const y=[],p="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let g=0;g<20;g++){const w=Math.floor(Math.random()*p.length);y.push(p.charAt(w))}return y.join("")}function Pu(){return le(Jn)}function tp(y){return De("authEvent",y.config.apiKey,y.name)}function Fu(y){if(!(null==y?void 0:y.includes("?")))return{};const[p,...g]=y.split("?");return(0,S.zd)(g.join("?"))}function gh(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:we("no-auth-event")}}function _h(){var y;return(null===(y=null==self?void 0:self.location)||void 0===y?void 0:y.protocol)||null}function Lg(y=(0,S.z$)()){return!("file:"!==_h()&&"ionic:"!==_h()||!y.toLowerCase().match(/iphone|ipad|ipod|android/))}function Zi(){try{const y=self.localStorage,p=Fa();if(y)return y.setItem(p,"1"),y.removeItem(p),!function Ha(y=(0,S.z$)()){return function wv(){return(0,S.w1)()&&11===(null==document?void 0:document.documentMode)}()||function Cv(y=(0,S.z$)()){return/Edge\/\d+/.test(y)}(y)}()||(0,S.hl)()}catch(y){return ga()&&(0,S.hl)()}return!1}function ga(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function Vu(){return(function bv(){return"http:"===_h()||"https:"===_h()}()||(0,S.ru)()||Lg())&&!function yh(){return(0,S.b$)()||(0,S.UG)()}()&&Zi()&&!ga()}function sp(){return Lg()&&"undefined"!=typeof document}function vl(){return(vl=(0,s.Z)(function*(){return!!sp()&&new Promise(y=>{const p=setTimeout(()=>{y(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(p),y(!0)})})})).apply(this,arguments)}const cs={LOCAL:"local",NONE:"none",SESSION:"session"},bl=ne,ap="persistence";function wl(y){return lp.apply(this,arguments)}function lp(){return(lp=(0,s.Z)(function*(y){yield y._initializationPromise;const p=Bu(),g=De(ap,y.config.apiKey,y.name);p&&p.setItem(g,y._getPersistence())})).apply(this,arguments)}function Bu(){var y;try{return(null===(y=function op(){return"undefined"!=typeof window?window:null}())||void 0===y?void 0:y.sessionStorage)||null}catch(p){return null}}const Ev=ne;class $r{constructor(){this.browserResolver=le(class ma{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=dt,this._completeRedirectFn=Zn}_openPopup(p,g,w,x){var L=this;return(0,s.Z)(function*(){var oe;se(null===(oe=L.eventManagers[p._key()])||void 0===oe?void 0:oe.manager,"_initialize() not called before _openPopup()");const ve=Zf(p,g,w,Et(),x);return function pa(y,p,g,w=500,x=600){const L=Math.max((window.screen.availHeight-x)/2,0).toString(),oe=Math.max((window.screen.availWidth-w)/2,0).toString();let ve="";const We=Object.assign(Object.assign({},hv),{width:w.toString(),height:x.toString(),top:L,left:oe}),rt=(0,S.z$)().toLowerCase();g&&(ve=Hi(rt)?"_blank":g),Tt(rt)&&(p=p||"http://localhost",We.scrollbars="yes");const It=Object.entries(We).reduce((Wn,[As,ju])=>`${Wn}${As}=${ju},`,"");if(function Hl(y=(0,S.z$)()){var p;return wi(y)&&!!(null===(p=window.navigator)||void 0===p?void 0:p.standalone)}(rt)&&"_self"!==ve)return function Yf(y,p){const g=document.createElement("a");g.href=y,g.target=p;const w=document.createEvent("MouseEvent");w.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),g.dispatchEvent(w)}(p||"",ve),new dh(null);const gt=window.open(p||"",ve,It);ne(gt,y,"popup-blocked");try{gt.focus()}catch(Wn){}return new dh(gt)}(p,ve,Fa())})()}_openRedirect(p,g,w,x){var L=this;return(0,s.Z)(function*(){return yield L._originValidation(p),function Hf(y){Tn().location.href=y}(Zf(p,g,w,Et(),x)),new Promise(()=>{})})()}_initialize(p){const g=p._key();if(this.eventManagers[g]){const{manager:x,promise:L}=this.eventManagers[g];return x?Promise.resolve(x):(se(L,"If manager is not set, promise should be"),L)}const w=this.initAndGetManager(p);return this.eventManagers[g]={promise:w},w.catch(()=>{delete this.eventManagers[g]}),w}initAndGetManager(p){var g=this;return(0,s.Z)(function*(){const w=yield function dv(y){return Vo.apply(this,arguments)}(p),x=new as(p);return w.register("authEvent",L=>(ne(null==L?void 0:L.authEvent,p,"invalid-auth-event"),{status:x.onEvent(L.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),g.eventManagers[p._key()]={manager:x},g.iframes[p._key()]=w,x})()}_isIframeWebStorageSupported(p,g){this.iframes[p._key()].send(Js,{type:Js},x=>{var L;const oe=null===(L=null==x?void 0:x[0])||void 0===L?void 0:L[Js];void 0!==oe&&g(!!oe),Ie(p,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(p){const g=p._key();return this.originValidationPromises[g]||(this.originValidationPromises[g]=function av(y){return Qs.apply(this,arguments)}(p)),this.originValidationPromises[g]}get _shouldInitProactively(){return Ls()||on()||wi()}}),this.cordovaResolver=le(class rp{constructor(){this._redirectPersistence=dt,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Zn}_initialize(p){var g=this;return(0,s.Z)(function*(){const w=p._key();let x=g.eventManagers.get(w);return x||(x=new Xf(p),g.eventManagers.set(w,x),g.attachCallbackListeners(p,x)),x})()}_openPopup(p){Ie(p,"operation-not-supported-in-this-environment")}_openRedirect(p,g,w,x){var L=this;return(0,s.Z)(function*(){!function mh(y){var p,g,w,x,L,oe,ve,We,rt,It;const gt=Bo();ne("function"==typeof(null===(p=null==gt?void 0:gt.universalLinks)||void 0===p?void 0:p.subscribe),y,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),ne(void 0!==(null===(g=null==gt?void 0:gt.BuildInfo)||void 0===g?void 0:g.packageName),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),ne("function"==typeof(null===(L=null===(x=null===(w=null==gt?void 0:gt.cordova)||void 0===w?void 0:w.plugins)||void 0===x?void 0:x.browsertab)||void 0===L?void 0:L.openUrl),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),ne("function"==typeof(null===(We=null===(ve=null===(oe=null==gt?void 0:gt.cordova)||void 0===oe?void 0:oe.plugins)||void 0===ve?void 0:ve.browsertab)||void 0===We?void 0:We.isAvailable),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),ne("function"==typeof(null===(It=null===(rt=null==gt?void 0:gt.cordova)||void 0===rt?void 0:rt.InAppBrowser)||void 0===It?void 0:It.open),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(p);const oe=yield L._initialize(p);yield oe.initialized(),oe.resetRedirect(),function pc(){Ds.clear()}(),yield L._originValidation(p);const ve=function ep(y,p,g=null){return{type:p,eventId:g,urlResponse:null,sessionId:Ou(),postBody:null,tenantId:y.tenantId,error:we(y,"no-auth-event")}}(p,w,x);yield function EC(y,p){return Pu()._set(tp(y),p)}(p,ve);const We=yield function Kf(y,p,g){return _l.apply(this,arguments)}(p,ve,g),rt=yield function ku(y){const{cordova:p}=Bo();return new Promise(g=>{p.plugins.browsertab.isAvailable(w=>{let x=null;w?p.plugins.browsertab.openUrl(y):x=p.InAppBrowser.open(y,function Qo(y=(0,S.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(y)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(y)}()?"_blank":"_system","location=yes"),g(x)})})}(We);return function Pg(y,p,g){return ph.apply(this,arguments)}(p,oe,rt)})()}_isIframeWebStorageSupported(p,g){throw new Error("Method not implemented.")}_originValidation(p){const g=p._key();return this.originValidationPromises[g]||(this.originValidationPromises[g]=function Qf(y){return ls.apply(this,arguments)}(p)),this.originValidationPromises[g]}attachCallbackListeners(p,g){const{universalLinks:w,handleOpenURL:x,BuildInfo:L}=Bo(),oe=setTimeout((0,s.Z)(function*(){yield Ru(p),g.onEvent(gh())}),500),ve=function(){var It=(0,s.Z)(function*(gt){clearTimeout(oe);const Wn=yield Ru(p);let As=null;Wn&&(null==gt?void 0:gt.url)&&(As=function yv(y,p){var g,w;const x=function Nu(y){const p=Fu(y),g=p.link?decodeURIComponent(p.link):void 0,w=Fu(g).link,x=p.deep_link_id?decodeURIComponent(p.deep_link_id):void 0;return Fu(x).link||x||w||g||y}(p);if(x.includes("/__/auth/callback")){const L=Fu(x),oe=L.firebaseError?function np(y){try{return JSON.parse(y)}catch(p){return null}}(decodeURIComponent(L.firebaseError)):null,ve=null===(w=null===(g=null==oe?void 0:oe.code)||void 0===g?void 0:g.split("auth/"))||void 0===w?void 0:w[1],We=ve?we(ve):null;return We?{type:y.type,eventId:y.eventId,tenantId:y.tenantId,error:We,urlResponse:null,sessionId:null,postBody:null}:{type:y.type,eventId:y.eventId,tenantId:y.tenantId,sessionId:y.sessionId,urlResponse:x,postBody:null}}return null}(Wn,gt.url)),g.onEvent(As||gh())});return function(Wn){return It.apply(this,arguments)}}();void 0!==w&&"function"==typeof w.subscribe&&w.subscribe(null,ve);const We=x,rt=`${L.packageName.toLowerCase()}://`;Bo().handleOpenURL=function(){var It=(0,s.Z)(function*(gt){if(gt.toLowerCase().startsWith(rt)&&ve({url:gt}),"function"==typeof We)try{We(gt)}catch(Wn){console.error(Wn)}});return function(gt){return It.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=dt,this._completeRedirectFn=Zn}_initialize(p){var g=this;return(0,s.Z)(function*(){return yield g.selectUnderlyingResolver(),g.assertedUnderlyingResolver._initialize(p)})()}_openPopup(p,g,w,x){var L=this;return(0,s.Z)(function*(){return yield L.selectUnderlyingResolver(),L.assertedUnderlyingResolver._openPopup(p,g,w,x)})()}_openRedirect(p,g,w,x){var L=this;return(0,s.Z)(function*(){return yield L.selectUnderlyingResolver(),L.assertedUnderlyingResolver._openRedirect(p,g,w,x)})()}_isIframeWebStorageSupported(p,g){this.assertedUnderlyingResolver._isIframeWebStorageSupported(p,g)}_originValidation(p){return this.assertedUnderlyingResolver._originValidation(p)}get _shouldInitProactively(){return sp()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Ev(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var p=this;return(0,s.Z)(function*(){if(p.underlyingResolver)return;const g=yield function ar(){return vl.apply(this,arguments)}();p.underlyingResolver=g?p.cordovaResolver:p.browserResolver})()}}function Ug(y){return y.unwrap()}function Cl(y){return jg(y)}function jg(y){const{_tokenResponse:p}=y instanceof S.ZR?y.customData:y;if(!p)return null;if(!(y instanceof S.ZR)&&"temporaryProof"in p&&"phoneNumber"in p)return os.credentialFromResult(y);const g=p.providerId;if(!g||"password"===g)return null;let w;switch(g){case"google.com":w=al;break;case"facebook.com":w=ea;break;case"github.com":w=Ud;break;case"twitter.com":w=Zl;break;default:const{oauthIdToken:x,oauthAccessToken:L,oauthTokenSecret:oe,pendingToken:ve,nonce:We}=p;return L||oe||x||ve?ve?g.startsWith("saml.")?wr._create(g,ve):js._fromParams({providerId:g,signInMethod:g,pendingToken:ve,idToken:x,accessToken:L}):new xa(g).credential({idToken:x,accessToken:L,rawNonce:We}):null}return y instanceof S.ZR?w.credentialFromError(y):w.credentialFromResult(y)}function Wi(y,p){return p.catch(g=>{throw g instanceof S.ZR&&function Av(y,p){var g;const w=null===(g=p.customData)||void 0===g?void 0:g._tokenResponse;if("auth/multi-factor-auth-required"===p.code)p.resolver=new Tv(y,function lc(y,p){var g;const w=(0,S.m9)(y),x=p;return ne(p.customData.operationType,w,"argument-error"),ne(null===(g=x.customData._serverResponse)||void 0===g?void 0:g.mfaPendingCredential,w,"argument-error"),hl._fromError(w,x)}(y,p));else if(w){const x=jg(p),L=p;x&&(L.credential=x,L.tenantId=w.tenantId||void 0,L.email=w.email||void 0,L.phoneNumber=w.phoneNumber||void 0)}}(y,g),g}).then(g=>{const x=g.user;return{operationType:g.operationType,credential:Cl(g),additionalUserInfo:qi(g),user:_a.getOrCreate(x)}})}function cp(y,p){return up.apply(this,arguments)}function up(){return(up=(0,s.Z)(function*(y,p){const g=yield p;return{verificationId:g.verificationId,confirm:w=>Wi(y,g.confirm(w))}})).apply(this,arguments)}class Tv{constructor(p,g){this.resolver=g,this.auth=function Dv(y){return y.wrapped()}(p)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(p){return Wi(Ug(this.auth),this.resolver.resolveSignIn(p))}}class _a{constructor(p){this._delegate=p,this.multiFactor=function Kd(y){const p=(0,S.m9)(y);return Na.has(p)||Na.set(p,Gs._fromUser(p)),Na.get(p)}(p)}static getOrCreate(p){return _a.USER_MAP.has(p)||_a.USER_MAP.set(p,new _a(p)),_a.USER_MAP.get(p)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(p){return this._delegate.getIdTokenResult(p)}getIdToken(p){return this._delegate.getIdToken(p)}linkAndRetrieveDataWithCredential(p){return this.linkWithCredential(p)}linkWithCredential(p){var g=this;return(0,s.Z)(function*(){return Wi(g.auth,Xr(g._delegate,p))})()}linkWithPhoneNumber(p,g){var w=this;return(0,s.Z)(function*(){return cp(w.auth,function vu(y,p,g){return Va.apply(this,arguments)}(w._delegate,p,g))})()}linkWithPopup(p){var g=this;return(0,s.Z)(function*(){return Wi(g.auth,function Cs(y,p,g){return fc.apply(this,arguments)}(g._delegate,p,$r))})()}linkWithRedirect(p){var g=this;return(0,s.Z)(function*(){return yield wl(ze(g.auth)),function nt(y,p,g){return function Rt(y,p,g){return Ut.apply(this,arguments)}(y,p,g)}(g._delegate,p,$r)})()}reauthenticateAndRetrieveDataWithCredential(p){return this.reauthenticateWithCredential(p)}reauthenticateWithCredential(p){var g=this;return(0,s.Z)(function*(){return Wi(g.auth,Io(g._delegate,p))})()}reauthenticateWithPhoneNumber(p,g){return cp(this.auth,function Sg(y,p,g){return bu.apply(this,arguments)}(this._delegate,p,g))}reauthenticateWithPopup(p){return Wi(this.auth,function la(y,p,g){return hc.apply(this,arguments)}(this._delegate,p,$r))}reauthenticateWithRedirect(p){var g=this;return(0,s.Z)(function*(){return yield wl(ze(g.auth)),function me(y,p,g){return function Be(y,p,g){return Ue.apply(this,arguments)}(y,p,g)}(g._delegate,p,$r)})()}sendEmailVerification(p){return function es(y,p){return su.apply(this,arguments)}(this._delegate,p)}unlink(p){var g=this;return(0,s.Z)(function*(){return yield function ll(y,p){return Jc.apply(this,arguments)}(g._delegate,p),g})()}updateEmail(p){return function lu(y,p){return cu((0,S.m9)(y),p,null)}(this._delegate,p)}updatePassword(p){return function $d(y,p){return cu((0,S.m9)(y),null,p)}(this._delegate,p)}updatePhoneNumber(p){return function wu(y,p){return Ks.apply(this,arguments)}(this._delegate,p)}updateProfile(p){return function Pa(y,p){return au.apply(this,arguments)}(this._delegate,p)}verifyBeforeUpdateEmail(p,g){return function oc(y,p,g){return ac.apply(this,arguments)}(this._delegate,p,g)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}_a.USER_MAP=new WeakMap;const Uu=ne;let dp=(()=>{class y{constructor(g,w){if(this.app=g,w.isInitialized())return this._delegate=w.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:x}=g.options;Uu(x,"invalid-api-key",{appName:g.name}),Uu(x,"invalid-api-key",{appName:g.name});const L="undefined"!=typeof window?$r:void 0;this._delegate=w.initialize({options:{persistence:Iv(x,g.name),popupRedirectResolver:L}}),this._delegate._updateErrorMap(ke),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?_a.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(g){this._delegate.languageCode=g}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(g){this._delegate.tenantId=g}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(g,w){!function Dn(y,p,g){const w=ze(y);ne(w._canInitEmulator,w,"emulator-config-failed"),ne(/^https?:\/\//.test(p),w,"invalid-emulator-scheme");const x=!!(null==g?void 0:g.disableWarnings),L=xi(p),{host:oe,port:ve}=function vo(y){const p=xi(y),g=/(\/\/)?([^?#/]+)/.exec(y.substr(p.length));if(!g)return{host:"",port:null};const w=g[2].split("@").pop()||"",x=/^(\[[^\]]+\])(:|$)/.exec(w);if(x){const L=x[1];return{host:L,port:ri(w.substr(L.length+1))}}{const[L,oe]=w.split(":");return{host:L,port:ri(oe)}}}(p);w.config.emulator={url:`${L}//${oe}${null===ve?"":`:${ve}`}/`},w.settings.appVerificationDisabledForTesting=!0,w.emulatorConfig=Object.freeze({host:oe,port:ve,protocol:L.replace(":",""),options:Object.freeze({disableWarnings:x})}),x||function vs(){function y(){const p=document.createElement("p"),g=p.style;p.innerText="Running in emulator mode. Do not use with production credentials.",g.position="fixed",g.width="100%",g.backgroundColor="#ffffff",g.border=".1em solid #000000",g.color="#b50000",g.bottom="0px",g.left="0px",g.margin="0px",g.zIndex="10000",g.textAlign="center",p.classList.add("firebase-emulator-warning"),document.body.appendChild(p)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",y):y())}()}(this._delegate,g,w)}applyActionCode(g){return function eu(y,p){return Pe.apply(this,arguments)}(this._delegate,g)}checkActionCode(g){return Zt(this._delegate,g)}confirmPasswordReset(g,w){return function ic(y,p,g){return Xc.apply(this,arguments)}(this._delegate,g,w)}createUserWithEmailAndPassword(g,w){var x=this;return(0,s.Z)(function*(){return Wi(x._delegate,function Oa(y,p,g){return Er.apply(this,arguments)}(x._delegate,g,w))})()}fetchProvidersForEmail(g){return this.fetchSignInMethodsForEmail(g)}fetchSignInMethodsForEmail(g){return function sc(y,p){return ko.apply(this,arguments)}(this._delegate,g)}isSignInWithEmailLink(g){return function ru(y,p){const g=Xo.parseLink(p);return"EMAIL_SIGNIN"===(null==g?void 0:g.operation)}(0,g)}getRedirectResult(){var g=this;return(0,s.Z)(function*(){Uu(Vu(),g._delegate,"operation-not-supported-in-this-environment");const w=yield function Ft(y,p){return ci.apply(this,arguments)}(g._delegate,$r);return w?Wi(g._delegate,Promise.resolve(w)):{credential:null,user:null}})()}addFrameworkForLogging(g){!function Fg(y,p){ze(y)._logFramework(p)}(this._delegate,g)}onAuthStateChanged(g,w,x){const{next:L,error:oe,complete:ve}=hp(g,w,x);return this._delegate.onAuthStateChanged(L,oe,ve)}onIdTokenChanged(g,w,x){const{next:L,error:oe,complete:ve}=hp(g,w,x);return this._delegate.onIdTokenChanged(L,oe,ve)}sendSignInLinkToEmail(g,w){return function iu(y,p,g){return zd.apply(this,arguments)}(this._delegate,g,w)}sendPasswordResetEmail(g,w){return function tc(y,p,g){return nc.apply(this,arguments)}(this._delegate,g,w||void 0)}setPersistence(g){var w=this;return(0,s.Z)(function*(){let x;switch(function Vg(y,p){bl(Object.values(cs).includes(p),y,"invalid-persistence-type"),(0,S.b$)()?bl(p!==cs.SESSION,y,"unsupported-persistence-type"):(0,S.UG)()?bl(p===cs.NONE,y,"unsupported-persistence-type"):ga()?bl(p===cs.NONE||p===cs.LOCAL&&(0,S.hl)(),y,"unsupported-persistence-type"):bl(p===cs.NONE||Zi(),y,"unsupported-persistence-type")}(w._delegate,g),g){case cs.SESSION:x=dt;break;case cs.LOCAL:x=(yield le(Ur)._isAvailable())?Ur:Jn;break;case cs.NONE:x=re;break;default:return Ie("argument-error",{appName:w._delegate.name})}return w._delegate.setPersistence(x)})()}signInAndRetrieveDataWithCredential(g){return this.signInWithCredential(g)}signInAnonymously(){return Wi(this._delegate,function Kl(y){return jd.apply(this,arguments)}(this._delegate))}signInWithCredential(g){return Wi(this._delegate,Qn(this._delegate,g))}signInWithCustomToken(g){return Wi(this._delegate,function So(y,p){return Mo.apply(this,arguments)}(this._delegate,g))}signInWithEmailAndPassword(g,w){return Wi(this._delegate,function nu(y,p,g){return Qn((0,S.m9)(y),Qc.credential(p,g))}(this._delegate,g,w))}signInWithEmailLink(g,w){return Wi(this._delegate,function rc(y,p,g){return xo.apply(this,arguments)}(this._delegate,g,w))}signInWithPhoneNumber(g,w){return cp(this._delegate,function dc(y,p,g){return Un.apply(this,arguments)}(this._delegate,g,w))}signInWithPopup(g){var w=this;return(0,s.Z)(function*(){return Uu(Vu(),w._delegate,"operation-not-supported-in-this-environment"),Wi(w._delegate,function Lo(y,p,g){return rh.apply(this,arguments)}(w._delegate,g,$r))})()}signInWithRedirect(g){var w=this;return(0,s.Z)(function*(){return Uu(Vu(),w._delegate,"operation-not-supported-in-this-environment"),yield wl(w._delegate),function P(y,p,g){return function q(y,p,g){return ce.apply(this,arguments)}(y,p,g)}(w._delegate,g,$r)})()}updateCurrentUser(g){return this._delegate.updateCurrentUser(g)}verifyPasswordResetCode(g){return function kn(y,p){return Ra.apply(this,arguments)}(this._delegate,g)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return y.Persistence=cs,y})();function hp(y,p,g){let w=y;"function"!=typeof y&&({next:w,error:p,complete:g}=y);const x=w;return{next:oe=>x(oe&&_a.getOrCreate(oe)),error:p,complete:g}}function Iv(y,p){const g=function Bg(y,p){const g=Bu();if(!g)return[];const w=De(ap,y,p);switch(g.getItem(w)){case cs.NONE:return[re];case cs.LOCAL:return[Ur,dt];case cs.SESSION:return[dt];default:return[]}}(y,p);if("undefined"!=typeof self&&!g.includes(Ur)&&g.push(Ur),"undefined"!=typeof window)for(const w of[Jn,dt])g.includes(w)||g.push(w);return g.includes(re)||g.push(re),g}class fp{constructor(){this.providerId="phone",this._delegate=new os(Ug(F.Z.auth()))}static credential(p,g){return os.credential(p,g)}verifyPhoneNumber(p,g){return this._delegate.verifyPhoneNumber(p,g)}unwrap(){return this._delegate}}fp.PHONE_SIGN_IN_METHOD=os.PHONE_SIGN_IN_METHOD,fp.PROVIDER_ID=os.PROVIDER_ID;const Sv=ne;class Mv{constructor(p,g,w=F.Z.app()){var x;Sv(null===(x=w.options)||void 0===x?void 0:x.apiKey,"invalid-api-key",{appName:w.name}),this._delegate=new ih(p,g,w.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function pp(y){y.INTERNAL.registerComponent(new H.wA("auth-compat",p=>{const g=p.getProvider("app-compat").getImmediate(),w=p.getProvider("auth");return new dp(g,w)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:Qc,FacebookAuthProvider:ea,GithubAuthProvider:Ud,GoogleAuthProvider:al,OAuthProvider:xa,SAMLAuthProvider:Pr,PhoneAuthProvider:fp,PhoneMultiFactorGenerator:kg,RecaptchaVerifier:Mv,TwitterAuthProvider:Zl,Auth:dp,AuthCredential:vn,Error:S.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),y.registerVersion("@firebase/auth-compat","0.2.11")}(F.Z)},3259:(He,$,R)=>{const s=R(8695),F=R(1465),S=R(3210),B=R(2334);function V(z,H,Q,ie,G){const K=[].slice.call(arguments,1),J=K.length,Me="function"==typeof K[J-1];if(!Me&&!s())throw new Error("Callback required as last argument");if(!Me){if(J<1)throw new Error("Too few arguments provided");return 1===J?(Q=H,H=ie=void 0):2===J&&!H.getContext&&(ie=Q,Q=H,H=void 0),new Promise(function(_e,ke){try{const Ve=F.create(Q,ie);_e(z(Ve,H,ie))}catch(Ve){ke(Ve)}})}if(J<2)throw new Error("Too few arguments provided");2===J?(G=Q,Q=H,H=ie=void 0):3===J&&(H.getContext&&void 0===G?(G=ie,ie=void 0):(G=ie,ie=Q,Q=H,H=void 0));try{const _e=F.create(Q,ie);G(null,z(_e,H,ie))}catch(_e){G(_e)}}$.create=F.create,$.toCanvas=V.bind(null,S.render),$.toDataURL=V.bind(null,S.renderToDataURL),$.toString=V.bind(null,function(z,H,Q){return B.render(z,Q)})},8695:He=>{He.exports=function(){return"function"==typeof Promise&&Promise.prototype&&Promise.prototype.then}},6221:(He,$,R)=>{const s=R(4792).getSymbolSize;$.getRowColCoords=function(S){if(1===S)return[];const B=Math.floor(S/7)+2,V=s(S),z=145===V?26:2*Math.ceil((V-13)/(2*B-2)),H=[V-7];for(let Q=1;Q<B-1;Q++)H[Q]=H[Q-1]-z;return H.push(6),H.reverse()},$.getPositions=function(S){const B=[],V=$.getRowColCoords(S),z=V.length;for(let H=0;H<z;H++)for(let Q=0;Q<z;Q++)0===H&&0===Q||0===H&&Q===z-1||H===z-1&&0===Q||B.push([V[H],V[Q]]);return B}},2424:(He,$,R)=>{const s=R(4016),F=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function S(B){this.mode=s.ALPHANUMERIC,this.data=B}S.getBitsLength=function(V){return 11*Math.floor(V/2)+V%2*6},S.prototype.getLength=function(){return this.data.length},S.prototype.getBitsLength=function(){return S.getBitsLength(this.data.length)},S.prototype.write=function(V){let z;for(z=0;z+2<=this.data.length;z+=2){let H=45*F.indexOf(this.data[z]);H+=F.indexOf(this.data[z+1]),V.put(H,11)}this.data.length%2&&V.put(F.indexOf(this.data[z]),6)},He.exports=S},2118:He=>{function $(){this.buffer=[],this.length=0}$.prototype={get:function(R){const s=Math.floor(R/8);return 1==(this.buffer[s]>>>7-R%8&1)},put:function(R,s){for(let F=0;F<s;F++)this.putBit(1==(R>>>s-F-1&1))},getLengthInBits:function(){return this.length},putBit:function(R){const s=Math.floor(this.length/8);this.buffer.length<=s&&this.buffer.push(0),R&&(this.buffer[s]|=128>>>this.length%8),this.length++}},He.exports=$},4425:He=>{function $(R){if(!R||R<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=R,this.data=new Uint8Array(R*R),this.reservedBit=new Uint8Array(R*R)}$.prototype.set=function(R,s,F,S){const B=R*this.size+s;this.data[B]=F,S&&(this.reservedBit[B]=!0)},$.prototype.get=function(R,s){return this.data[R*this.size+s]},$.prototype.xor=function(R,s,F){this.data[R*this.size+s]^=F},$.prototype.isReserved=function(R,s){return this.reservedBit[R*this.size+s]},He.exports=$},5663:(He,$,R)=>{const s=R(8419),F=R(4016);function S(B){this.mode=F.BYTE,this.data=new Uint8Array(s(B))}S.getBitsLength=function(V){return 8*V},S.prototype.getLength=function(){return this.data.length},S.prototype.getBitsLength=function(){return S.getBitsLength(this.data.length)},S.prototype.write=function(B){for(let V=0,z=this.data.length;V<z;V++)B.put(this.data[V],8)},He.exports=S},4655:(He,$,R)=>{const s=R(2259),F=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],S=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];$.getBlocksCount=function(V,z){switch(z){case s.L:return F[4*(V-1)+0];case s.M:return F[4*(V-1)+1];case s.Q:return F[4*(V-1)+2];case s.H:return F[4*(V-1)+3];default:return}},$.getTotalCodewordsCount=function(V,z){switch(z){case s.L:return S[4*(V-1)+0];case s.M:return S[4*(V-1)+1];case s.Q:return S[4*(V-1)+2];case s.H:return S[4*(V-1)+3];default:return}}},2259:(He,$)=>{$.L={bit:1},$.M={bit:0},$.Q={bit:3},$.H={bit:2},$.isValid=function(F){return F&&void 0!==F.bit&&F.bit>=0&&F.bit<4},$.from=function(F,S){if($.isValid(F))return F;try{return function R(s){if("string"!=typeof s)throw new Error("Param is not a string");switch(s.toLowerCase()){case"l":case"low":return $.L;case"m":case"medium":return $.M;case"q":case"quartile":return $.Q;case"h":case"high":return $.H;default:throw new Error("Unknown EC Level: "+s)}}(F)}catch(B){return S}}},3114:(He,$,R)=>{const s=R(4792).getSymbolSize;$.getPositions=function(B){const V=s(B);return[[0,0],[V-7,0],[0,V-7]]}},7078:(He,$,R)=>{const s=R(4792),B=s.getBCHDigit(1335);$.getEncodedBits=function(z,H){const Q=z.bit<<3|H;let ie=Q<<10;for(;s.getBCHDigit(ie)-B>=0;)ie^=1335<<s.getBCHDigit(ie)-B;return 21522^(Q<<10|ie)}},5339:(He,$)=>{const R=new Uint8Array(512),s=new Uint8Array(256);(function(){let S=1;for(let B=0;B<255;B++)R[B]=S,s[S]=B,S<<=1,256&S&&(S^=285);for(let B=255;B<512;B++)R[B]=R[B-255]})(),$.log=function(S){if(S<1)throw new Error("log("+S+")");return s[S]},$.exp=function(S){return R[S]},$.mul=function(S,B){return 0===S||0===B?0:R[s[S]+s[B]]}},449:(He,$,R)=>{const s=R(4016),F=R(4792);function S(B){this.mode=s.KANJI,this.data=B}S.getBitsLength=function(V){return 13*V},S.prototype.getLength=function(){return this.data.length},S.prototype.getBitsLength=function(){return S.getBitsLength(this.data.length)},S.prototype.write=function(B){let V;for(V=0;V<this.data.length;V++){let z=F.toSJIS(this.data[V]);if(z>=33088&&z<=40956)z-=33088;else{if(!(z>=57408&&z<=60351))throw new Error("Invalid SJIS character: "+this.data[V]+"\nMake sure your charset is UTF-8");z-=49472}z=192*(z>>>8&255)+(255&z),B.put(z,13)}},He.exports=S},3667:(He,$)=>{$.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};function s(F,S,B){switch(F){case $.Patterns.PATTERN000:return(S+B)%2==0;case $.Patterns.PATTERN001:return S%2==0;case $.Patterns.PATTERN010:return B%3==0;case $.Patterns.PATTERN011:return(S+B)%3==0;case $.Patterns.PATTERN100:return(Math.floor(S/2)+Math.floor(B/3))%2==0;case $.Patterns.PATTERN101:return S*B%2+S*B%3==0;case $.Patterns.PATTERN110:return(S*B%2+S*B%3)%2==0;case $.Patterns.PATTERN111:return(S*B%3+(S+B)%2)%2==0;default:throw new Error("bad maskPattern:"+F)}}$.isValid=function(S){return null!=S&&""!==S&&!isNaN(S)&&S>=0&&S<=7},$.from=function(S){return $.isValid(S)?parseInt(S,10):void 0},$.getPenaltyN1=function(S){const B=S.size;let V=0,z=0,H=0,Q=null,ie=null;for(let G=0;G<B;G++){z=H=0,Q=ie=null;for(let K=0;K<B;K++){let J=S.get(G,K);J===Q?z++:(z>=5&&(V+=z-5+3),Q=J,z=1),J=S.get(K,G),J===ie?H++:(H>=5&&(V+=H-5+3),ie=J,H=1)}z>=5&&(V+=z-5+3),H>=5&&(V+=H-5+3)}return V},$.getPenaltyN2=function(S){const B=S.size;let V=0;for(let z=0;z<B-1;z++)for(let H=0;H<B-1;H++){const Q=S.get(z,H)+S.get(z,H+1)+S.get(z+1,H)+S.get(z+1,H+1);(4===Q||0===Q)&&V++}return 3*V},$.getPenaltyN3=function(S){const B=S.size;let V=0,z=0,H=0;for(let Q=0;Q<B;Q++){z=H=0;for(let ie=0;ie<B;ie++)z=z<<1&2047|S.get(Q,ie),ie>=10&&(1488===z||93===z)&&V++,H=H<<1&2047|S.get(ie,Q),ie>=10&&(1488===H||93===H)&&V++}return 40*V},$.getPenaltyN4=function(S){let B=0;const V=S.data.length;for(let H=0;H<V;H++)B+=S.data[H];return 10*Math.abs(Math.ceil(100*B/V/5)-10)},$.applyMask=function(S,B){const V=B.size;for(let z=0;z<V;z++)for(let H=0;H<V;H++)B.isReserved(H,z)||B.xor(H,z,s(S,H,z))},$.getBestMask=function(S,B){const V=Object.keys($.Patterns).length;let z=0,H=1/0;for(let Q=0;Q<V;Q++){B(Q),$.applyMask(Q,S);const ie=$.getPenaltyN1(S)+$.getPenaltyN2(S)+$.getPenaltyN3(S)+$.getPenaltyN4(S);$.applyMask(Q,S),ie<H&&(H=ie,z=Q)}return z}},4016:(He,$,R)=>{const s=R(4406),F=R(2699);$.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},$.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},$.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},$.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},$.MIXED={bit:-1},$.getCharCountIndicator=function(V,z){if(!V.ccBits)throw new Error("Invalid mode: "+V);if(!s.isValid(z))throw new Error("Invalid version: "+z);return z>=1&&z<10?V.ccBits[0]:z<27?V.ccBits[1]:V.ccBits[2]},$.getBestModeForData=function(V){return F.testNumeric(V)?$.NUMERIC:F.testAlphanumeric(V)?$.ALPHANUMERIC:F.testKanji(V)?$.KANJI:$.BYTE},$.toString=function(V){if(V&&V.id)return V.id;throw new Error("Invalid mode")},$.isValid=function(V){return V&&V.bit&&V.ccBits},$.from=function(V,z){if($.isValid(V))return V;try{return function S(B){if("string"!=typeof B)throw new Error("Param is not a string");switch(B.toLowerCase()){case"numeric":return $.NUMERIC;case"alphanumeric":return $.ALPHANUMERIC;case"kanji":return $.KANJI;case"byte":return $.BYTE;default:throw new Error("Unknown mode: "+B)}}(V)}catch(H){return z}}},7783:(He,$,R)=>{const s=R(4016);function F(S){this.mode=s.NUMERIC,this.data=S.toString()}F.getBitsLength=function(B){return 10*Math.floor(B/3)+(B%3?B%3*3+1:0)},F.prototype.getLength=function(){return this.data.length},F.prototype.getBitsLength=function(){return F.getBitsLength(this.data.length)},F.prototype.write=function(B){let V,z,H;for(V=0;V+3<=this.data.length;V+=3)z=this.data.substr(V,3),H=parseInt(z,10),B.put(H,10);const Q=this.data.length-V;Q>0&&(z=this.data.substr(V),H=parseInt(z,10),B.put(H,3*Q+1))},He.exports=F},1106:(He,$,R)=>{const s=R(5339);$.mul=function(S,B){const V=new Uint8Array(S.length+B.length-1);for(let z=0;z<S.length;z++)for(let H=0;H<B.length;H++)V[z+H]^=s.mul(S[z],B[H]);return V},$.mod=function(S,B){let V=new Uint8Array(S);for(;V.length-B.length>=0;){const z=V[0];for(let Q=0;Q<B.length;Q++)V[Q]^=s.mul(B[Q],z);let H=0;for(;H<V.length&&0===V[H];)H++;V=V.slice(H)}return V},$.generateECPolynomial=function(S){let B=new Uint8Array([1]);for(let V=0;V<S;V++)B=$.mul(B,new Uint8Array([1,s.exp(V)]));return B}},1465:(He,$,R)=>{const s=R(4792),F=R(2259),S=R(2118),B=R(4425),V=R(6221),z=R(3114),H=R(3667),Q=R(4655),ie=R(2636),G=R(2088),K=R(7078),J=R(4016),Me=R(2033);function ge(he,Re,Se){const ne=he.size,te=K.getEncodedBits(Re,Se);let se,ae;for(se=0;se<15;se++)ae=1==(te>>se&1),he.set(se<6?se:se<8?se+1:ne-15+se,8,ae,!0),he.set(8,se<8?ne-se-1:se<9?15-se-1+1:15-se-1,ae,!0);he.set(ne-8,8,1,!0)}function we(he,Re,Se,ne){let te;if(Array.isArray(he))te=Me.fromArray(he);else{if("string"!=typeof he)throw new Error("Invalid data");{let ye=Re;if(!ye){const Et=Me.rawSplit(he);ye=G.getBestVersionForData(Et,Se)}te=Me.fromString(he,ye||40)}}const se=G.getBestVersionForData(te,Se);if(!se)throw new Error("The amount of data is too big to be stored in a QR Code");if(Re){if(Re<se)throw new Error("\nThe chosen QR Code version cannot contain this amount of data.\nMinimum version required to store current data is: "+se+".\n")}else Re=se;const ae=function Oe(he,Re,Se){const ne=new S;Se.forEach(function(Ee){ne.put(Ee.mode.bit,4),ne.put(Ee.getLength(),J.getCharCountIndicator(Ee.mode,he)),Ee.write(ne)});const ae=8*(s.getSymbolTotalCodewords(he)-Q.getTotalCodewordsCount(he,Re));for(ne.getLengthInBits()+4<=ae&&ne.put(0,4);ne.getLengthInBits()%8!=0;)ne.putBit(0);const le=(ae-ne.getLengthInBits())/8;for(let Ee=0;Ee<le;Ee++)ne.put(Ee%2?17:236,8);return function Ie(he,Re,Se){const ne=s.getSymbolTotalCodewords(Re),se=ne-Q.getTotalCodewordsCount(Re,Se),ae=Q.getBlocksCount(Re,Se),Ee=ae-ne%ae,ye=Math.floor(ne/ae),Et=Math.floor(se/ae),rn=Et+1,Nn=ye-Et,pt=new ie(Nn);let yt=0;const sn=new Array(ae),dn=new Array(ae);let Bi=0;const hn=new Uint8Array(he.buffer);for(let ii=0;ii<ae;ii++){const kr=ii<Ee?Et:rn;sn[ii]=hn.slice(yt,yt+kr),dn[ii]=pt.encode(sn[ii]),yt+=kr,Bi=Math.max(Bi,kr)}const _r=new Uint8Array(ne);let Nt,Cn,tn=0;for(Nt=0;Nt<Bi;Nt++)for(Cn=0;Cn<ae;Cn++)Nt<sn[Cn].length&&(_r[tn++]=sn[Cn][Nt]);for(Nt=0;Nt<Nn;Nt++)for(Cn=0;Cn<ae;Cn++)_r[tn++]=dn[Cn][Nt];return _r}(ne,he,Re)}(Re,Se,te),le=s.getSymbolSize(Re),Ee=new B(le);return function _e(he,Re){const Se=he.size,ne=z.getPositions(Re);for(let te=0;te<ne.length;te++){const se=ne[te][0],ae=ne[te][1];for(let le=-1;le<=7;le++)if(!(se+le<=-1||Se<=se+le))for(let Ee=-1;Ee<=7;Ee++)ae+Ee<=-1||Se<=ae+Ee||he.set(se+le,ae+Ee,le>=0&&le<=6&&(0===Ee||6===Ee)||Ee>=0&&Ee<=6&&(0===le||6===le)||le>=2&&le<=4&&Ee>=2&&Ee<=4,!0)}}(Ee,Re),function ke(he){const Re=he.size;for(let Se=8;Se<Re-8;Se++){const ne=Se%2==0;he.set(Se,6,ne,!0),he.set(6,Se,ne,!0)}}(Ee),function Ve(he,Re){const Se=V.getPositions(Re);for(let ne=0;ne<Se.length;ne++){const te=Se[ne][0],se=Se[ne][1];for(let ae=-2;ae<=2;ae++)for(let le=-2;le<=2;le++)he.set(te+ae,se+le,-2===ae||2===ae||-2===le||2===le||0===ae&&0===le,!0)}}(Ee,Re),ge(Ee,Se,0),Re>=7&&function de(he,Re){const Se=he.size,ne=G.getEncodedBits(Re);let te,se,ae;for(let le=0;le<18;le++)te=Math.floor(le/3),se=le%3+Se-8-3,ae=1==(ne>>le&1),he.set(te,se,ae,!0),he.set(se,te,ae,!0)}(Ee,Re),function Le(he,Re){const Se=he.size;let ne=-1,te=Se-1,se=7,ae=0;for(let le=Se-1;le>0;le-=2)for(6===le&&le--;;){for(let Ee=0;Ee<2;Ee++)if(!he.isReserved(te,le-Ee)){let ye=!1;ae<Re.length&&(ye=1==(Re[ae]>>>se&1)),he.set(te,le-Ee,ye),se--,-1===se&&(ae++,se=7)}if(te+=ne,te<0||Se<=te){te-=ne,ne=-ne;break}}}(Ee,ae),isNaN(ne)&&(ne=H.getBestMask(Ee,ge.bind(null,Ee,Se))),H.applyMask(ne,Ee),ge(Ee,Se,ne),{modules:Ee,version:Re,errorCorrectionLevel:Se,maskPattern:ne,segments:te}}$.create=function(Re,Se){if(void 0===Re||""===Re)throw new Error("No input text");let te,se,ne=F.M;return void 0!==Se&&(ne=F.from(Se.errorCorrectionLevel,F.M),te=G.from(Se.version),se=H.from(Se.maskPattern),Se.toSJISFunc&&s.setToSJISFunction(Se.toSJISFunc)),we(Re,te,ne,se)}},2636:(He,$,R)=>{const s=R(1106);function F(S){this.genPoly=void 0,this.degree=S,this.degree&&this.initialize(this.degree)}F.prototype.initialize=function(B){this.degree=B,this.genPoly=s.generateECPolynomial(this.degree)},F.prototype.encode=function(B){if(!this.genPoly)throw new Error("Encoder not initialized");const V=new Uint8Array(B.length+this.degree);V.set(B);const z=s.mod(V,this.genPoly),H=this.degree-z.length;if(H>0){const Q=new Uint8Array(this.degree);return Q.set(z,H),Q}return z},He.exports=F},2699:(He,$)=>{const R="[0-9]+";let F="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";F=F.replace(/u/g,"\\u");const S="(?:(?![A-Z0-9 $%*+\\-./:]|"+F+")(?:.|[\r\n]))+";$.KANJI=new RegExp(F,"g"),$.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g"),$.BYTE=new RegExp(S,"g"),$.NUMERIC=new RegExp(R,"g"),$.ALPHANUMERIC=new RegExp("[A-Z $%*+\\-./:]+","g");const B=new RegExp("^"+F+"$"),V=new RegExp("^"+R+"$"),z=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");$.testKanji=function(Q){return B.test(Q)},$.testNumeric=function(Q){return V.test(Q)},$.testAlphanumeric=function(Q){return z.test(Q)}},2033:(He,$,R)=>{const s=R(4016),F=R(7783),S=R(2424),B=R(5663),V=R(449),z=R(2699),H=R(4792),Q=R(4901);function ie(de){return unescape(encodeURIComponent(de)).length}function G(de,ge,Le){const Oe=[];let Ie;for(;null!==(Ie=de.exec(Le));)Oe.push({data:Ie[0],index:Ie.index,mode:ge,length:Ie[0].length});return Oe}function K(de){const ge=G(z.NUMERIC,s.NUMERIC,de),Le=G(z.ALPHANUMERIC,s.ALPHANUMERIC,de);let Oe,Ie;return H.isKanjiModeEnabled()?(Oe=G(z.BYTE,s.BYTE,de),Ie=G(z.KANJI,s.KANJI,de)):(Oe=G(z.BYTE_KANJI,s.BYTE,de),Ie=[]),ge.concat(Le,Oe,Ie).sort(function(he,Re){return he.index-Re.index}).map(function(he){return{data:he.data,mode:he.mode,length:he.length}})}function J(de,ge){switch(ge){case s.NUMERIC:return F.getBitsLength(de);case s.ALPHANUMERIC:return S.getBitsLength(de);case s.KANJI:return V.getBitsLength(de);case s.BYTE:return B.getBitsLength(de)}}function Ve(de,ge){let Le;const Oe=s.getBestModeForData(de);if(Le=s.from(ge,Oe),Le!==s.BYTE&&Le.bit<Oe.bit)throw new Error('"'+de+'" cannot be encoded with mode '+s.toString(Le)+".\n Suggested mode is: "+s.toString(Oe));switch(Le===s.KANJI&&!H.isKanjiModeEnabled()&&(Le=s.BYTE),Le){case s.NUMERIC:return new F(de);case s.ALPHANUMERIC:return new S(de);case s.KANJI:return new V(de);case s.BYTE:return new B(de)}}$.fromArray=function(ge){return ge.reduce(function(Le,Oe){return"string"==typeof Oe?Le.push(Ve(Oe,null)):Oe.data&&Le.push(Ve(Oe.data,Oe.mode)),Le},[])},$.fromString=function(ge,Le){const Ie=function _e(de){const ge=[];for(let Le=0;Le<de.length;Le++){const Oe=de[Le];switch(Oe.mode){case s.NUMERIC:ge.push([Oe,{data:Oe.data,mode:s.ALPHANUMERIC,length:Oe.length},{data:Oe.data,mode:s.BYTE,length:Oe.length}]);break;case s.ALPHANUMERIC:ge.push([Oe,{data:Oe.data,mode:s.BYTE,length:Oe.length}]);break;case s.KANJI:ge.push([Oe,{data:Oe.data,mode:s.BYTE,length:ie(Oe.data)}]);break;case s.BYTE:ge.push([{data:Oe.data,mode:s.BYTE,length:ie(Oe.data)}])}}return ge}(K(ge,H.isKanjiModeEnabled())),we=function ke(de,ge){const Le={},Oe={start:{}};let Ie=["start"];for(let we=0;we<de.length;we++){const he=de[we],Re=[];for(let Se=0;Se<he.length;Se++){const ne=he[Se],te=""+we+Se;Re.push(te),Le[te]={node:ne,lastCount:0},Oe[te]={};for(let se=0;se<Ie.length;se++){const ae=Ie[se];Le[ae]&&Le[ae].node.mode===ne.mode?(Oe[ae][te]=J(Le[ae].lastCount+ne.length,ne.mode)-J(Le[ae].lastCount,ne.mode),Le[ae].lastCount+=ne.length):(Le[ae]&&(Le[ae].lastCount=ne.length),Oe[ae][te]=J(ne.length,ne.mode)+4+s.getCharCountIndicator(ne.mode,ge))}}Ie=Re}for(let we=0;we<Ie.length;we++)Oe[Ie[we]].end=0;return{map:Oe,table:Le}}(Ie,Le),he=Q.find_path(we.map,"start","end"),Re=[];for(let Se=1;Se<he.length-1;Se++)Re.push(we.table[he[Se]].node);return $.fromArray(function Me(de){return de.reduce(function(ge,Le){const Oe=ge.length-1>=0?ge[ge.length-1]:null;return Oe&&Oe.mode===Le.mode?(ge[ge.length-1].data+=Le.data,ge):(ge.push(Le),ge)},[])}(Re))},$.rawSplit=function(ge){return $.fromArray(K(ge,H.isKanjiModeEnabled()))}},4792:(He,$)=>{let R;const s=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];$.getSymbolSize=function(S){if(!S)throw new Error('"version" cannot be null or undefined');if(S<1||S>40)throw new Error('"version" should be in range from 1 to 40');return 4*S+17},$.getSymbolTotalCodewords=function(S){return s[S]},$.getBCHDigit=function(F){let S=0;for(;0!==F;)S++,F>>>=1;return S},$.setToSJISFunction=function(S){if("function"!=typeof S)throw new Error('"toSJISFunc" is not a valid function.');R=S},$.isKanjiModeEnabled=function(){return void 0!==R},$.toSJIS=function(S){return R(S)}},4406:(He,$)=>{$.isValid=function(s){return!isNaN(s)&&s>=1&&s<=40}},2088:(He,$,R)=>{const s=R(4792),F=R(4655),S=R(2259),B=R(4016),V=R(4406),H=s.getBCHDigit(7973);function ie(J,Me){return B.getCharCountIndicator(J,Me)+4}function G(J,Me){let _e=0;return J.forEach(function(ke){_e+=ie(ke.mode,Me)+ke.getBitsLength()}),_e}$.from=function(Me,_e){return V.isValid(Me)?parseInt(Me,10):_e},$.getCapacity=function(Me,_e,ke){if(!V.isValid(Me))throw new Error("Invalid QR Code version");void 0===ke&&(ke=B.BYTE);const ge=8*(s.getSymbolTotalCodewords(Me)-F.getTotalCodewordsCount(Me,_e));if(ke===B.MIXED)return ge;const Le=ge-ie(ke,Me);switch(ke){case B.NUMERIC:return Math.floor(Le/10*3);case B.ALPHANUMERIC:return Math.floor(Le/11*2);case B.KANJI:return Math.floor(Le/13);default:return Math.floor(Le/8)}},$.getBestVersionForData=function(Me,_e){let ke;const Ve=S.from(_e,S.M);if(Array.isArray(Me)){if(Me.length>1)return function K(J,Me){for(let _e=1;_e<=40;_e++)if(G(J,_e)<=$.getCapacity(_e,Me,B.MIXED))return _e}(Me,Ve);if(0===Me.length)return 1;ke=Me[0]}else ke=Me;return function Q(J,Me,_e){for(let ke=1;ke<=40;ke++)if(Me<=$.getCapacity(ke,_e,J))return ke}(ke.mode,ke.getLength(),Ve)},$.getEncodedBits=function(Me){if(!V.isValid(Me)||Me<7)throw new Error("Invalid QR Code version");let _e=Me<<12;for(;s.getBCHDigit(_e)-H>=0;)_e^=7973<<s.getBCHDigit(_e)-H;return Me<<12|_e}},3210:(He,$,R)=>{const s=R(6355);$.render=function(V,z,H){let Q=H,ie=z;void 0===Q&&(!z||!z.getContext)&&(Q=z,z=void 0),z||(ie=function S(){try{return document.createElement("canvas")}catch(B){throw new Error("You need to specify a canvas element")}}()),Q=s.getOptions(Q);const G=s.getImageWidth(V.modules.size,Q),K=ie.getContext("2d"),J=K.createImageData(G,G);return s.qrToImageData(J.data,V,Q),function F(B,V,z){B.clearRect(0,0,V.width,V.height),V.style||(V.style={}),V.height=z,V.width=z,V.style.height=z+"px",V.style.width=z+"px"}(K,ie,G),K.putImageData(J,0,0),ie},$.renderToDataURL=function(V,z,H){let Q=H;return void 0===Q&&(!z||!z.getContext)&&(Q=z,z=void 0),Q||(Q={}),$.render(V,z,Q).toDataURL(Q.type||"image/png",(Q.rendererOpts||{}).quality)}},2334:(He,$,R)=>{const s=R(6355);function F(V,z){const H=V.a/255,Q=z+'="'+V.hex+'"';return H<1?Q+" "+z+'-opacity="'+H.toFixed(2).slice(1)+'"':Q}function S(V,z,H){let Q=V+z;return void 0!==H&&(Q+=" "+H),Q}$.render=function(z,H,Q){const ie=s.getOptions(H),G=z.modules.size,K=z.modules.data,J=G+2*ie.margin,Me=ie.color.light.a?"<path "+F(ie.color.light,"fill")+' d="M0 0h'+J+"v"+J+'H0z"/>':"",_e="<path "+F(ie.color.dark,"stroke")+' d="'+function B(V,z,H){let Q="",ie=0,G=!1,K=0;for(let J=0;J<V.length;J++){const Me=Math.floor(J%z),_e=Math.floor(J/z);!Me&&!G&&(G=!0),V[J]?(K++,J>0&&Me>0&&V[J-1]||(Q+=G?S("M",Me+H,.5+_e+H):S("m",ie,0),ie=0,G=!1),Me+1<z&&V[J+1]||(Q+=S("h",K),K=0)):ie++}return Q}(K,G,ie.margin)+'"/>',de='<svg xmlns="http://www.w3.org/2000/svg" '+(ie.width?'width="'+ie.width+'" height="'+ie.width+'" ':"")+'viewBox="0 0 '+J+" "+J+'" shape-rendering="crispEdges">'+Me+_e+"</svg>\n";return"function"==typeof Q&&Q(null,de),de}},6355:(He,$)=>{function R(s){if("number"==typeof s&&(s=s.toString()),"string"!=typeof s)throw new Error("Color should be defined as hex string");let F=s.slice().replace("#","").split("");if(F.length<3||5===F.length||F.length>8)throw new Error("Invalid hex color: "+s);(3===F.length||4===F.length)&&(F=Array.prototype.concat.apply([],F.map(function(B){return[B,B]}))),6===F.length&&F.push("F","F");const S=parseInt(F.join(""),16);return{r:S>>24&255,g:S>>16&255,b:S>>8&255,a:255&S,hex:"#"+F.slice(0,6).join("")}}$.getOptions=function(F){F||(F={}),F.color||(F.color={});const B=F.width&&F.width>=21?F.width:void 0;return{width:B,scale:B?4:F.scale||4,margin:null==F.margin||F.margin<0?4:F.margin,color:{dark:R(F.color.dark||"#000000ff"),light:R(F.color.light||"#ffffffff")},type:F.type,rendererOpts:F.rendererOpts||{}}},$.getScale=function(F,S){return S.width&&S.width>=F+2*S.margin?S.width/(F+2*S.margin):S.scale},$.getImageWidth=function(F,S){const B=$.getScale(F,S);return Math.floor((F+2*S.margin)*B)},$.qrToImageData=function(F,S,B){const V=S.modules.size,z=S.modules.data,H=$.getScale(V,B),Q=Math.floor((V+2*B.margin)*H),ie=B.margin*H,G=[B.color.light,B.color.dark];for(let K=0;K<Q;K++)for(let J=0;J<Q;J++){let Me=4*(K*Q+J),_e=B.color.light;K>=ie&&J>=ie&&K<Q-ie&&J<Q-ie&&(_e=G[z[Math.floor((K-ie)/H)*V+Math.floor((J-ie)/H)]?1:0]),F[Me++]=_e.r,F[Me++]=_e.g,F[Me++]=_e.b,F[Me]=_e.a}}},8306:(He,$,R)=>{"use strict";R.d($,{y:()=>G});var s=R(930),F=R(727),S=R(8822),B=R(4671);var H=R(2416),Q=R(576),ie=R(2806);let G=(()=>{class _e{constructor(Ve){Ve&&(this._subscribe=Ve)}lift(Ve){const de=new _e;return de.source=this,de.operator=Ve,de}subscribe(Ve,de,ge){const Le=function Me(_e){return _e&&_e instanceof s.Lv||function J(_e){return _e&&(0,Q.m)(_e.next)&&(0,Q.m)(_e.error)&&(0,Q.m)(_e.complete)}(_e)&&(0,F.Nn)(_e)}(Ve)?Ve:new s.Hp(Ve,de,ge);return(0,ie.x)(()=>{const{operator:Oe,source:Ie}=this;Le.add(Oe?Oe.call(Le,Ie):Ie?this._subscribe(Le):this._trySubscribe(Le))}),Le}_trySubscribe(Ve){try{return this._subscribe(Ve)}catch(de){Ve.error(de)}}forEach(Ve,de){return new(de=K(de))((ge,Le)=>{const Oe=new s.Hp({next:Ie=>{try{Ve(Ie)}catch(we){Le(we),Oe.unsubscribe()}},error:Le,complete:ge});this.subscribe(Oe)})}_subscribe(Ve){var de;return null===(de=this.source)||void 0===de?void 0:de.subscribe(Ve)}[S.L](){return this}pipe(...Ve){return function z(_e){return 0===_e.length?B.y:1===_e.length?_e[0]:function(Ve){return _e.reduce((de,ge)=>ge(de),Ve)}}(Ve)(this)}toPromise(Ve){return new(Ve=K(Ve))((de,ge)=>{let Le;this.subscribe(Oe=>Le=Oe,Oe=>ge(Oe),()=>de(Le))})}}return _e.create=ke=>new _e(ke),_e})();function K(_e){var ke;return null!==(ke=null!=_e?_e:H.v.Promise)&&void 0!==ke?ke:Promise}},7579:(He,$,R)=>{"use strict";R.d($,{x:()=>H});var s=R(8306),F=R(727);const B=(0,R(3888).d)(ie=>function(){ie(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var V=R(8737),z=R(2806);let H=(()=>{class ie extends s.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(K){const J=new Q(this,this);return J.operator=K,J}_throwIfClosed(){if(this.closed)throw new B}next(K){(0,z.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const J of this.currentObservers)J.next(K)}})}error(K){(0,z.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=K;const{observers:J}=this;for(;J.length;)J.shift().error(K)}})}complete(){(0,z.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:K}=this;for(;K.length;)K.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var K;return(null===(K=this.observers)||void 0===K?void 0:K.length)>0}_trySubscribe(K){return this._throwIfClosed(),super._trySubscribe(K)}_subscribe(K){return this._throwIfClosed(),this._checkFinalizedStatuses(K),this._innerSubscribe(K)}_innerSubscribe(K){const{hasError:J,isStopped:Me,observers:_e}=this;return J||Me?F.Lc:(this.currentObservers=null,_e.push(K),new F.w0(()=>{this.currentObservers=null,(0,V.P)(_e,K)}))}_checkFinalizedStatuses(K){const{hasError:J,thrownError:Me,isStopped:_e}=this;J?K.error(Me):_e&&K.complete()}asObservable(){const K=new s.y;return K.source=this,K}}return ie.create=(G,K)=>new Q(G,K),ie})();class Q extends H{constructor(G,K){super(),this.destination=G,this.source=K}next(G){var K,J;null===(J=null===(K=this.destination)||void 0===K?void 0:K.next)||void 0===J||J.call(K,G)}error(G){var K,J;null===(J=null===(K=this.destination)||void 0===K?void 0:K.error)||void 0===J||J.call(K,G)}complete(){var G,K;null===(K=null===(G=this.destination)||void 0===G?void 0:G.complete)||void 0===K||K.call(G)}_subscribe(G){var K,J;return null!==(J=null===(K=this.source)||void 0===K?void 0:K.subscribe(G))&&void 0!==J?J:F.Lc}}},930:(He,$,R)=>{"use strict";R.d($,{Hp:()=>Ve,Lv:()=>J});var s=R(576),F=R(727),S=R(2416),B=R(7849),V=R(5032);const z=ie("C",void 0,void 0);function ie(Ie,we,he){return{kind:Ie,value:we,error:he}}var G=R(3410),K=R(2806);class J extends F.w0{constructor(we){super(),this.isStopped=!1,we?(this.destination=we,(0,F.Nn)(we)&&we.add(this)):this.destination=Oe}static create(we,he,Re){return new Ve(we,he,Re)}next(we){this.isStopped?Le(function Q(Ie){return ie("N",Ie,void 0)}(we),this):this._next(we)}error(we){this.isStopped?Le(function H(Ie){return ie("E",void 0,Ie)}(we),this):(this.isStopped=!0,this._error(we))}complete(){this.isStopped?Le(z,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(we){this.destination.next(we)}_error(we){try{this.destination.error(we)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Me=Function.prototype.bind;function _e(Ie,we){return Me.call(Ie,we)}class ke{constructor(we){this.partialObserver=we}next(we){const{partialObserver:he}=this;if(he.next)try{he.next(we)}catch(Re){de(Re)}}error(we){const{partialObserver:he}=this;if(he.error)try{he.error(we)}catch(Re){de(Re)}else de(we)}complete(){const{partialObserver:we}=this;if(we.complete)try{we.complete()}catch(he){de(he)}}}class Ve extends J{constructor(we,he,Re){let Se;if(super(),(0,s.m)(we)||!we)Se={next:null!=we?we:void 0,error:null!=he?he:void 0,complete:null!=Re?Re:void 0};else{let ne;this&&S.v.useDeprecatedNextContext?(ne=Object.create(we),ne.unsubscribe=()=>this.unsubscribe(),Se={next:we.next&&_e(we.next,ne),error:we.error&&_e(we.error,ne),complete:we.complete&&_e(we.complete,ne)}):Se=we}this.destination=new ke(Se)}}function de(Ie){S.v.useDeprecatedSynchronousErrorHandling?(0,K.O)(Ie):(0,B.h)(Ie)}function Le(Ie,we){const{onStoppedNotification:he}=S.v;he&&G.z.setTimeout(()=>he(Ie,we))}const Oe={closed:!0,next:V.Z,error:function ge(Ie){throw Ie},complete:V.Z}},727:(He,$,R)=>{"use strict";R.d($,{Lc:()=>z,w0:()=>V,Nn:()=>H});var s=R(576);const S=(0,R(3888).d)(ie=>function(K){ie(this),this.message=K?`${K.length} errors occurred during unsubscription:\n${K.map((J,Me)=>`${Me+1}) ${J.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=K});var B=R(8737);class V{constructor(G){this.initialTeardown=G,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let G;if(!this.closed){this.closed=!0;const{_parentage:K}=this;if(K)if(this._parentage=null,Array.isArray(K))for(const _e of K)_e.remove(this);else K.remove(this);const{initialTeardown:J}=this;if((0,s.m)(J))try{J()}catch(_e){G=_e instanceof S?_e.errors:[_e]}const{_finalizers:Me}=this;if(Me){this._finalizers=null;for(const _e of Me)try{Q(_e)}catch(ke){G=null!=G?G:[],ke instanceof S?G=[...G,...ke.errors]:G.push(ke)}}if(G)throw new S(G)}}add(G){var K;if(G&&G!==this)if(this.closed)Q(G);else{if(G instanceof V){if(G.closed||G._hasParent(this))return;G._addParent(this)}(this._finalizers=null!==(K=this._finalizers)&&void 0!==K?K:[]).push(G)}}_hasParent(G){const{_parentage:K}=this;return K===G||Array.isArray(K)&&K.includes(G)}_addParent(G){const{_parentage:K}=this;this._parentage=Array.isArray(K)?(K.push(G),K):K?[K,G]:G}_removeParent(G){const{_parentage:K}=this;K===G?this._parentage=null:Array.isArray(K)&&(0,B.P)(K,G)}remove(G){const{_finalizers:K}=this;K&&(0,B.P)(K,G),G instanceof V&&G._removeParent(this)}}V.EMPTY=(()=>{const ie=new V;return ie.closed=!0,ie})();const z=V.EMPTY;function H(ie){return ie instanceof V||ie&&"closed"in ie&&(0,s.m)(ie.remove)&&(0,s.m)(ie.add)&&(0,s.m)(ie.unsubscribe)}function Q(ie){(0,s.m)(ie)?ie():ie.unsubscribe()}},2416:(He,$,R)=>{"use strict";R.d($,{v:()=>s});const s={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(He,$,R)=>{"use strict";R.d($,{E:()=>F});const F=new(R(8306).y)(V=>V.complete())},8996:(He,$,R)=>{"use strict";R.d($,{D:()=>we});var s=R(8421),F=R(5363),S=R(9468),z=R(8306),Q=R(2202),ie=R(576),G=R(9672);function J(he,Re){if(!he)throw new Error("Iterable cannot be null");return new z.y(Se=>{(0,G.f)(Se,Re,()=>{const ne=he[Symbol.asyncIterator]();(0,G.f)(Se,Re,()=>{ne.next().then(te=>{te.done?Se.complete():Se.next(te.value)})},0,!0)})})}var Me=R(3670),_e=R(8239),ke=R(1144),Ve=R(6495),de=R(2206),ge=R(4532),Le=R(3260);function we(he,Re){return Re?function Ie(he,Re){if(null!=he){if((0,Me.c)(he))return function B(he,Re){return(0,s.Xf)(he).pipe((0,S.R)(Re),(0,F.Q)(Re))}(he,Re);if((0,ke.z)(he))return function H(he,Re){return new z.y(Se=>{let ne=0;return Re.schedule(function(){ne===he.length?Se.complete():(Se.next(he[ne++]),Se.closed||this.schedule())})})}(he,Re);if((0,_e.t)(he))return function V(he,Re){return(0,s.Xf)(he).pipe((0,S.R)(Re),(0,F.Q)(Re))}(he,Re);if((0,de.D)(he))return J(he,Re);if((0,Ve.T)(he))return function K(he,Re){return new z.y(Se=>{let ne;return(0,G.f)(Se,Re,()=>{ne=he[Q.h](),(0,G.f)(Se,Re,()=>{let te,se;try{({value:te,done:se}=ne.next())}catch(ae){return void Se.error(ae)}se?Se.complete():Se.next(te)},0,!0)}),()=>(0,ie.m)(null==ne?void 0:ne.return)&&ne.return()})}(he,Re);if((0,Le.L)(he))return function Oe(he,Re){return J((0,Le.Q)(he),Re)}(he,Re)}throw(0,ge.z)(he)}(he,Re):(0,s.Xf)(he)}},8421:(He,$,R)=>{"use strict";R.d($,{Xf:()=>Me});var s=R(655),F=R(1144),S=R(8239),B=R(8306),V=R(3670),z=R(2206),H=R(4532),Q=R(6495),ie=R(3260),G=R(576),K=R(7849),J=R(8822);function Me(Ie){if(Ie instanceof B.y)return Ie;if(null!=Ie){if((0,V.c)(Ie))return function _e(Ie){return new B.y(we=>{const he=Ie[J.L]();if((0,G.m)(he.subscribe))return he.subscribe(we);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Ie);if((0,F.z)(Ie))return function ke(Ie){return new B.y(we=>{for(let he=0;he<Ie.length&&!we.closed;he++)we.next(Ie[he]);we.complete()})}(Ie);if((0,S.t)(Ie))return function Ve(Ie){return new B.y(we=>{Ie.then(he=>{we.closed||(we.next(he),we.complete())},he=>we.error(he)).then(null,K.h)})}(Ie);if((0,z.D)(Ie))return ge(Ie);if((0,Q.T)(Ie))return function de(Ie){return new B.y(we=>{for(const he of Ie)if(we.next(he),we.closed)return;we.complete()})}(Ie);if((0,ie.L)(Ie))return function Le(Ie){return ge((0,ie.Q)(Ie))}(Ie)}throw(0,H.z)(Ie)}function ge(Ie){return new B.y(we=>{(function Oe(Ie,we){var he,Re,Se,ne;return(0,s.mG)(this,void 0,void 0,function*(){try{for(he=(0,s.KL)(Ie);!(Re=yield he.next()).done;)if(we.next(Re.value),we.closed)return}catch(te){Se={error:te}}finally{try{Re&&!Re.done&&(ne=he.return)&&(yield ne.call(he))}finally{if(Se)throw Se.error}}we.complete()})})(Ie,we).catch(he=>we.error(he))})}},6451:(He,$,R)=>{"use strict";R.d($,{T:()=>z});var s=R(8189),F=R(8421),S=R(515),B=R(3269),V=R(8996);function z(...H){const Q=(0,B.yG)(H),ie=(0,B._6)(H,1/0),G=H;return G.length?1===G.length?(0,F.Xf)(G[0]):(0,s.J)(ie)((0,V.D)(G,Q)):S.E}},5403:(He,$,R)=>{"use strict";R.d($,{x:()=>F});var s=R(930);function F(B,V,z,H,Q){return new S(B,V,z,H,Q)}class S extends s.Lv{constructor(V,z,H,Q,ie,G){super(V),this.onFinalize=ie,this.shouldUnsubscribe=G,this._next=z?function(K){try{z(K)}catch(J){V.error(J)}}:super._next,this._error=Q?function(K){try{Q(K)}catch(J){V.error(J)}finally{this.unsubscribe()}}:super._error,this._complete=H?function(){try{H()}catch(K){V.error(K)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var V;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:z}=this;super.unsubscribe(),!z&&(null===(V=this.onFinalize)||void 0===V||V.call(this))}}}},4004:(He,$,R)=>{"use strict";R.d($,{U:()=>S});var s=R(4482),F=R(5403);function S(B,V){return(0,s.e)((z,H)=>{let Q=0;z.subscribe((0,F.x)(H,ie=>{H.next(B.call(V,ie,Q++))}))})}},8189:(He,$,R)=>{"use strict";R.d($,{J:()=>S});var s=R(5577),F=R(4671);function S(B=1/0){return(0,s.z)(F.y,B)}},5577:(He,$,R)=>{"use strict";R.d($,{z:()=>Q});var s=R(4004),F=R(8421),S=R(4482),B=R(9672),V=R(5403),H=R(576);function Q(ie,G,K=1/0){return(0,H.m)(G)?Q((J,Me)=>(0,s.U)((_e,ke)=>G(J,_e,Me,ke))((0,F.Xf)(ie(J,Me))),K):("number"==typeof G&&(K=G),(0,S.e)((J,Me)=>function z(ie,G,K,J,Me,_e,ke,Ve){const de=[];let ge=0,Le=0,Oe=!1;const Ie=()=>{Oe&&!de.length&&!ge&&G.complete()},we=Re=>ge<J?he(Re):de.push(Re),he=Re=>{_e&&G.next(Re),ge++;let Se=!1;(0,F.Xf)(K(Re,Le++)).subscribe((0,V.x)(G,ne=>{null==Me||Me(ne),_e?we(ne):G.next(ne)},()=>{Se=!0},void 0,()=>{if(Se)try{for(ge--;de.length&&ge<J;){const ne=de.shift();ke?(0,B.f)(G,ke,()=>he(ne)):he(ne)}Ie()}catch(ne){G.error(ne)}}))};return ie.subscribe((0,V.x)(G,we,()=>{Oe=!0,Ie()})),()=>{null==Ve||Ve()}}(J,Me,ie,K)))}},5363:(He,$,R)=>{"use strict";R.d($,{Q:()=>B});var s=R(9672),F=R(4482),S=R(5403);function B(V,z=0){return(0,F.e)((H,Q)=>{H.subscribe((0,S.x)(Q,ie=>(0,s.f)(Q,V,()=>Q.next(ie),z),()=>(0,s.f)(Q,V,()=>Q.complete(),z),ie=>(0,s.f)(Q,V,()=>Q.error(ie),z)))})}},3099:(He,$,R)=>{"use strict";R.d($,{B:()=>z});var s=R(8996),F=R(5698),S=R(7579),B=R(930),V=R(4482);function z(Q={}){const{connector:ie=(()=>new S.x),resetOnError:G=!0,resetOnComplete:K=!0,resetOnRefCountZero:J=!0}=Q;return Me=>{let _e=null,ke=null,Ve=null,de=0,ge=!1,Le=!1;const Oe=()=>{null==ke||ke.unsubscribe(),ke=null},Ie=()=>{Oe(),_e=Ve=null,ge=Le=!1},we=()=>{const he=_e;Ie(),null==he||he.unsubscribe()};return(0,V.e)((he,Re)=>{de++,!Le&&!ge&&Oe();const Se=Ve=null!=Ve?Ve:ie();Re.add(()=>{de--,0===de&&!Le&&!ge&&(ke=H(we,J))}),Se.subscribe(Re),_e||(_e=new B.Hp({next:ne=>Se.next(ne),error:ne=>{Le=!0,Oe(),ke=H(Ie,G,ne),Se.error(ne)},complete:()=>{ge=!0,Oe(),ke=H(Ie,K),Se.complete()}}),(0,s.D)(he).subscribe(_e))})(Me)}}function H(Q,ie,...G){return!0===ie?(Q(),null):!1===ie?null:ie(...G).pipe((0,F.q)(1)).subscribe(()=>Q())}},9468:(He,$,R)=>{"use strict";R.d($,{R:()=>F});var s=R(4482);function F(S,B=0){return(0,s.e)((V,z)=>{z.add(S.schedule(()=>V.subscribe(z),B))})}},5698:(He,$,R)=>{"use strict";R.d($,{q:()=>B});var s=R(515),F=R(4482),S=R(5403);function B(V){return V<=0?()=>s.E:(0,F.e)((z,H)=>{let Q=0;z.subscribe((0,S.x)(H,ie=>{++Q<=V&&(H.next(ie),V<=Q&&H.complete())}))})}},8505:(He,$,R)=>{"use strict";R.d($,{b:()=>V});var s=R(576),F=R(4482),S=R(5403),B=R(4671);function V(z,H,Q){const ie=(0,s.m)(z)||H||Q?{next:z,error:H,complete:Q}:z;return ie?(0,F.e)((G,K)=>{var J;null===(J=ie.subscribe)||void 0===J||J.call(ie);let Me=!0;G.subscribe((0,S.x)(K,_e=>{var ke;null===(ke=ie.next)||void 0===ke||ke.call(ie,_e),K.next(_e)},()=>{var _e;Me=!1,null===(_e=ie.complete)||void 0===_e||_e.call(ie),K.complete()},_e=>{var ke;Me=!1,null===(ke=ie.error)||void 0===ke||ke.call(ie,_e),K.error(_e)},()=>{var _e,ke;Me&&(null===(_e=ie.unsubscribe)||void 0===_e||_e.call(ie)),null===(ke=ie.finalize)||void 0===ke||ke.call(ie)}))}):B.y}},4408:(He,$,R)=>{"use strict";R.d($,{o:()=>V});var s=R(727);class F extends s.w0{constructor(H,Q){super()}schedule(H,Q=0){return this}}const S={setInterval(z,H,...Q){const{delegate:ie}=S;return(null==ie?void 0:ie.setInterval)?ie.setInterval(z,H,...Q):setInterval(z,H,...Q)},clearInterval(z){const{delegate:H}=S;return((null==H?void 0:H.clearInterval)||clearInterval)(z)},delegate:void 0};var B=R(8737);class V extends F{constructor(H,Q){super(H,Q),this.scheduler=H,this.work=Q,this.pending=!1}schedule(H,Q=0){if(this.closed)return this;this.state=H;const ie=this.id,G=this.scheduler;return null!=ie&&(this.id=this.recycleAsyncId(G,ie,Q)),this.pending=!0,this.delay=Q,this.id=this.id||this.requestAsyncId(G,this.id,Q),this}requestAsyncId(H,Q,ie=0){return S.setInterval(H.flush.bind(H,this),ie)}recycleAsyncId(H,Q,ie=0){if(null!=ie&&this.delay===ie&&!1===this.pending)return Q;S.clearInterval(Q)}execute(H,Q){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const ie=this._execute(H,Q);if(ie)return ie;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(H,Q){let G,ie=!1;try{this.work(H)}catch(K){ie=!0,G=K||new Error("Scheduled action threw falsy error")}if(ie)return this.unsubscribe(),G}unsubscribe(){if(!this.closed){const{id:H,scheduler:Q}=this,{actions:ie}=Q;this.work=this.state=this.scheduler=null,this.pending=!1,(0,B.P)(ie,this),null!=H&&(this.id=this.recycleAsyncId(Q,H,null)),this.delay=null,super.unsubscribe()}}}},7565:(He,$,R)=>{"use strict";R.d($,{v:()=>S});var s=R(6063);class F{constructor(V,z=F.now){this.schedulerActionCtor=V,this.now=z}schedule(V,z=0,H){return new this.schedulerActionCtor(this,V).schedule(H,z)}}F.now=s.l.now;class S extends F{constructor(V,z=F.now){super(V,z),this.actions=[],this._active=!1,this._scheduled=void 0}flush(V){const{actions:z}=this;if(this._active)return void z.push(V);let H;this._active=!0;do{if(H=V.execute(V.state,V.delay))break}while(V=z.shift());if(this._active=!1,H){for(;V=z.shift();)V.unsubscribe();throw H}}}},4986:(He,$,R)=>{"use strict";R.d($,{P:()=>B,z:()=>S});var s=R(4408);const S=new(R(7565).v)(s.o),B=S},6063:(He,$,R)=>{"use strict";R.d($,{l:()=>s});const s={now:()=>(s.delegate||Date).now(),delegate:void 0}},3410:(He,$,R)=>{"use strict";R.d($,{z:()=>s});const s={setTimeout(F,S,...B){const{delegate:V}=s;return(null==V?void 0:V.setTimeout)?V.setTimeout(F,S,...B):setTimeout(F,S,...B)},clearTimeout(F){const{delegate:S}=s;return((null==S?void 0:S.clearTimeout)||clearTimeout)(F)},delegate:void 0}},2202:(He,$,R)=>{"use strict";R.d($,{h:()=>F});const F=function s(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(He,$,R)=>{"use strict";R.d($,{L:()=>s});const s="function"==typeof Symbol&&Symbol.observable||"@@observable"},3269:(He,$,R)=>{"use strict";R.d($,{_6:()=>z,jO:()=>B,yG:()=>V});var s=R(576),F=R(3532);function S(H){return H[H.length-1]}function B(H){return(0,s.m)(S(H))?H.pop():void 0}function V(H){return(0,F.K)(S(H))?H.pop():void 0}function z(H,Q){return"number"==typeof S(H)?H.pop():Q}},8737:(He,$,R)=>{"use strict";function s(F,S){if(F){const B=F.indexOf(S);0<=B&&F.splice(B,1)}}R.d($,{P:()=>s})},3888:(He,$,R)=>{"use strict";function s(F){const B=F(V=>{Error.call(V),V.stack=(new Error).stack});return B.prototype=Object.create(Error.prototype),B.prototype.constructor=B,B}R.d($,{d:()=>s})},2806:(He,$,R)=>{"use strict";R.d($,{O:()=>B,x:()=>S});var s=R(2416);let F=null;function S(V){if(s.v.useDeprecatedSynchronousErrorHandling){const z=!F;if(z&&(F={errorThrown:!1,error:null}),V(),z){const{errorThrown:H,error:Q}=F;if(F=null,H)throw Q}}else V()}function B(V){s.v.useDeprecatedSynchronousErrorHandling&&F&&(F.errorThrown=!0,F.error=V)}},9672:(He,$,R)=>{"use strict";function s(F,S,B,V=0,z=!1){const H=S.schedule(function(){B(),z?F.add(this.schedule(null,V)):this.unsubscribe()},V);if(F.add(H),!z)return H}R.d($,{f:()=>s})},4671:(He,$,R)=>{"use strict";function s(F){return F}R.d($,{y:()=>s})},1144:(He,$,R)=>{"use strict";R.d($,{z:()=>s});const s=F=>F&&"number"==typeof F.length&&"function"!=typeof F},2206:(He,$,R)=>{"use strict";R.d($,{D:()=>F});var s=R(576);function F(S){return Symbol.asyncIterator&&(0,s.m)(null==S?void 0:S[Symbol.asyncIterator])}},576:(He,$,R)=>{"use strict";function s(F){return"function"==typeof F}R.d($,{m:()=>s})},3670:(He,$,R)=>{"use strict";R.d($,{c:()=>S});var s=R(8822),F=R(576);function S(B){return(0,F.m)(B[s.L])}},6495:(He,$,R)=>{"use strict";R.d($,{T:()=>S});var s=R(2202),F=R(576);function S(B){return(0,F.m)(null==B?void 0:B[s.h])}},8239:(He,$,R)=>{"use strict";R.d($,{t:()=>F});var s=R(576);function F(S){return(0,s.m)(null==S?void 0:S.then)}},3260:(He,$,R)=>{"use strict";R.d($,{L:()=>B,Q:()=>S});var s=R(655),F=R(576);function S(V){return(0,s.FC)(this,arguments,function*(){const H=V.getReader();try{for(;;){const{value:Q,done:ie}=yield(0,s.qq)(H.read());if(ie)return yield(0,s.qq)(void 0);yield yield(0,s.qq)(Q)}}finally{H.releaseLock()}})}function B(V){return(0,F.m)(null==V?void 0:V.getReader)}},3532:(He,$,R)=>{"use strict";R.d($,{K:()=>F});var s=R(576);function F(S){return S&&(0,s.m)(S.schedule)}},4482:(He,$,R)=>{"use strict";R.d($,{A:()=>F,e:()=>S});var s=R(576);function F(B){return(0,s.m)(null==B?void 0:B.lift)}function S(B){return V=>{if(F(V))return V.lift(function(z){try{return B(z,this)}catch(H){this.error(H)}});throw new TypeError("Unable to lift unknown Observable type")}}},5032:(He,$,R)=>{"use strict";function s(){}R.d($,{Z:()=>s})},7849:(He,$,R)=>{"use strict";R.d($,{h:()=>S});var s=R(2416),F=R(3410);function S(B){F.z.setTimeout(()=>{const{onUnhandledError:V}=s.v;if(!V)throw B;V(B)})}},4532:(He,$,R)=>{"use strict";function s(F){return new TypeError(`You provided ${null!==F&&"object"==typeof F?"an invalid object":`'${F}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}R.d($,{z:()=>s})},655:(He,$,R)=>{"use strict";function B(te,se){var ae={};for(var le in te)Object.prototype.hasOwnProperty.call(te,le)&&se.indexOf(le)<0&&(ae[le]=te[le]);if(null!=te&&"function"==typeof Object.getOwnPropertySymbols){var Ee=0;for(le=Object.getOwnPropertySymbols(te);Ee<le.length;Ee++)se.indexOf(le[Ee])<0&&Object.prototype.propertyIsEnumerable.call(te,le[Ee])&&(ae[le[Ee]]=te[le[Ee]])}return ae}function V(te,se,ae,le){var Et,Ee=arguments.length,ye=Ee<3?se:null===le?le=Object.getOwnPropertyDescriptor(se,ae):le;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)ye=Reflect.decorate(te,se,ae,le);else for(var rn=te.length-1;rn>=0;rn--)(Et=te[rn])&&(ye=(Ee<3?Et(ye):Ee>3?Et(se,ae,ye):Et(se,ae))||ye);return Ee>3&&ye&&Object.defineProperty(se,ae,ye),ye}function Q(te,se,ae,le){return new(ae||(ae=Promise))(function(ye,Et){function rn(yt){try{pt(le.next(yt))}catch(sn){Et(sn)}}function Nn(yt){try{pt(le.throw(yt))}catch(sn){Et(sn)}}function pt(yt){yt.done?ye(yt.value):function Ee(ye){return ye instanceof ae?ye:new ae(function(Et){Et(ye)})}(yt.value).then(rn,Nn)}pt((le=le.apply(te,se||[])).next())})}function de(te){return this instanceof de?(this.v=te,this):new de(te)}function ge(te,se,ae){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ee,le=ae.apply(te,se||[]),ye=[];return Ee={},Et("next"),Et("throw"),Et("return"),Ee[Symbol.asyncIterator]=function(){return this},Ee;function Et(dn){le[dn]&&(Ee[dn]=function(Bi){return new Promise(function(hn,_r){ye.push([dn,Bi,hn,_r])>1||rn(dn,Bi)})})}function rn(dn,Bi){try{!function Nn(dn){dn.value instanceof de?Promise.resolve(dn.value.v).then(pt,yt):sn(ye[0][2],dn)}(le[dn](Bi))}catch(hn){sn(ye[0][3],hn)}}function pt(dn){rn("next",dn)}function yt(dn){rn("throw",dn)}function sn(dn,Bi){dn(Bi),ye.shift(),ye.length&&rn(ye[0][0],ye[0][1])}}function Oe(te){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ae,se=te[Symbol.asyncIterator];return se?se.call(te):(te=function J(te){var se="function"==typeof Symbol&&Symbol.iterator,ae=se&&te[se],le=0;if(ae)return ae.call(te);if(te&&"number"==typeof te.length)return{next:function(){return te&&le>=te.length&&(te=void 0),{value:te&&te[le++],done:!te}}};throw new TypeError(se?"Object is not iterable.":"Symbol.iterator is not defined.")}(te),ae={},le("next"),le("throw"),le("return"),ae[Symbol.asyncIterator]=function(){return this},ae);function le(ye){ae[ye]=te[ye]&&function(Et){return new Promise(function(rn,Nn){!function Ee(ye,Et,rn,Nn){Promise.resolve(Nn).then(function(pt){ye({value:pt,done:rn})},Et)}(rn,Nn,(Et=te[ye](Et)).done,Et.value)})}}}R.d($,{FC:()=>ge,KL:()=>Oe,_T:()=>B,gn:()=>V,mG:()=>Q,qq:()=>de})},5e3:(He,$,R)=>{"use strict";R.d($,{$8M:()=>ei,$Z:()=>qh,AFp:()=>qD,ALo:()=>Am,AaK:()=>Q,AsE:()=>H_,BQk:()=>ro,CHM:()=>tu,CRH:()=>cy,CZH:()=>Hc,CqO:()=>R_,EJc:()=>KD,EiD:()=>Fu,EpF:()=>Tl,F$t:()=>zb,F4k:()=>ed,FYo:()=>Pl,FiY:()=>zr,G48:()=>_w,Gf:()=>vf,GfV:()=>ty,Gpc:()=>K,Hsn:()=>$b,IIB:()=>ew,Ikx:()=>Ji,JOm:()=>ve,JVY:()=>Wf,Jf7:()=>Hg,L6k:()=>hh,LAX:()=>Rg,LFG:()=>nt,LSH:()=>_c,Lbi:()=>by,MAs:()=>$e,NdJ:()=>xc,O4$:()=>Zd,OlP:()=>Yn,Oqu:()=>Xb,PXZ:()=>Df,Q6J:()=>Ub,QGY:()=>k_,Qsj:()=>ud,R0b:()=>so,RDi:()=>Hs,Rgc:()=>Im,SBq:()=>vm,Sil:()=>JD,Suo:()=>km,TTD:()=>ea,TgZ:()=>Mc,Tol:()=>Zb,Udp:()=>Yb,VKq:()=>yD,VLi:()=>dw,WFA:()=>Jp,X6Q:()=>$S,XFs:()=>vt,Xpm:()=>Yt,Y36:()=>Gh,YKP:()=>Uc,YNc:()=>M_,Yjl:()=>Hi,Yz7:()=>hn,ZZ4:()=>Sw,_Bn:()=>E0,_UZ:()=>Ke,_Vd:()=>ey,_c5:()=>wA,_uU:()=>rm,aQg:()=>Mw,c2e:()=>wy,cJS:()=>tn,cg1:()=>cm,d8E:()=>Vn,dDg:()=>eA,deG:()=>Ig,dqk:()=>Qt,eBb:()=>kg,eFA:()=>Ay,ekj:()=>L_,evT:()=>pp,f3M:()=>Ut,g9A:()=>vy,h0i:()=>dd,hGG:()=>CA,hij:()=>j_,i9L:()=>Zs,iGM:()=>xm,ifc:()=>Xt,ip1:()=>nw,kL8:()=>jE,kYT:()=>Ze,kcU:()=>rv,lG2:()=>on,lcZ:()=>ED,lnq:()=>Rc,mCW:()=>_l,n5z:()=>eh,n_E:()=>Tm,oAB:()=>pe,oJD:()=>gh,oxw:()=>Wh,pB0:()=>fh,q3G:()=>fn,q4F:()=>bm,qLn:()=>Wi,qOj:()=>$p,qZA:()=>Qp,qzn:()=>ma,r_U:()=>tw,sBO:()=>qS,sIi:()=>Vh,s_b:()=>Sm,soG:()=>rw,tBr:()=>or,tb:()=>WD,tp0:()=>da,uIk:()=>S_,vHH:()=>ke,vR:()=>ih,vpe:()=>Ea,wAp:()=>xt,xDo:()=>z_,xp6:()=>zv,yhl:()=>gl,ynx:()=>Za,z2F:()=>mw,z3N:()=>Js,zSh:()=>bb,zs3:()=>Ho});var s=R(7579),F=R(727),S=R(8306),B=R(6451),V=R(3099);function z(a){for(let l in a)if(a[l]===z)return l;throw Error("Could not find renamed property on target object.")}function H(a,l){for(const c in l)l.hasOwnProperty(c)&&!a.hasOwnProperty(c)&&(a[c]=l[c])}function Q(a){if("string"==typeof a)return a;if(Array.isArray(a))return"["+a.map(Q).join(", ")+"]";if(null==a)return""+a;if(a.overriddenName)return`${a.overriddenName}`;if(a.name)return`${a.name}`;const l=a.toString();if(null==l)return""+l;const c=l.indexOf("\n");return-1===c?l:l.substring(0,c)}function ie(a,l){return null==a||""===a?null===l?"":l:null==l||""===l?a:a+" "+l}const G=z({__forward_ref__:z});function K(a){return a.__forward_ref__=K,a.toString=function(){return Q(this())},a}function J(a){return Me(a)?a():a}function Me(a){return"function"==typeof a&&a.hasOwnProperty(G)&&a.__forward_ref__===K}class ke extends Error{constructor(l,c){super(function Ve(a,l){return`NG0${Math.abs(a)}${l?": "+l:""}`}(l,c)),this.code=l}}function de(a){return"string"==typeof a?a:null==a?"":String(a)}function ge(a){return"function"==typeof a?a.name||a.toString():"object"==typeof a&&null!=a&&"function"==typeof a.type?a.type.name||a.type.toString():de(a)}function we(a,l){const c=l?` in ${l}`:"";throw new ke(-201,`No provider for ${ge(a)} found${c}`)}function pt(a,l){null==a&&function yt(a,l,c,d){throw new Error(`ASSERTION ERROR: ${a}`+(null==d?"":` [Expected=> ${c} ${d} ${l} <=Actual]`))}(l,a,null,"!=")}function hn(a){return{token:a.token,providedIn:a.providedIn||null,factory:a.factory,value:void 0}}function tn(a){return{providers:a.providers||[],imports:a.imports||[]}}function Nt(a){return Cn(a,_s)||Cn(a,Ns)}function Cn(a,l){return a.hasOwnProperty(l)?a[l]:null}function tr(a){return a&&(a.hasOwnProperty(nr)||a.hasOwnProperty(Fs))?a[nr]:null}const _s=z({\u0275prov:z}),nr=z({\u0275inj:z}),Ns=z({ngInjectableDef:z}),Fs=z({ngInjectorDef:z});var vt=(()=>((vt=vt||{})[vt.Default=0]="Default",vt[vt.Host=1]="Host",vt[vt.Self=2]="Self",vt[vt.SkipSelf=4]="SkipSelf",vt[vt.Optional=8]="Optional",vt))();let yr;function di(a){const l=yr;return yr=a,l}function Rr(a,l,c){const d=Nt(a);return d&&"root"==d.providedIn?void 0===d.value?d.value=d.factory():d.value:c&vt.Optional?null:void 0!==l?l:void we(Q(a),"Injector")}function xn(a){return{toString:a}.toString()}var bi=(()=>((bi=bi||{})[bi.OnPush=0]="OnPush",bi[bi.Default=1]="Default",bi))(),Xt=(()=>{return(a=Xt||(Xt={}))[a.Emulated=0]="Emulated",a[a.None=2]="None",a[a.ShadowDom=3]="ShadowDom",Xt;var a})();const ft="undefined"!=typeof globalThis&&globalThis,kt="undefined"!=typeof window&&window,Si="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Qt=ft||"undefined"!=typeof global&&global||kt||Si,Mi={},bt=[],ji=z({\u0275cmp:z}),Wt=z({\u0275dir:z}),tt=z({\u0275pipe:z}),Fe=z({\u0275mod:z}),it=z({\u0275fac:z}),wt=z({__NG_ELEMENT_ID__:z});let Kt=0;function Yt(a){return xn(()=>{const c={},d={type:a.type,providersResolver:null,decls:a.decls,vars:a.vars,factory:null,template:a.template||null,consts:a.consts||null,ngContentSelectors:a.ngContentSelectors,hostBindings:a.hostBindings||null,hostVars:a.hostVars||0,hostAttrs:a.hostAttrs||null,contentQueries:a.contentQueries||null,declaredInputs:c,inputs:null,outputs:null,exportAs:a.exportAs||null,onPush:a.changeDetection===bi.OnPush,directiveDefs:null,pipeDefs:null,selectors:a.selectors||bt,viewQuery:a.viewQuery||null,features:a.features||null,data:a.data||{},encapsulation:a.encapsulation||Xt.Emulated,id:"c",styles:a.styles||bt,_:null,setInput:null,schemas:a.schemas||null,tView:null},f=a.directives,m=a.features,v=a.pipes;return d.id+=Kt++,d.inputs=Tt(a.inputs,c),d.outputs=Tt(a.outputs),m&&m.forEach(C=>C(d)),d.directiveDefs=f?()=>("function"==typeof f?f():f).map(W):null,d.pipeDefs=v?()=>("function"==typeof v?v():v).map(re):null,d})}function W(a){return en(a)||function zn(a){return a[Wt]||null}(a)}function re(a){return function $t(a){return a[tt]||null}(a)}const De={};function pe(a){return xn(()=>{const l={type:a.type,bootstrap:a.bootstrap||bt,declarations:a.declarations||bt,imports:a.imports||bt,exports:a.exports||bt,transitiveCompileScopes:null,schemas:a.schemas||null,id:a.id||null};return null!=a.id&&(De[a.id]=a.type),l})}function Ze(a,l){return xn(()=>{const c=En(a,!0);c.declarations=l.declarations||bt,c.imports=l.imports||bt,c.exports=l.exports||bt})}function Tt(a,l){if(null==a)return Mi;const c={};for(const d in a)if(a.hasOwnProperty(d)){let f=a[d],m=f;Array.isArray(f)&&(m=f[1],f=f[0]),c[f]=d,l&&(l[f]=m)}return c}const on=Yt;function Hi(a){return{type:a.type,name:a.name,factory:null,pure:!1!==a.pure,onDestroy:a.type.prototype.ngOnDestroy||null}}function en(a){return a[ji]||null}function En(a,l){const c=a[Fe]||null;if(!c&&!0===l)throw new Error(`Type ${Q(a)} does not have '\u0275mod' property.`);return c}function ir(a){return Array.isArray(a)&&"object"==typeof a[1]}function zi(a){return Array.isArray(a)&&!0===a[1]}function Od(a){return 0!=(8&a.flags)}function Co(a){return 2==(2&a.flags)}function Gl(a){return 1==(1&a.flags)}function vr(a){return null!==a.template}function Pd(a){return 0!=(512&a[2])}function br(a,l){return a.hasOwnProperty(it)?a[it]:null}class xa{constructor(l,c,d){this.previousValue=l,this.currentValue=c,this.firstChange=d}isFirstChange(){return this.firstChange}}function ea(){return al}function al(a){return a.type.prototype.ngOnChanges&&(a.setInput=Dg),Ud}function Ud(){const a=Ao(this),l=null==a?void 0:a.current;if(l){const c=a.previous;if(c===Mi)a.previous=l;else for(let d in l)c[d]=l[d];a.current=null,this.ngOnChanges(l)}}function Dg(a,l,c,d){const f=Ao(a)||function Pr(a,l){return a[wr]=l}(a,{previous:Mi,current:null}),m=f.current||(f.current={}),v=f.previous,C=this.declaredInputs[c],E=v[C];m[C]=new xa(E&&E.currentValue,l,v===Mi),a[d]=l}ea.ngInherit=!0;const wr="__ngSimpleChanges__";function Ao(a){return a[wr]||null}let Jl;function Hs(a){Jl=a}function ll(){return void 0!==Jl?Jl:"undefined"!=typeof document?document:void 0}function An(a){return!!a.listen}const ka={createRenderer:(a,l)=>ll()};function wn(a){for(;Array.isArray(a);)a=a[0];return a}function na(a,l){return wn(l[a])}function $i(a,l){return wn(l[a.index])}function cl(a,l){return a.data[l]}function Xr(a,l){return a[l]}function Gi(a,l){const c=l[a];return ir(c)?c:c[0]}function Io(a){return 4==(4&a[2])}function zs(a){return 128==(128&a[2])}function Cr(a,l){return null==l?null:a[l]}function So(a){a[18]=0}function Mo(a,l){a[5]+=l;let c=a,d=a[3];for(;null!==d&&(1===l&&1===c[5]||-1===l&&0===c[5]);)d[5]+=l,c=d,d=d[3]}const Ct={lFrame:ra(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function ic(){return Ct.bindingsEnabled}function Pe(){return Ct.lFrame.lView}function Zt(){return Ct.lFrame.tView}function tu(a){return Ct.lFrame.contextLView=a,a[8]}function kn(){let a=Ra();for(;null!==a&&64===a.type;)a=a.parent;return a}function Ra(){return Ct.lFrame.currentTNode}function Er(a,l){const c=Ct.lFrame;c.currentTNode=a,c.isParent=l}function nu(){return Ct.lFrame.isParent}function iu(){Ct.lFrame.isParent=!1}function rc(){return Ct.isInCheckNoChangesMode}function xo(a){Ct.isInCheckNoChangesMode=a}function Ri(){const a=Ct.lFrame;let l=a.bindingRootIndex;return-1===l&&(l=a.bindingRootIndex=a.tView.bindingStartIndex),l}function Nr(){return Ct.lFrame.bindingIndex}function ko(){return Ct.lFrame.bindingIndex++}function es(a){const l=Ct.lFrame,c=l.bindingIndex;return l.bindingIndex=l.bindingIndex+a,c}function ac(a,l){const c=Ct.lFrame;c.bindingIndex=c.bindingRootIndex=a,dl(l)}function dl(a){Ct.lFrame.currentDirectiveIndex=a}function Pa(a){const l=Ct.lFrame.currentDirectiveIndex;return-1===l?null:a[l]}function au(){return Ct.lFrame.currentQueryIndex}function lu(a){Ct.lFrame.currentQueryIndex=a}function $d(a){const l=a[1];return 2===l.type?l.declTNode:1===l.type?a[6]:null}function cu(a,l,c){if(c&vt.SkipSelf){let f=l,m=a;for(;!(f=f.parent,null!==f||c&vt.Host||(f=$d(m),null===f||(m=m[15],10&f.type))););if(null===f)return!1;l=f,a=m}const d=Ct.lFrame=Gd();return d.currentTNode=l,d.lView=a,!0}function ia(a){const l=Gd(),c=a[1];Ct.lFrame=l,l.currentTNode=c.firstChild,l.lView=a,l.tView=c,l.contextLView=a,l.bindingIndex=c.bindingStartIndex,l.inI18n=!1}function Gd(){const a=Ct.lFrame,l=null===a?null:a.child;return null===l?ra(a):l}function ra(a){const l={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:a,child:null,inI18n:!1};return null!==a&&(a.child=l),l}function qd(){const a=Ct.lFrame;return Ct.lFrame=a.parent,a.currentTNode=null,a.lView=null,a}const Yd=qd;function sa(){const a=qd();a.isParent=!0,a.tView=null,a.selectedIndex=-1,a.contextLView=null,a.elementDepthCount=0,a.currentDirectiveIndex=-1,a.currentNamespace=null,a.bindingRootIndex=-1,a.bindingIndex=-1,a.currentQueryIndex=0}function qi(){return Ct.lFrame.selectedIndex}function Oo(a){Ct.lFrame.selectedIndex=a}function Gn(){const a=Ct.lFrame;return cl(a.tView,a.selectedIndex)}function Zd(){Ct.lFrame.currentNamespace="svg"}function rv(){!function du(){Ct.lFrame.currentNamespace=null}()}function $s(a,l){for(let c=l.directiveStart,d=l.directiveEnd;c<d;c++){const m=a.data[c].type.prototype,{ngAfterContentInit:v,ngAfterContentChecked:C,ngAfterViewInit:E,ngAfterViewChecked:k,ngOnDestroy:O}=m;v&&(a.contentHooks||(a.contentHooks=[])).push(-c,v),C&&((a.contentHooks||(a.contentHooks=[])).push(c,C),(a.contentCheckHooks||(a.contentCheckHooks=[])).push(c,C)),E&&(a.viewHooks||(a.viewHooks=[])).push(-c,E),k&&((a.viewHooks||(a.viewHooks=[])).push(c,k),(a.viewCheckHooks||(a.viewCheckHooks=[])).push(c,k)),null!=O&&(a.destroyHooks||(a.destroyHooks=[])).push(c,O)}}function hl(a,l,c){Wd(a,l,3,c)}function lc(a,l,c,d){(3&a[2])===c&&Wd(a,l,c,d)}function oi(a,l){let c=a[2];(3&c)===l&&(c&=2047,c+=1,a[2]=c)}function Wd(a,l,c,d){const m=null!=d?d:-1,v=l.length-1;let C=0;for(let E=void 0!==d?65535&a[18]:0;E<v;E++)if("number"==typeof l[E+1]){if(C=l[E],null!=d&&C>=d)break}else l[E]<0&&(a[18]+=65536),(C<m||-1==m)&&(Ag(a,c,l,E),a[18]=(4294901760&a[18])+E+2),E++}function Ag(a,l,c,d){const f=c[d]<0,m=c[d+1],C=a[f?-c[d]:c[d]];if(f){if(a[2]>>11<a[18]>>16&&(3&a[2])===l){a[2]+=2048;try{m.call(C)}finally{}}}else try{m.call(C)}finally{}}class Na{constructor(l,c,d){this.factory=l,this.resolving=!1,this.canSeeViewProviders=c,this.injectImpl=d}}function ot(a,l,c){const d=An(a);let f=0;for(;f<c.length;){const m=c[f];if("number"==typeof m){if(0!==m)break;f++;const v=c[f++],C=c[f++],E=c[f++];d?a.setAttribute(l,C,E,v):l.setAttributeNS(v,C,E)}else{const v=m,C=c[++f];sr(v)?d&&a.setProperty(l,v,C):d?a.setAttribute(l,v,C):l.setAttribute(v,C),f++}}return f}function dt(a){return 3===a||4===a||6===a}function sr(a){return 64===a.charCodeAt(0)}function Xn(a,l){if(null!==l&&0!==l.length)if(null===a||0===a.length)a=l.slice();else{let c=-1;for(let d=0;d<l.length;d++){const f=l[d];"number"==typeof f?c=f:0===c||Fa(a,c,f,null,-1===c||2===c?l[++d]:null)}}return a}function Fa(a,l,c,d,f){let m=0,v=a.length;if(-1===l)v=-1;else for(;m<a.length;){const C=a[m++];if("number"==typeof C){if(C===l){v=-1;break}if(C>l){v=m-1;break}}}for(;m<a.length;){const C=a[m];if("number"==typeof C)break;if(C===c){if(null===d)return void(null!==f&&(a[m+1]=f));if(d===a[m+1])return void(a[m+2]=f)}m++,null!==d&&m++,null!==f&&m++}-1!==v&&(a.splice(v,0,l),m=v+1),a.splice(m++,0,c),null!==d&&a.splice(m++,0,d),null!==f&&a.splice(m++,0,f)}function Jd(a){return-1!==a}function Tn(a){return 32767&a}function ts(a,l){let c=function Hf(a){return a>>16}(a),d=l;for(;c>0;)d=d[15],c--;return d}let cc=!0;function Lr(a){const l=cc;return cc=a,l}let gu=0;function On(a,l){const c=aa(a,l);if(-1!==c)return c;const d=l[1];d.firstCreatePass&&(a.injectorIndex=l.length,qs(d.data,a),qs(l,null),qs(d.blueprint,null));const f=Vr(a,l),m=a.injectorIndex;if(Jd(f)){const v=Tn(f),C=ts(f,l),E=C[1].data;for(let k=0;k<8;k++)l[m+k]=C[v+k]|E[v+k]}return l[m+8]=f,m}function qs(a,l){a.push(0,0,0,0,0,0,0,0,l)}function aa(a,l){return-1===a.injectorIndex||a.parent&&a.parent.injectorIndex===a.injectorIndex||null===l[a.injectorIndex+8]?-1:a.injectorIndex}function Vr(a,l){if(a.parent&&-1!==a.parent.injectorIndex)return a.parent.injectorIndex;let c=0,d=null,f=l;for(;null!==f;){const m=f[1],v=m.type;if(d=2===v?m.declTNode:1===v?f[6]:null,null===d)return-1;if(c++,f=f[15],-1!==d.injectorIndex)return d.injectorIndex|c<<16}return-1}function Po(a,l,c){!function oa(a,l,c){let d;"string"==typeof c?d=c.charCodeAt(0)||0:c.hasOwnProperty(wt)&&(d=c[wt]),null==d&&(d=c[wt]=gu++);const f=255&d;l.data[a+(f>>5)]|=1<<f}(a,l,c)}function ns(a,l,c){if(c&vt.Optional)return a;we(l,"NodeInjector")}function _u(a,l,c,d){if(c&vt.Optional&&void 0===d&&(d=null),0==(c&(vt.Self|vt.Host))){const f=a[9],m=di(void 0);try{return f?f.get(l,d,c&vt.Optional):Rr(l,d,c&vt.Optional)}finally{di(m)}}return ns(d,l,c)}function No(a,l,c,d=vt.Default,f){if(null!==a){const m=function is(a){if("string"==typeof a)return a.charCodeAt(0)||0;const l=a.hasOwnProperty(wt)?a[wt]:void 0;return"number"==typeof l?l>=0?255&l:yu:l}(c);if("function"==typeof m){if(!cu(l,a,d))return d&vt.Host?ns(f,c,d):_u(l,c,d,f);try{const v=m(d);if(null!=v||d&vt.Optional)return v;we(c)}finally{Yd()}}else if("number"==typeof m){let v=null,C=aa(a,l),E=-1,k=d&vt.Host?l[16][6]:null;for((-1===C||d&vt.SkipSelf)&&(E=-1===C?Vr(a,l):l[C+8],-1!==E&&fi(d,!1)?(v=l[1],C=Tn(E),l=ts(E,l)):C=-1);-1!==C;){const O=l[1];if(qn(m,C,O.data)){const U=uc(C,l,c,v,d,k);if(U!==bs)return U}E=l[C+8],-1!==E&&fi(d,l[1].data[C+8]===k)&&qn(m,C,l)?(v=O,C=Tn(E),l=ts(E,l)):C=-1}}}return _u(l,c,d,f)}const bs={};function yu(){return new rs(kn(),Pe())}function uc(a,l,c,d,f,m){const v=l[1],C=v.data[a+8],O=Ys(C,v,c,null==d?Co(C)&&cc:d!=v&&0!=(3&C.type),f&vt.Host&&m===C);return null!==O?Ur(l,v,O,C):bs}function Ys(a,l,c,d,f){const m=a.providerIndexes,v=l.data,C=1048575&m,E=a.directiveStart,O=m>>20,X=f?C+O:a.directiveEnd;for(let ue=d?C:C+O;ue<X;ue++){const xe=v[ue];if(ue<E&&c===xe||ue>=E&&xe.type===c)return ue}if(f){const ue=v[E];if(ue&&vr(ue)&&ue.type===c)return E}return null}function Ur(a,l,c,d){let f=a[c];const m=l.data;if(function Kd(a){return a instanceof Na}(f)){const v=f;v.resolving&&function Le(a,l){const c=l?`. Dependency path: ${l.join(" > ")} > ${a}`:"";throw new ke(-200,`Circular dependency in DI detected for ${a}${c}`)}(ge(m[c]));const C=Lr(v.canSeeViewProviders);v.resolving=!0;const E=v.injectImpl?di(v.injectImpl):null;cu(a,d,vt.Default);try{f=a[c]=v.factory(void 0,m,a,d),l.firstCreatePass&&c>=d.directiveStart&&function hu(a,l,c){const{ngOnChanges:d,ngOnInit:f,ngDoCheck:m}=l.type.prototype;if(d){const v=al(l);(c.preOrderHooks||(c.preOrderHooks=[])).push(a,v),(c.preOrderCheckHooks||(c.preOrderCheckHooks=[])).push(a,v)}f&&(c.preOrderHooks||(c.preOrderHooks=[])).push(0-a,f),m&&((c.preOrderHooks||(c.preOrderHooks=[])).push(a,m),(c.preOrderCheckHooks||(c.preOrderCheckHooks=[])).push(a,m))}(c,m[c],l)}finally{null!==E&&di(E),Lr(C),v.resolving=!1,Yd()}}return f}function qn(a,l,c){return!!(c[l+(a>>5)]&1<<a)}function fi(a,l){return!(a&vt.Self||a&vt.Host&&l)}class rs{constructor(l,c){this._tNode=l,this._lView=c}get(l,c,d){return No(this._tNode,this._lView,l,d,c)}}function eh(a){return xn(()=>{const l=a.prototype.constructor,c=l[it]||Sn(l),d=Object.prototype;let f=Object.getPrototypeOf(a.prototype).constructor;for(;f&&f!==d;){const m=f[it]||Sn(f);if(m&&m!==c)return m;f=Object.getPrototypeOf(f)}return m=>new m})}function Sn(a){return Me(a)?()=>{const l=Sn(J(a));return l&&l()}:br(a)}function ei(a){return function Br(a,l){if("class"===l)return a.classes;if("style"===l)return a.styles;const c=a.attrs;if(c){const d=c.length;let f=0;for(;f<d;){const m=c[f];if(dt(m))break;if(0===m)f+=2;else if("number"==typeof m)for(f++;f<d&&"string"==typeof c[f];)f++;else{if(m===l)return c[f+1];f+=2}}}return null}(kn(),a)}const La="__parameters__",Yi="__prop__metadata__";function ss(a){return function(...c){if(a){const d=a(...c);for(const f in d)this[f]=d[f]}}}function Ln(a,l,c){return xn(()=>{const d=ss(l);function f(...m){if(this instanceof f)return d.apply(this,m),this;const v=new f(...m);return C.annotation=v,C;function C(E,k,O){const U=E.hasOwnProperty(La)?E[La]:Object.defineProperty(E,La,{value:[]})[La];for(;U.length<=O;)U.push(null);return(U[O]=U[O]||[]).push(v),E}}return c&&(f.prototype=Object.create(c.prototype)),f.prototype.ngMetadataName=a,f.annotationCls=f,f})}function Dr(a,l,c,d){return xn(()=>{const f=ss(l);function m(...v){if(this instanceof m)return f.apply(this,v),this;const C=new m(...v);return function E(k,O){const U=k.constructor,X=U.hasOwnProperty(Yi)?U[Yi]:Object.defineProperty(U,Yi,{value:{}})[Yi];X[O]=X.hasOwnProperty(O)&&X[O]||[],X[O].unshift(C),d&&d(k,O,...v)}}return c&&(m.prototype=Object.create(c.prototype)),m.prototype.ngMetadataName=a,m.annotationCls=m,m})}class Yn{constructor(l,c){this._desc=l,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof c?this.__NG_ELEMENT_ID__=c:void 0!==c&&(this.\u0275prov=hn({token:this,providedIn:c.providedIn||"root",factory:c.factory}))}toString(){return`InjectionToken ${this._desc}`}}const Ig=new Yn("AnalyzeForEntryComponents");class nh{}const ih=Dr("ViewChildren",(a,l={})=>Object.assign({selector:a,first:!1,isViewQuery:!0,descendants:!0,emitDistinctChangesOnly:!0},l),nh),Zs=Dr("ViewChild",(a,l)=>Object.assign({selector:a,first:!0,isViewQuery:!0,descendants:!0},l),nh);function Pi(a,l){void 0===l&&(l=a);for(let c=0;c<a.length;c++){let d=a[c];Array.isArray(d)?(l===a&&(l=a.slice(0,c)),Pi(d,l)):l!==a&&l.push(d)}return l}function jr(a,l){a.forEach(c=>Array.isArray(c)?jr(c,l):l(c))}function wu(a,l,c){l>=a.length?a.push(c):a.splice(l,0,c)}function Ks(a,l){return l>=a.length-1?a.pop():a.splice(l,1)[0]}function os(a,l){const c=[];for(let d=0;d<a;d++)c.push(l);return c}function pi(a,l,c){let d=Lo(a,l);return d>=0?a[1|d]=c:(d=~d,function Cu(a,l,c,d){let f=a.length;if(f==l)a.push(c,d);else if(1===f)a.push(d,a[0]),a[0]=c;else{for(f--,a.push(a[f-1],a[f]);f>l;)a[f]=a[f-2],f--;a[l]=c,a[l+1]=d}}(a,d,l,c)),d}function Au(a,l){const c=Lo(a,l);if(c>=0)return a[1|c]}function Lo(a,l){return function la(a,l,c){let d=0,f=a.length>>c;for(;f!==d;){const m=d+(f-d>>1),v=a[m<<c];if(l===v)return m<<c;v>l?f=m:d=m+1}return~(f<<c)}(a,l,1)}const ca={},Ba="__NG_DI_FLAG__",pc="ngTempTokenPath",I=/\n/gm,q="__source",ce=z({provide:String,useValue:z});let me;function Be(a){const l=me;return me=a,l}function Ue(a,l=vt.Default){if(void 0===me)throw new ke(203,"");return null===me?Rr(a,void 0,l):me.get(a,l&vt.Optional?null:void 0,l)}function nt(a,l=vt.Default){return(function vi(){return yr}()||Ue)(J(a),l)}const Ut=nt;function Ft(a){const l=[];for(let c=0;c<a.length;c++){const d=J(a[c]);if(Array.isArray(d)){if(0===d.length)throw new ke(900,"");let f,m=vt.Default;for(let v=0;v<d.length;v++){const C=d[v],E=Zn(C);"number"==typeof E?-1===E?f=C.token:m|=E:f=C}l.push(nt(f,m))}else l.push(nt(d))}return l}function ci(a,l){return a[Ba]=l,a.prototype[Ba]=l,a}function Zn(a){return a[Ba]}const or=ci(Ln("Inject",a=>({token:a})),-1),zr=ci(Ln("Optional"),8),da=ci(Ln("SkipSelf"),4);let fa,ch;function ml(a){var l;return(null===(l=function lh(){if(void 0===fa&&(fa=null,Qt.trustedTypes))try{fa=Qt.trustedTypes.createPolicy("angular",{createHTML:a=>a,createScript:a=>a,createScriptURL:a=>a})}catch(a){}return fa}())||void 0===l?void 0:l.createHTML(a))||a}function qf(a){var l;return(null===(l=function mc(){if(void 0===ch&&(ch=null,Qt.trustedTypes))try{ch=Qt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:a=>a,createScript:a=>a,createScriptURL:a=>a})}catch(a){}return ch}())||void 0===l?void 0:l.createHTML(a))||a}class pa{constructor(l){this.changingThisBreaksApplicationSecurity=l}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class Yf extends pa{getTypeName(){return"HTML"}}class fv extends pa{getTypeName(){return"Style"}}class xu extends pa{getTypeName(){return"Script"}}class Zf extends pa{getTypeName(){return"URL"}}class pv extends pa{getTypeName(){return"ResourceURL"}}function Js(a){return a instanceof pa?a.changingThisBreaksApplicationSecurity:a}function ma(a,l){const c=gl(a);if(null!=c&&c!==l){if("ResourceURL"===c&&"URL"===l)return!0;throw new Error(`Required a safe ${l}, got a ${c} (see https://g.co/ng/security#xss)`)}return c===l}function gl(a){return a instanceof pa&&a.getTypeName()||null}function Wf(a){return new Yf(a)}function hh(a){return new fv(a)}function kg(a){return new xu(a)}function Rg(a){return new Zf(a)}function fh(a){return new pv(a)}class mv{constructor(l){this.inertDocumentHelper=l}getInertBodyElement(l){l="<body><remove></remove>"+l;try{const c=(new window.DOMParser).parseFromString(ml(l),"text/html").body;return null===c?this.inertDocumentHelper.getInertBodyElement(l):(c.removeChild(c.firstChild),c)}catch(c){return null}}}class gv{constructor(l){if(this.defaultDoc=l,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const c=this.inertDocument.createElement("html");this.inertDocument.appendChild(c);const d=this.inertDocument.createElement("body");c.appendChild(d)}}getInertBodyElement(l){const c=this.inertDocument.createElement("template");if("content"in c)return c.innerHTML=ml(l),c;const d=this.inertDocument.createElement("body");return d.innerHTML=ml(l),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(d),d}stripCustomNsAttrs(l){const c=l.attributes;for(let f=c.length-1;0<f;f--){const v=c.item(f).name;("xmlns:ns1"===v||0===v.indexOf("ns1:"))&&l.removeAttribute(v)}let d=l.firstChild;for(;d;)d.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(d),d=d.nextSibling}}const Bo=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,Kf=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function _l(a){return(a=String(a)).match(Bo)||a.match(Kf)?a:"unsafe:"+a}function ls(a){const l={};for(const c of a.split(","))l[c]=!0;return l}function ku(...a){const l={};for(const c of a)for(const d in c)c.hasOwnProperty(d)&&(l[d]=!0);return l}const Pg=ls("area,br,col,hr,img,wbr"),ph=ls("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),mh=ls("rp,rt"),Jf=ku(Pg,ku(ph,ls("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),ku(mh,ls("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),ku(mh,ph)),Xf=ls("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),ep=ls("srcset"),ja=ku(Xf,ep,ls("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),ls("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),yv=ls("script,style,template");class Ou{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(l){let c=l.firstChild,d=!0;for(;c;)if(c.nodeType===Node.ELEMENT_NODE?d=this.startElement(c):c.nodeType===Node.TEXT_NODE?this.chars(c.nodeValue):this.sanitizedSomething=!0,d&&c.firstChild)c=c.firstChild;else for(;c;){c.nodeType===Node.ELEMENT_NODE&&this.endElement(c);let f=this.checkClobberedElement(c,c.nextSibling);if(f){c=f;break}c=this.checkClobberedElement(c,c.parentNode)}return this.buf.join("")}startElement(l){const c=l.nodeName.toLowerCase();if(!Jf.hasOwnProperty(c))return this.sanitizedSomething=!0,!yv.hasOwnProperty(c);this.buf.push("<"),this.buf.push(c);const d=l.attributes;for(let f=0;f<d.length;f++){const m=d.item(f),v=m.name,C=v.toLowerCase();if(!ja.hasOwnProperty(C)){this.sanitizedSomething=!0;continue}let E=m.value;Xf[C]&&(E=_l(E)),ep[C]&&(a=E,E=(a=String(a)).split(",").map(l=>_l(l.trim())).join(", ")),this.buf.push(" ",v,'="',np(E),'"')}var a;return this.buf.push(">"),!0}endElement(l){const c=l.nodeName.toLowerCase();Jf.hasOwnProperty(c)&&!Pg.hasOwnProperty(c)&&(this.buf.push("</"),this.buf.push(c),this.buf.push(">"))}chars(l){this.buf.push(np(l))}checkClobberedElement(l,c){if(c&&(l.compareDocumentPosition(c)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${l.outerHTML}`);return c}}const Pu=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,tp=/([^\#-~ |!])/g;function np(a){return a.replace(/&/g,"&amp;").replace(Pu,function(l){return"&#"+(1024*(l.charCodeAt(0)-55296)+(l.charCodeAt(1)-56320)+65536)+";"}).replace(tp,function(l){return"&#"+l.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Nu;function Fu(a,l){let c=null;try{Nu=Nu||function Og(a){const l=new gv(a);return function _v(){try{return!!(new window.DOMParser).parseFromString(ml(""),"text/html")}catch(a){return!1}}()?new mv(l):l}(a);let d=l?String(l):"";c=Nu.getInertBodyElement(d);let f=5,m=d;do{if(0===f)throw new Error("Failed to sanitize html because the input is unstable");f--,d=m,m=c.innerHTML,c=Nu.getInertBodyElement(d)}while(d!==m);return ml((new Ou).sanitizeChildren(ip(c)||c))}finally{if(c){const d=ip(c)||c;for(;d.firstChild;)d.removeChild(d.firstChild)}}}function ip(a){return"content"in a&&function rp(a){return a.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===a.nodeName}(a)?a.content:null}var fn=(()=>((fn=fn||{})[fn.NONE=0]="NONE",fn[fn.HTML=1]="HTML",fn[fn.STYLE=2]="STYLE",fn[fn.SCRIPT=3]="SCRIPT",fn[fn.URL=4]="URL",fn[fn.RESOURCE_URL=5]="RESOURCE_URL",fn))();function gh(a){const l=Ha();return l?qf(l.sanitize(fn.HTML,a)||""):ma(a,"HTML")?qf(Js(a)):Fu(ll(),de(a))}function _c(a){const l=Ha();return l?l.sanitize(fn.URL,a)||"":ma(a,"URL")?Js(a):_l(de(a))}function Ha(){const a=Pe();return a&&a[12]}const sp="__ngContext__";function ar(a,l){a[sp]=l}function op(a){const l=function vl(a){return a[sp]||null}(a);return l?Array.isArray(l)?l:l.lView:null}function Cl(a){return a.ngOriginalError}function jg(a,...l){a.error(...l)}class Wi{constructor(){this._console=console}handleError(l){const c=this._findOriginalError(l),d=function Av(a){return a&&a.ngErrorLogger||jg}(l);d(this._console,"ERROR",l),c&&d(this._console,"ORIGINAL ERROR",c)}_findOriginalError(l){let c=l&&Cl(l);for(;c&&Cl(c);)c=Cl(c);return c||null}}const Mv=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Qt))();function Hg(a){return a.ownerDocument.defaultView}function pp(a){return a.ownerDocument}function g(a){return a instanceof Function?a():a}var ve=(()=>((ve=ve||{})[ve.Important=1]="Important",ve[ve.DashCase=2]="DashCase",ve))();function rt(a,l){return undefined(a,l)}function Wn(a){const l=a[3];return zi(l)?l[3]:l}function yc(a){return mp(a[13])}function vc(a){return mp(a[4])}function mp(a){for(;null!==a&&!zi(a);)a=a[4];return a}function za(a,l,c,d,f){if(null!=d){let m,v=!1;zi(d)?m=d:ir(d)&&(v=!0,d=d[0]);const C=wn(d);0===a&&null!==c?null==f?Pv(l,c,C):Xs(l,c,C,f||null,!0):1===a&&null!==c?Xs(l,c,C,f||null,!0):2===a?function Vv(a,l,c){const d=vp(a,l);d&&function rI(a,l,c,d){An(a)?a.removeChild(l,c,d):l.removeChild(c)}(a,d,l,c)}(l,C,v):3===a&&l.destroyNode(C),null!=m&&function Dh(a,l,c,d,f){const m=c[7];m!==wn(c)&&za(l,a,d,m,f);for(let C=10;C<c.length;C++){const E=c[C];Yg(E[1],E,a,l,d,m)}}(l,a,m,c,f)}}function wh(a,l,c){if(An(a))return a.createElement(l,c);{const d=null!==c?function Ql(a){const l=a.toLowerCase();return"svg"===l?"http://www.w3.org/2000/svg":"math"===l?"http://www.w3.org/1998/MathML/":null}(c):null;return null===d?a.createElement(l):a.createElementNS(d,l)}}function DC(a,l){const c=a[9],d=c.indexOf(l),f=l[3];1024&l[2]&&(l[2]&=-1025,Mo(f,-1)),c.splice(d,1)}function kv(a,l){if(a.length<=10)return;const c=10+l,d=a[c];if(d){const f=d[17];null!==f&&f!==a&&DC(f,d),l>0&&(a[c-1][4]=d[4]);const m=Ks(a,10+l);!function Ei(a,l){Yg(a,l,l[11],2,null,null),l[0]=null,l[6]=null}(d[1],d);const v=m[19];null!==v&&v.detachView(m[1]),d[3]=null,d[4]=null,d[2]&=-129}return d}function Rv(a,l){if(!(256&l[2])){const c=l[11];An(c)&&c.destroyNode&&Yg(a,l,c,3,null,null),function $g(a){let l=a[13];if(!l)return Ov(a[1],a);for(;l;){let c=null;if(ir(l))c=l[13];else{const d=l[10];d&&(c=d)}if(!c){for(;l&&!l[4]&&l!==a;)ir(l)&&Ov(l[1],l),l=l[3];null===l&&(l=a),ir(l)&&Ov(l[1],l),c=l&&l[4]}l=c}}(l)}}function Ov(a,l){if(!(256&l[2])){l[2]&=-129,l[2]|=256,function TC(a,l){let c;if(null!=a&&null!=(c=a.destroyHooks))for(let d=0;d<c.length;d+=2){const f=l[c[d]];if(!(f instanceof Na)){const m=c[d+1];if(Array.isArray(m))for(let v=0;v<m.length;v+=2){const C=f[m[v]],E=m[v+1];try{E.call(C)}finally{}}else try{m.call(f)}finally{}}}}(a,l),function AC(a,l){const c=a.cleanup,d=l[7];let f=-1;if(null!==c)for(let m=0;m<c.length-1;m+=2)if("string"==typeof c[m]){const v=c[m+1],C="function"==typeof v?v(l):wn(l[v]),E=d[f=c[m+2]],k=c[m+3];"boolean"==typeof k?C.removeEventListener(c[m],E,k):k>=0?d[f=k]():d[f=-k].unsubscribe(),m+=2}else{const v=d[f=c[m+1]];c[m].call(v)}if(null!==d){for(let m=f+1;m<d.length;m++)d[m]();l[7]=null}}(a,l),1===l[1].type&&An(l[11])&&l[11].destroy();const c=l[17];if(null!==c&&zi(l[3])){c!==l[3]&&DC(c,l);const d=l[19];null!==d&&d.detachView(a)}}}function Gg(a,l,c){return function iI(a,l,c){let d=l;for(;null!==d&&40&d.type;)d=(l=d).parent;if(null===d)return c[0];if(2&d.flags){const f=a.data[d.directiveStart].encapsulation;if(f===Xt.None||f===Xt.Emulated)return null}return $i(d,c)}(a,l.parent,c)}function Xs(a,l,c,d,f){An(a)?a.insertBefore(l,c,d,f):l.insertBefore(c,d,f)}function Pv(a,l,c){An(a)?a.appendChild(l,c):l.appendChild(c)}function IC(a,l,c,d,f){null!==d?Xs(a,l,c,d,f):Pv(a,l,c)}function vp(a,l){return An(a)?a.parentNode(l):l.parentNode}function SC(a,l,c){return Nv(a,l,c)}let Nv=function MC(a,l,c){return 40&a.type?$i(a,c):null};function qg(a,l,c,d){const f=Gg(a,d,l),m=l[11],C=SC(d.parent||l[6],d,l);if(null!=f)if(Array.isArray(c))for(let E=0;E<c.length;E++)IC(m,f,c[E],C,!1);else IC(m,f,c,C,!1)}function Eh(a,l){if(null!==l){const c=l.type;if(3&c)return $i(l,a);if(4&c)return Lv(-1,a[l.index]);if(8&c){const d=l.child;if(null!==d)return Eh(a,d);{const f=a[l.index];return zi(f)?Lv(-1,f):wn(f)}}if(32&c)return rt(l,a)()||wn(a[l.index]);{const d=kC(a,l);return null!==d?Array.isArray(d)?d[0]:Eh(Wn(a[16]),d):Eh(a,l.next)}}return null}function kC(a,l){return null!==l?a[16][6].projection[l.projection]:null}function Lv(a,l){const c=10+a+1;if(c<l.length){const d=l[c],f=d[1].firstChild;if(null!==f)return Eh(d,f)}return l[7]}function Bv(a,l,c,d,f,m,v){for(;null!=c;){const C=d[c.index],E=c.type;if(v&&0===l&&(C&&ar(wn(C),d),c.flags|=4),64!=(64&c.flags))if(8&E)Bv(a,l,c.child,d,f,m,!1),za(l,a,f,C,m);else if(32&E){const k=rt(c,d);let O;for(;O=k();)za(l,a,f,O,m);za(l,a,f,C,m)}else 16&E?Uo(a,l,d,c,f,m):za(l,a,f,C,m);c=v?c.projectionNext:c.next}}function Yg(a,l,c,d,f,m){Bv(c,d,a.firstChild,l,f,m,!1)}function Uo(a,l,c,d,f,m){const v=c[16],E=v[6].projection[d.projection];if(Array.isArray(E))for(let k=0;k<E.length;k++)za(l,a,f,E[k],m);else Bv(a,l,E,v[3],f,m,!0)}function Pt(a,l,c){An(a)?a.setAttribute(l,"style",c):l.style.cssText=c}function Uv(a,l,c){An(a)?""===c?a.removeAttribute(l,"class"):a.setAttribute(l,"class",c):l.className=c}function $a(a,l,c){let d=a.length;for(;;){const f=a.indexOf(l,c);if(-1===f)return f;if(0===f||a.charCodeAt(f-1)<=32){const m=l.length;if(f+m===d||a.charCodeAt(f+m)<=32)return f}c=f+1}}const Zg="ng-template";function jt(a,l,c){let d=0;for(;d<a.length;){let f=a[d++];if(c&&"class"===f){if(f=a[d],-1!==$a(f.toLowerCase(),l,0))return!0}else if(1===f){for(;d<a.length&&"string"==typeof(f=a[d++]);)if(f.toLowerCase()===l)return!0;return!1}}return!1}function bp(a){return 4===a.type&&a.value!==Zg}function jv(a,l,c){return l===(4!==a.type||c?a.value:Zg)}function wp(a,l,c){let d=4;const f=a.attrs||[],m=function aI(a){for(let l=0;l<a.length;l++)if(dt(a[l]))return l;return a.length}(f);let v=!1;for(let C=0;C<l.length;C++){const E=l[C];if("number"!=typeof E){if(!v)if(4&d){if(d=2|1&d,""!==E&&!jv(a,E,c)||""===E&&1===l.length){if(ya(d))return!1;v=!0}}else{const k=8&d?E:l[++C];if(8&d&&null!==a.attrs){if(!jt(a.attrs,k,c)){if(ya(d))return!1;v=!0}continue}const U=Hv(8&d?"class":E,f,bp(a),c);if(-1===U){if(ya(d))return!1;v=!0;continue}if(""!==k){let X;X=U>m?"":f[U+1].toLowerCase();const ue=8&d?X:null;if(ue&&-1!==$a(ue,k,0)||2&d&&k!==X){if(ya(d))return!1;v=!0}}}}else{if(!v&&!ya(d)&&!ya(E))return!1;if(v&&ya(E))continue;v=!1,d=E|1&d}}return ya(d)||v}function ya(a){return 0==(1&a)}function Hv(a,l,c,d){if(null===l)return-1;let f=0;if(d||!c){let m=!1;for(;f<l.length;){const v=l[f];if(v===a)return f;if(3===v||6===v)m=!0;else{if(1===v||2===v){let C=l[++f];for(;"string"==typeof C;)C=l[++f];continue}if(4===v)break;if(0===v){f+=4;continue}}f+=m?1:2}return-1}return function Ar(a,l){let c=a.indexOf(4);if(c>-1)for(c++;c<a.length;){const d=a[c];if("number"==typeof d)return-1;if(d===l)return c;c++}return-1}(l,a)}function RC(a,l,c=!1){for(let d=0;d<l.length;d++)if(wp(a,l[d],c))return!0;return!1}function Wg(a,l){e:for(let c=0;c<l.length;c++){const d=l[c];if(a.length===d.length){for(let f=0;f<a.length;f++)if(a[f]!==d[f])continue e;return!0}}return!1}function lr(a,l){return a?":not("+l.trim()+")":l}function wc(a){let l=a[0],c=1,d=2,f="",m=!1;for(;c<a.length;){let v=a[c];if("string"==typeof v)if(2&d){const C=a[++c];f+="["+v+(C.length>0?'="'+C+'"':"")+"]"}else 8&d?f+="."+v:4&d&&(f+=" "+v);else""!==f&&!ya(v)&&(l+=lr(m,f),f=""),d=v,m=m||!ya(d);c++}return""!==f&&(l+=lr(m,f)),l}const Ht={};function zv(a){OC(Zt(),Pe(),qi()+a,rc())}function OC(a,l,c,d){if(!d)if(3==(3&l[2])){const m=a.preOrderCheckHooks;null!==m&&hl(l,m,c)}else{const m=a.preOrderHooks;null!==m&&lc(l,m,0,c)}Oo(c)}function Ah(a,l){return a<<17|l<<2}function Ts(a){return a>>17&32767}function Cp(a){return 2|a}function ui(a){return(131068&a)>>2}function Kg(a,l){return-131069&a|l<<2}function Ep(a){return 1|a}function o_(a,l){const c=a.contentQueries;if(null!==c)for(let d=0;d<c.length;d+=2){const f=c[d],m=c[d+1];if(-1!==m){const v=a.data[m];lu(f),v.contentQueries(2,l[m],m)}}}function Ec(a,l,c,d,f,m,v,C,E,k){const O=l.blueprint.slice();return O[0]=f,O[2]=140|d,So(O),O[3]=O[15]=a,O[8]=c,O[10]=v||a&&a[10],O[11]=C||a&&a[11],O[12]=E||a&&a[12]||null,O[9]=k||a&&a[9]||null,O[6]=m,O[16]=2==l.type?a[16]:O,O}function Dc(a,l,c,d,f){let m=a.data[l];if(null===m)m=function ib(a,l,c,d,f){const m=Ra(),v=nu(),E=a.data[l]=function Ip(a,l,c,d,f,m){return{type:c,index:d,insertBeforeIndex:null,injectorIndex:l?l.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:f,attrs:m,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:l,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,v?m:m&&m.parent,c,l,d,f);return null===a.firstChild&&(a.firstChild=E),null!==m&&(v?null==m.child&&null!==E.parent&&(m.child=E):null===m.next&&(m.next=E)),E}(a,l,c,d,f),function su(){return Ct.lFrame.inI18n}()&&(m.flags|=64);else if(64&m.type){m.type=c,m.value=d,m.attrs=f;const v=function Oa(){const a=Ct.lFrame,l=a.currentTNode;return a.isParent?l:l.parent}();m.injectorIndex=null===v?-1:v.injectorIndex}return Er(m,!0),m}function Ih(a,l,c,d){if(0===c)return-1;const f=l.length;for(let m=0;m<c;m++)l.push(d),a.blueprint.push(d),a.data.push(null);return f}function Sh(a,l,c){ia(l);try{const d=a.viewQuery;null!==d&&yb(1,d,c);const f=a.template;null!==f&&a_(a,l,f,1,c),a.firstCreatePass&&(a.firstCreatePass=!1),a.staticContentQueries&&o_(a,l),a.staticViewQueries&&yb(2,a.viewQuery,c);const m=a.components;null!==m&&function Tr(a,l){for(let c=0;c<l.length;c++)QC(a,l[c])}(l,m)}catch(d){throw a.firstCreatePass&&(a.incompleteFirstPass=!0,a.firstCreatePass=!1),d}finally{l[2]&=-5,sa()}}function Mh(a,l,c,d){const f=l[2];if(256==(256&f))return;ia(l);const m=rc();try{So(l),function sc(a){return Ct.lFrame.bindingIndex=a}(a.bindingStartIndex),null!==c&&a_(a,l,c,2,d);const v=3==(3&f);if(!m)if(v){const k=a.preOrderCheckHooks;null!==k&&hl(l,k,null)}else{const k=a.preOrderHooks;null!==k&&lc(l,k,0,null),oi(l,0)}if(function mb(a){for(let l=yc(a);null!==l;l=vc(l)){if(!l[2])continue;const c=l[9];for(let d=0;d<c.length;d++){const f=c[d],m=f[3];0==(1024&f[2])&&Mo(m,1),f[2]|=1024}}}(l),function _I(a){for(let l=yc(a);null!==l;l=vc(l))for(let c=10;c<l.length;c++){const d=l[c],f=d[1];zs(d)&&Mh(f,d,f.template,d[8])}}(l),null!==a.contentQueries&&o_(a,l),!m)if(v){const k=a.contentCheckHooks;null!==k&&hl(l,k)}else{const k=a.contentHooks;null!==k&&lc(l,k,1),oi(l,1)}!function nb(a,l){const c=a.hostBindingOpCodes;if(null!==c)try{for(let d=0;d<c.length;d++){const f=c[d];if(f<0)Oo(~f);else{const m=f,v=c[++d],C=c[++d];ac(v,m),C(2,l[m])}}}finally{Oo(-1)}}(a,l);const C=a.components;null!==C&&function cr(a,l){for(let c=0;c<l.length;c++)p_(a,l[c])}(l,C);const E=a.viewQuery;if(null!==E&&yb(2,E,d),!m)if(v){const k=a.viewCheckHooks;null!==k&&hl(l,k)}else{const k=a.viewHooks;null!==k&&lc(l,k,2),oi(l,2)}!0===a.firstUpdatePass&&(a.firstUpdatePass=!1),m||(l[2]&=-73),1024&l[2]&&(l[2]&=-1025,Mo(l[3],-1))}finally{sa()}}function pI(a,l,c,d){const f=l[10],m=!rc(),v=Io(l);try{m&&!v&&f.begin&&f.begin(),v&&Sh(a,l,d),Mh(a,l,c,d)}finally{m&&!v&&f.end&&f.end()}}function a_(a,l,c,d,f){const m=qi(),v=2&d;try{Oo(-1),v&&l.length>20&&OC(a,l,20,rc()),c(d,f)}finally{Oo(m)}}function l_(a,l,c){if(Od(l)){const f=l.directiveEnd;for(let m=l.directiveStart;m<f;m++){const v=a.data[m];v.contentQueries&&v.contentQueries(1,c[m],m)}}}function rb(a,l,c){!ic()||(function WC(a,l,c,d){const f=c.directiveStart,m=c.directiveEnd;a.firstCreatePass||On(c,l),ar(d,l);const v=c.initialInputs;for(let C=f;C<m;C++){const E=a.data[C],k=vr(E);k&&Rp(l,c,E);const O=Ur(l,a,C,c);ar(O,l),null!==v&&fb(0,C-f,O,E,0,v),k&&(Gi(c.index,l)[8]=O)}}(a,l,c,$i(c,l)),128==(128&c.flags)&&function hs(a,l,c){const d=c.directiveStart,f=c.directiveEnd,v=c.index,C=function ou(){return Ct.lFrame.currentDirectiveIndex}();try{Oo(v);for(let E=d;E<f;E++){const k=a.data[E],O=l[E];dl(E),(null!==k.hostBindings||0!==k.hostVars||null!==k.hostAttrs)&&cb(k,O)}}finally{Oo(-1),dl(C)}}(a,l,c))}function Tp(a,l,c=$i){const d=l.localNames;if(null!==d){let f=l.index+1;for(let m=0;m<d.length;m+=2){const v=d[m+1],C=-1===v?c(l,a):a[v];a[f++]=C}}}function sb(a){const l=a.tView;return null===l||l.incompleteFirstPass?a.tView=c_(1,null,a.template,a.decls,a.vars,a.directiveDefs,a.pipeDefs,a.viewQuery,a.schemas,a.consts):l}function c_(a,l,c,d,f,m,v,C,E,k){const O=20+d,U=O+f,X=function u_(a,l){const c=[];for(let d=0;d<l;d++)c.push(d<a?null:Ht);return c}(O,U),ue="function"==typeof k?k():k;return X[1]={type:a,blueprint:X,template:c,queries:null,viewQuery:C,declTNode:l,data:X.slice().fill(null,O),bindingStartIndex:O,expandoStartIndex:U,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof m?m():m,pipeRegistry:"function"==typeof v?v():v,firstChild:null,schemas:E,consts:ue,incompleteFirstPass:!1}}function $C(a,l,c,d){const f=g_(l);null===c?f.push(d):(f.push(c),a.firstCreatePass&&Ac(a).push(d,f.length-1))}function ab(a,l,c){for(let d in a)if(a.hasOwnProperty(d)){const f=a[d];(c=null===c?{}:c).hasOwnProperty(d)?c[d].push(l,f):c[d]=[l,f]}return c}function Gr(a,l,c,d,f,m,v,C){const E=$i(l,c);let O,k=l.inputs;!C&&null!=k&&(O=k[d])?(Tc(a,c,O,d,f),Co(l)&&function mI(a,l){const c=Gi(l,a);16&c[2]||(c[2]|=64)}(c,l.index)):3&l.type&&(d=function qC(a){return"class"===a?"className":"for"===a?"htmlFor":"formaction"===a?"formAction":"innerHtml"===a?"innerHTML":"readonly"===a?"readOnly":"tabindex"===a?"tabIndex":a}(d),f=null!=v?v(f,l.value||"",d):f,An(m)?m.setProperty(E,d,f):sr(d)||(E.setProperty?E.setProperty(d,f):E[d]=f))}function kh(a,l,c,d){let f=!1;if(ic()){const m=function xp(a,l,c){const d=a.directiveRegistry;let f=null;if(d)for(let m=0;m<d.length;m++){const v=d[m];RC(c,v.selectors,!1)&&(f||(f=[]),Po(On(c,l),a,v.type),vr(v)?(kp(a,c),f.unshift(v)):f.push(v))}return f}(a,l,c),v=null===d?null:{"":-1};if(null!==m){f=!0,db(c,a.data.length,m.length);for(let O=0;O<m.length;O++){const U=m[O];U.providersResolver&&U.providersResolver(U)}let C=!1,E=!1,k=Ih(a,l,m.length,null);for(let O=0;O<m.length;O++){const U=m[O];c.mergedAttrs=Xn(c.mergedAttrs,U.hostAttrs),hb(a,c,l,k,U),ub(k,U,v),null!==U.contentQueries&&(c.flags|=8),(null!==U.hostBindings||null!==U.hostAttrs||0!==U.hostVars)&&(c.flags|=128);const X=U.type.prototype;!C&&(X.ngOnChanges||X.ngOnInit||X.ngDoCheck)&&((a.preOrderHooks||(a.preOrderHooks=[])).push(c.index),C=!0),!E&&(X.ngOnChanges||X.ngDoCheck)&&((a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(c.index),E=!0),k++}!function GC(a,l){const d=l.directiveEnd,f=a.data,m=l.attrs,v=[];let C=null,E=null;for(let k=l.directiveStart;k<d;k++){const O=f[k],U=O.inputs,X=null===m||bp(l)?null:h_(U,m);v.push(X),C=ab(U,k,C),E=ab(O.outputs,k,E)}null!==C&&(C.hasOwnProperty("class")&&(l.flags|=16),C.hasOwnProperty("style")&&(l.flags|=32)),l.initialInputs=v,l.inputs=C,l.outputs=E}(a,c)}v&&function KC(a,l,c){if(l){const d=a.localNames=[];for(let f=0;f<l.length;f+=2){const m=c[l[f+1]];if(null==m)throw new ke(-301,!1);d.push(l[f],m)}}}(c,d,v)}return c.mergedAttrs=Xn(c.mergedAttrs,c.attrs),f}function lb(a,l,c,d,f,m){const v=m.hostBindings;if(v){let C=a.hostBindingOpCodes;null===C&&(C=a.hostBindingOpCodes=[]);const E=~l.index;(function Mp(a){let l=a.length;for(;l>0;){const c=a[--l];if("number"==typeof c&&c<0)return c}return 0})(C)!=E&&C.push(E),C.push(d,f,v)}}function cb(a,l){null!==a.hostBindings&&a.hostBindings(1,l)}function kp(a,l){l.flags|=2,(a.components||(a.components=[])).push(l.index)}function ub(a,l,c){if(c){if(l.exportAs)for(let d=0;d<l.exportAs.length;d++)c[l.exportAs[d]]=a;vr(l)&&(c[""]=a)}}function db(a,l,c){a.flags|=1,a.directiveStart=l,a.directiveEnd=l+c,a.providerIndexes=l}function hb(a,l,c,d,f){a.data[d]=f;const m=f.factory||(f.factory=br(f.type)),v=new Na(m,vr(f),null);a.blueprint[d]=v,c[d]=v,lb(a,l,0,d,Ih(a,c,f.hostVars,Ht),f)}function Rp(a,l,c){const d=$i(l,a),f=sb(c),m=a[10],v=Np(a,Ec(a,f,null,c.onPush?64:16,d,l,m,m.createRenderer(d,c),null,null));a[l.index]=v}function jo(a,l,c,d,f,m){const v=$i(a,l);!function Op(a,l,c,d,f,m,v){if(null==m)An(a)?a.removeAttribute(l,f,c):l.removeAttribute(f);else{const C=null==v?de(m):v(m,d||"",f);An(a)?a.setAttribute(l,f,C,c):c?l.setAttributeNS(c,f,C):l.setAttribute(f,C)}}(l[11],v,m,a.value,c,d,f)}function fb(a,l,c,d,f,m){const v=m[l];if(null!==v){const C=d.setInput;for(let E=0;E<v.length;){const k=v[E++],O=v[E++],U=v[E++];null!==C?d.setInput(c,U,k,O):c[O]=U}}}function h_(a,l){let c=null,d=0;for(;d<l.length;){const f=l[d];if(0!==f)if(5!==f){if("number"==typeof f)break;a.hasOwnProperty(f)&&(null===c&&(c=[]),c.push(f,a[f],l[d+1])),d+=2}else d+=2;else d+=4}return c}function pb(a,l,c,d){return new Array(a,!0,!1,l,null,0,d,c,null,null)}function p_(a,l){const c=Gi(l,a);if(zs(c)){const d=c[1];80&c[2]?Mh(d,c,d.template,c[8]):c[5]>0&&Pp(c)}}function Pp(a){for(let d=yc(a);null!==d;d=vc(d))for(let f=10;f<d.length;f++){const m=d[f];if(1024&m[2]){const v=m[1];Mh(v,m,v.template,m[8])}else m[5]>0&&Pp(m)}const c=a[1].components;if(null!==c)for(let d=0;d<c.length;d++){const f=Gi(c[d],a);zs(f)&&f[5]>0&&Pp(f)}}function QC(a,l){const c=Gi(l,a),d=c[1];(function JC(a,l){for(let c=l.length;c<a.blueprint.length;c++)l.push(a.blueprint[c])})(d,c),Sh(d,c,c[8])}function Np(a,l){return a[13]?a[14][4]=l:a[13]=l,a[14]=l,l}function gb(a){for(;a;){a[2]|=64;const l=Wn(a);if(Pd(a)&&!l)return a;a=l}return null}function Rh(a,l,c){const d=l[10];d.begin&&d.begin();try{Mh(a,l,a.template,c)}catch(f){throw eE(l,f),f}finally{d.end&&d.end()}}function Oh(a){!function m_(a){for(let l=0;l<a.components.length;l++){const c=a.components[l],d=op(c),f=d[1];pI(f,d,f.template,c)}}(a[8])}function yb(a,l,c){lu(0),l(a,c)}const Ph=(()=>Promise.resolve(null))();function g_(a){return a[7]||(a[7]=[])}function Ac(a){return a.cleanup||(a.cleanup=[])}function vb(a,l,c){return(null===a||vr(a))&&(c=function Hd(a){for(;Array.isArray(a);){if("object"==typeof a[1])return a;a=a[0]}return null}(c[l.index])),c[11]}function eE(a,l){const c=a[9],d=c?c.get(Wi,null):null;d&&d.handleError(l)}function Tc(a,l,c,d,f){for(let m=0;m<c.length;){const v=c[m++],C=c[m++],E=l[v],k=a.data[v];null!==k.setInput?k.setInput(E,f,d,C):E[C]=f}}function Ir(a,l,c){const d=na(l,a);!function bh(a,l,c){An(a)?a.setValue(l,c):l.textContent=c}(a[11],d,c)}function zu(a,l,c){let d=c?a.styles:null,f=c?a.classes:null,m=0;if(null!==l)for(let v=0;v<l.length;v++){const C=l[v];"number"==typeof C?m=C:1==m?f=ie(f,C):2==m&&(d=ie(d,C+": "+l[++v]+";"))}c?a.styles=d:a.stylesWithoutHost=d,c?a.classes=f:a.classesWithoutHost=f}const jn=new Yn("INJECTOR",-1);class Lp{get(l,c=ca){if(c===ca){const d=new Error(`NullInjectorError: No provider for ${Q(l)}!`);throw d.name="NullInjectorError",d}return c}}const bb=new Yn("Set Injector scope."),Vp={},Bp={};let $u;function tE(){return void 0===$u&&($u=new Lp),$u}function wb(a,l=null,c=null,d){const f=nE(a,l,c,d);return f._resolveInjectorDefTypes(),f}function nE(a,l=null,c=null,d){return new vI(a,c,l||tE(),d)}class vI{constructor(l,c,d,f=null){this.parent=d,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const m=[];c&&jr(c,C=>this.processProvider(C,l,c)),jr([l],C=>this.processInjectorType(C,[],m)),this.records.set(jn,Gu(void 0,this));const v=this.records.get(bb);this.scope=null!=v?v.value:null,this.source=f||("object"==typeof l?null:Q(l))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(l=>l.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(l,c=ca,d=vt.Default){this.assertNotDestroyed();const f=Be(this),m=di(void 0);try{if(!(d&vt.SkipSelf)){let C=this.records.get(l);if(void 0===C){const E=function sE(a){return"function"==typeof a||"object"==typeof a&&a instanceof Yn}(l)&&Nt(l);C=E&&this.injectableDefInScope(E)?Gu(Cb(l),Vp):null,this.records.set(l,C)}if(null!=C)return this.hydrate(l,C)}return(d&vt.Self?tE():this.parent).get(l,c=d&vt.Optional&&c===ca?null:c)}catch(v){if("NullInjectorError"===v.name){if((v[pc]=v[pc]||[]).unshift(Q(l)),f)throw v;return function Ua(a,l,c,d){const f=a[pc];throw l[q]&&f.unshift(l[q]),a.message=function ua(a,l,c,d=null){a=a&&"\n"===a.charAt(0)&&"\u0275"==a.charAt(1)?a.substr(2):a;let f=Q(l);if(Array.isArray(l))f=l.map(Q).join(" -> ");else if("object"==typeof l){let m=[];for(let v in l)if(l.hasOwnProperty(v)){let C=l[v];m.push(v+":"+("string"==typeof C?JSON.stringify(C):Q(C)))}f=`{${m.join(", ")}}`}return`${c}${d?"("+d+")":""}[${f}]: ${a.replace(I,"\n  ")}`}("\n"+a.message,f,c,d),a.ngTokenPath=f,a[pc]=null,a}(v,l,"R3InjectorError",this.source)}throw v}finally{di(m),Be(f)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(l=>this.get(l))}toString(){const l=[];return this.records.forEach((d,f)=>l.push(Q(f))),`R3Injector[${l.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new ke(205,!1)}processInjectorType(l,c,d){if(!(l=J(l)))return!1;let f=tr(l);const m=null==f&&l.ngModule||void 0,v=void 0===m?l:m,C=-1!==d.indexOf(v);if(void 0!==m&&(f=tr(m)),null==f)return!1;if(null!=f.imports&&!C){let O;d.push(v);try{jr(f.imports,U=>{this.processInjectorType(U,c,d)&&(void 0===O&&(O=[]),O.push(U))})}finally{}if(void 0!==O)for(let U=0;U<O.length;U++){const{ngModule:X,providers:ue}=O[U];jr(ue,xe=>this.processProvider(xe,X,ue||bt))}}this.injectorDefTypes.add(v);const E=br(v)||(()=>new v);this.records.set(v,Gu(E,Vp));const k=f.providers;if(null!=k&&!C){const O=l;jr(k,U=>this.processProvider(U,O,k))}return void 0!==m&&void 0!==l.providers}processProvider(l,c,d){let f=Fh(l=J(l))?l:J(l&&l.provide);const m=function Up(a,l,c){return Eb(a)?Gu(void 0,a.useValue):Gu(El(a),Vp)}(l);if(Fh(l)||!0!==l.multi)this.records.get(f);else{let v=this.records.get(f);v||(v=Gu(void 0,Vp,!0),v.factory=()=>Ft(v.multi),this.records.set(f,v)),f=l,v.multi.push(l)}this.records.set(f,m)}hydrate(l,c){return c.value===Vp&&(c.value=Bp,c.value=c.factory()),"object"==typeof c.value&&c.value&&function CI(a){return null!==a&&"object"==typeof a&&"function"==typeof a.ngOnDestroy}(c.value)&&this.onDestroy.add(c.value),c.value}injectableDefInScope(l){if(!l.providedIn)return!1;const c=J(l.providedIn);return"string"==typeof c?"any"===c||c===this.scope:this.injectorDefTypes.has(c)}}function Cb(a){const l=Nt(a),c=null!==l?l.factory:br(a);if(null!==c)return c;if(a instanceof Yn)throw new ke(204,!1);if(a instanceof Function)return function bI(a){const l=a.length;if(l>0)throw os(l,"?"),new ke(204,!1);const c=function ii(a){const l=a&&(a[_s]||a[Ns]);if(l){const c=function kr(a){if(a.hasOwnProperty("name"))return a.name;const l=(""+a).match(/^function\s*([^\s(]+)/);return null===l?"":l[1]}(a);return console.warn(`DEPRECATED: DI is instantiating a token "${c}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${c}" class.`),l}return null}(a);return null!==c?()=>c.factory(a):()=>new a}(a);throw new ke(204,!1)}function El(a,l,c){let d;if(Fh(a)){const f=J(a);return br(f)||Cb(f)}if(Eb(a))d=()=>J(a.useValue);else if(function Nh(a){return!(!a||!a.useFactory)}(a))d=()=>a.useFactory(...Ft(a.deps||[]));else if(function iE(a){return!(!a||!a.useExisting)}(a))d=()=>nt(J(a.useExisting));else{const f=J(a&&(a.useClass||a.provide));if(!function rE(a){return!!a.deps}(a))return br(f)||Cb(f);d=()=>new f(...Ft(a.deps))}return d}function Gu(a,l,c=!1){return{factory:a,value:l,multi:c?[]:void 0}}function Eb(a){return null!==a&&"object"==typeof a&&ce in a}function Fh(a){return"function"==typeof a}let Ho=(()=>{class a{static create(c,d){var f;if(Array.isArray(c))return wb({name:""},d,c,"");{const m=null!==(f=c.name)&&void 0!==f?f:"";return wb({name:m},c.parent,c.providers,m)}}}return a.THROW_IF_NOT_FOUND=ca,a.NULL=new Lp,a.\u0275prov=hn({token:a,providedIn:"any",factory:()=>nt(jn)}),a.__NG_ELEMENT_ID__=-1,a})();function Dl(a,l){$s(op(a)[1],kn())}function $p(a){let l=function uE(a){return Object.getPrototypeOf(a.prototype).constructor}(a.type),c=!0;const d=[a];for(;l;){let f;if(vr(a))f=l.\u0275cmp||l.\u0275dir;else{if(l.\u0275cmp)throw new ke(903,"");f=l.\u0275dir}if(f){if(c){d.push(f);const v=a;v.inputs=D_(a.inputs),v.declaredInputs=D_(a.declaredInputs),v.outputs=D_(a.outputs);const C=f.hostBindings;C&&dE(a,C);const E=f.viewQuery,k=f.contentQueries;if(E&&Mb(a,E),k&&A_(a,k),H(a.inputs,f.inputs),H(a.declaredInputs,f.declaredInputs),H(a.outputs,f.outputs),vr(f)&&f.data.animation){const O=a.data;O.animation=(O.animation||[]).concat(f.data.animation)}}const m=f.features;if(m)for(let v=0;v<m.length;v++){const C=m[v];C&&C.ngInherit&&C(a),C===$p&&(c=!1)}}l=Object.getPrototypeOf(l)}!function Gp(a){let l=0,c=null;for(let d=a.length-1;d>=0;d--){const f=a[d];f.hostVars=l+=f.hostVars,f.hostAttrs=Xn(f.hostAttrs,c=Xn(c,f.hostAttrs))}}(d)}function D_(a){return a===Mi?{}:a===bt?[]:a}function Mb(a,l){const c=a.viewQuery;a.viewQuery=c?(d,f)=>{l(d,f),c(d,f)}:l}function A_(a,l){const c=a.contentQueries;a.contentQueries=c?(d,f,m)=>{l(d,f,m),c(d,f,m)}:l}function dE(a,l){const c=a.hostBindings;a.hostBindings=c?(d,f)=>{l(d,f),c(d,f)}:l}let qp=null;function Ya(){if(!qp){const a=Qt.Symbol;if(a&&a.iterator)qp=a.iterator;else{const l=Object.getOwnPropertyNames(Map.prototype);for(let c=0;c<l.length;++c){const d=l[c];"entries"!==d&&"size"!==d&&Map.prototype[d]===Map.prototype.entries&&(qp=d)}}}return qp}function Vh(a){return!!I_(a)&&(Array.isArray(a)||!(a instanceof Map)&&Ya()in a)}function I_(a){return null!==a&&("function"==typeof a||"object"==typeof a)}function Sr(a,l,c){return!Object.is(a[l],c)&&(a[l]=c,!0)}function to(a,l,c,d){const f=Sr(a,l,c);return Sr(a,l+1,d)||f}function S_(a,l,c,d){const f=Pe();return Sr(f,ko(),l)&&(Zt(),jo(Gn(),f,a,l,c,d)),S_}function Yu(a,l,c,d,f,m,v,C){const k=function Yp(a,l,c,d,f){const m=to(a,l,c,d);return Sr(a,l+2,f)||m}(a,Nr(),c,f,v);return es(3),k?l+de(c)+d+de(f)+m+de(v)+C:Ht}function ba(a,l,c,d,f,m,v,C,E,k,O,U){const X=Nr();let ue=function no(a,l,c,d,f,m){const v=to(a,l,c,d);return to(a,l+2,f,m)||v}(a,X,c,f,v,E);return ue=Sr(a,X+4,O)||ue,es(5),ue?l+de(c)+d+de(f)+m+de(v)+C+de(E)+k+de(O)+U:Ht}function M_(a,l,c,d,f,m,v,C){const E=Pe(),k=Zt(),O=a+20,U=k.firstCreatePass?function Sc(a,l,c,d,f,m,v,C,E){const k=l.consts,O=Dc(l,a,4,v||null,Cr(k,C));kh(l,c,O,Cr(k,E)),$s(l,O);const U=O.tViews=c_(2,O,d,f,m,l.directiveRegistry,l.pipeRegistry,null,l.schemas,k);return null!==l.queries&&(l.queries.template(l,O),U.queries=l.queries.embeddedTView(O)),O}(O,k,E,l,c,d,f,m,v):k.data[O];Er(U,!1);const X=E[11].createComment("");qg(k,E,X,U),ar(X,E),Np(E,E[O]=pb(X,E,X,U)),Gl(U)&&rb(k,E,U),null!=v&&Tp(E,U,C)}function $e(a){return Xr(function ru(){return Ct.lFrame.contextLView}(),20+a)}function Gh(a,l=vt.Default){const c=Pe();return null===c?nt(a,l):No(kn(),c,J(a),l)}function qh(){throw new Error("invalid")}function Ub(a,l,c){const d=Pe();return Sr(d,ko(),l)&&Gr(Zt(),Gn(),d,a,l,d[11],c,!1),Ub}function wa(a,l,c,d,f){const v=f?"class":"style";Tc(a,c,l.inputs[v],v,d)}function Mc(a,l,c,d){const f=Pe(),m=Zt(),v=20+a,C=f[11],E=f[v]=wh(C,l,function sv(){return Ct.lFrame.currentNamespace}()),k=m.firstCreatePass?function Xu(a,l,c,d,f,m,v){const C=l.consts,k=Dc(l,a,2,f,Cr(C,m));return kh(l,c,k,Cr(C,v)),null!==k.attrs&&zu(k,k.attrs,!1),null!==k.mergedAttrs&&zu(k,k.mergedAttrs,!0),null!==l.queries&&l.queries.elementStart(l,k),k}(v,m,f,0,l,c,d):m.data[v];Er(k,!0);const O=k.mergedAttrs;null!==O&&ot(C,E,O);const U=k.classes;null!==U&&Uv(C,E,U);const X=k.styles;return null!==X&&Pt(C,E,X),64!=(64&k.flags)&&qg(m,f,E,k),0===function ul(){return Ct.lFrame.elementDepthCount}()&&ar(E,f),function tc(){Ct.lFrame.elementDepthCount++}(),Gl(k)&&(rb(m,f,k),l_(m,k,f)),null!==d&&Tp(f,k),Mc}function Qp(){let a=kn();nu()?iu():(a=a.parent,Er(a,!1));const l=a;!function nc(){Ct.lFrame.elementDepthCount--}();const c=Zt();return c.firstCreatePass&&($s(c,a),Od(a)&&c.queries.elementEnd(a)),null!=l.classesWithoutHost&&function Qd(a){return 0!=(16&a.flags)}(l)&&wa(c,l,Pe(),l.classesWithoutHost,!0),null!=l.stylesWithoutHost&&function Tg(a){return 0!=(32&a.flags)}(l)&&wa(c,l,Pe(),l.stylesWithoutHost,!1),Qp}function Ke(a,l,c,d){return Mc(a,l,c,d),Qp(),Ke}function Za(a,l,c){const d=Pe(),f=Zt(),m=a+20,v=f.firstCreatePass?function DE(a,l,c,d,f){const m=l.consts,v=Cr(m,d),C=Dc(l,a,8,"ng-container",v);return null!==v&&zu(C,v,!0),kh(l,c,C,Cr(m,f)),null!==l.queries&&l.queries.elementStart(l,C),C}(m,f,d,l,c):f.data[m];Er(v,!0);const C=d[m]=d[11].createComment("");return qg(f,d,C,v),ar(C,d),Gl(v)&&(rb(f,d,v),l_(f,v,d)),null!=c&&Tp(d,v),Za}function ro(){let a=kn();const l=Zt();return nu()?iu():(a=a.parent,Er(a,!1)),l.firstCreatePass&&($s(l,a),Od(a)&&l.queries.elementEnd(a)),ro}function Tl(){return Pe()}function k_(a){return!!a&&"function"==typeof a.then}function ed(a){return!!a&&"function"==typeof a.subscribe}const R_=ed;function xc(a,l,c,d){const f=Pe(),m=Zt(),v=kn();return jb(m,f,f[11],v,a,l,!!c,d),xc}function Jp(a,l){const c=kn(),d=Pe(),f=Zt();return jb(f,d,vb(Pa(f.data),c,d),c,a,l,!1),Jp}function jb(a,l,c,d,f,m,v,C){const E=Gl(d),O=a.firstCreatePass&&Ac(a),U=l[8],X=g_(l);let ue=!0;if(3&d.type||C){const Je=$i(d,l),at=C?C(Je):Je,Ne=X.length,Dt=C?an=>C(wn(an[d.index])):d.index;if(An(c)){let an=null;if(!C&&E&&(an=function Xp(a,l,c,d){const f=a.cleanup;if(null!=f)for(let m=0;m<f.length-1;m+=2){const v=f[m];if(v===c&&f[m+1]===d){const C=l[7],E=f[m+2];return C.length>E?C[E]:null}"string"==typeof v&&(m+=2)}return null}(a,l,f,d.index)),null!==an)(an.__ngLastListenerFn__||an).__ngNextListenerFn__=m,an.__ngLastListenerFn__=m,ue=!1;else{m=Zh(d,l,U,m,!1);const In=c.listen(at,f,m);X.push(m,In),O&&O.push(f,Dt,Ne,Ne+1)}}else m=Zh(d,l,U,m,!0),at.addEventListener(f,m,v),X.push(m),O&&O.push(f,Dt,Ne,v)}else m=Zh(d,l,U,m,!1);const xe=d.outputs;let Ge;if(ue&&null!==xe&&(Ge=xe[f])){const Je=Ge.length;if(Je)for(let at=0;at<Je;at+=2){const ao=l[Ge[at]][Ge[at+1]].subscribe(m),zc=X.length;X.push(m,ao),O&&O.push(f,d.index,zc,-(zc+1))}}}function Hb(a,l,c,d){try{return!1!==c(d)}catch(f){return eE(a,f),!1}}function Zh(a,l,c,d,f){return function m(v){if(v===Function)return d;const C=2&a.flags?Gi(a.index,l):l;0==(32&l[2])&&gb(C);let E=Hb(l,0,d,v),k=m.__ngNextListenerFn__;for(;k;)E=Hb(l,0,k,v)&&E,k=k.__ngNextListenerFn__;return f&&!1===E&&(v.preventDefault(),v.returnValue=!1),E}}function Wh(a=1){return function Ro(a){return(Ct.lFrame.contextLView=function uu(a,l){for(;a>0;)l=l[15],a--;return l}(a,Ct.lFrame.contextLView))[8]}(a)}function AE(a,l){let c=null;const d=function oI(a){const l=a.attrs;if(null!=l){const c=l.indexOf(5);if(0==(1&c))return l[c+1]}return null}(a);for(let f=0;f<l.length;f++){const m=l[f];if("*"!==m){if(null===d?RC(a,m,!0):Wg(d,m))return f}else c=f}return c}function zb(a){const l=Pe()[16][6];if(!l.projection){const d=l.projection=os(a?a.length:1,null),f=d.slice();let m=l.child;for(;null!==m;){const v=a?AE(m,a):0;null!==v&&(f[v]?f[v].projectionNext=m:d[v]=m,f[v]=m),m=m.next}}}function $b(a,l=0,c){const d=Pe(),f=Zt(),m=Dc(f,20+a,16,null,c||null);null===m.projection&&(m.projection=l),iu(),64!=(64&m.flags)&&function be(a,l,c){Uo(l[11],0,l,c,Gg(a,c,l),SC(c.parent||l[6],c,l))}(f,d,m)}function qb(a,l,c,d,f){const m=a[c+1],v=null===l;let C=d?Ts(m):ui(m),E=!1;for(;0!==C&&(!1===E||v);){const O=a[C+1];nd(a[C],l)&&(E=!0,a[C+1]=d?Ep(O):Cp(O)),C=d?Ts(O):ui(O)}E&&(a[c+1]=d?Cp(m):Ep(m))}function nd(a,l){return null===a||null==l||(Array.isArray(a)?a[1]:a)===l||!(!Array.isArray(a)||"string"!=typeof l)&&Lo(a,l)>=0}const Qi={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Qh(a){return a.substring(Qi.key,Qi.keyEnd)}function fr(a,l){const c=Qi.textEnd;return c===l?-1:(l=Qi.keyEnd=function LI(a,l,c){for(;l<c&&a.charCodeAt(l)>32;)l++;return l}(a,Qi.key=l,c),id(a,l,c))}function id(a,l,c){for(;l<c&&a.charCodeAt(l)<=32;)l++;return l}function Yb(a,l,c){return Is(a,l,c,!1),Yb}function L_(a,l){return Is(a,l,null,!0),L_}function Zb(a){!function Ss(a,l,c,d){const f=Zt(),m=es(2);f.firstUpdatePass&&B_(f,null,m,d);const v=Pe();if(c!==Ht&&Sr(v,m,c)){const C=f.data[qi()];if(Jb(C,d)&&!V_(f,m)){let E=d?C.classesWithoutHost:C.stylesWithoutHost;null!==E&&(c=ie(E,c||"")),wa(f,C,v,c,d)}else!function kE(a,l,c,d,f,m,v,C){f===Ht&&(f=bt);let E=0,k=0,O=0<f.length?f[0]:null,U=0<m.length?m[0]:null;for(;null!==O||null!==U;){const X=E<f.length?f[E+1]:void 0,ue=k<m.length?m[k+1]:void 0;let Ge,xe=null;O===U?(E+=2,k+=2,X!==ue&&(xe=U,Ge=ue)):null===U||null!==O&&O<U?(E+=2,xe=O):(k+=2,xe=U,Ge=ue),null!==xe&&Qb(a,l,c,d,xe,Ge,v,C),O=E<f.length?f[E]:null,U=k<m.length?m[k]:null}}(f,C,v,v[11],v[m+1],v[m+1]=function Kb(a,l,c){if(null==c||""===c)return bt;const d=[],f=Js(c);if(Array.isArray(f))for(let m=0;m<f.length;m++)a(d,f[m],!0);else if("object"==typeof f)for(const m in f)f.hasOwnProperty(m)&&a(d,m,f[m]);else"string"==typeof f&&l(d,f);return d}(a,l,c),d,m)}}(pi,fs,a,!0)}function fs(a,l){for(let c=function F_(a){return function SE(a){Qi.key=0,Qi.keyEnd=0,Qi.value=0,Qi.valueEnd=0,Qi.textEnd=a.length}(a),fr(a,id(a,0,Qi.textEnd))}(l);c>=0;c=fr(l,c))pi(a,Qh(l),!0)}function Is(a,l,c,d){const f=Pe(),m=Zt(),v=es(2);m.firstUpdatePass&&B_(m,a,v,d),l!==Ht&&Sr(f,v,l)&&Qb(m,m.data[qi()],f,f[11],a,f[v+1]=function OE(a,l){return null==a||("string"==typeof l?a+=l:"object"==typeof a&&(a=Q(Js(a)))),a}(l,c),d,v)}function V_(a,l){return l>=a.expandoStartIndex}function B_(a,l,c,d){const f=a.data;if(null===f[c+1]){const m=f[qi()],v=V_(a,c);Jb(m,d)&&null===l&&!v&&(l=!1),l=function Wb(a,l,c,d){const f=Pa(a);let m=d?l.residualClasses:l.residualStyles;if(null===f)0===(d?l.classBindings:l.styleBindings)&&(c=Xh(c=rd(null,a,l,c,d),l.attrs,d),m=null);else{const v=l.directiveStylingLast;if(-1===v||a[v]!==f)if(c=rd(f,a,l,c,d),null===m){let E=function Jh(a,l,c){const d=c?l.classBindings:l.styleBindings;if(0!==ui(d))return a[Ts(d)]}(a,l,d);void 0!==E&&Array.isArray(E)&&(E=rd(null,a,l,E[1],d),E=Xh(E,l.attrs,d),function zo(a,l,c,d){a[Ts(c?l.classBindings:l.styleBindings)]=d}(a,l,d,E))}else m=function xE(a,l,c){let d;const f=l.directiveEnd;for(let m=1+l.directiveStylingLast;m<f;m++)d=Xh(d,a[m].hostAttrs,c);return Xh(d,l.attrs,c)}(a,l,d)}return void 0!==m&&(d?l.residualClasses=m:l.residualStyles=m),c}(f,m,l,d),function PI(a,l,c,d,f,m){let v=m?l.classBindings:l.styleBindings,C=Ts(v),E=ui(v);a[d]=c;let O,k=!1;if(Array.isArray(c)){const U=c;O=U[1],(null===O||Lo(U,O)>0)&&(k=!0)}else O=c;if(f)if(0!==E){const X=Ts(a[C+1]);a[d+1]=Ah(X,C),0!==X&&(a[X+1]=Kg(a[X+1],d)),a[C+1]=function us(a,l){return 131071&a|l<<17}(a[C+1],d)}else a[d+1]=Ah(C,0),0!==C&&(a[C+1]=Kg(a[C+1],d)),C=d;else a[d+1]=Ah(E,0),0===C?C=d:a[E+1]=Kg(a[E+1],d),E=d;k&&(a[d+1]=Cp(a[d+1])),qb(a,O,d,!0),qb(a,O,d,!1),function NI(a,l,c,d,f){const m=f?a.residualClasses:a.residualStyles;null!=m&&"string"==typeof l&&Lo(m,l)>=0&&(c[d+1]=Ep(c[d+1]))}(l,O,a,d,m),v=Ah(C,E),m?l.classBindings=v:l.styleBindings=v}(f,m,l,c,v,d)}}function rd(a,l,c,d,f){let m=null;const v=c.directiveEnd;let C=c.directiveStylingLast;for(-1===C?C=c.directiveStart:C++;C<v&&(m=l[C],d=Xh(d,m.hostAttrs,f),m!==a);)C++;return null!==a&&(c.directiveStylingLast=C),d}function Xh(a,l,c){const d=c?1:2;let f=-1;if(null!==l)for(let m=0;m<l.length;m++){const v=l[m];"number"==typeof v?f=v:f===d&&(Array.isArray(a)||(a=void 0===a?[]:["",a]),pi(a,v,!!c||l[++m]))}return void 0===a?null:a}function Qb(a,l,c,d,f,m,v,C){if(!(3&l.type))return;const E=a.data,k=E[C+1];im(function qv(a){return 1==(1&a)}(k)?RE(E,l,c,f,ui(k),v):void 0)||(im(m)||function Gv(a){return 2==(2&a)}(k)&&(m=RE(E,null,c,f,C,v)),function bc(a,l,c,d,f){const m=An(a);if(l)f?m?a.addClass(c,d):c.classList.add(d):m?a.removeClass(c,d):c.classList.remove(d);else{let v=-1===d.indexOf("-")?void 0:ve.DashCase;if(null==f)m?a.removeStyle(c,d,v):c.style.removeProperty(d);else{const C="string"==typeof f&&f.endsWith("!important");C&&(f=f.slice(0,-10),v|=ve.Important),m?a.setStyle(c,d,f,v):c.style.setProperty(d,f,C?"important":"")}}}(d,v,na(qi(),c),f,m))}function RE(a,l,c,d,f,m){const v=null===l;let C;for(;f>0;){const E=a[f],k=Array.isArray(E),O=k?E[1]:E,U=null===O;let X=c[f+1];X===Ht&&(X=U?bt:void 0);let ue=U?Au(X,d):O===d?X:void 0;if(k&&!im(ue)&&(ue=Au(E,d)),im(ue)&&(C=ue,v))return C;const xe=a[f+1];f=v?Ts(xe):ui(xe)}if(null!==l){let E=m?l.residualClasses:l.residualStyles;null!=E&&(C=Au(E,d))}return C}function im(a){return void 0!==a}function Jb(a,l){return 0!=(a.flags&(l?16:32))}function rm(a,l=""){const c=Pe(),d=Zt(),f=a+20,m=d.firstCreatePass?Dc(d,f,1,l,null):d.data[f],v=c[f]=function vh(a,l){return An(a)?a.createText(l):a.createTextNode(l)}(c[11],l);qg(d,c,v,m),Er(m,!1)}function Xb(a){return j_("",a,""),Xb}function j_(a,l,c){const d=Pe(),f=function Al(a,l,c,d){return Sr(a,ko(),c)?l+de(c)+d:Ht}(d,a,l,c);return f!==Ht&&Ir(d,qi(),f),j_}function H_(a,l,c,d,f){const m=Pe(),v=function ur(a,l,c,d,f,m){const C=to(a,Nr(),c,f);return es(2),C?l+de(c)+d+de(f)+m:Ht}(m,a,l,c,d,f);return v!==Ht&&Ir(m,qi(),v),H_}function Rc(a,l,c,d,f,m,v){const C=Pe(),E=Yu(C,a,l,c,d,f,m,v);return E!==Ht&&Ir(C,qi(),E),Rc}function z_(a,l,c,d,f,m,v,C,E,k,O){const U=Pe(),X=ba(U,a,l,c,d,f,m,v,C,E,k,O);return X!==Ht&&Ir(U,qi(),X),z_}function Ji(a,l,c){const d=Pe();return Sr(d,ko(),l)&&Gr(Zt(),Gn(),d,a,l,d[11],c,!0),Ji}function Vn(a,l,c){const d=Pe();if(Sr(d,ko(),l)){const m=Zt(),v=Gn();Gr(m,v,d,a,l,vb(Pa(m.data),v,d),c,!0)}return Vn}const Nc=void 0;var $I=["en",[["a","p"],["AM","PM"],Nc],[["AM","PM"],Nc,Nc],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Nc,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Nc,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Nc,"{1} 'at' {0}",Nc],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function ef(a){const c=Math.floor(Math.abs(a)),d=a.toString().replace(/^[^.]*\.?/,"").length;return 1===c&&0===d?1:5}];let xr={};function cm(a){const l=function Z_(a){return a.toLowerCase().replace(/_/g,"-")}(a);let c=HE(l);if(c)return c;const d=l.split("-")[0];if(c=HE(d),c)return c;if("en"===d)return $I;throw new Error(`Missing locale data for the locale "${a}".`)}function jE(a){return cm(a)[xt.PluralCase]}function HE(a){return a in xr||(xr[a]=Qt.ng&&Qt.ng.common&&Qt.ng.common.locales&&Qt.ng.common.locales[a]),xr[a]}var xt=(()=>((xt=xt||{})[xt.LocaleId=0]="LocaleId",xt[xt.DayPeriodsFormat=1]="DayPeriodsFormat",xt[xt.DayPeriodsStandalone=2]="DayPeriodsStandalone",xt[xt.DaysFormat=3]="DaysFormat",xt[xt.DaysStandalone=4]="DaysStandalone",xt[xt.MonthsFormat=5]="MonthsFormat",xt[xt.MonthsStandalone=6]="MonthsStandalone",xt[xt.Eras=7]="Eras",xt[xt.FirstDayOfWeek=8]="FirstDayOfWeek",xt[xt.WeekendRange=9]="WeekendRange",xt[xt.DateFormat=10]="DateFormat",xt[xt.TimeFormat=11]="TimeFormat",xt[xt.DateTimeFormat=12]="DateTimeFormat",xt[xt.NumberSymbols=13]="NumberSymbols",xt[xt.NumberFormats=14]="NumberFormats",xt[xt.CurrencyCode=15]="CurrencyCode",xt[xt.CurrencySymbol=16]="CurrencySymbol",xt[xt.CurrencyName=17]="CurrencyName",xt[xt.Currencies=18]="Currencies",xt[xt.Directionality=19]="Directionality",xt[xt.PluralCase=20]="PluralCase",xt[xt.ExtraData=21]="ExtraData",xt))();const ad="en-US";let o0=ad;function af(a,l,c,d,f){if(a=J(a),Array.isArray(a))for(let m=0;m<a.length;m++)af(a[m],l,c,d,f);else{const m=Zt(),v=Pe();let C=Fh(a)?a:J(a.provide),E=El(a);const k=kn(),O=1048575&k.providerIndexes,U=k.directiveStart,X=k.providerIndexes>>20;if(Fh(a)||!a.multi){const ue=new Na(E,f,Gh),xe=Vc(C,l,f?O:O+X,U);-1===xe?(Po(On(k,v),m,C),Ol(m,a,l.length),l.push(C),k.directiveStart++,k.directiveEnd++,f&&(k.providerIndexes+=1048576),c.push(ue),v.push(ue)):(c[xe]=ue,v[xe]=ue)}else{const ue=Vc(C,l,O+X,U),xe=Vc(C,l,O,O+X),Ge=ue>=0&&c[ue],Je=xe>=0&&c[xe];if(f&&!Je||!f&&!Ge){Po(On(k,v),m,C);const at=function C0(a,l,c,d,f){const m=new Na(a,c,Gh);return m.multi=[],m.index=l,m.componentProviders=0,Lc(m,f,d&&!c),m}(f?hD:_m,c.length,f,d,E);!f&&Je&&(c[xe].providerFactory=at),Ol(m,a,l.length,0),l.push(C),k.directiveStart++,k.directiveEnd++,f&&(k.providerIndexes+=1048576),c.push(at),v.push(at)}else Ol(m,a,ue>-1?ue:xe,Lc(c[f?xe:ue],E,!f&&d));!f&&d&&Je&&c[xe].componentProviders++}}}function Ol(a,l,c,d){const f=Fh(l),m=function wI(a){return!!a.useClass}(l);if(f||m){const E=(m?J(l.useClass):l).prototype.ngOnDestroy;if(E){const k=a.destroyHooks||(a.destroyHooks=[]);if(!f&&l.multi){const O=k.indexOf(c);-1===O?k.push(c,[d,E]):k[O+1].push(d,E)}else k.push(c,E)}}}function Lc(a,l,c){return c&&a.componentProviders++,a.multi.push(l)-1}function Vc(a,l,c,d){for(let f=c;f<d;f++)if(l[f]===a)return f;return-1}function _m(a,l,c,d){return ym(this.multi,[])}function hD(a,l,c,d){const f=this.multi;let m;if(this.providerFactory){const v=this.providerFactory.componentProviders,C=Ur(c,c[1],this.providerFactory.index,d);m=C.slice(0,v),ym(f,m);for(let E=v;E<C.length;E++)m.push(C[E])}else m=[],ym(f,m);return m}function ym(a,l){for(let c=0;c<a.length;c++)l.push((0,a[c])());return l}function E0(a,l=[]){return c=>{c.providersResolver=(d,f)=>function dD(a,l,c){const d=Zt();if(d.firstCreatePass){const f=vr(a);af(c,d.data,d.blueprint,f,!0),af(l,d.data,d.blueprint,f,!1)}}(d,f?f(a):a,l)}}class D0{}class lf{resolveComponentFactory(l){throw function fD(a){const l=Error(`No component factory found for ${Q(a)}. Did you add it to @NgModule.entryComponents?`);return l.ngComponent=a,l}(l)}}let ey=(()=>{class a{}return a.NULL=new lf,a})();function pD(){return cf(kn(),Pe())}function cf(a,l){return new vm($i(a,l))}let vm=(()=>{class a{constructor(c){this.nativeElement=c}}return a.__NG_ELEMENT_ID__=pD,a})();function hS(a){return a instanceof vm?a.nativeElement:a}class Pl{}let ud=(()=>{class a{}return a.__NG_ELEMENT_ID__=()=>function fS(){const a=Pe(),c=Gi(kn().index,a);return function mD(a){return a[11]}(ir(c)?c:a)}(),a})(),pS=(()=>{class a{}return a.\u0275prov=hn({token:a,providedIn:"root",factory:()=>null}),a})();class ty{constructor(l){this.full=l,this.major=l.split(".")[0],this.minor=l.split(".")[1],this.patch=l.split(".").slice(2).join(".")}}const bm=new ty("13.3.0"),T0={};function wm(a,l,c,d,f=!1){for(;null!==c;){const m=l[c.index];if(null!==m&&d.push(wn(m)),zi(m))for(let C=10;C<m.length;C++){const E=m[C],k=E[1].firstChild;null!==k&&wm(E[1],E,k,d)}const v=c.type;if(8&v)wm(a,l,c.child,d);else if(32&v){const C=rt(c,l);let E;for(;E=C();)d.push(E)}else if(16&v){const C=kC(l,c);if(Array.isArray(C))d.push(...C);else{const E=Wn(l[16]);wm(E[1],E,C,d,!0)}}c=f?c.projectionNext:c.next}return d}class Nl{constructor(l,c){this._lView=l,this._cdRefInjectingView=c,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const l=this._lView,c=l[1];return wm(c,l,c.firstChild,[])}get context(){return this._lView[8]}set context(l){this._lView[8]=l}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const l=this._lView[3];if(zi(l)){const c=l[8],d=c?c.indexOf(this):-1;d>-1&&(kv(l,d),Ks(c,d))}this._attachedToViewContainer=!1}Rv(this._lView[1],this._lView)}onDestroy(l){$C(this._lView[1],this._lView,null,l)}markForCheck(){gb(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Rh(this._lView[1],this._lView,this.context)}checkNoChanges(){!function Hu(a,l,c){xo(!0);try{Rh(a,l,c)}finally{xo(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new ke(902,"");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function zg(a,l){Yg(a,l,l[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(l){if(this._attachedToViewContainer)throw new ke(902,"");this._appRef=l}}class ny extends Nl{constructor(l){super(l),this._view=l}detectChanges(){Oh(this._view)}checkNoChanges(){!function _b(a){xo(!0);try{Oh(a)}finally{xo(!1)}}(this._view)}get context(){return null}}class Cm extends ey{constructor(l){super(),this.ngModule=l}resolveComponentFactory(l){const c=en(l);return new uf(c,this.ngModule)}}function I0(a){const l=[];for(let c in a)a.hasOwnProperty(c)&&l.push({propName:a[c],templateName:c});return l}class uf extends D0{constructor(l,c){super(),this.componentDef=l,this.ngModule=c,this.componentType=l.type,this.selector=function lI(a){return a.map(wc).join(",")}(l.selectors),this.ngContentSelectors=l.ngContentSelectors?l.ngContentSelectors:[],this.isBoundToModule=!!c}get inputs(){return I0(this.componentDef.inputs)}get outputs(){return I0(this.componentDef.outputs)}create(l,c,d,f){const m=(f=f||this.ngModule)?function gD(a,l){return{get:(c,d,f)=>{const m=a.get(c,T0,f);return m!==T0||d===T0?m:l.get(c,d,f)}}}(l,f.injector):l,v=m.get(Pl,ka),C=m.get(pS,null),E=v.createRenderer(null,this.componentDef),k=this.componentDef.selectors[0][0]||"div",O=d?function ob(a,l,c){if(An(a))return a.selectRootElement(l,c===Xt.ShadowDom);let d="string"==typeof l?a.querySelector(l):l;return d.textContent="",d}(E,d,this.componentDef.encapsulation):wh(v.createRenderer(null,this.componentDef),k,function Ms(a){const l=a.toLowerCase();return"svg"===l?"svg":"math"===l?"math":null}(k)),U=this.componentDef.onPush?576:528,X=function Sb(a,l){return{components:[],scheduler:a||Mv,clean:Ph,playerHandler:l||null,flags:0}}(),ue=c_(0,null,null,1,0,null,null,null,null,null),xe=Ec(null,ue,X,U,null,null,v,E,C,m);let Ge,Je;ia(xe);try{const at=function Ib(a,l,c,d,f,m){const v=c[1];c[20]=a;const E=Dc(v,20,2,"#host",null),k=E.mergedAttrs=l.hostAttrs;null!==k&&(zu(E,k,!0),null!==a&&(ot(f,a,k),null!==E.classes&&Uv(f,a,E.classes),null!==E.styles&&Pt(f,a,E.styles)));const O=d.createRenderer(a,l),U=Ec(c,sb(l),null,l.onPush?64:16,c[20],E,d,O,m||null,null);return v.firstCreatePass&&(Po(On(E,c),v,l.type),kp(v,E),db(E,c.length,1)),Np(c,U),c[20]=U}(O,this.componentDef,xe,v,E);if(O)if(d)ot(E,O,["ng-version",bm.full]);else{const{attrs:Ne,classes:Dt}=function cI(a){const l=[],c=[];let d=1,f=2;for(;d<a.length;){let m=a[d];if("string"==typeof m)2===f?""!==m&&l.push(m,a[++d]):8===f&&c.push(m);else{if(!ya(f))break;f=m}d++}return{attrs:l,classes:c}}(this.componentDef.selectors[0]);Ne&&ot(E,O,Ne),Dt&&Dt.length>0&&Uv(E,O,Dt.join(" "))}if(Je=cl(ue,20),void 0!==c){const Ne=Je.projection=[];for(let Dt=0;Dt<this.ngContentSelectors.length;Dt++){const an=c[Dt];Ne.push(null!=an?Array.from(an):null)}}Ge=function zp(a,l,c,d,f){const m=c[1],v=function ZC(a,l,c){const d=kn();a.firstCreatePass&&(c.providersResolver&&c.providersResolver(c),hb(a,d,l,Ih(a,l,1,null),c));const f=Ur(l,a,d.directiveStart,d);ar(f,l);const m=$i(d,l);return m&&ar(m,l),f}(m,c,l);if(d.components.push(v),a[8]=v,f&&f.forEach(E=>E(v,l)),l.contentQueries){const E=kn();l.contentQueries(1,v,E.directiveStart)}const C=kn();return!m.firstCreatePass||null===l.hostBindings&&null===l.hostAttrs||(Oo(C.index),lb(c[1],C,0,C.directiveStart,C.directiveEnd,l),cb(l,v)),v}(at,this.componentDef,xe,X,[Dl]),Sh(ue,xe,null)}finally{sa()}return new Bc(this.componentType,Ge,cf(Je,xe),xe,Je)}}class Bc extends class dS{}{constructor(l,c,d,f,m){super(),this.location=d,this._rootLView=f,this._tNode=m,this.instance=c,this.hostView=this.changeDetectorRef=new ny(f),this.componentType=l}get injector(){return new rs(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(l){this.hostView.onDestroy(l)}}class dd{}class Uc{}const hf=new Map;class _D extends dd{constructor(l,c){super(),this._parent=c,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new Cm(this);const d=En(l);this._bootstrapComponents=g(d.bootstrap),this._r3Injector=nE(l,c,[{provide:dd,useValue:this},{provide:ey,useValue:this.componentFactoryResolver}],Q(l)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(l)}get(l,c=Ho.THROW_IF_NOT_FOUND,d=vt.Default){return l===Ho||l===dd||l===jn?this:this._r3Injector.get(l,c,d)}destroy(){const l=this._r3Injector;!l.destroyed&&l.destroy(),this.destroyCbs.forEach(c=>c()),this.destroyCbs=null}onDestroy(l){this.destroyCbs.push(l)}}class x0 extends Uc{constructor(l){super(),this.moduleType=l,null!==En(l)&&function jc(a){const l=new Set;!function c(d){const f=En(d,!0),m=f.id;null!==m&&(function M0(a,l,c){if(l&&l!==c)throw new Error(`Duplicate module registered for ${a} - ${Q(l)} vs ${Q(l.name)}`)}(m,hf.get(m),d),hf.set(m,d));const v=g(f.imports);for(const C of v)l.has(C)||(l.add(C),c(C))}(a)}(l)}create(l){return new _D(this.moduleType,l)}}function yD(a,l,c,d){return CD(Pe(),Ri(),a,l,c,d)}function CD(a,l,c,d,f,m){const v=l+c;return Sr(a,v,f)?function eo(a,l,c){return a[l]=c}(a,v+1,m?d.call(m,f):d(f)):function pf(a,l){const c=a[l];return c===Ht?void 0:c}(a,v+1)}function Am(a,l){const c=Zt();let d;const f=a+20;c.firstCreatePass?(d=function R0(a,l){if(l)for(let c=l.length-1;c>=0;c--){const d=l[c];if(a===d.name)return d}}(l,c.pipeRegistry),c.data[f]=d,d.onDestroy&&(c.destroyHooks||(c.destroyHooks=[])).push(f,d.onDestroy)):d=c.data[f];const m=d.factory||(d.factory=br(d.type)),v=di(Gh);try{const C=Lr(!1),E=m();return Lr(C),function xI(a,l,c,d){c>=a.data.length&&(a.data[c]=null,a.blueprint[c]=null),l[c]=d}(c,Pe(),f,E),E}finally{di(v)}}function ED(a,l,c){const d=a+20,f=Pe(),m=Xr(f,d);return function gf(a,l){return a[1].data[l].pure}(f,d)?CD(f,Ri(),l,m.transform,c,m):m.transform(c)}function N0(a){return l=>{setTimeout(a,void 0,l)}}const Ea=class P0 extends s.x{constructor(l=!1){super(),this.__isAsync=l}emit(l){super.next(l)}subscribe(l,c,d){var f,m,v;let C=l,E=c||(()=>null),k=d;if(l&&"object"==typeof l){const U=l;C=null===(f=U.next)||void 0===f?void 0:f.bind(U),E=null===(m=U.error)||void 0===m?void 0:m.bind(U),k=null===(v=U.complete)||void 0===v?void 0:v.bind(U)}this.__isAsync&&(E=N0(E),C&&(C=N0(C)),k&&(k=N0(k)));const O=super.subscribe({next:C,error:E,complete:k});return l instanceof F.w0&&l.add(O),O}};function wS(){return this._results[Ya()]()}class Tm{constructor(l=!1){this._emitDistinctChangesOnly=l,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const c=Ya(),d=Tm.prototype;d[c]||(d[c]=wS)}get changes(){return this._changes||(this._changes=new Ea)}get(l){return this._results[l]}map(l){return this._results.map(l)}filter(l){return this._results.filter(l)}find(l){return this._results.find(l)}reduce(l,c){return this._results.reduce(l,c)}forEach(l){this._results.forEach(l)}some(l){return this._results.some(l)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(l,c){const d=this;d.dirty=!1;const f=Pi(l);(this._changesDetected=!function bu(a,l,c){if(a.length!==l.length)return!1;for(let d=0;d<a.length;d++){let f=a[d],m=l[d];if(c&&(f=c(f),m=c(m)),m!==f)return!1}return!0}(d._results,f,c))&&(d._results=f,d.length=f.length,d.last=f[this.length-1],d.first=f[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let Im=(()=>{class a{}return a.__NG_ELEMENT_ID__=F0,a})();const _f=Im,yf=class extends _f{constructor(l,c,d){super(),this._declarationLView=l,this._declarationTContainer=c,this.elementRef=d}createEmbeddedView(l){const c=this._declarationTContainer.tViews,d=Ec(this._declarationLView,c,l,16,null,c.declTNode,null,null,null,null);d[17]=this._declarationLView[this._declarationTContainer.index];const m=this._declarationLView[19];return null!==m&&(d[19]=m.createEmbeddedView(c)),Sh(c,d,l),new Nl(d)}};function F0(){return fd(kn(),Pe())}function fd(a,l){return 4&a.type?new yf(l,a,cf(a,l)):null}let Sm=(()=>{class a{}return a.__NG_ELEMENT_ID__=TD,a})();function TD(){return ly(kn(),Pe())}const ID=Sm,SD=class extends ID{constructor(l,c,d){super(),this._lContainer=l,this._hostTNode=c,this._hostLView=d}get element(){return cf(this._hostTNode,this._hostLView)}get injector(){return new rs(this._hostTNode,this._hostLView)}get parentInjector(){const l=Vr(this._hostTNode,this._hostLView);if(Jd(l)){const c=ts(l,this._hostLView),d=Tn(l);return new rs(c[1].data[d+8],c)}return new rs(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(l){const c=ay(this._lContainer);return null!==c&&c[l]||null}get length(){return this._lContainer.length-10}createEmbeddedView(l,c,d){const f=l.createEmbeddedView(c||{});return this.insert(f,d),f}createComponent(l,c,d,f,m){const v=l&&!function Va(a){return"function"==typeof a}(l);let C;if(v)C=c;else{const U=c||{};C=U.index,d=U.injector,f=U.projectableNodes,m=U.ngModuleRef}const E=v?l:new uf(en(l)),k=d||this.parentInjector;if(!m&&null==E.ngModule){const X=(v?k:this.parentInjector).get(dd,null);X&&(m=X)}const O=E.create(k,f,void 0,m);return this.insert(O.hostView,C),O}insert(l,c){const d=l._lView,f=d[1];if(function Xl(a){return zi(a[3])}(d)){const O=this.indexOf(l);if(-1!==O)this.detach(O);else{const U=d[3],X=new SD(U,U[6],U[3]);X.detach(X.indexOf(l))}}const m=this._adjustIndex(c),v=this._lContainer;!function yp(a,l,c,d){const f=10+d,m=c.length;d>0&&(c[f-1][4]=l),d<m-10?(l[4]=c[f],wu(c,10+d,l)):(c.push(l),l[4]=null),l[3]=c;const v=l[17];null!==v&&c!==v&&function Ch(a,l){const c=a[9];l[16]!==l[3][3][16]&&(a[2]=!0),null===c?a[9]=[l]:c.push(l)}(v,l);const C=l[19];null!==C&&C.insertView(a),l[2]|=128}(f,d,v,m);const C=Lv(m,v),E=d[11],k=vp(E,v[7]);return null!==k&&function _p(a,l,c,d,f,m){d[0]=f,d[6]=l,Yg(a,d,c,1,f,m)}(f,v[6],E,d,k,C),l.attachToViewContainerRef(),wu(L0(v),m,l),l}move(l,c){return this.insert(l,c)}indexOf(l){const c=ay(this._lContainer);return null!==c?c.indexOf(l):-1}remove(l){const c=this._adjustIndex(l,-1),d=kv(this._lContainer,c);d&&(Ks(L0(this._lContainer),c),Rv(d[1],d))}detach(l){const c=this._adjustIndex(l,-1),d=kv(this._lContainer,c);return d&&null!=Ks(L0(this._lContainer),c)?new Nl(d):null}_adjustIndex(l,c=0){return null==l?this.length+c:l}};function ay(a){return a[8]}function L0(a){return a[8]||(a[8]=[])}function ly(a,l){let c;const d=l[a.index];if(zi(d))c=d;else{let f;if(8&a.type)f=wn(d);else{const m=l[11];f=m.createComment("");const v=$i(a,l);Xs(m,vp(m,v),f,function sI(a,l){return An(a)?a.nextSibling(l):l.nextSibling}(m,v),!1)}l[a.index]=c=pb(d,l,f,a),Np(l,c)}return new SD(c,a,l)}class Li{constructor(l){this.queryList=l,this.matches=null}clone(){return new Li(this.queryList)}setDirty(){this.queryList.setDirty()}}class V0{constructor(l=[]){this.queries=l}createEmbeddedView(l){const c=l.queries;if(null!==c){const d=null!==l.contentQueries?l.contentQueries[0]:c.length,f=[];for(let m=0;m<d;m++){const v=c.getByIndex(m);f.push(this.queries[v.indexInDeclarationView].clone())}return new V0(f)}return null}insertView(l){this.dirtyQueriesWithMatches(l)}detachView(l){this.dirtyQueriesWithMatches(l)}dirtyQueriesWithMatches(l){for(let c=0;c<this.queries.length;c++)null!==G0(l,c).matches&&this.queries[c].setDirty()}}class xD{constructor(l,c,d=null){this.predicate=l,this.flags=c,this.read=d}}class B0{constructor(l=[]){this.queries=l}elementStart(l,c){for(let d=0;d<this.queries.length;d++)this.queries[d].elementStart(l,c)}elementEnd(l){for(let c=0;c<this.queries.length;c++)this.queries[c].elementEnd(l)}embeddedTView(l){let c=null;for(let d=0;d<this.length;d++){const f=null!==c?c.length:0,m=this.getByIndex(d).embeddedTView(l,f);m&&(m.indexInDeclarationView=d,null!==c?c.push(m):c=[m])}return null!==c?new B0(c):null}template(l,c){for(let d=0;d<this.queries.length;d++)this.queries[d].template(l,c)}getByIndex(l){return this.queries[l]}get length(){return this.queries.length}track(l){this.queries.push(l)}}class U0{constructor(l,c=-1){this.metadata=l,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=c}elementStart(l,c){this.isApplyingToNode(c)&&this.matchTNode(l,c)}elementEnd(l){this._declarationNodeIndex===l.index&&(this._appliesToNextNode=!1)}template(l,c){this.elementStart(l,c)}embeddedTView(l,c){return this.isApplyingToNode(l)?(this.crossesNgTemplate=!0,this.addMatch(-l.index,c),new U0(this.metadata)):null}isApplyingToNode(l){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const c=this._declarationNodeIndex;let d=l.parent;for(;null!==d&&8&d.type&&d.index!==c;)d=d.parent;return c===(null!==d?d.index:-1)}return this._appliesToNextNode}matchTNode(l,c){const d=this.metadata.predicate;if(Array.isArray(d))for(let f=0;f<d.length;f++){const m=d[f];this.matchTNodeWithReadOption(l,c,DS(c,m)),this.matchTNodeWithReadOption(l,c,Ys(c,l,m,!1,!1))}else d===Im?4&c.type&&this.matchTNodeWithReadOption(l,c,-1):this.matchTNodeWithReadOption(l,c,Ys(c,l,d,!1,!1))}matchTNodeWithReadOption(l,c,d){if(null!==d){const f=this.metadata.read;if(null!==f)if(f===vm||f===Sm||f===Im&&4&c.type)this.addMatch(c.index,-2);else{const m=Ys(c,l,f,!1,!1);null!==m&&this.addMatch(c.index,m)}else this.addMatch(c.index,d)}}addMatch(l,c){null===this.matches?this.matches=[l,c]:this.matches.push(l,c)}}function DS(a,l){const c=a.localNames;if(null!==c)for(let d=0;d<c.length;d+=2)if(c[d]===l)return c[d+1];return null}function j0(a,l,c,d){return-1===c?function AS(a,l){return 11&a.type?cf(a,l):4&a.type?fd(a,l):null}(l,a):-2===c?function kD(a,l,c){return c===vm?cf(l,a):c===Im?fd(l,a):c===Sm?ly(l,a):void 0}(a,l,d):Ur(a,a[1],c,l)}function H0(a,l,c,d){const f=l[19].queries[d];if(null===f.matches){const m=a.data,v=c.matches,C=[];for(let E=0;E<v.length;E+=2){const k=v[E];C.push(k<0?null:j0(l,m[k],v[E+1],c.metadata.read))}f.matches=C}return f.matches}function Mm(a,l,c,d){const f=a.queries.getByIndex(c),m=f.matches;if(null!==m){const v=H0(a,l,f,c);for(let C=0;C<m.length;C+=2){const E=m[C];if(E>0)d.push(v[C/2]);else{const k=m[C+1],O=l[-E];for(let U=10;U<O.length;U++){const X=O[U];X[17]===X[3]&&Mm(X[1],X,k,d)}if(null!==O[9]){const U=O[9];for(let X=0;X<U.length;X++){const ue=U[X];Mm(ue[1],ue,k,d)}}}}}return d}function xm(a){const l=Pe(),c=Zt(),d=au();lu(d+1);const f=G0(c,d);if(a.dirty&&Io(l)===(2==(2&f.metadata.flags))){if(null===f.matches)a.reset([]);else{const m=f.crossesNgTemplate?Mm(c,l,d,[]):H0(c,l,f,d);a.reset(m,hS),a.notifyOnChanges()}return!0}return!1}function vf(a,l,c){const d=Zt();d.firstCreatePass&&($0(d,new xD(a,l,c),-1),2==(2&l)&&(d.staticViewQueries=!0)),uy(d,Pe(),l)}function km(a,l,c,d){const f=Zt();if(f.firstCreatePass){const m=kn();$0(f,new xD(l,c,d),m.index),function TS(a,l){const c=a.contentQueries||(a.contentQueries=[]);l!==(c.length?c[c.length-1]:-1)&&c.push(a.queries.length-1,l)}(f,a),2==(2&c)&&(f.staticContentQueries=!0)}uy(f,Pe(),c)}function cy(){return function z0(a,l){return a[19].queries[l].queryList}(Pe(),au())}function uy(a,l,c){const d=new Tm(4==(4&c));$C(a,l,d,d.destroy),null===l[19]&&(l[19]=new V0),l[19].queries.push(new Li(d))}function $0(a,l,c){null===a.queries&&(a.queries=new B0),a.queries.track(new U0(l,c))}function G0(a,l){return a.queries.getByIndex(l)}const ew=Dr("Input",a=>({bindingPropertyName:a})),tw=Dr("Output",a=>({bindingPropertyName:a}));function Ll(...a){}const nw=new Yn("Application Initializer");let Hc=(()=>{class a{constructor(c){this.appInits=c,this.resolve=Ll,this.reject=Ll,this.initialized=!1,this.done=!1,this.donePromise=new Promise((d,f)=>{this.resolve=d,this.reject=f})}runInitializers(){if(this.initialized)return;const c=[],d=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let f=0;f<this.appInits.length;f++){const m=this.appInits[f]();if(k_(m))c.push(m);else if(R_(m)){const v=new Promise((C,E)=>{m.subscribe({complete:C,error:E})});c.push(v)}}Promise.all(c).then(()=>{d()}).catch(f=>{this.reject(f)}),0===c.length&&d(),this.initialized=!0}}return a.\u0275fac=function(c){return new(c||a)(nt(nw,8))},a.\u0275prov=hn({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();const qD=new Yn("AppId",{providedIn:"root",factory:function YD(){return`${Fm()}${Fm()}${Fm()}`}});function Fm(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const vy=new Yn("Platform Initializer"),by=new Yn("Platform ID"),WD=new Yn("appBootstrapListener");let wy=(()=>{class a{log(c){console.log(c)}warn(c){console.warn(c)}}return a.\u0275fac=function(c){return new(c||a)},a.\u0275prov=hn({token:a,factory:a.\u0275fac}),a})();const rw=new Yn("LocaleId",{providedIn:"root",factory:()=>Ut(rw,vt.Optional|vt.SkipSelf)||function iw(){return"undefined"!=typeof $localize&&$localize.locale||ad}()}),KD=new Yn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class QD{constructor(l,c){this.ngModuleFactory=l,this.componentFactories=c}}let JD=(()=>{class a{compileModuleSync(c){return new x0(c)}compileModuleAsync(c){return Promise.resolve(this.compileModuleSync(c))}compileModuleAndAllComponentsSync(c){const d=this.compileModuleSync(c),m=g(En(c).declarations).reduce((v,C)=>{const E=en(C);return E&&v.push(new uf(E)),v},[]);return new QD(d,m)}compileModuleAndAllComponentsAsync(c){return Promise.resolve(this.compileModuleAndAllComponentsSync(c))}clearCache(){}clearCacheFor(c){}getModuleId(c){}}return a.\u0275fac=function(c){return new(c||a)},a.\u0275prov=hn({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();const VS=(()=>Promise.resolve(0))();function sw(a){"undefined"==typeof Zone?VS.then(()=>{a&&a.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",a)}class so{constructor({enableLongStackTrace:l=!1,shouldCoalesceEventChangeDetection:c=!1,shouldCoalesceRunChangeDetection:d=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ea(!1),this.onMicrotaskEmpty=new Ea(!1),this.onStable=new Ea(!1),this.onError=new Ea(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const f=this;f._nesting=0,f._outer=f._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(f._inner=f._inner.fork(new Zone.TaskTrackingZoneSpec)),l&&Zone.longStackTraceZoneSpec&&(f._inner=f._inner.fork(Zone.longStackTraceZoneSpec)),f.shouldCoalesceEventChangeDetection=!d&&c,f.shouldCoalesceRunChangeDetection=d,f.lastRequestAnimationFrameId=-1,f.nativeRequestAnimationFrame=function ow(){let a=Qt.requestAnimationFrame,l=Qt.cancelAnimationFrame;if("undefined"!=typeof Zone&&a&&l){const c=a[Zone.__symbol__("OriginalDelegate")];c&&(a=c);const d=l[Zone.__symbol__("OriginalDelegate")];d&&(l=d)}return{nativeRequestAnimationFrame:a,nativeCancelAnimationFrame:l}}().nativeRequestAnimationFrame,function BS(a){const l=()=>{!function cw(a){a.isCheckStableRunning||-1!==a.lastRequestAnimationFrameId||(a.lastRequestAnimationFrameId=a.nativeRequestAnimationFrame.call(Qt,()=>{a.fakeTopEventTask||(a.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{a.lastRequestAnimationFrameId=-1,Lm(a),a.isCheckStableRunning=!0,lw(a),a.isCheckStableRunning=!1},void 0,()=>{},()=>{})),a.fakeTopEventTask.invoke()}),Lm(a))}(a)};a._inner=a._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(c,d,f,m,v,C)=>{try{return uw(a),c.invokeTask(f,m,v,C)}finally{(a.shouldCoalesceEventChangeDetection&&"eventTask"===m.type||a.shouldCoalesceRunChangeDetection)&&l(),Cy(a)}},onInvoke:(c,d,f,m,v,C,E)=>{try{return uw(a),c.invoke(f,m,v,C,E)}finally{a.shouldCoalesceRunChangeDetection&&l(),Cy(a)}},onHasTask:(c,d,f,m)=>{c.hasTask(f,m),d===f&&("microTask"==m.change?(a._hasPendingMicrotasks=m.microTask,Lm(a),lw(a)):"macroTask"==m.change&&(a.hasPendingMacrotasks=m.macroTask))},onHandleError:(c,d,f,m)=>(c.handleError(f,m),a.runOutsideAngular(()=>a.onError.emit(m)),!1)})}(f)}static isInAngularZone(){return"undefined"!=typeof Zone&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!so.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(so.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(l,c,d){return this._inner.run(l,c,d)}runTask(l,c,d,f){const m=this._inner,v=m.scheduleEventTask("NgZoneEvent: "+f,l,aw,Ll,Ll);try{return m.runTask(v,c,d)}finally{m.cancelTask(v)}}runGuarded(l,c,d){return this._inner.runGuarded(l,c,d)}runOutsideAngular(l){return this._outer.run(l)}}const aw={};function lw(a){if(0==a._nesting&&!a.hasPendingMicrotasks&&!a.isStable)try{a._nesting++,a.onMicrotaskEmpty.emit(null)}finally{if(a._nesting--,!a.hasPendingMicrotasks)try{a.runOutsideAngular(()=>a.onStable.emit(null))}finally{a.isStable=!0}}}function Lm(a){a.hasPendingMicrotasks=!!(a._hasPendingMicrotasks||(a.shouldCoalesceEventChangeDetection||a.shouldCoalesceRunChangeDetection)&&-1!==a.lastRequestAnimationFrameId)}function uw(a){a._nesting++,a.isStable&&(a.isStable=!1,a.onUnstable.emit(null))}function Cy(a){a._nesting--,lw(a)}class XD{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ea,this.onMicrotaskEmpty=new Ea,this.onStable=new Ea,this.onError=new Ea}run(l,c,d){return l.apply(c,d)}runGuarded(l,c,d){return l.apply(c,d)}runOutsideAngular(l){return l()}runTask(l,c,d,f){return l.apply(c,d)}}let eA=(()=>{class a{constructor(c){this._ngZone=c,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),c.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{so.assertNotInAngularZone(),sw(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())sw(()=>{for(;0!==this._callbacks.length;){let c=this._callbacks.pop();clearTimeout(c.timeoutId),c.doneCb(this._didWork)}this._didWork=!1});else{let c=this.getPendingTasks();this._callbacks=this._callbacks.filter(d=>!d.updateCb||!d.updateCb(c)||(clearTimeout(d.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(c=>({source:c.source,creationLocation:c.creationLocation,data:c.data})):[]}addCallback(c,d,f){let m=-1;d&&d>0&&(m=setTimeout(()=>{this._callbacks=this._callbacks.filter(v=>v.timeoutId!==m),c(this._didWork,this.getPendingTasks())},d)),this._callbacks.push({doneCb:c,timeoutId:m,updateCb:f})}whenStable(c,d,f){if(f&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(c,d,f),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(c,d,f){return[]}}return a.\u0275fac=function(c){return new(c||a)(nt(so))},a.\u0275prov=hn({token:a,factory:a.\u0275fac}),a})(),Ey=(()=>{class a{constructor(){this._applications=new Map,hw.addToWindow(this)}registerApplication(c,d){this._applications.set(c,d)}unregisterApplication(c){this._applications.delete(c)}unregisterAllApplications(){this._applications.clear()}getTestability(c){return this._applications.get(c)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(c,d=!0){return hw.findTestabilityInTree(this,c,d)}}return a.\u0275fac=function(c){return new(c||a)},a.\u0275prov=hn({token:a,factory:a.\u0275fac}),a})();class US{addToWindow(l){}findTestabilityInTree(l,c,d){return null}}function dw(a){hw=a}let oo,hw=new US;const Dy=new Yn("AllowMultipleToken");class Df{constructor(l,c){this.name=l,this.token=c}}function Ay(a,l,c=[]){const d=`Platform: ${l}`,f=new Yn(d);return(m=[])=>{let v=Ka();if(!v||v.injector.get(Dy,!1))if(a)a(c.concat(m).concat({provide:f,useValue:!0}));else{const C=c.concat(m).concat({provide:f,useValue:!0},{provide:bb,useValue:"platform"});!function nA(a){if(oo&&!oo.destroyed&&!oo.injector.get(Dy,!1))throw new ke(400,"");oo=a.get(Ty);const l=a.get(vy,null);l&&l.forEach(c=>c())}(Ho.create({providers:C,name:d}))}return function HS(a){const l=Ka();if(!l)throw new ke(401,"");return l}()}}function Ka(){return oo&&!oo.destroyed?oo:null}let Ty=(()=>{class a{constructor(c){this._injector=c,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(c,d){const C=function zS(a,l){let c;return c="noop"===a?new XD:("zone.js"===a?void 0:a)||new so({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==l?void 0:l.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==l?void 0:l.ngZoneRunCoalescing)}),c}(d?d.ngZone:void 0,{ngZoneEventCoalescing:d&&d.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:d&&d.ngZoneRunCoalescing||!1}),E=[{provide:so,useValue:C}];return C.run(()=>{const k=Ho.create({providers:E,parent:this.injector,name:c.moduleType.name}),O=c.create(k),U=O.injector.get(Wi,null);if(!U)throw new ke(402,"");return C.runOutsideAngular(()=>{const X=C.onError.subscribe({next:ue=>{U.handleError(ue)}});O.onDestroy(()=>{Vm(this._modules,O),X.unsubscribe()})}),function pw(a,l,c){try{const d=c();return k_(d)?d.catch(f=>{throw l.runOutsideAngular(()=>a.handleError(f)),f}):d}catch(d){throw l.runOutsideAngular(()=>a.handleError(d)),d}}(U,C,()=>{const X=O.injector.get(Hc);return X.runInitializers(),X.donePromise.then(()=>(function qI(a){pt(a,"Expected localeId to be defined"),"string"==typeof a&&(o0=a.toLowerCase().replace(/_/g,"-"))}(O.injector.get(rw,ad)||ad),this._moduleDoBootstrap(O),O))})})}bootstrapModule(c,d=[]){const f=rA({},d);return function jS(a,l,c){const d=new x0(c);return Promise.resolve(d)}(0,0,c).then(m=>this.bootstrapModuleFactory(m,f))}_moduleDoBootstrap(c){const d=c.injector.get(mw);if(c._bootstrapComponents.length>0)c._bootstrapComponents.forEach(f=>d.bootstrap(f));else{if(!c.instance.ngDoBootstrap)throw new ke(403,"");c.instance.ngDoBootstrap(d)}this._modules.push(c)}onDestroy(c){this._destroyListeners.push(c)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new ke(404,"");this._modules.slice().forEach(c=>c.destroy()),this._destroyListeners.forEach(c=>c()),this._destroyed=!0}get destroyed(){return this._destroyed}}return a.\u0275fac=function(c){return new(c||a)(nt(Ho))},a.\u0275prov=hn({token:a,factory:a.\u0275fac}),a})();function rA(a,l){return Array.isArray(l)?l.reduce(rA,a):Object.assign(Object.assign({},a),l)}let mw=(()=>{class a{constructor(c,d,f,m,v){this._zone=c,this._injector=d,this._exceptionHandler=f,this._componentFactoryResolver=m,this._initStatus=v,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const C=new S.y(k=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{k.next(this._stable),k.complete()})}),E=new S.y(k=>{let O;this._zone.runOutsideAngular(()=>{O=this._zone.onStable.subscribe(()=>{so.assertNotInAngularZone(),sw(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,k.next(!0))})})});const U=this._zone.onUnstable.subscribe(()=>{so.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{k.next(!1)}))});return()=>{O.unsubscribe(),U.unsubscribe()}});this.isStable=(0,B.T)(C,E.pipe((0,V.B)()))}bootstrap(c,d){if(!this._initStatus.done)throw new ke(405,"");let f;f=c instanceof D0?c:this._componentFactoryResolver.resolveComponentFactory(c),this.componentTypes.push(f.componentType);const m=function fw(a){return a.isBoundToModule}(f)?void 0:this._injector.get(dd),C=f.create(Ho.NULL,[],d||f.selector,m),E=C.location.nativeElement,k=C.injector.get(eA,null),O=k&&C.injector.get(Ey);return k&&O&&O.registerApplication(E,k),C.onDestroy(()=>{this.detachView(C.hostView),Vm(this.components,C),O&&O.unregisterApplication(E)}),this._loadComponent(C),C}tick(){if(this._runningTick)throw new ke(101,"");try{this._runningTick=!0;for(let c of this._views)c.detectChanges()}catch(c){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(c))}finally{this._runningTick=!1}}attachView(c){const d=c;this._views.push(d),d.attachToAppRef(this)}detachView(c){const d=c;Vm(this._views,d),d.detachFromAppRef()}_loadComponent(c){this.attachView(c.hostView),this.tick(),this.components.push(c),this._injector.get(WD,[]).concat(this._bootstrapListeners).forEach(f=>f(c))}ngOnDestroy(){this._views.slice().forEach(c=>c.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return a.\u0275fac=function(c){return new(c||a)(nt(so),nt(Ho),nt(Wi),nt(ey),nt(Hc))},a.\u0275prov=hn({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();function Vm(a,l){const c=a.indexOf(l);c>-1&&a.splice(c,1)}let oA=!0,Iy=!1;function $S(){return Iy=!0,oA}function _w(){if(Iy)throw new Error("Cannot enable prod mode after platform setup.");oA=!1}let qS=(()=>{class a{}return a.__NG_ELEMENT_ID__=YS,a})();function YS(a){return function vw(a,l,c){if(Co(a)&&!c){const d=Gi(a.index,l);return new Nl(d,d)}return 47&a.type?new Nl(l[16],l):null}(kn(),Pe(),16==(16&a))}class My{constructor(){}supports(l){return Vh(l)}create(l){return new Aw(l)}}const gA=(a,l)=>l;class Aw{constructor(l){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=l||gA}forEachItem(l){let c;for(c=this._itHead;null!==c;c=c._next)l(c)}forEachOperation(l){let c=this._itHead,d=this._removalsHead,f=0,m=null;for(;c||d;){const v=!d||c&&c.currentIndex<xy(d,f,m)?c:d,C=xy(v,f,m),E=v.currentIndex;if(v===d)f--,d=d._nextRemoved;else if(c=c._next,null==v.previousIndex)f++;else{m||(m=[]);const k=C-f,O=E-f;if(k!=O){for(let X=0;X<k;X++){const ue=X<m.length?m[X]:m[X]=0,xe=ue+X;O<=xe&&xe<k&&(m[X]=ue+1)}m[v.previousIndex]=O-k}}C!==E&&l(v,C,E)}}forEachPreviousItem(l){let c;for(c=this._previousItHead;null!==c;c=c._nextPrevious)l(c)}forEachAddedItem(l){let c;for(c=this._additionsHead;null!==c;c=c._nextAdded)l(c)}forEachMovedItem(l){let c;for(c=this._movesHead;null!==c;c=c._nextMoved)l(c)}forEachRemovedItem(l){let c;for(c=this._removalsHead;null!==c;c=c._nextRemoved)l(c)}forEachIdentityChange(l){let c;for(c=this._identityChangesHead;null!==c;c=c._nextIdentityChange)l(c)}diff(l){if(null==l&&(l=[]),!Vh(l))throw new ke(900,"");return this.check(l)?this:null}onDestroy(){}check(l){this._reset();let f,m,v,c=this._itHead,d=!1;if(Array.isArray(l)){this.length=l.length;for(let C=0;C<this.length;C++)m=l[C],v=this._trackByFn(C,m),null!==c&&Object.is(c.trackById,v)?(d&&(c=this._verifyReinsertion(c,m,v,C)),Object.is(c.item,m)||this._addIdentityChange(c,m)):(c=this._mismatch(c,m,v,C),d=!0),c=c._next}else f=0,function Rb(a,l){if(Array.isArray(a))for(let c=0;c<a.length;c++)l(a[c]);else{const c=a[Ya()]();let d;for(;!(d=c.next()).done;)l(d.value)}}(l,C=>{v=this._trackByFn(f,C),null!==c&&Object.is(c.trackById,v)?(d&&(c=this._verifyReinsertion(c,C,v,f)),Object.is(c.item,C)||this._addIdentityChange(c,C)):(c=this._mismatch(c,C,v,f),d=!0),c=c._next,f++}),this.length=f;return this._truncate(c),this.collection=l,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let l;for(l=this._previousItHead=this._itHead;null!==l;l=l._next)l._nextPrevious=l._next;for(l=this._additionsHead;null!==l;l=l._nextAdded)l.previousIndex=l.currentIndex;for(this._additionsHead=this._additionsTail=null,l=this._movesHead;null!==l;l=l._nextMoved)l.previousIndex=l.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(l,c,d,f){let m;return null===l?m=this._itTail:(m=l._prev,this._remove(l)),null!==(l=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null))?(Object.is(l.item,c)||this._addIdentityChange(l,c),this._reinsertAfter(l,m,f)):null!==(l=null===this._linkedRecords?null:this._linkedRecords.get(d,f))?(Object.is(l.item,c)||this._addIdentityChange(l,c),this._moveAfter(l,m,f)):l=this._addAfter(new _A(c,d),m,f),l}_verifyReinsertion(l,c,d,f){let m=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null);return null!==m?l=this._reinsertAfter(m,l._prev,f):l.currentIndex!=f&&(l.currentIndex=f,this._addToMoves(l,f)),l}_truncate(l){for(;null!==l;){const c=l._next;this._addToRemovals(this._unlink(l)),l=c}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(l,c,d){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(l);const f=l._prevRemoved,m=l._nextRemoved;return null===f?this._removalsHead=m:f._nextRemoved=m,null===m?this._removalsTail=f:m._prevRemoved=f,this._insertAfter(l,c,d),this._addToMoves(l,d),l}_moveAfter(l,c,d){return this._unlink(l),this._insertAfter(l,c,d),this._addToMoves(l,d),l}_addAfter(l,c,d){return this._insertAfter(l,c,d),this._additionsTail=null===this._additionsTail?this._additionsHead=l:this._additionsTail._nextAdded=l,l}_insertAfter(l,c,d){const f=null===c?this._itHead:c._next;return l._next=f,l._prev=c,null===f?this._itTail=l:f._prev=l,null===c?this._itHead=l:c._next=l,null===this._linkedRecords&&(this._linkedRecords=new vd),this._linkedRecords.put(l),l.currentIndex=d,l}_remove(l){return this._addToRemovals(this._unlink(l))}_unlink(l){null!==this._linkedRecords&&this._linkedRecords.remove(l);const c=l._prev,d=l._next;return null===c?this._itHead=d:c._next=d,null===d?this._itTail=c:d._prev=c,l}_addToMoves(l,c){return l.previousIndex===c||(this._movesTail=null===this._movesTail?this._movesHead=l:this._movesTail._nextMoved=l),l}_addToRemovals(l){return null===this._unlinkedRecords&&(this._unlinkedRecords=new vd),this._unlinkedRecords.put(l),l.currentIndex=null,l._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=l,l._prevRemoved=null):(l._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=l),l}_addIdentityChange(l,c){return l.item=c,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=l:this._identityChangesTail._nextIdentityChange=l,l}}class _A{constructor(l,c){this.item=l,this.trackById=c,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Tw{constructor(){this._head=null,this._tail=null}add(l){null===this._head?(this._head=this._tail=l,l._nextDup=null,l._prevDup=null):(this._tail._nextDup=l,l._prevDup=this._tail,l._nextDup=null,this._tail=l)}get(l,c){let d;for(d=this._head;null!==d;d=d._nextDup)if((null===c||c<=d.currentIndex)&&Object.is(d.trackById,l))return d;return null}remove(l){const c=l._prevDup,d=l._nextDup;return null===c?this._head=d:c._nextDup=d,null===d?this._tail=c:d._prevDup=c,null===this._head}}class vd{constructor(){this.map=new Map}put(l){const c=l.trackById;let d=this.map.get(c);d||(d=new Tw,this.map.set(c,d)),d.add(l)}get(l,c){const f=this.map.get(l);return f?f.get(l,c):null}remove(l){const c=l.trackById;return this.map.get(c).remove(l)&&this.map.delete(c),l}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function xy(a,l,c){const d=a.previousIndex;if(null===d)return d;let f=0;return c&&d<c.length&&(f=c[d]),d+l+f}class yA{constructor(){}supports(l){return l instanceof Map||I_(l)}create(){return new KS}}class KS{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(l){let c;for(c=this._mapHead;null!==c;c=c._next)l(c)}forEachPreviousItem(l){let c;for(c=this._previousMapHead;null!==c;c=c._nextPrevious)l(c)}forEachChangedItem(l){let c;for(c=this._changesHead;null!==c;c=c._nextChanged)l(c)}forEachAddedItem(l){let c;for(c=this._additionsHead;null!==c;c=c._nextAdded)l(c)}forEachRemovedItem(l){let c;for(c=this._removalsHead;null!==c;c=c._nextRemoved)l(c)}diff(l){if(l){if(!(l instanceof Map||I_(l)))throw new ke(900,"")}else l=new Map;return this.check(l)?this:null}onDestroy(){}check(l){this._reset();let c=this._mapHead;if(this._appendAfter=null,this._forEach(l,(d,f)=>{if(c&&c.key===f)this._maybeAddToChanges(c,d),this._appendAfter=c,c=c._next;else{const m=this._getOrCreateRecordForKey(f,d);c=this._insertBeforeOrAppend(c,m)}}),c){c._prev&&(c._prev._next=null),this._removalsHead=c;for(let d=c;null!==d;d=d._nextRemoved)d===this._mapHead&&(this._mapHead=null),this._records.delete(d.key),d._nextRemoved=d._next,d.previousValue=d.currentValue,d.currentValue=null,d._prev=null,d._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(l,c){if(l){const d=l._prev;return c._next=l,c._prev=d,l._prev=c,d&&(d._next=c),l===this._mapHead&&(this._mapHead=c),this._appendAfter=l,l}return this._appendAfter?(this._appendAfter._next=c,c._prev=this._appendAfter):this._mapHead=c,this._appendAfter=c,null}_getOrCreateRecordForKey(l,c){if(this._records.has(l)){const f=this._records.get(l);this._maybeAddToChanges(f,c);const m=f._prev,v=f._next;return m&&(m._next=v),v&&(v._prev=m),f._next=null,f._prev=null,f}const d=new QS(l);return this._records.set(l,d),d.currentValue=c,this._addToAdditions(d),d}_reset(){if(this.isDirty){let l;for(this._previousMapHead=this._mapHead,l=this._previousMapHead;null!==l;l=l._next)l._nextPrevious=l._next;for(l=this._changesHead;null!==l;l=l._nextChanged)l.previousValue=l.currentValue;for(l=this._additionsHead;null!=l;l=l._nextAdded)l.previousValue=l.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(l,c){Object.is(c,l.currentValue)||(l.previousValue=l.currentValue,l.currentValue=c,this._addToChanges(l))}_addToAdditions(l){null===this._additionsHead?this._additionsHead=this._additionsTail=l:(this._additionsTail._nextAdded=l,this._additionsTail=l)}_addToChanges(l){null===this._changesHead?this._changesHead=this._changesTail=l:(this._changesTail._nextChanged=l,this._changesTail=l)}_forEach(l,c){l instanceof Map?l.forEach(c):Object.keys(l).forEach(d=>c(l[d],d))}}class QS{constructor(l){this.key=l,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Iw(){return new Sw([new My])}let Sw=(()=>{class a{constructor(c){this.factories=c}static create(c,d){if(null!=d){const f=d.factories.slice();c=c.concat(f)}return new a(c)}static extend(c){return{provide:a,useFactory:d=>a.create(c,d||Iw()),deps:[[a,new da,new zr]]}}find(c){const d=this.factories.find(f=>f.supports(c));if(null!=d)return d;throw new ke(901,"")}}return a.\u0275prov=hn({token:a,providedIn:"root",factory:Iw}),a})();function vA(){return new Mw([new yA])}let Mw=(()=>{class a{constructor(c){this.factories=c}static create(c,d){if(d){const f=d.factories.slice();c=c.concat(f)}return new a(c)}static extend(c){return{provide:a,useFactory:d=>a.create(c,d||vA()),deps:[[a,new da,new zr]]}}find(c){const d=this.factories.find(m=>m.supports(c));if(d)return d;throw new ke(901,"")}}return a.\u0275prov=hn({token:a,providedIn:"root",factory:vA}),a})();const wA=Ay(null,"core",[{provide:by,useValue:"unknown"},{provide:Ty,deps:[Ho]},{provide:Ey,deps:[]},{provide:wy,deps:[]}]);let CA=(()=>{class a{constructor(c){}}return a.\u0275fac=function(c){return new(c||a)(nt(mw))},a.\u0275mod=pe({type:a}),a.\u0275inj=tn({}),a})()},3942:(He,$,R)=>{"use strict";R.d($,{Z:()=>ke});var s=R(2090),F=R(4859),S=R(9681),B=R(1877);class V{constructor(de,ge){this._delegate=de,this.firebase=ge,(0,S._addComponent)(de,new F.wA("app-compat",()=>this,"PUBLIC")),this.container=de.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(de){this._delegate.automaticDataCollectionEnabled=de}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(de=>{this._delegate.checkDestroyed(),de()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,S.deleteApp)(this._delegate)))}_getService(de,ge=S._DEFAULT_ENTRY_NAME){var Le;this._delegate.checkDestroyed();const Oe=this._delegate.container.getProvider(de);return!Oe.isInitialized()&&"EXPLICIT"===(null===(Le=Oe.getComponent())||void 0===Le?void 0:Le.instantiationMode)&&Oe.initialize(),Oe.getImmediate({identifier:ge})}_removeServiceInstance(de,ge=S._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(de).clearInstance(ge)}_addComponent(de){(0,S._addComponent)(this._delegate,de)}_addOrOverwriteComponent(de){(0,S._addOrOverwriteComponent)(this._delegate,de)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const H=new s.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),G=function ie(){const Ve=function Q(Ve){const de={},ge={__esModule:!0,initializeApp:function Ie(Se,ne={}){const te=S.initializeApp(Se,ne);if((0,s.r3)(de,te.name))return de[te.name];const se=new Ve(te,ge);return de[te.name]=se,se},app:Oe,registerVersion:S.registerVersion,setLogLevel:S.setLogLevel,onLog:S.onLog,apps:null,SDK_VERSION:S.SDK_VERSION,INTERNAL:{registerComponent:function he(Se){const ne=Se.name,te=ne.replace("-compat","");if(S._registerComponent(Se)&&"PUBLIC"===Se.type){const se=(ae=Oe())=>{if("function"!=typeof ae[te])throw H.create("invalid-app-argument",{appName:ne});return ae[te]()};void 0!==Se.serviceProps&&(0,s.ZB)(se,Se.serviceProps),ge[te]=se,Ve.prototype[te]=function(...ae){return this._getService.bind(this,ne).apply(this,Se.multipleInstances?ae:[])}}return"PUBLIC"===Se.type?ge[te]:null},removeApp:function Le(Se){delete de[Se]},useAsService:function Re(Se,ne){return"serverAuth"===ne?null:ne},modularAPIs:S}};function Oe(Se){if(!(0,s.r3)(de,Se=Se||S._DEFAULT_ENTRY_NAME))throw H.create("no-app",{appName:Se});return de[Se]}return ge.default=ge,Object.defineProperty(ge,"apps",{get:function we(){return Object.keys(de).map(Se=>de[Se])}}),Oe.App=Ve,ge}(V);return Ve.INTERNAL=Object.assign(Object.assign({},Ve.INTERNAL),{createFirebaseNamespace:ie,extendNamespace:function de(ge){(0,s.ZB)(Ve,ge)},createSubscribe:s.ne,ErrorFactory:s.LL,deepExtend:s.ZB}),Ve}(),K=new B.Yd("@firebase/app-compat");if((0,s.jU)()&&void 0!==self.firebase){K.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Ve=self.firebase.SDK_VERSION;Ve&&Ve.indexOf("LITE")>=0&&K.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const ke=G;!function _e(Ve){(0,S.registerVersion)("@firebase/app-compat","0.1.21",Ve)}()},9681:(He,$,R)=>{"use strict";R.r($),R.d($,{FirebaseError:()=>B.ZR,SDK_VERSION:()=>tr,_DEFAULT_ENTRY_NAME:()=>Nn,_addComponent:()=>dn,_addOrOverwriteComponent:()=>Bi,_apps:()=>yt,_clearComponents:()=>Nt,_components:()=>sn,_getProvider:()=>_r,_registerComponent:()=>hn,_removeServiceInstance:()=>tn,deleteApp:()=>Fs,getApp:()=>nr,getApps:()=>Ns,initializeApp:()=>_s,onLog:()=>vi,registerVersion:()=>yr,setLogLevel:()=>di});var s=R(5861),F=R(4859),S=R(1877),B=R(2090);class V{constructor(Fe){this.container=Fe}getPlatformInfoString(){return this.container.getProviders().map(it=>{if(function z(tt){const Fe=tt.getComponent();return"VERSION"===(null==Fe?void 0:Fe.type)}(it)){const wt=it.getImmediate();return`${wt.library}/${wt.version}`}return null}).filter(it=>it).join(" ")}}const H="@firebase/app",Q="0.7.20",ie=new S.Yd("@firebase/app"),Nn="[DEFAULT]",pt={[H]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},yt=new Map,sn=new Map;function dn(tt,Fe){try{tt.container.addComponent(Fe)}catch(it){ie.debug(`Component ${Fe.name} failed to register with FirebaseApp ${tt.name}`,it)}}function Bi(tt,Fe){tt.container.addOrOverwriteComponent(Fe)}function hn(tt){const Fe=tt.name;if(sn.has(Fe))return ie.debug(`There were multiple attempts to register component ${Fe}.`),!1;sn.set(Fe,tt);for(const it of yt.values())dn(it,tt);return!0}function _r(tt,Fe){const it=tt.container.getProvider("heartbeat").getImmediate({optional:!0});return it&&it.triggerHeartbeat(),tt.container.getProvider(Fe)}function tn(tt,Fe,it=Nn){_r(tt,Fe).clearInstance(it)}function Nt(){sn.clear()}const ii=new B.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}."});class kr{constructor(Fe,it,wt){this._isDeleted=!1,this._options=Object.assign({},Fe),this._config=Object.assign({},it),this._name=it.name,this._automaticDataCollectionEnabled=it.automaticDataCollectionEnabled,this._container=wt,this.container.addComponent(new F.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Fe){this.checkDestroyed(),this._automaticDataCollectionEnabled=Fe}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Fe){this._isDeleted=Fe}checkDestroyed(){if(this.isDeleted)throw ii.create("app-deleted",{appName:this._name})}}const tr="9.6.10";function _s(tt,Fe={}){"object"!=typeof Fe&&(Fe={name:Fe});const it=Object.assign({name:Nn,automaticDataCollectionEnabled:!1},Fe),wt=it.name;if("string"!=typeof wt||!wt)throw ii.create("bad-app-name",{appName:String(wt)});const Kt=yt.get(wt);if(Kt){if((0,B.vZ)(tt,Kt.options)&&(0,B.vZ)(it,Kt.config))return Kt;throw ii.create("duplicate-app",{appName:wt})}const Yt=new F.H0(wt);for(const W of sn.values())Yt.addComponent(W);const ee=new kr(tt,it,Yt);return yt.set(wt,ee),ee}function nr(tt=Nn){const Fe=yt.get(tt);if(!Fe)throw ii.create("no-app",{appName:tt});return Fe}function Ns(){return Array.from(yt.values())}function Fs(tt){return vt.apply(this,arguments)}function vt(){return(vt=(0,s.Z)(function*(tt){const Fe=tt.name;yt.has(Fe)&&(yt.delete(Fe),yield Promise.all(tt.container.getProviders().map(it=>it.delete())),tt.isDeleted=!0)})).apply(this,arguments)}function yr(tt,Fe,it){var wt;let Kt=null!==(wt=pt[tt])&&void 0!==wt?wt:tt;it&&(Kt+=`-${it}`);const Yt=Kt.match(/\s|\//),ee=Fe.match(/\s|\//);if(Yt||ee){const W=[`Unable to register library "${Kt}" with version "${Fe}":`];return Yt&&W.push(`library name "${Kt}" contains illegal characters (whitespace or "/")`),Yt&&ee&&W.push("and"),ee&&W.push(`version name "${Fe}" contains illegal characters (whitespace or "/")`),void ie.warn(W.join(" "))}hn(new F.wA(`${Kt}-version`,()=>({library:Kt,version:Fe}),"VERSION"))}function vi(tt,Fe){if(null!==tt&&"function"!=typeof tt)throw ii.create("invalid-log-argument");(0,S.Am)(tt,Fe)}function di(tt){(0,S.Ub)(tt)}const xn="firebase-heartbeat-store";let bi=null;function yo(){return bi||(bi=(0,B.X3)("firebase-heartbeat-database",1,(tt,Fe)=>{0===Fe&&tt.createObjectStore(xn)}).catch(tt=>{throw ii.create("storage-open",{originalErrorMessage:tt.message})})),bi}function Xt(){return(Xt=(0,s.Z)(function*(tt){try{return(yield yo()).transaction(xn).objectStore(xn).get(Si(tt))}catch(Fe){throw ii.create("storage-get",{originalErrorMessage:Fe.message})}})).apply(this,arguments)}function ft(tt,Fe){return kt.apply(this,arguments)}function kt(){return(kt=(0,s.Z)(function*(tt,Fe){try{const wt=(yield yo()).transaction(xn,"readwrite");return yield wt.objectStore(xn).put(Fe,Si(tt)),wt.complete}catch(it){throw ii.create("storage-set",{originalErrorMessage:it.message})}})).apply(this,arguments)}function Si(tt){return`${tt.name}!${tt.options.appId}`}class Ko{constructor(Fe){this.container=Fe,this._heartbeatsCache=null;const it=this.container.getProvider("app").getImmediate();this._storage=new bt(it),this._heartbeatsCachePromise=this._storage.read().then(wt=>(this._heartbeatsCache=wt,wt))}triggerHeartbeat(){var Fe=this;return(0,s.Z)(function*(){const wt=Fe.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Kt=Ui();if(null===Fe._heartbeatsCache&&(Fe._heartbeatsCache=yield Fe._heartbeatsCachePromise),Fe._heartbeatsCache.lastSentHeartbeatDate!==Kt&&!Fe._heartbeatsCache.heartbeats.some(Yt=>Yt.date===Kt))return Fe._heartbeatsCache.heartbeats.push({date:Kt,agent:wt}),Fe._heartbeatsCache.heartbeats=Fe._heartbeatsCache.heartbeats.filter(Yt=>{const ee=new Date(Yt.date).valueOf();return Date.now()-ee<=2592e6}),Fe._storage.overwrite(Fe._heartbeatsCache)})()}getHeartbeatsHeader(){var Fe=this;return(0,s.Z)(function*(){if(null===Fe._heartbeatsCache&&(yield Fe._heartbeatsCachePromise),null===Fe._heartbeatsCache||0===Fe._heartbeatsCache.heartbeats.length)return"";const it=Ui(),{heartbeatsToSend:wt,unsentEntries:Kt}=function Mi(tt,Fe=1024){const it=[];let wt=tt.slice();for(const Kt of tt){const Yt=it.find(ee=>ee.agent===Kt.agent);if(Yt){if(Yt.dates.push(Kt.date),ji(it)>Fe){Yt.dates.pop();break}}else if(it.push({agent:Kt.agent,dates:[Kt.date]}),ji(it)>Fe){it.pop();break}wt=wt.slice(1)}return{heartbeatsToSend:it,unsentEntries:wt}}(Fe._heartbeatsCache.heartbeats),Yt=(0,B.L)(JSON.stringify({version:2,heartbeats:wt}));return Fe._heartbeatsCache.lastSentHeartbeatDate=it,Kt.length>0?(Fe._heartbeatsCache.heartbeats=Kt,yield Fe._storage.overwrite(Fe._heartbeatsCache)):(Fe._heartbeatsCache.heartbeats=[],Fe._storage.overwrite(Fe._heartbeatsCache)),Yt})()}}function Ui(){return(new Date).toISOString().substring(0,10)}class bt{constructor(Fe){this.app=Fe,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,s.Z)(function*(){return!!(0,B.hl)()&&(0,B.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Fe=this;return(0,s.Z)(function*(){return(yield Fe._canUseIndexedDBPromise)&&(yield function il(tt){return Xt.apply(this,arguments)}(Fe.app))||{heartbeats:[]}})()}overwrite(Fe){var it=this;return(0,s.Z)(function*(){var wt;if(yield it._canUseIndexedDBPromise){const Yt=yield it.read();return ft(it.app,{lastSentHeartbeatDate:null!==(wt=Fe.lastSentHeartbeatDate)&&void 0!==wt?wt:Yt.lastSentHeartbeatDate,heartbeats:Fe.heartbeats})}})()}add(Fe){var it=this;return(0,s.Z)(function*(){var wt;if(yield it._canUseIndexedDBPromise){const Yt=yield it.read();return ft(it.app,{lastSentHeartbeatDate:null!==(wt=Fe.lastSentHeartbeatDate)&&void 0!==wt?wt:Yt.lastSentHeartbeatDate,heartbeats:[...Yt.heartbeats,...Fe.heartbeats]})}})()}}function ji(tt){return(0,B.L)(JSON.stringify({version:2,heartbeats:tt})).length}!function Wt(tt){hn(new F.wA("platform-logger",Fe=>new V(Fe),"PRIVATE")),hn(new F.wA("heartbeat",Fe=>new Ko(Fe),"PRIVATE")),yr(H,Q,tt),yr(H,Q,"esm2017"),yr("fire-js","")}("")},4859:(He,$,R)=>{"use strict";R.d($,{H0:()=>Q,wA:()=>S});var s=R(5861),F=R(2090);class S{constructor(G,K,J){this.name=G,this.instanceFactory=K,this.type=J,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(G){return this.instantiationMode=G,this}setMultipleInstances(G){return this.multipleInstances=G,this}setServiceProps(G){return this.serviceProps=G,this}setInstanceCreatedCallback(G){return this.onInstanceCreated=G,this}}const B="[DEFAULT]";class V{constructor(G,K){this.name=G,this.container=K,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(G){const K=this.normalizeInstanceIdentifier(G);if(!this.instancesDeferred.has(K)){const J=new F.BH;if(this.instancesDeferred.set(K,J),this.isInitialized(K)||this.shouldAutoInitialize())try{const Me=this.getOrInitializeService({instanceIdentifier:K});Me&&J.resolve(Me)}catch(Me){}}return this.instancesDeferred.get(K).promise}getImmediate(G){var K;const J=this.normalizeInstanceIdentifier(null==G?void 0:G.identifier),Me=null!==(K=null==G?void 0:G.optional)&&void 0!==K&&K;if(!this.isInitialized(J)&&!this.shouldAutoInitialize()){if(Me)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:J})}catch(_e){if(Me)return null;throw _e}}getComponent(){return this.component}setComponent(G){if(G.name!==this.name)throw Error(`Mismatching Component ${G.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=G,this.shouldAutoInitialize()){if(function H(ie){return"EAGER"===ie.instantiationMode}(G))try{this.getOrInitializeService({instanceIdentifier:B})}catch(K){}for(const[K,J]of this.instancesDeferred.entries()){const Me=this.normalizeInstanceIdentifier(K);try{const _e=this.getOrInitializeService({instanceIdentifier:Me});J.resolve(_e)}catch(_e){}}}}clearInstance(G=B){this.instancesDeferred.delete(G),this.instancesOptions.delete(G),this.instances.delete(G)}delete(){var G=this;return(0,s.Z)(function*(){const K=Array.from(G.instances.values());yield Promise.all([...K.filter(J=>"INTERNAL"in J).map(J=>J.INTERNAL.delete()),...K.filter(J=>"_delete"in J).map(J=>J._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(G=B){return this.instances.has(G)}getOptions(G=B){return this.instancesOptions.get(G)||{}}initialize(G={}){const{options:K={}}=G,J=this.normalizeInstanceIdentifier(G.instanceIdentifier);if(this.isInitialized(J))throw Error(`${this.name}(${J}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Me=this.getOrInitializeService({instanceIdentifier:J,options:K});for(const[_e,ke]of this.instancesDeferred.entries())J===this.normalizeInstanceIdentifier(_e)&&ke.resolve(Me);return Me}onInit(G,K){var J;const Me=this.normalizeInstanceIdentifier(K),_e=null!==(J=this.onInitCallbacks.get(Me))&&void 0!==J?J:new Set;_e.add(G),this.onInitCallbacks.set(Me,_e);const ke=this.instances.get(Me);return ke&&G(ke,Me),()=>{_e.delete(G)}}invokeOnInitCallbacks(G,K){const J=this.onInitCallbacks.get(K);if(J)for(const Me of J)try{Me(G,K)}catch(_e){}}getOrInitializeService({instanceIdentifier:G,options:K={}}){let J=this.instances.get(G);if(!J&&this.component&&(J=this.component.instanceFactory(this.container,{instanceIdentifier:(ie=G,ie===B?void 0:ie),options:K}),this.instances.set(G,J),this.instancesOptions.set(G,K),this.invokeOnInitCallbacks(J,G),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,G,J)}catch(Me){}var ie;return J||null}normalizeInstanceIdentifier(G=B){return this.component?this.component.multipleInstances?G:B:G}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Q{constructor(G){this.name=G,this.providers=new Map}addComponent(G){const K=this.getProvider(G.name);if(K.isComponentSet())throw new Error(`Component ${G.name} has already been registered with ${this.name}`);K.setComponent(G)}addOrOverwriteComponent(G){this.getProvider(G.name).isComponentSet()&&this.providers.delete(G.name),this.addComponent(G)}getProvider(G){if(this.providers.has(G))return this.providers.get(G);const K=new V(G,this);return this.providers.set(G,K),K}getProviders(){return Array.from(this.providers.values())}}},1877:(He,$,R)=>{"use strict";R.d($,{Am:()=>ie,Ub:()=>Q,Yd:()=>H,in:()=>F});const s=[];var F=(()=>{return(G=F||(F={}))[G.DEBUG=0]="DEBUG",G[G.VERBOSE=1]="VERBOSE",G[G.INFO=2]="INFO",G[G.WARN=3]="WARN",G[G.ERROR=4]="ERROR",G[G.SILENT=5]="SILENT",F;var G})();const S={debug:F.DEBUG,verbose:F.VERBOSE,info:F.INFO,warn:F.WARN,error:F.ERROR,silent:F.SILENT},B=F.INFO,V={[F.DEBUG]:"log",[F.VERBOSE]:"log",[F.INFO]:"info",[F.WARN]:"warn",[F.ERROR]:"error"},z=(G,K,...J)=>{if(K<G.logLevel)return;const Me=(new Date).toISOString(),_e=V[K];if(!_e)throw new Error(`Attempted to log a message with an invalid logType (value: ${K})`);console[_e](`[${Me}]  ${G.name}:`,...J)};class H{constructor(K){this.name=K,this._logLevel=B,this._logHandler=z,this._userLogHandler=null,s.push(this)}get logLevel(){return this._logLevel}set logLevel(K){if(!(K in F))throw new TypeError(`Invalid value "${K}" assigned to \`logLevel\``);this._logLevel=K}setLogLevel(K){this._logLevel="string"==typeof K?S[K]:K}get logHandler(){return this._logHandler}set logHandler(K){if("function"!=typeof K)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=K}get userLogHandler(){return this._userLogHandler}set userLogHandler(K){this._userLogHandler=K}debug(...K){this._userLogHandler&&this._userLogHandler(this,F.DEBUG,...K),this._logHandler(this,F.DEBUG,...K)}log(...K){this._userLogHandler&&this._userLogHandler(this,F.VERBOSE,...K),this._logHandler(this,F.VERBOSE,...K)}info(...K){this._userLogHandler&&this._userLogHandler(this,F.INFO,...K),this._logHandler(this,F.INFO,...K)}warn(...K){this._userLogHandler&&this._userLogHandler(this,F.WARN,...K),this._logHandler(this,F.WARN,...K)}error(...K){this._userLogHandler&&this._userLogHandler(this,F.ERROR,...K),this._logHandler(this,F.ERROR,...K)}}function Q(G){s.forEach(K=>{K.setLogLevel(G)})}function ie(G,K){for(const J of s){let Me=null;K&&K.level&&(Me=S[K.level]),J.userLogHandler=null===G?null:(_e,ke,...Ve)=>{const de=Ve.map(ge=>{if(null==ge)return null;if("string"==typeof ge)return ge;if("number"==typeof ge||"boolean"==typeof ge)return ge.toString();if(ge instanceof Error)return ge.message;try{return JSON.stringify(ge)}catch(Le){return null}}).filter(ge=>ge).join(" ");ke>=(null!=Me?Me:_e.logLevel)&&G({level:F[ke].toLowerCase(),message:de,args:Ve,type:_e.name})}}}},5861:(He,$,R)=>{"use strict";function s(S,B,V,z,H,Q,ie){try{var G=S[Q](ie),K=G.value}catch(J){return void V(J)}G.done?B(K):Promise.resolve(K).then(z,H)}function F(S){return function(){var B=this,V=arguments;return new Promise(function(z,H){var Q=S.apply(B,V);function ie(K){s(Q,z,H,ie,G,"next",K)}function G(K){s(Q,z,H,ie,G,"throw",K)}ie(void 0)})}}R.d($,{Z:()=>F})}},He=>{He(He.s=5805)}]);